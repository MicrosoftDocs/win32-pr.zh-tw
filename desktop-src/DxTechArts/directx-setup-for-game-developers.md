---
title: 適用于遊戲開發人員的 DirectX 安裝
description: 本文旨在解決一些有關 DirectX 執行時間的常見問題，並使用 DirectSetup 安裝 DirectX。
ms.assetid: 2ab439be-8d99-bcf8-89af-d4274e044c88
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a9c0faf346bd8793e61a89128ce573e29b7a8267
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/20/2020
ms.locfileid: "104023954"
---
# <a name="directx-installation-for-game-developers"></a><span data-ttu-id="c8c71-103">適用于遊戲開發人員的 DirectX 安裝</span><span class="sxs-lookup"><span data-stu-id="c8c71-103">DirectX Installation for Game Developers</span></span>

<span data-ttu-id="c8c71-104">本文旨在解決一些有關 DirectX 執行時間的常見問題，並使用 DirectSetup 安裝 DirectX。</span><span class="sxs-lookup"><span data-stu-id="c8c71-104">This article is intended to address some of the common questions about the DirectX runtime, and using DirectSetup to install DirectX.</span></span>

-   [<span data-ttu-id="c8c71-105">DirectX 執行時間</span><span class="sxs-lookup"><span data-stu-id="c8c71-105">DirectX Runtime</span></span>](#directx-runtime)
-   [<span data-ttu-id="c8c71-106">DirectX 版本號碼</span><span class="sxs-lookup"><span data-stu-id="c8c71-106">DirectX Version Number</span></span>](#directx-version-number)
-   [<span data-ttu-id="c8c71-107">DirectX 程式庫</span><span class="sxs-lookup"><span data-stu-id="c8c71-107">DirectX Libraries</span></span>](#directx-libraries)
-   [<span data-ttu-id="c8c71-108">由遊戲安裝程式安裝 DirectX</span><span class="sxs-lookup"><span data-stu-id="c8c71-108">Installation of DirectX by the Game's Installer</span></span>](#installation-of-directx-by-the-games-installer)
-   [<span data-ttu-id="c8c71-109">小型安裝套件</span><span class="sxs-lookup"><span data-stu-id="c8c71-109">Small Installation Packages</span></span>](#small-installation-packages)
-   [<span data-ttu-id="c8c71-110">進行內部部署的 Debug DirectX Runtime</span><span class="sxs-lookup"><span data-stu-id="c8c71-110">Internal Deployment of the Debug DirectX Runtime</span></span>](#internal-deployment-of-the-debug-directx-runtime)

> [!IMPORTANT]
> <span data-ttu-id="c8c71-111">舊版 DirectX SDK 于生命週期結束，但仍可供使用，以支援舊的遊戲、教學課程和專案。</span><span class="sxs-lookup"><span data-stu-id="c8c71-111">The legacy DirectX SDK is at end-of-life, but it's still available in order to support old games, tutorials, and projects.</span></span> <span data-ttu-id="c8c71-112">新的專案不應使用它。</span><span class="sxs-lookup"><span data-stu-id="c8c71-112">New projects should not use it.</span></span> <span data-ttu-id="c8c71-113">使用舊版 DirectX SDK 需要針對 D3DX9、D3DX10、D3DX11、XAudio 2.7、XInput 1.3 和交易等元件使用已被取代的 DirectSetup。</span><span class="sxs-lookup"><span data-stu-id="c8c71-113">Using the legacy DirectX SDK requires the use of the deprecated DirectSetup for components such as D3DX9, D3DX10, D3DX11, XAudio 2.7, XInput 1.3, and XACT.</span></span> <span data-ttu-id="c8c71-114">如需有關 DirectX SDK 目前狀態的詳細資訊，請參閱 [什麼是 DIRECTX sdk？](../directx-sdk--august-2009-.md)和 Blog 文章 [不會直接設定](https://walbourn.github.io/not-so-direct-setup/)。</span><span class="sxs-lookup"><span data-stu-id="c8c71-114">For more details on the current state of the DirectX SDK, see [Where is the DirectX SDK?](../directx-sdk--august-2009-.md), and the blog post [Not So Direct Setup](https://walbourn.github.io/not-so-direct-setup/).</span></span>

## <a name="directx-runtime"></a><span data-ttu-id="c8c71-115">DirectX 執行時間</span><span class="sxs-lookup"><span data-stu-id="c8c71-115">DirectX Runtime</span></span>

<span data-ttu-id="c8c71-116">DirectX 執行時間是由核心元件和選擇性元件所組成。</span><span class="sxs-lookup"><span data-stu-id="c8c71-116">The DirectX runtime consists of core components and optional components.</span></span>

<span data-ttu-id="c8c71-117">系統會將核心元件（例如 Direct3D 和 DirectInput）視為作業系統的一部分。</span><span class="sxs-lookup"><span data-stu-id="c8c71-117">The core components, such as Direct3D and DirectInput, are considered part of the operating system.</span></span> <span data-ttu-id="c8c71-118">DirectX 9.0 c 的核心元件自 DirectX SDK 夏天2004更新後尚未變更，且符合 Microsoft Windows XP SP2、Windows XP Pro x64 Edition 和 Windows Server 2003 SP1 所發行的元件。</span><span class="sxs-lookup"><span data-stu-id="c8c71-118">The core components for DirectX 9.0c have not changed since the DirectX SDK Summer 2004 Update, and they match what was released with Microsoft Windows XP SP2, Windows XP Pro x64 Edition, and Windows Server 2003 SP1.</span></span> <span data-ttu-id="c8c71-119">Windows Vista 包含 DirectX 10，它支援 Windows 顯示驅動程式模型 (WDDM) 和 Direct3D 2.x。</span><span class="sxs-lookup"><span data-stu-id="c8c71-119">Windows Vista includes DirectX 10, which supports the Windows Display Driver Model (WDDM) and Direct3D 10.x.</span></span> <span data-ttu-id="c8c71-120">Windows 7 和 Windows Vista (請參閱 [KB971644](https://support.microsoft.com/kb/971644)) 支援 DirectX 11，支援 Direct3D 11、Direct2D、DIRECTWRITE、WARP10 software 轉譯裝置和10level9 功能等級。</span><span class="sxs-lookup"><span data-stu-id="c8c71-120">Windows 7 and Windows Vista (see [KB971644](https://support.microsoft.com/kb/971644)) support DirectX 11, which supports Direct3D 11, Direct2D, DirectWrite, the WARP10 software rendering device, and the 10level9 feature levels.</span></span> <span data-ttu-id="c8c71-121">如需詳細資訊，請參閱 [Windows 中的圖形 api](/windows/desktop/direct3darticles/graphics-apis-in-windows-vista) 。</span><span class="sxs-lookup"><span data-stu-id="c8c71-121">See [Graphics APIs in Windows](/windows/desktop/direct3darticles/graphics-apis-in-windows-vista) for more details.</span></span>

<span data-ttu-id="c8c71-122">選用元件是在 DirectX SDK 的更新中發行，其中包含 D3DX、交易、XAudio2、XINPUT、Managed DirectX 和其他這類元件。</span><span class="sxs-lookup"><span data-stu-id="c8c71-122">The optional components are released in updates of DirectX SDK, and they include D3DX, XACT, XAudio2, XINPUT, Managed DirectX, and other such components.</span></span> <span data-ttu-id="c8c71-123">許多選擇性元件會定期更新，以整合客戶的意見反應並公開新的功能。</span><span class="sxs-lookup"><span data-stu-id="c8c71-123">Many of the optional components are regularly updated to integrate customer feedback and expose new features.</span></span>

## <a name="directx-version-number"></a><span data-ttu-id="c8c71-124">DirectX 版本號碼</span><span class="sxs-lookup"><span data-stu-id="c8c71-124">DirectX Version Number</span></span>

<span data-ttu-id="c8c71-125">DirectX 版本號碼（例如 9.0 c）只會參考核心元件的版本，例如 Direct3D、DirectInput 或 DirectSound。</span><span class="sxs-lookup"><span data-stu-id="c8c71-125">The DirectX version number, such as 9.0c, refers only to the version of the core components, such as Direct3D, DirectInput, or DirectSound.</span></span> <span data-ttu-id="c8c71-126">此數目並未涵蓋 DirectX SDK 中所發行之各種選用元件的版本，例如 D3DX、交易、XINPUT 等等。</span><span class="sxs-lookup"><span data-stu-id="c8c71-126">This number does not cover the versions of the various optional components that are released in the DirectX SDK, such as D3DX, XACT, XINPUT, and so on.</span></span>

<span data-ttu-id="c8c71-127">一般來說，除了快速參考核心執行時間位之外，DirectX 版本號碼沒有任何意義。</span><span class="sxs-lookup"><span data-stu-id="c8c71-127">Generally speaking, the DirectX version number is not meaningful except as a quick reference to the core run-time bits.</span></span> <span data-ttu-id="c8c71-128">此數位不應該用來檢查是否已安裝正確的 DirectX 執行時間，因為它不會考慮選用的 DirectX 元件。</span><span class="sxs-lookup"><span data-stu-id="c8c71-128">This number should not be used to check if the correct DirectX runtime is already installed, because it doesn't take into account the optional DirectX components.</span></span>

## <a name="directx-libraries"></a><span data-ttu-id="c8c71-129">DirectX 程式庫</span><span class="sxs-lookup"><span data-stu-id="c8c71-129">DirectX Libraries</span></span>

<span data-ttu-id="c8c71-130">在過去，DirectX SDK 的選用元件（包括 D3DX）是以靜態程式庫的形式發行。</span><span class="sxs-lookup"><span data-stu-id="c8c71-130">In the past, the optional components of the DirectX SDK, including D3DX, were released as static libraries.</span></span> <span data-ttu-id="c8c71-131">不過，這些現在是以類似動態的程式庫的形式發行 (DLL) ，因為這樣會增加更好的安全性作法需求。</span><span class="sxs-lookup"><span data-stu-id="c8c71-131">However, these are now released as dynamic-like libraries (DLL) because of the increased demand for better security practices.</span></span> <span data-ttu-id="c8c71-132">Dll 允許服務先前發行的程式碼。</span><span class="sxs-lookup"><span data-stu-id="c8c71-132">DLLs allow servicing of previously released code.</span></span> <span data-ttu-id="c8c71-133">如果這些元件部署為靜態程式庫，則 Microsoft 將無法解決發行後發現的安全性問題。</span><span class="sxs-lookup"><span data-stu-id="c8c71-133">If these components were deployed as static libraries, there would be no way for Microsoft to address security issues found after release.</span></span>

<span data-ttu-id="c8c71-134">當將功能新增或變更為選用元件時，對應 Dll 的名稱也會變更，以確保不會對使用已發行元件的現有遊戲造成回歸。</span><span class="sxs-lookup"><span data-stu-id="c8c71-134">As features are added or changed to the optional components, the names of the corresponding DLLs are also changed to ensure that no regressions are caused to existing games that are using released components.</span></span> <span data-ttu-id="c8c71-135">每個元件的 Dll 會並存，而遊戲開發人員可以藉由連結至對應的匯入程式庫，精確地選擇遊戲所使用的 DLL 版本。</span><span class="sxs-lookup"><span data-stu-id="c8c71-135">The DLLs for each component live side by side, and game developers can choose exactly which DLL version that the game uses by linking to the corresponding import library.</span></span>

<span data-ttu-id="c8c71-136">雖然確保 Dll 安裝在系統上並不像單純地連結到靜態程式庫一樣簡單，但對 DirectX SDK 進行了一些變更，以解決 DLL 模型的痛苦：</span><span class="sxs-lookup"><span data-stu-id="c8c71-136">While ensuring that DLLs are installed on a system isn't as easy as simply linking to static libraries, some changes have been made to the DirectX SDK to address the pain of the DLL model:</span></span>

-   <span data-ttu-id="c8c71-137">您可以將 DirectX 可轉散發套件設定為僅包含應用程式所需的元件，以將散發和媒體大小降至最低。</span><span class="sxs-lookup"><span data-stu-id="c8c71-137">The DirectX redistributable can be configured to contain only those components that your application requires to minimize distribution and media sizes.</span></span>
-   <span data-ttu-id="c8c71-138">可轉散發資料夾 [Program Files DirectX SDK 可轉散發套件] \\ \\ \\ 現在包含每個可能選用元件的封包 ( .cab) 檔案，因此您不需要深入探索舊版 SDK 即可找到它們。</span><span class="sxs-lookup"><span data-stu-id="c8c71-138">The redistributable folder, Program Files\\DirectX SDK\\Redist\\, now contains a cabinet (.cab) file for every possible optional component, so you don't have to dig up an older SDK to find them.</span></span>
-   <span data-ttu-id="c8c71-139">安裝 SDK 本身會安裝每個可能的選擇性元件。</span><span class="sxs-lookup"><span data-stu-id="c8c71-139">Installing the SDK itself installs every possible optional component.</span></span>
-   <span data-ttu-id="c8c71-140">包含所有選用元件的 DirectX 可轉散發套件是以 Web 為基礎的安裝程式和可下載的套件形式提供。如需詳細資訊，請參閱 DirectX 開發人員中心 ([directx](/previous-versions/windows/apps/hh452744(v=win.10))) 。</span><span class="sxs-lookup"><span data-stu-id="c8c71-140">A DirectX redistributable that contains all the optional components is available as both a Web-based installer and as a downloadable package; see the DirectX Developer Center ([DirectX](/previous-versions/windows/apps/hh452744(v=win.10))) for more information.</span></span>

## <a name="installation-of-directx-by-the-games-installer"></a><span data-ttu-id="c8c71-141">由遊戲安裝程式安裝 DirectX</span><span class="sxs-lookup"><span data-stu-id="c8c71-141">Installation of DirectX by the Game's Installer</span></span>

> [!Note]  
> <span data-ttu-id="c8c71-142">請參閱 [適用于遊戲開發人員的 Direct3D 11 部署](/windows/desktop/direct3darticles/direct3d11-deployment)。</span><span class="sxs-lookup"><span data-stu-id="c8c71-142">See [Direct3D 11 Deployment for Game Developers](/windows/desktop/direct3darticles/direct3d11-deployment).</span></span>

 

<span data-ttu-id="c8c71-143">以下是將 DirectX 安裝新增至遊戲安裝程式的最佳作法：</span><span class="sxs-lookup"><span data-stu-id="c8c71-143">The following are the best practices for adding installation of DirectX to a game's installer:</span></span>



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><span data-ttu-id="c8c71-144">詞彙</span><span class="sxs-lookup"><span data-stu-id="c8c71-144">Term</span></span></th>
<th><span data-ttu-id="c8c71-145">描述</span><span class="sxs-lookup"><span data-stu-id="c8c71-145">Description</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span data-ttu-id="c8c71-146"><span id="Install_the_redistributable_components_every_time.__"></span><span id="install_the_redistributable_components_every_time.__"></span><span id="INSTALL_THE_REDISTRIBUTABLE_COMPONENTS_EVERY_TIME.__"></span>每次都安裝可轉散發元件。</span><span class="sxs-lookup"><span data-stu-id="c8c71-146"><span id="Install_the_redistributable_components_every_time.__"></span><span id="install_the_redistributable_components_every_time.__"></span><span id="INSTALL_THE_REDISTRIBUTABLE_COMPONENTS_EVERY_TIME.__"></span>Install the redistributable components every time.</span></span> <br/></td>
<td><span data-ttu-id="c8c71-147">遊戲的安裝程式應在每次單一安裝期間安裝 DirectX 可轉散發元件，而不允許使用者退出宣告。</span><span class="sxs-lookup"><span data-stu-id="c8c71-147">A game's installation process should install the DirectX redistributable components during every single installation without allowing users to opt-out of it.</span></span> <span data-ttu-id="c8c71-148">如果您允許退出宣告，某些使用者將會猜不到它，如果他們真的這麼做，就不會執行遊戲。</span><span class="sxs-lookup"><span data-stu-id="c8c71-148">If you allow opting-out, then some users will guess that they don't need it, and if they actually do, the game will not run.</span></span> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="c8c71-149"><span id="Let_the_DirectX_installer_check_for_optional_components.__"></span><span id="let_the_directx_installer_check_for_optional_components.__"></span><span id="LET_THE_DIRECTX_INSTALLER_CHECK_FOR_OPTIONAL_COMPONENTS.__"></span>讓 DirectX 安裝程式檢查是否有選用的元件。</span><span class="sxs-lookup"><span data-stu-id="c8c71-149"><span id="Let_the_DirectX_installer_check_for_optional_components.__"></span><span id="let_the_directx_installer_check_for_optional_components.__"></span><span id="LET_THE_DIRECTX_INSTALLER_CHECK_FOR_OPTIONAL_COMPONENTS.__"></span>Let the DirectX installer check for optional components.</span></span> <br/></td>
<td><span data-ttu-id="c8c71-150">請勿假設系統上已安裝最新的選用元件，因為 Windows Update 和 Service Pack 未提供任何 DirectX 的選擇性元件。</span><span class="sxs-lookup"><span data-stu-id="c8c71-150">Do not assume that the latest optional components are already installed on a system, because Windows Update and Service Packs do not provide any of DirectX's optional components.</span></span> <span data-ttu-id="c8c71-151">您必須直接執行 dxsetup.exe 或呼叫 DirectSetup，以安裝 DirectX 執行時間。</span><span class="sxs-lookup"><span data-stu-id="c8c71-151">You must install the DirectX runtime either by running dxsetup.exe directly or calling DirectSetup.</span></span> <br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="c8c71-152"><span id="Set_up_silently.__"></span><span id="set_up_silently.__"></span><span id="SET_UP_SILENTLY.__"></span>以無訊息方式設定。</span><span class="sxs-lookup"><span data-stu-id="c8c71-152"><span id="Set_up_silently.__"></span><span id="set_up_silently.__"></span><span id="SET_UP_SILENTLY.__"></span>Set up silently.</span></span> <br/></td>
<td><span data-ttu-id="c8c71-153">以無訊息模式啟動安裝程式，讓使用者不會意外略過更新 DirectX 執行時間。</span><span class="sxs-lookup"><span data-stu-id="c8c71-153">Launch setup in silent mode so that users do not accidentally skip updating the DirectX runtime.</span></span> <span data-ttu-id="c8c71-154">若要這麼做，您可以使用下列命令來啟動 dxsetup.exe：</span><span class="sxs-lookup"><span data-stu-id="c8c71-154">You can do this by launching dxsetup.exe with the following command:</span></span> <br/>
<pre class="syntax" data-space="preserve"><code>   path-to-redistributable\dxsetup.exe /silent</code></pre>
<span data-ttu-id="c8c71-155">或藉由呼叫 DirectSetup，而不顯示任何 UI。</span><span class="sxs-lookup"><span data-stu-id="c8c71-155">or by calling DirectSetup and not showing any UI.</span></span> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="c8c71-156"><span id="Combine_EULA_acceptances.__"></span><span id="combine_eula_acceptances.__"></span><span id="COMBINE_EULA_ACCEPTANCES.__"></span>結合 EULA 接受。</span><span class="sxs-lookup"><span data-stu-id="c8c71-156"><span id="Combine_EULA_acceptances.__"></span><span id="combine_eula_acceptances.__"></span><span id="COMBINE_EULA_ACCEPTANCES.__"></span>Combine EULA acceptances.</span></span> <br/></td>
<td><span data-ttu-id="c8c71-157">如果您提示使用者接受授權合約，請在以無訊息模式安裝時，將其與提示接受 DirectX EULA 的提示結合，如此一來，就只會出現一次 Eula 的提示。</span><span class="sxs-lookup"><span data-stu-id="c8c71-157">If you prompt the user to accept a EULA, then combine that with prompting for acceptance of the DirectX EULA when installing in silent mode so that prompting for acceptance of EULAs happens just once.</span></span> <span data-ttu-id="c8c71-158">在您安裝任何動作之前，應該先進行提示，如此一來，如果使用者不接受，則最後不會出現失敗的部分安裝。</span><span class="sxs-lookup"><span data-stu-id="c8c71-158">Prompting should happen before you install anything so that if user doesn't accept, you don't end up with a failed and partial installation.</span></span> <br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="c8c71-159"><span id="Just_run_dxsetup_or_call_DirectSetup.__"></span><span id="just_run_dxsetup_or_call_directsetup.__"></span><span id="JUST_RUN_DXSETUP_OR_CALL_DIRECTSETUP.__"></span>只需執行 dxsetup 或呼叫 DirectSetup。</span><span class="sxs-lookup"><span data-stu-id="c8c71-159"><span id="Just_run_dxsetup_or_call_DirectSetup.__"></span><span id="just_run_dxsetup_or_call_directsetup.__"></span><span id="JUST_RUN_DXSETUP_OR_CALL_DIRECTSETUP.__"></span>Just run dxsetup or call DirectSetup.</span></span> <br/></td>
<td><span data-ttu-id="c8c71-160">因為 DirectX 版本號碼未參考核心 DirectX 元件，所以在執行 dxsetup.exe 或呼叫 DirectSetup 之前，請勿檢查已安裝的版本。</span><span class="sxs-lookup"><span data-stu-id="c8c71-160">Because the DirectX version number doesn't refer to anything except the core DirectX components, do not check an installed version before running dxsetup.exe or calling DirectSetup.</span></span> <span data-ttu-id="c8c71-161">此外，請勿檢查檔案是否存在，以測試是否已安裝選用元件，因為這通常不會正確判斷元件存在但需要更新的時間。</span><span class="sxs-lookup"><span data-stu-id="c8c71-161">Also, do not check for a file's existence to test if an optional component is already installed, since this usually will not correctly determine when a component exists but needs updating.</span></span> <span data-ttu-id="c8c71-162">不過，DirectX 安裝套件將會快速地判斷這一點，並執行正確的動作。</span><span class="sxs-lookup"><span data-stu-id="c8c71-162">However, the DirectX setup package will quickly determine this, and perform the right action.</span></span> <br/></td>
</tr>
</tbody>
</table>



 

## <a name="small-installation-packages"></a><span data-ttu-id="c8c71-163">小型安裝套件</span><span class="sxs-lookup"><span data-stu-id="c8c71-163">Small Installation Packages</span></span>

<span data-ttu-id="c8c71-164">您可以為 DirectX 建立較小的安裝套件，方法是將 DirectX 可轉散發資料夾的內容減少到讓安裝程式運作所需的最少檔案集，並保留您的遊戲所使用的任何其他元件。</span><span class="sxs-lookup"><span data-stu-id="c8c71-164">You can create smaller installation packages for DirectX by stripping the contents of the DirectX redistributable folder down to the minimal set of files required to make the installer work, and retaining any additional components that your game uses.</span></span>

<span data-ttu-id="c8c71-165">根據您的最低規格，您可能甚至不需要在安裝媒體的可轉散發資料夾中包含核心 DirectX 9.0 c 封包檔。</span><span class="sxs-lookup"><span data-stu-id="c8c71-165">Depending on your minimum specifications, you might not even need to include the core DirectX 9.0c cabinet files in the redistributable folder of your installation media.</span></span> <span data-ttu-id="c8c71-166">大部分的 Windows XP 安裝都有 Service Pack 2，包括核心 DirectX 9.0 c 元件，因此 DirectX 安裝程式作業將會非常快速，且不需要重新開機。</span><span class="sxs-lookup"><span data-stu-id="c8c71-166">A large majority of Windows XP installations have Service Pack 2, which includes the core DirectX 9.0c components, so the DirectX setup operation will be very fast, and will not require a reboot.</span></span> <span data-ttu-id="c8c71-167">可以建立的最小封裝約為 3 MB，而且可壓縮成大約一半的大小。</span><span class="sxs-lookup"><span data-stu-id="c8c71-167">The smallest package that can be created is about 3 MB, and it can be compressed to about half that size.</span></span> <span data-ttu-id="c8c71-168">像這樣的封裝包含一個版本的 D3DX DLL，它需要 DirectX 9.0 c 已經存在。</span><span class="sxs-lookup"><span data-stu-id="c8c71-168">A package like this contains one version of the D3DX DLL, and it requires that DirectX 9.0c be already present.</span></span>

<span data-ttu-id="c8c71-169">建立可轉散發套件所需的最少量檔案是下列檔案，這些檔案位於 DirectX SDK 可轉散發套件資料夾中， (Program Files directx SDK 可轉散發套件 \\ \\ \) ：</span><span class="sxs-lookup"><span data-stu-id="c8c71-169">The minimal set of files that are required to build a redistributable package are the following files, located in the DirectX SDK Redist folder (Program Files\\DirectX SDK\\Redist\):</span></span>

-   <span data-ttu-id="c8c71-170">dxsetup.exe</span><span class="sxs-lookup"><span data-stu-id="c8c71-170">dxsetup.exe</span></span>
-   <span data-ttu-id="c8c71-171">dsetup32.dll</span><span class="sxs-lookup"><span data-stu-id="c8c71-171">dsetup32.dll</span></span>
-   <span data-ttu-id="c8c71-172">dsetup.dll</span><span class="sxs-lookup"><span data-stu-id="c8c71-172">dsetup.dll</span></span>
-   <span data-ttu-id="c8c71-173">dxupdate.cab</span><span class="sxs-lookup"><span data-stu-id="c8c71-173">dxupdate.cab</span></span>

<span data-ttu-id="c8c71-174">針對您要安裝的元件，將這些封包檔新增至這些檔案。</span><span class="sxs-lookup"><span data-stu-id="c8c71-174">Add to these the cabinet files for the components that you want to install.</span></span> <span data-ttu-id="c8c71-175">如果您需要應用程式的使用者已經有 DirectX 9.0 c，則不需要包含 DirectX.cab 或 dxnt.cab，這會造成大部分的空間需求。</span><span class="sxs-lookup"><span data-stu-id="c8c71-175">If you require the users of your application to already have DirectX 9.0c, then you do not need to include DirectX.cab or dxnt.cab, which make up most of the space requirement.</span></span> <span data-ttu-id="c8c71-176">只有 Windows 98 和 Windows ME 才需要 DirectX.cab;只有 Windows 2000、Windows XP 及 Windows XP SP1 才需要 dxnt.cab;而 dxdllreg \_x86.cab 只需要 windows 2000、WINDOWS XP RTM、WINDOWS XP SP1 和 Windows Server 2003 RTM。</span><span class="sxs-lookup"><span data-stu-id="c8c71-176">DirectX.cab is only needed for Windows 98 and Windows ME; dxnt.cab is only needed for Windows 2000, Windows XP, and Windows XP SP1; and dxdllreg\_x86.cab is only required for Windows 2000, Windows XP RTM, Windows XP SP1, and Windows Server 2003 RTM.</span></span> <span data-ttu-id="c8c71-177">此外，如果您未使用 DirectShow，或假設已經安裝，您可以省略 BDA.cab、BDANT.cab 和 BDAXP.cab。</span><span class="sxs-lookup"><span data-stu-id="c8c71-177">Also, if you do not make use of DirectShow, or you assume that it is already installed, you can omit BDA.cab, BDANT.cab, and BDAXP.cab.</span></span>

> [!Note]  
> <span data-ttu-id="c8c71-178">您可以假設您的應用程式使用者已有 DirectX 9.0 c （如果是由繼承應用程式安裝），您可以強制使用者透過 Web 安裝程式進行手動更新，或假設它們具有 Windows XP SP2 或更新版本。</span><span class="sxs-lookup"><span data-stu-id="c8c71-178">You can assume that users of your application already have DirectX 9.0c if it was installed by a previous version of your application, you force users to manually update via the Web Installer, or you assume that they have Windows XP SP2 or later.</span></span>

 

<span data-ttu-id="c8c71-179">繼續進行此範例，如果您只在4月2006使用32位版本的 D3DX，您可以新增 Apr2006 \_ d3dx9 \_ 30 \_x86.cab。</span><span class="sxs-lookup"><span data-stu-id="c8c71-179">Continuing with this example, if you are using only the 32-bit version of D3DX for April 2006, you can add Apr2006\_d3dx9\_30\_x86.cab.</span></span> <span data-ttu-id="c8c71-180">如果您使用32年8月 2006 32 位版本的 XINPUT，請新增 Aug2006 \_ XINPUT \_x86.cab。</span><span class="sxs-lookup"><span data-stu-id="c8c71-180">If you are using the 32-bit August 2006 32-bit version of XINPUT, you add Aug2006\_xinput\_x86.cab.</span></span>

<span data-ttu-id="c8c71-181">如果您有原生的64位應用程式，則必須新增 \_ x64 版本。</span><span class="sxs-lookup"><span data-stu-id="c8c71-181">If you have a native 64-bit application, you'll need to add the \_x64 versions.</span></span> <span data-ttu-id="c8c71-182">但是，如果您在64位作業系統上執行了32位的應用程式，則32位版本的 Dll 將會運作。</span><span class="sxs-lookup"><span data-stu-id="c8c71-182">However, if you have a 32-bit application running on a 64-bit OS, the 32-bit versions of the DLLs will work.</span></span>

<span data-ttu-id="c8c71-183">然後，您可以散發此檔案封裝並以無訊息模式啟動 DirectSetup，或在命令介面中以無訊息模式執行 dxsetup.exe。</span><span class="sxs-lookup"><span data-stu-id="c8c71-183">You can then distribute this package of files and launch DirectSetup in silent mode or run dxsetup.exe in the command shell in silent mode.</span></span> <span data-ttu-id="c8c71-184">請記得不要透過任何版本檢查檔案來保護此套件，並確定您的使用者無法選擇不執行 DirectX 安裝程式。</span><span class="sxs-lookup"><span data-stu-id="c8c71-184">Remember not to guard this package by any version checking of files, and make sure that your users cannot opt out of running the DirectX setup.</span></span> <span data-ttu-id="c8c71-185">其中一個事件會建立 fallible 安裝程式。</span><span class="sxs-lookup"><span data-stu-id="c8c71-185">Either of these events creates a fallible installation process.</span></span>

## <a name="internal-deployment-of-the-debug-directx-runtime"></a><span data-ttu-id="c8c71-186">進行內部部署的 Debug DirectX Runtime</span><span class="sxs-lookup"><span data-stu-id="c8c71-186">Internal Deployment of the Debug DirectX Runtime</span></span>

<span data-ttu-id="c8c71-187">DirectX 元件的偵錯工具執行時間是在安裝 DirectX SDK 時安裝的，但在每部測試電腦上安裝 SDK 可能很麻煩。</span><span class="sxs-lookup"><span data-stu-id="c8c71-187">The debug runtimes of the DirectX components are installed when the DirectX SDK is installed, but installing the SDK on every test computer can be painful.</span></span> <span data-ttu-id="c8c71-188">您必須設計您的安裝程式，以將偵錯工具執行時間 Dll 從 Program Files \\ Microsoft DIRECTX SDK \\ Developer runtime \\ 架構複製 \\ 到 Windows \\ system32 \\ 或遊戲的資料夾中。</span><span class="sxs-lookup"><span data-stu-id="c8c71-188">You need to design your setup process to copy the debug runtime DLLs from Program Files\\Microsoft DirectX SDK\\Developer Runtime\\architecture\\ to Windows\\system32\\ or to the game's folder.</span></span>

<span data-ttu-id="c8c71-189">不過，我們強烈建議您不要只複製已發行的執行時間 Dll，因為它很容易忘記移除最後一個產品。</span><span class="sxs-lookup"><span data-stu-id="c8c71-189">However, we strongly recommend that you do not simply copy the released run-time DLLs because it is easy to forget to remove them for the final product.</span></span> <span data-ttu-id="c8c71-190">相反地，請將 DirectX 安裝程式檔案放在共用資料夾中，然後從共用資料夾以無訊息模式執行安裝程式。</span><span class="sxs-lookup"><span data-stu-id="c8c71-190">Instead, put the DirectX setup files in a shared folder and run the setup silently from the shared folder.</span></span>

## <a name="desktop-bridge-applications"></a><span data-ttu-id="c8c71-191">傳統型橋接器應用程式</span><span class="sxs-lookup"><span data-stu-id="c8c71-191">Desktop Bridge applications</span></span> 

<span data-ttu-id="c8c71-192">傳統型橋接器使用 D3DX9、D3DX10、D3DX11、XAudio 2.7、XInput 1.3 或交易的應用程式，必須下載 [的舊版](https://download.microsoft.com/download/c/c/2/cc291a37-2ebd-4ac2-ba5f-4c9124733bf1/UAPSignedBinary_Microsoft.DirectX.x86.appx) [directx SDK](https://download.microsoft.com/download/c/c/2/cc291a37-2ebd-4ac2-ba5f-4c9124733bf1/UAPSignedBinary_Microsoft.DirectX.x64.appx) ，才能部署這些舊版的 directx SDK 並存元件。</span><span class="sxs-lookup"><span data-stu-id="c8c71-192">Desktop Bridge applications that use D3DX9, D3DX10, D3DX11, XAudio 2.7, XInput 1.3, or XACT must download either the [Microsoft.DirectX.x86](https://download.microsoft.com/download/c/c/2/cc291a37-2ebd-4ac2-ba5f-4c9124733bf1/UAPSignedBinary_Microsoft.DirectX.x86.appx) or the [Microsoft.DirectX.x64](https://download.microsoft.com/download/c/c/2/cc291a37-2ebd-4ac2-ba5f-4c9124733bf1/UAPSignedBinary_Microsoft.DirectX.x64.appx) framework in order to deploy these legacy DirectX SDK side-by-side components.</span></span> <span data-ttu-id="c8c71-193">或者，您可以移除所有這類相依性 &mdash; (參閱 [XAudio 2.9 的可轉散發版本開發人員指南](../xaudio2/xaudio2-redistributable.md)，以及 [不含 D3DX](https://walbourn.github.io/living-without-d3dx/) 和 [XINPUT 和 Windows 8](https://walbourn.github.io/xinput-and-windows-8/)) 的 blog 文章。</span><span class="sxs-lookup"><span data-stu-id="c8c71-193">Alternatively, you can remove all such dependencies&mdash;(see [Developer guide for redistributable version of XAudio 2.9](../xaudio2/xaudio2-redistributable.md), and the blog posts [Living without D3DX](https://walbourn.github.io/living-without-d3dx/) and [XINPUT and Windows 8](https://walbourn.github.io/xinput-and-windows-8/)).</span></span>