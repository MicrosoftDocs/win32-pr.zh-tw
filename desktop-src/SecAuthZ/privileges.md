---
description: 許可權是帳戶（例如使用者或群組帳戶）的許可權，可在本機電腦上執行各種系統相關作業，例如關閉系統、載入設備磁碟機，或變更系統時間。
ms.assetid: fe6aae0f-93eb-4aba-a6ac-45e71c251c51
title: 權限
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cccedffdf5786da07dd2cfd77c3de428ee15ba94
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "103943563"
---
# <a name="privileges"></a><span data-ttu-id="a4c86-103">權限</span><span class="sxs-lookup"><span data-stu-id="a4c86-103">Privileges</span></span>

<span data-ttu-id="a4c86-104">[*許可權*](/windows/desktop/SecGloss/p-gly)是帳戶（例如使用者或群組帳戶）的許可權，可在本機電腦上執行各種系統相關作業，例如關閉系統、載入設備磁碟機，或變更系統時間。</span><span class="sxs-lookup"><span data-stu-id="a4c86-104">A [*privilege*](/windows/desktop/SecGloss/p-gly) is the right of an account, such as a user or group account, to perform various system-related operations on the local computer, such as shutting down the system, loading device drivers, or changing the system time.</span></span> <span data-ttu-id="a4c86-105">許可權與存取權限有兩種不同之處：</span><span class="sxs-lookup"><span data-stu-id="a4c86-105">Privileges differ from access rights in two ways:</span></span>

-   <span data-ttu-id="a4c86-106">許可權可控制對系統資源和系統相關工作的存取，而存取權限則會控制 [安全物件](securable-objects.md)的存取權。</span><span class="sxs-lookup"><span data-stu-id="a4c86-106">Privileges control access to system resources and system-related tasks, whereas access rights control access to [securable objects](securable-objects.md).</span></span>
-   <span data-ttu-id="a4c86-107">系統管理員會將許可權指派給使用者和群組帳戶，而系統會根據在物件 DACL 中的 Ace 授與的存取權限，來授與或拒絕對安全物件的存取權。</span><span class="sxs-lookup"><span data-stu-id="a4c86-107">A system administrator assigns privileges to user and group accounts, whereas the system grants or denies access to a securable object based on the access rights granted in the ACEs in the object's DACL.</span></span>

<span data-ttu-id="a4c86-108">每個系統都有一個帳戶資料庫，用來儲存使用者和群組帳戶所持有的許可權。</span><span class="sxs-lookup"><span data-stu-id="a4c86-108">Each system has an account database that stores the privileges held by user and group accounts.</span></span> <span data-ttu-id="a4c86-109">當使用者登入時，系統會產生一個 [存取權杖](access-tokens.md) ，其中包含使用者許可權的清單，包括授與使用者的許可權，或使用者所屬的群組。</span><span class="sxs-lookup"><span data-stu-id="a4c86-109">When a user logs on, the system produces an [access token](access-tokens.md) that contains a list of the user's privileges, including those granted to the user or to groups to which the user belongs.</span></span> <span data-ttu-id="a4c86-110">請注意，這些許可權只適用于本機電腦。網域帳戶在不同的電腦上可以有不同的許可權。</span><span class="sxs-lookup"><span data-stu-id="a4c86-110">Note that the privileges apply only to the local computer; a domain account can have different privileges on different computers.</span></span>

<span data-ttu-id="a4c86-111">當使用者嘗試執行具有特殊許可權的作業時，系統會檢查使用者的存取權杖，以判斷使用者是否擁有必要的許可權，如果是，則會檢查是否已啟用許可權。</span><span class="sxs-lookup"><span data-stu-id="a4c86-111">When the user tries to perform a privileged operation, the system checks the user's access token to determine whether the user holds the necessary privileges, and if so, it checks whether the privileges are enabled.</span></span> <span data-ttu-id="a4c86-112">如果使用者未通過這些測試，系統就不會執行此操作。</span><span class="sxs-lookup"><span data-stu-id="a4c86-112">If the user fails these tests, the system does not perform the operation.</span></span>

<span data-ttu-id="a4c86-113">若要判斷存取權杖中所持有的許可權，請呼叫 [**GetTokenInformation**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) 函式，這也表示已啟用哪些許可權。</span><span class="sxs-lookup"><span data-stu-id="a4c86-113">To determine the privileges held in an access token, call the [**GetTokenInformation**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) function, which also indicates which privileges are enabled.</span></span> <span data-ttu-id="a4c86-114">預設會停用大部分許可權。</span><span class="sxs-lookup"><span data-stu-id="a4c86-114">Most privileges are disabled by default.</span></span>

<span data-ttu-id="a4c86-115">Windows API 會定義一組字串常數（例如 SE \_ ASSIGNPRIMARYTOKEN \_ 名稱），以識別各種許可權。</span><span class="sxs-lookup"><span data-stu-id="a4c86-115">The Windows API defines a set of string constants, such as SE\_ASSIGNPRIMARYTOKEN\_NAME, to identify the various privileges.</span></span> <span data-ttu-id="a4c86-116">這些常數在所有系統上都相同，並定義于 Winnt. h 中。</span><span class="sxs-lookup"><span data-stu-id="a4c86-116">These constants are the same on all systems and are defined in Winnt.h.</span></span> <span data-ttu-id="a4c86-117">如需 Windows 所定義之許可權的表格，請參閱 [許可權常數](authorization-constants.md)。</span><span class="sxs-lookup"><span data-stu-id="a4c86-117">For a table of the privileges defined by Windows, see [Privilege Constants](authorization-constants.md).</span></span> <span data-ttu-id="a4c86-118">不過，取得和調整存取權杖中之許可權的函式會使用 [**LUID**](/windows/desktop/api/Winnt/ns-winnt-luid) 類型來識別許可權。</span><span class="sxs-lookup"><span data-stu-id="a4c86-118">However, the functions that get and adjust the privileges in an access token use the [**LUID**](/windows/desktop/api/Winnt/ns-winnt-luid) type to identify privileges.</span></span> <span data-ttu-id="a4c86-119">許可權的 **LUID** 值可能會與另一部電腦不同，以及在同一部電腦上的另一部開機。</span><span class="sxs-lookup"><span data-stu-id="a4c86-119">The **LUID** values for a privilege can differ from one computer to another, and from one boot to another on the same computer.</span></span> <span data-ttu-id="a4c86-120">若要取得對應至其中一個字串常數的目前 **LUID** ，請使用 [**LookupPrivilegeValue**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegevaluea) 函數。</span><span class="sxs-lookup"><span data-stu-id="a4c86-120">To get the current **LUID** that corresponds to one of the string constants, use the [**LookupPrivilegeValue**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegevaluea) function.</span></span> <span data-ttu-id="a4c86-121">您可以使用 [**LookupPrivilegeName**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegenamea) 函式，將 **LUID** 轉換為其對應的字串常數。</span><span class="sxs-lookup"><span data-stu-id="a4c86-121">Use the [**LookupPrivilegeName**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegenamea) function to convert a **LUID** to its corresponding string constant.</span></span>

<span data-ttu-id="a4c86-122">系統會提供一組描述每個許可權的顯示名稱。</span><span class="sxs-lookup"><span data-stu-id="a4c86-122">The system provides a set of display names that describe each of the privileges.</span></span> <span data-ttu-id="a4c86-123">當您需要對使用者顯示許可權的描述時，這些功能就很有用。</span><span class="sxs-lookup"><span data-stu-id="a4c86-123">These are useful when you need to display a description of a privilege to the user.</span></span> <span data-ttu-id="a4c86-124">您可以使用 [**LookupPrivilegeDisplayName**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegedisplaynamea) 函式，來取得對應至許可權之字串常數的描述字串。</span><span class="sxs-lookup"><span data-stu-id="a4c86-124">Use the [**LookupPrivilegeDisplayName**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegedisplaynamea) function to retrieve a description string that corresponds to the string constant for a privilege.</span></span> <span data-ttu-id="a4c86-125">例如，在使用美式英文的系統上，SE \_ SYSTEMTIME 名稱許可權的顯示名稱 \_ 為「變更系統時間」。</span><span class="sxs-lookup"><span data-stu-id="a4c86-125">For example, on systems that use U.S. English, the display name for the SE\_SYSTEMTIME\_NAME privilege is "Change the system time".</span></span>

<span data-ttu-id="a4c86-126">您可以使用 [**PrivilegeCheck**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-privilegecheck) 函式來判斷存取權杖是否持有指定的許可權集。</span><span class="sxs-lookup"><span data-stu-id="a4c86-126">You can use the [**PrivilegeCheck**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-privilegecheck) function to determine whether an access token holds a specified set of privileges.</span></span> <span data-ttu-id="a4c86-127">這主要是用來模擬用戶端的伺服器應用程式。</span><span class="sxs-lookup"><span data-stu-id="a4c86-127">This is useful primarily to server applications that are impersonating a client.</span></span>

<span data-ttu-id="a4c86-128">系統管理員可以使用系統管理工具（例如「使用者管理員」）來新增或移除使用者和群組帳戶的許可權。</span><span class="sxs-lookup"><span data-stu-id="a4c86-128">A system administrator can use administrative tools, such as User Manager, to add or remove privileges for user and group accounts.</span></span> <span data-ttu-id="a4c86-129">系統管理員可以透過程式設計的方式，使用 [*本地安全機構*](/windows/desktop/SecGloss/l-gly) (LSA) 函數來處理許可權。</span><span class="sxs-lookup"><span data-stu-id="a4c86-129">Administrators can programmatically use the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) functions to work with privileges.</span></span> <span data-ttu-id="a4c86-130">[**LsaAddAccountRights**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaaddaccountrights)和 [**LsaRemoveAccountRights**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaremoveaccountrights)函式會新增或移除帳戶中的許可權。</span><span class="sxs-lookup"><span data-stu-id="a4c86-130">The [**LsaAddAccountRights**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaaddaccountrights) and [**LsaRemoveAccountRights**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaremoveaccountrights) functions add or remove privileges from an account.</span></span> <span data-ttu-id="a4c86-131">[**LsaEnumerateAccountRights**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaenumerateaccountrights)函式會列舉指定的帳號所持有的許可權。</span><span class="sxs-lookup"><span data-stu-id="a4c86-131">The [**LsaEnumerateAccountRights**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaenumerateaccountrights) function enumerates the privileges held by a specified account.</span></span> <span data-ttu-id="a4c86-132">[**LsaEnumerateAccountsWithUserRight**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaenumerateaccountswithuserright)函式會列舉擁有指定之許可權的帳戶。</span><span class="sxs-lookup"><span data-stu-id="a4c86-132">The [**LsaEnumerateAccountsWithUserRight**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaenumerateaccountswithuserright) function enumerates the accounts that hold a specified privilege.</span></span>

## <a name="related-topics"></a><span data-ttu-id="a4c86-133">相關主題</span><span class="sxs-lookup"><span data-stu-id="a4c86-133">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a4c86-134">授權常數</span><span class="sxs-lookup"><span data-stu-id="a4c86-134">Authorization Constants</span></span>](authorization-constants.md)
</dt> <dt>

[<span data-ttu-id="a4c86-135">在 c + + 中啟用和停用許可權</span><span class="sxs-lookup"><span data-stu-id="a4c86-135">Enabling and Disabling Privileges in C++</span></span>](enabling-and-disabling-privileges-in-c--.md)
</dt> </dl>

 

 
