---
description: 除非應用程式有許可權，否則應用程式無法變更物件的存取控制清單。
ms.assetid: 5f710fd8-33de-47c0-a8b2-baf3008c4ed7
title: Access-Token 物件的存取權限
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9bb6a62a8c1518dca30f2abbc4481fa5e11cf081
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "104319036"
---
# <a name="access-rights-for-access-token-objects"></a><span data-ttu-id="d09f0-103">Access-Token 物件的存取權限</span><span class="sxs-lookup"><span data-stu-id="d09f0-103">Access Rights for Access-Token Objects</span></span>

<span data-ttu-id="d09f0-104">除非應用程式有許可權，否則應用程式無法變更物件的存取控制清單。</span><span class="sxs-lookup"><span data-stu-id="d09f0-104">An application cannot change the access control list of an object unless the application has the rights to do so.</span></span> <span data-ttu-id="d09f0-105">這些許可權是由物件存取權杖中的安全描述項所控制。</span><span class="sxs-lookup"><span data-stu-id="d09f0-105">These rights are controlled by a security descriptor in the access token for the object.</span></span> <span data-ttu-id="d09f0-106">如需安全性的詳細資訊，請參閱 [存取控制模型](access-control-model.md)。</span><span class="sxs-lookup"><span data-stu-id="d09f0-106">For more information about security, see [Access Control Model](access-control-model.md).</span></span>

<span data-ttu-id="d09f0-107">若要取得或設定 [*存取權杖*](/windows/desktop/SecGloss/a-gly)的 [安全描述項](security-descriptors.md)，請呼叫 [**GetKernelObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getkernelobjectsecurity)和 [**SetKernelObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setkernelobjectsecurity)函數。</span><span class="sxs-lookup"><span data-stu-id="d09f0-107">To get or set the [security descriptor](security-descriptors.md) for an [*access token*](/windows/desktop/SecGloss/a-gly), call the [**GetKernelObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getkernelobjectsecurity) and [**SetKernelObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setkernelobjectsecurity) functions.</span></span>

<span data-ttu-id="d09f0-108">當您呼叫 [**OpenProcessToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken) 或 [**OpenThreadToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openthreadtoken) 函式來取得存取權杖的控制碼時，系統會針對權杖的安全描述項中的 DACL 檢查要求的 [存取權限](access-rights-and-access-masks.md) 。</span><span class="sxs-lookup"><span data-stu-id="d09f0-108">When you call the [**OpenProcessToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken) or [**OpenThreadToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openthreadtoken) function to get a handle to an access token, the system checks the requested [access rights](access-rights-and-access-masks.md) against the DACL in the token's security descriptor.</span></span>

<span data-ttu-id="d09f0-109">以下是存取權杖物件的有效存取權限：</span><span class="sxs-lookup"><span data-stu-id="d09f0-109">The following are valid access rights for access-token objects:</span></span>

-   <span data-ttu-id="d09f0-110">刪除、讀取 \_ 控制、寫入 \_ DAC，以及寫入 \_ 擁有者 [標準存取權限](standard-access-rights.md)。</span><span class="sxs-lookup"><span data-stu-id="d09f0-110">The DELETE, READ\_CONTROL, WRITE\_DAC, and WRITE\_OWNER [standard access rights](standard-access-rights.md).</span></span> <span data-ttu-id="d09f0-111">存取權杖不支援同步處理標準存取權。</span><span class="sxs-lookup"><span data-stu-id="d09f0-111">Access tokens do not support the SYNCHRONIZE standard access right.</span></span>
-   <span data-ttu-id="d09f0-112">取得或設定物件安全描述項中 SACL 的 [存取 \_ 系統 \_ 安全性許可權](sacl-access-right.md) 。</span><span class="sxs-lookup"><span data-stu-id="d09f0-112">The [ACCESS\_SYSTEM\_SECURITY right](sacl-access-right.md) to get or set the SACL in the object's security descriptor.</span></span>
-   <span data-ttu-id="d09f0-113">存取權杖的特定存取權限，如下表所列。</span><span class="sxs-lookup"><span data-stu-id="d09f0-113">The specific access rights for access tokens, which are listed in the following table.</span></span>

    | <span data-ttu-id="d09f0-114">值</span><span class="sxs-lookup"><span data-stu-id="d09f0-114">Value</span></span>                     | <span data-ttu-id="d09f0-115">意義</span><span class="sxs-lookup"><span data-stu-id="d09f0-115">Meaning</span></span>                                                                                                                                                                                                                                                                           |
    |---------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="d09f0-116">權杖 \_ 調整 \_ 預設值</span><span class="sxs-lookup"><span data-stu-id="d09f0-116">TOKEN\_ADJUST\_DEFAULT</span></span>    | <span data-ttu-id="d09f0-117">變更存取權杖的預設擁有者、主要群組或 DACL 所需。</span><span class="sxs-lookup"><span data-stu-id="d09f0-117">Required to change the default owner, primary group, or DACL of an access token.</span></span>                                                                                                                                                                                                  |
    | <span data-ttu-id="d09f0-118">權杖 \_ 調整 \_ 群組</span><span class="sxs-lookup"><span data-stu-id="d09f0-118">TOKEN\_ADJUST\_GROUPS</span></span>     | <span data-ttu-id="d09f0-119">需要調整存取權杖中群組的屬性。</span><span class="sxs-lookup"><span data-stu-id="d09f0-119">Required to adjust the attributes of the groups in an access token.</span></span>                                                                                                                                                                                                               |
    | <span data-ttu-id="d09f0-120">權杖 \_ 調整 \_ 許可權</span><span class="sxs-lookup"><span data-stu-id="d09f0-120">TOKEN\_ADJUST\_PRIVILEGES</span></span> | <span data-ttu-id="d09f0-121">必須啟用或停用存取權杖中的許可權。</span><span class="sxs-lookup"><span data-stu-id="d09f0-121">Required to enable or disable the privileges in an access token.</span></span>                                                                                                                                                                                                                  |
    | <span data-ttu-id="d09f0-122">權杖 \_ 調整 \_ SESSIONID</span><span class="sxs-lookup"><span data-stu-id="d09f0-122">TOKEN\_ADJUST\_SESSIONID</span></span>  | <span data-ttu-id="d09f0-123">需要調整存取權杖的會話識別碼。</span><span class="sxs-lookup"><span data-stu-id="d09f0-123">Required to adjust the session ID of an access token.</span></span> <span data-ttu-id="d09f0-124">需要「SE \_ TCB \_ 名稱」許可權。</span><span class="sxs-lookup"><span data-stu-id="d09f0-124">The SE\_TCB\_NAME privilege is required.</span></span>                                                                                                                                                                                    |
    | <span data-ttu-id="d09f0-125">權杖 \_ 指派 \_ 主要</span><span class="sxs-lookup"><span data-stu-id="d09f0-125">TOKEN\_ASSIGN\_PRIMARY</span></span>    | <span data-ttu-id="d09f0-126">需要將 [*主要權杖*](/windows/desktop/SecGloss/p-gly) 附加至 [*進程*](/windows/desktop/SecGloss/p-gly)。</span><span class="sxs-lookup"><span data-stu-id="d09f0-126">Required to attach a [*primary token*](/windows/desktop/SecGloss/p-gly) to a [*process*](/windows/desktop/SecGloss/p-gly).</span></span> <span data-ttu-id="d09f0-127">\_ \_ 若要完成這項工作，也需要 SE ASSIGNPRIMARYTOKEN 名稱許可權。</span><span class="sxs-lookup"><span data-stu-id="d09f0-127">The SE\_ASSIGNPRIMARYTOKEN\_NAME privilege is also required to accomplish this task.</span></span> |
    | <span data-ttu-id="d09f0-128">標記 \_ 重複</span><span class="sxs-lookup"><span data-stu-id="d09f0-128">TOKEN\_DUPLICATE</span></span>          | <span data-ttu-id="d09f0-129">需要複製存取權杖。</span><span class="sxs-lookup"><span data-stu-id="d09f0-129">Required to duplicate an access token.</span></span>                                                                                                                                                                                                                                            |
    | <span data-ttu-id="d09f0-130">權杖 \_ 執行</span><span class="sxs-lookup"><span data-stu-id="d09f0-130">TOKEN\_EXECUTE</span></span>            | <span data-ttu-id="d09f0-131">結合標準 \_ 許可權 \_ 執行和權杖模擬 \_ 。</span><span class="sxs-lookup"><span data-stu-id="d09f0-131">Combines STANDARD\_RIGHTS\_EXECUTE and TOKEN\_IMPERSONATE.</span></span>                                                                                                                                                                                                                        |
    | <span data-ttu-id="d09f0-132">標記 \_ 模擬</span><span class="sxs-lookup"><span data-stu-id="d09f0-132">TOKEN\_IMPERSONATE</span></span>        | <span data-ttu-id="d09f0-133">需要將模擬存取權杖附加至進程。</span><span class="sxs-lookup"><span data-stu-id="d09f0-133">Required to attach an impersonation access token to a process.</span></span>                                                                                                                                                                                                                    |
    | <span data-ttu-id="d09f0-134">TOKEN \_ 查詢</span><span class="sxs-lookup"><span data-stu-id="d09f0-134">TOKEN\_QUERY</span></span>              | <span data-ttu-id="d09f0-135">查詢存取權杖的必要參數。</span><span class="sxs-lookup"><span data-stu-id="d09f0-135">Required to query an access token.</span></span>                                                                                                                                                                                                                                                |
    | <span data-ttu-id="d09f0-136">TOKEN \_ 查詢 \_ 來源</span><span class="sxs-lookup"><span data-stu-id="d09f0-136">TOKEN\_QUERY\_SOURCE</span></span>      | <span data-ttu-id="d09f0-137">查詢存取權杖的來源所需。</span><span class="sxs-lookup"><span data-stu-id="d09f0-137">Required to query the source of an access token.</span></span>                                                                                                                                                                                                                                  |
    | <span data-ttu-id="d09f0-138">權杖 \_ 讀取</span><span class="sxs-lookup"><span data-stu-id="d09f0-138">TOKEN\_READ</span></span>               | <span data-ttu-id="d09f0-139">結合標準 \_ 許可權 \_ 讀取和權杖 \_ 查詢。</span><span class="sxs-lookup"><span data-stu-id="d09f0-139">Combines STANDARD\_RIGHTS\_READ and TOKEN\_QUERY.</span></span>                                                                                                                                                                                                                                 |
    | <span data-ttu-id="d09f0-140">標記 \_ 寫入</span><span class="sxs-lookup"><span data-stu-id="d09f0-140">TOKEN\_WRITE</span></span>              | <span data-ttu-id="d09f0-141">結合標準的 \_ 許可權 \_ 寫入、權杖 \_ 調整 \_ 許可權、權杖 \_ 調整 \_ 群組和權杖 \_ 調整 \_ 預設值。</span><span class="sxs-lookup"><span data-stu-id="d09f0-141">Combines STANDARD\_RIGHTS\_WRITE, TOKEN\_ADJUST\_PRIVILEGES, TOKEN\_ADJUST\_GROUPS, and TOKEN\_ADJUST\_DEFAULT.</span></span>                                                                                                                                                                   |
    | <span data-ttu-id="d09f0-142">權杖 \_ 所有 \_ 存取</span><span class="sxs-lookup"><span data-stu-id="d09f0-142">TOKEN\_ALL\_ACCESS</span></span>        | <span data-ttu-id="d09f0-143">結合了權杖的所有可能存取權限。</span><span class="sxs-lookup"><span data-stu-id="d09f0-143">Combines all possible access rights for a token.</span></span>                                                                                                                                                                                                                                  |

    

     

 

 
