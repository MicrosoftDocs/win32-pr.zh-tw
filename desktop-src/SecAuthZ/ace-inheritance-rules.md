---
description: 系統會根據一組繼承規則，將可繼承的存取控制專案 (Ace) 傳播到子物件。
ms.assetid: 08f76aaa-8379-4ba8-9735-7568001bcd53
title: ACE 繼承規則
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a1e8c786ebcc8450e8e5da1833f34fc85c37ea9f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "103692775"
---
# <a name="ace-inheritance-rules"></a><span data-ttu-id="de040-103">ACE 繼承規則</span><span class="sxs-lookup"><span data-stu-id="de040-103">ACE Inheritance Rules</span></span>

<span data-ttu-id="de040-104">系統會根據一組繼承規則，將可繼承的 [*存取控制專案*](/windows/desktop/SecGloss/a-gly) (ace) 傳播到子物件。</span><span class="sxs-lookup"><span data-stu-id="de040-104">The system propagates inheritable [*access control entries*](/windows/desktop/SecGloss/a-gly) (ACEs) to child objects according to a set of inheritance rules.</span></span> <span data-ttu-id="de040-105">系統會根據 [dacl 中的慣用 ace 順序](order-of-aces-in-a-dacl.md)，將繼承的 ace 放在 [*任意的存取控制清單*](/windows/desktop/SecGloss/d-gly)中 (dacl) 子系。</span><span class="sxs-lookup"><span data-stu-id="de040-105">The system places inherited ACEs in the [*discretionary access control list*](/windows/desktop/SecGloss/d-gly) (DACL) of the child according to the preferred [order of ACEs in a DACL](order-of-aces-in-a-dacl.md).</span></span> <span data-ttu-id="de040-106">系統會 \_ 在所有繼承的 ace 中設定繼承的 ace 旗標。</span><span class="sxs-lookup"><span data-stu-id="de040-106">The system sets the INHERITED\_ACE flag in all inherited ACEs.</span></span>

<span data-ttu-id="de040-107">依繼承旗標的組合而定，容器和非容器子物件所繼承的 Ace 會有所不同。</span><span class="sxs-lookup"><span data-stu-id="de040-107">The ACEs inherited by container and noncontainer child objects differ, depending on the combinations of inheritance flags.</span></span> <span data-ttu-id="de040-108">這些繼承規則對 Dacl 和 [*系統存取控制清單*](/windows/desktop/SecGloss/s-gly) 的運作相同 (sacl) 。</span><span class="sxs-lookup"><span data-stu-id="de040-108">These inheritance rules work the same for both DACLs and [*system access control lists*](/windows/desktop/SecGloss/s-gly) (SACLs).</span></span>



| <span data-ttu-id="de040-109">父 ACE 旗標</span><span class="sxs-lookup"><span data-stu-id="de040-109">Parent ACE flag</span></span>                                  | <span data-ttu-id="de040-110">對子 ACL 的影響</span><span class="sxs-lookup"><span data-stu-id="de040-110">Effect on child ACL</span></span>                                                                                                                                                                                                                      |
|--------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="de040-111">物件 \_ \_ 只繼承 ACE</span><span class="sxs-lookup"><span data-stu-id="de040-111">OBJECT\_INHERIT\_ACE only</span></span>                        | <span data-ttu-id="de040-112">非容器子物件：繼承為有效的 ACE。</span><span class="sxs-lookup"><span data-stu-id="de040-112">Noncontainer child objects: Inherited as an effective ACE.</span></span> <span data-ttu-id="de040-113">容器子物件：容器會繼承僅限繼承的 ACE，除非 \_ 也設定了 NO 傳播 \_ 繼承 \_ ace 位旗標。</span><span class="sxs-lookup"><span data-stu-id="de040-113">Container child objects: Containers inherit an inherit-only ACE unless the NO\_PROPAGATE\_INHERIT\_ACE bit flag is also set.</span></span><br/>                                       |
| <span data-ttu-id="de040-114">\_ \_ 僅限容器繼承 ACE</span><span class="sxs-lookup"><span data-stu-id="de040-114">CONTAINER\_INHERIT\_ACE only</span></span>                     | <span data-ttu-id="de040-115">非容器子物件：對子物件沒有任何作用。</span><span class="sxs-lookup"><span data-stu-id="de040-115">Noncontainer child objects: No effect on the child object.</span></span> <span data-ttu-id="de040-116">容器子物件：子物件會繼承有效的 ACE。</span><span class="sxs-lookup"><span data-stu-id="de040-116">Container child objects: The child object inherits an effective ACE.</span></span> <span data-ttu-id="de040-117">除非 \_ 也設定了 NO 傳播 \_ 繼承 \_ ace 位旗標，否則繼承的 ACE 是可繼承的。</span><span class="sxs-lookup"><span data-stu-id="de040-117">The inherited ACE is inheritable unless the NO\_PROPAGATE\_INHERIT\_ACE bit flag is also set.</span></span><br/> |
| <span data-ttu-id="de040-118">CONTAINER \_ inherit \_ ACE 和 OBJECT \_ inherit \_ ace</span><span class="sxs-lookup"><span data-stu-id="de040-118">CONTAINER\_INHERIT\_ACE and OBJECT\_INHERIT\_ACE</span></span> | <span data-ttu-id="de040-119">非容器子物件：繼承為有效的 ACE。</span><span class="sxs-lookup"><span data-stu-id="de040-119">Noncontainer child objects: Inherited as an effective ACE.</span></span> <span data-ttu-id="de040-120">容器子物件：子物件會繼承有效的 ACE。</span><span class="sxs-lookup"><span data-stu-id="de040-120">Container child objects: The child object inherits an effective ACE.</span></span> <span data-ttu-id="de040-121">除非 \_ 也設定了 NO 傳播 \_ 繼承 \_ ace 位旗標，否則繼承的 ACE 是可繼承的。</span><span class="sxs-lookup"><span data-stu-id="de040-121">The inherited ACE is inheritable unless the NO\_PROPAGATE\_INHERIT\_ACE bit flag is also set.</span></span><br/> |
| <span data-ttu-id="de040-122">未設定任何繼承旗標</span><span class="sxs-lookup"><span data-stu-id="de040-122">No inheritance flags set</span></span>                         | <span data-ttu-id="de040-123">對子容器或非容器的物件沒有任何影響。</span><span class="sxs-lookup"><span data-stu-id="de040-123">No effect on child container or noncontainer objects.</span></span>                                                                                                                                                                                    |



 

<span data-ttu-id="de040-124">如果繼承的 ACE 是子物件的有效 ACE，系統就會將任何一般許可權對應到子物件的特定許可權。</span><span class="sxs-lookup"><span data-stu-id="de040-124">If an inherited ACE is an effective ACE for the child object, the system maps any generic rights to the specific rights for the child object.</span></span> <span data-ttu-id="de040-125">同樣地，系統會將一般 [*安全識別碼*](/windows/desktop/SecGloss/s-gly) (sid) （例如 CREATOR \_ 擁有者）對應到適當的 SID。</span><span class="sxs-lookup"><span data-stu-id="de040-125">Similarly, the system maps generic [*security identifiers*](/windows/desktop/SecGloss/s-gly) (SIDs), such as CREATOR\_OWNER, to the appropriate SID.</span></span> <span data-ttu-id="de040-126">如果繼承的 ACE 是僅限繼承的 ACE，則任何泛型許可權或泛型 Sid 都會保持不變，如此一來，當下一代子物件繼承 ACE 時，即可適當地對應。</span><span class="sxs-lookup"><span data-stu-id="de040-126">If an inherited ACE is an inherit-only ACE, any generic rights or generic SIDs are left unchanged so that they can be mapped appropriately when the ACE is inherited by the next generation of child objects.</span></span>

<span data-ttu-id="de040-127">如果容器物件繼承的 ACE 在容器上都是有效的，且由其子系繼承，容器可能會繼承兩個 Ace。</span><span class="sxs-lookup"><span data-stu-id="de040-127">For a case in which a container object inherits an ACE that is both effective on the container and inheritable by its descendants, the container may inherit two ACEs.</span></span> <span data-ttu-id="de040-128">如果可繼承 ACE 包含泛型資訊，就會發生這種情況。</span><span class="sxs-lookup"><span data-stu-id="de040-128">This occurs if the inheritable ACE contains generic information.</span></span> <span data-ttu-id="de040-129">容器會繼承僅限繼承的 ACE，其中包含泛型資訊，以及已對應泛型資訊的僅限有效 ACE。</span><span class="sxs-lookup"><span data-stu-id="de040-129">The container inherits an inherit-only ACE that contains the generic information and an effective-only ACE in which the generic information has been mapped.</span></span>

<span data-ttu-id="de040-130">物件專屬的 [ACE](object-specific-aces.md) 具有 **InheritedObjectType** 成員，可以包含 GUID 來識別可繼承 ACE 的物件類型。</span><span class="sxs-lookup"><span data-stu-id="de040-130">An [object-specific ACE](object-specific-aces.md) has an **InheritedObjectType** member that can contain a GUID to identify the type of object that can inherit the ACE.</span></span>

<span data-ttu-id="de040-131">如果未指定 **InheritedObjectType** GUID，物件特定 ace 的繼承規則會與標準 ace 的繼承規則相同。</span><span class="sxs-lookup"><span data-stu-id="de040-131">If the **InheritedObjectType** GUID is not specified, the inheritance rules for an object-specific ACE are the same as for a standard ACE.</span></span>

<span data-ttu-id="de040-132">如果指定了 **InheritedObjectType** GUID，則如果已 \_ 設定 OBJECT inherit \_ ace，且已設定容器繼承 ace 的容器（如果已設定了 CONTAINER \_ inherit ace 的話），則會以符合 GUID 的物件來繼承 ace \_ 。</span><span class="sxs-lookup"><span data-stu-id="de040-132">If the **InheritedObjectType** GUID is specified, the ACE is inheritable by objects that match the GUID if OBJECT\_INHERIT\_ACE is set, and by containers that match the GUID if CONTAINER\_INHERIT\_ACE is set.</span></span> <span data-ttu-id="de040-133">請注意，目前只有 DS 物件支持對象特定的 Ace，而 DS 會將所有物件類型視為容器。</span><span class="sxs-lookup"><span data-stu-id="de040-133">Note that currently only DS objects support object-specific ACEs, and the DS treats all object types as containers.</span></span>

 

