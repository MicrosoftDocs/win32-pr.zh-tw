---
description: 用來建立安全描述項，以及取得和設定安全描述項元件的函數。
ms.assetid: d07dab5a-7c06-40c4-aa59-fa0baaaa77e7
title: 建立低層級安全描述項
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cdafc99fe4d01c24e68a076aecc035843452205b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/08/2021
ms.locfileid: "106988380"
---
# <a name="low-level-security-descriptor-creation"></a><span data-ttu-id="e536c-103">建立低層級安全描述項</span><span class="sxs-lookup"><span data-stu-id="e536c-103">Low-level Security Descriptor Creation</span></span>

<span data-ttu-id="e536c-104">低層級存取控制提供一組功能，可用來建立 [*安全描述項*](/windows/desktop/SecGloss/s-gly) ，以及取得和設定安全描述項的元件。</span><span class="sxs-lookup"><span data-stu-id="e536c-104">Low-level access control provides a set of functions for creating a [*security descriptor*](/windows/desktop/SecGloss/s-gly) and getting and setting the components of a security descriptor.</span></span> <span data-ttu-id="e536c-105">初始化和設定安全描述項元件的低層級函式僅適用于絕對格式的安全描述項。</span><span class="sxs-lookup"><span data-stu-id="e536c-105">The low-level functions for initializing and setting the components of a security descriptor work only with absolute-format security descriptors.</span></span> <span data-ttu-id="e536c-106">取得安全描述項元件的低層級函式可搭配 [絕對和自我相關的安全描述項](absolute-and-self-relative-security-descriptors.md)。</span><span class="sxs-lookup"><span data-stu-id="e536c-106">The low-level functions for getting the components of a security descriptor work with both [absolute and self-relative security descriptors](absolute-and-self-relative-security-descriptors.md).</span></span>

<span data-ttu-id="e536c-107">[**InitializeSecurityDescriptor**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-initializesecuritydescriptor)函式會初始化 [**安全 \_ 描述項**](/windows/desktop/api/Winnt/ns-winnt-security_descriptor)緩衝區。</span><span class="sxs-lookup"><span data-stu-id="e536c-107">The [**InitializeSecurityDescriptor**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-initializesecuritydescriptor) function initializes a [**SECURITY\_DESCRIPTOR**](/windows/desktop/api/Winnt/ns-winnt-security_descriptor) buffer.</span></span> <span data-ttu-id="e536c-108">初始化的安全描述項是 [*絕對*](/windows/desktop/SecGloss/a-gly) 格式，而且沒有擁有者、主要群組、 [*任意存取控制清單*](/windows/desktop/SecGloss/d-gly) (DACL) 或 (SACL) 的 [*系統存取控制清單*](/windows/desktop/SecGloss/s-gly) 。</span><span class="sxs-lookup"><span data-stu-id="e536c-108">The initialized security descriptor is in [*absolute*](/windows/desktop/SecGloss/a-gly) format and has no owner, primary group, [*discretionary access control list*](/windows/desktop/SecGloss/d-gly) (DACL), or [*system access control list*](/windows/desktop/SecGloss/s-gly) (SACL).</span></span> <span data-ttu-id="e536c-109">您可以使用下列低層級函數來取得或設定指定安全描述項的特定元件。</span><span class="sxs-lookup"><span data-stu-id="e536c-109">You can use the following low-level functions to get or set specific components of a specified security descriptor.</span></span>



| <span data-ttu-id="e536c-110">函式</span><span class="sxs-lookup"><span data-stu-id="e536c-110">Function</span></span>                                                             | <span data-ttu-id="e536c-111">描述</span><span class="sxs-lookup"><span data-stu-id="e536c-111">Description</span></span>                                                                                                                                                               |
|----------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="e536c-112">**GetSecurityDescriptorControl**</span><span class="sxs-lookup"><span data-stu-id="e536c-112">**GetSecurityDescriptorControl**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsecuritydescriptorcontrol) | <span data-ttu-id="e536c-113">從安全描述項取出修訂和控制資訊。</span><span class="sxs-lookup"><span data-stu-id="e536c-113">Retrieves revision and control information from a security descriptor.</span></span>                                                                                                    |
| [<span data-ttu-id="e536c-114">**GetSecurityDescriptorDacl**</span><span class="sxs-lookup"><span data-stu-id="e536c-114">**GetSecurityDescriptorDacl**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsecuritydescriptordacl)       | <span data-ttu-id="e536c-115">從安全描述項抓取 DACL。</span><span class="sxs-lookup"><span data-stu-id="e536c-115">Retrieves the DACL from a security descriptor.</span></span>                                                                                                                            |
| [<span data-ttu-id="e536c-116">**GetSecurityDescriptorGroup**</span><span class="sxs-lookup"><span data-stu-id="e536c-116">**GetSecurityDescriptorGroup**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsecuritydescriptorgroup)     | <span data-ttu-id="e536c-117">從安全描述項中，抓取 (SID) 的主要群組 [*安全性識別*](/windows/desktop/SecGloss/s-gly) 元。</span><span class="sxs-lookup"><span data-stu-id="e536c-117">Retrieves the primary group [*security identifier*](/windows/desktop/SecGloss/s-gly) (SID) from a security descriptor.</span></span> |
| [<span data-ttu-id="e536c-118">**GetSecurityDescriptorLength**</span><span class="sxs-lookup"><span data-stu-id="e536c-118">**GetSecurityDescriptorLength**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsecuritydescriptorlength)   | <span data-ttu-id="e536c-119">傳回安全描述項的長度。</span><span class="sxs-lookup"><span data-stu-id="e536c-119">Returns the length of a security descriptor.</span></span>                                                                                                                              |
| [<span data-ttu-id="e536c-120">**GetSecurityDescriptorOwner**</span><span class="sxs-lookup"><span data-stu-id="e536c-120">**GetSecurityDescriptorOwner**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsecuritydescriptorowner)     | <span data-ttu-id="e536c-121">從安全描述項抓取擁有者 SID。</span><span class="sxs-lookup"><span data-stu-id="e536c-121">Retrieves the owner SID from a security descriptor.</span></span>                                                                                                                       |
| [<span data-ttu-id="e536c-122">**GetSecurityDescriptorSacl**</span><span class="sxs-lookup"><span data-stu-id="e536c-122">**GetSecurityDescriptorSacl**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsecuritydescriptorsacl)       | <span data-ttu-id="e536c-123">從安全描述項捕獲 SACL。</span><span class="sxs-lookup"><span data-stu-id="e536c-123">Retrieves the SACL from a security descriptor.</span></span>                                                                                                                            |
| [<span data-ttu-id="e536c-124">**SetSecurityDescriptorDacl**</span><span class="sxs-lookup"><span data-stu-id="e536c-124">**SetSecurityDescriptorDacl**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setsecuritydescriptordacl)       | <span data-ttu-id="e536c-125">將 DACL 放入安全描述項中，取代任何現有的 DACL。</span><span class="sxs-lookup"><span data-stu-id="e536c-125">Puts a DACL into a security descriptor, superseding any existing DACL.</span></span>                                                                                                    |
| [<span data-ttu-id="e536c-126">**SetSecurityDescriptorGroup**</span><span class="sxs-lookup"><span data-stu-id="e536c-126">**SetSecurityDescriptorGroup**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setsecuritydescriptorgroup)     | <span data-ttu-id="e536c-127">設定安全描述項的主要群組 SID。</span><span class="sxs-lookup"><span data-stu-id="e536c-127">Sets the primary group SID of a security descriptor.</span></span>                                                                                                                      |
| [<span data-ttu-id="e536c-128">**SetSecurityDescriptorOwner**</span><span class="sxs-lookup"><span data-stu-id="e536c-128">**SetSecurityDescriptorOwner**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setsecuritydescriptorowner)     | <span data-ttu-id="e536c-129">設定安全描述項的擁有者 SID。</span><span class="sxs-lookup"><span data-stu-id="e536c-129">Sets the owner SID of a security descriptor.</span></span>                                                                                                                              |
| [<span data-ttu-id="e536c-130">**SetSecurityDescriptorSacl**</span><span class="sxs-lookup"><span data-stu-id="e536c-130">**SetSecurityDescriptorSacl**</span></span>](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setsecuritydescriptorsacl)       | <span data-ttu-id="e536c-131">將 SACL 放入安全描述項中，取代任何現有的 SACL。</span><span class="sxs-lookup"><span data-stu-id="e536c-131">Puts a SACL into a security descriptor, superseding any existing SACL.</span></span>                                                                                                    |



 

<span data-ttu-id="e536c-132">若要檢查安全描述項的修訂層級和結構 [*完整性*](/windows/desktop/SecGloss/i-gly) ，請呼叫 [**IsValidSecurityDescriptor**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-isvalidsecuritydescriptor) 函數。</span><span class="sxs-lookup"><span data-stu-id="e536c-132">To check the revision level and structural [*integrity*](/windows/desktop/SecGloss/i-gly) of a security descriptor, call the [**IsValidSecurityDescriptor**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-isvalidsecuritydescriptor) function.</span></span>

 

 
