---
description: 本主題說明在 Microsoft Windows 作業系統中，用來捕捉、處理及顯示影片的10和16位 YUV 格式。
ms.assetid: fcaaaa6f-f886-4f6e-9c3c-e513ccc90d37
title: 10位和16位 YUV 影片格式
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 09652929257c071bd735e1d6c7ec36e1767d904da7d2364ac3e30c61c81f342f
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/11/2021
ms.locfileid: "118065734"
---
# <a name="10-bit-and-16-bit-yuv-video-formats"></a>10位和16位 YUV 影片格式

本主題說明在 Microsoft Windows 作業系統中，用來捕捉、處理及顯示影片的10和16位 YUV 格式。

本主題包含下列幾節：

-   [概觀](#overview)
-   [10位和16位 YUV 的 FOURCC 碼](#fourcc-codes-for-10-bit-and-16-bit-yuv)
-   [介面定義](#surface-definitions)
    -   [4:2:0 格式](#420-formats)
    -   [4:2:2 格式](#422-formats)
    -   [4:4:4 格式](#444-formats)
-   [慣用的 YUV 格式](#preferred-yuv-formats)
-   [相關主題](#related-topics)

## <a name="overview"></a>概觀

這些格式會針對 luma 通道和色度 (C'b 和 C'r) 通道使用固定點標記法。 範例值是使用 2 ^ (n − 8) 的縮放比例來調整，其中 n 為10或16，每個區段為 7.7-7.8 和 7.11-7.12 的 SMPTE 274M。 精確度轉換可以使用簡單的位移位來執行。 例如，如果8位格式的白色點是235，對應的10位格式會有一個位於 940 (235 × 4) 的點。

此處所述的16位標記法會針對每個通道使用位元組由小到小的 **文字** 值。 10位格式也會針對每個通道使用16個位，最低6位設定為零，如下圖所示。

![顯示10位標記法的圖表](images/ee3aae23-4f0a-47d0-a46c-f3d7d94205e6.gif)

由於相同 YUV 格式的10位和16位標記法具有相同的記憶體配置，因此可以將10位表示轉換成16標記法，而不會遺失有效位數。 您也可以將16位標記法轉換為10位標記法。 不過， (Y416 和 Y410 格式是此一般規則的例外狀況，因為它們不會共用相同的記憶體配置。 ) 

當圖形硬體讀取包含10位標記法的介面時，應該忽略每個通道的低序位6位。 但是，如果某個介面包含有效的16位資料，則應該將它識別為16位介面。

在包含 Alpha 的格式中，完全透明圖元的 Alpha 值為零，而完全不透明的圖元具有 Alpha 值 (2 ^ n) –1，其中 n 是 Alpha 位的數目。 在元件轉換成正規化的線性形式之後，會假設 Alpha 是套用到每個元件的線性值。

針對視訊記憶體中的影像，圖形驅動程式會選取介面的記憶體對齊。 介面必須對齊 **DWORD** 。 也就是說，介面內的個別線條保證會從32位界限開始，雖然對齊可以大於32位。 原點 (0，0) 一律是表面的左上角。

基於本檔的目的， *U* 這一詞相當於 *Cb*，而詞彙 *V* 則相當於 *Cr*。

## <a name="fourcc-codes-for-10-bit-and-16-bit-yuv"></a>10位和16位 YUV 的 FOURCC 碼

此處所述格式的 FOURCC 碼使用下列慣例：

-   如果格式為平面，則 FOURCC 程式碼中的第一個字元是 ' P '。 如果壓縮格式，則第一個字元是 ' Y '。
-   FOURCC 程式碼中的第二個字元是由色度取樣所決定，如下表所示。

    

    | 色度取樣 | FOURCC 碼字母 |
    |-----------------|--------------------|
    | 4:4:4           | 億                |
    | 4:2:2           | 二級                |
    | 4:2:1           | '1'                |
    | 4:2:0           | '0'                |

    

     

-   FOURCC 中的最後兩個字元代表每個通道的位數，' 16 ' 代表16位或 ' 10 ' （代表10個位）。

使用此配置時，已定義下列 FOURCC 碼。 目前尚未定義10位或16位 YUV 的4:2:1 格式。



| FOURCC | Description            |
|--------|------------------------|
| P016   | 平面、4:2:0、16位。 |
| P010   | 平面、4:2:0、10位。 |
| P216   | 平面、4:2:2、16位。 |
| P210   | 平面、4:2:2、10位。 |
| Y216   | 已封裝，4:2:2，16位。 |
| Y210   | 封裝、4:2:2、10位。 |
| Y416   | 已封裝，4:4:4，16位  |
| Y410   | 封裝、4:4:4、10位。 |



 

子類型 Guid 也已經從這些 FOURCCs 中定義;請參閱 [影片子類型 guid](video-subtype-guids.md)。

## <a name="surface-definitions"></a>介面定義

本節說明每個格式的記憶體配置。 在接下來的描述中， **單字** 詞彙指的是位元組由大到小的16位值，而 **DWORD** 一詞指的是位元組由大到小的32位值。

### <a name="420-formats"></a>4:2:0 格式

定義兩種4:2:0 格式，FOURCC 碼為 P016 和 P010。 它們共用相同的記憶體配置，但 P016 使用每個通道16個位，而 P010 則會使用每個通道10個位。

### <a name="p016-and-p010"></a>P016 和 P010

在這兩種格式中，所有的 Y 範例都會先出現在記憶體中，做為 **單字** 的陣列，並具有偶數的行數。 介面 stride 可以大於 Y 平面的寬度。 這個陣列後面緊接著包含交錯您和 V 範例的 **單字** 陣列，如下圖所示。

![顯示 p016 和 p010 圖元版面配置的圖表](images/1e1c4d66-6172-4d3a-bd25-4b5caa67edcd.gif)

如果結合的 U-V 陣列是以 **DWORD** s 的陣列定址，則最不重要的單字 (LSW) 包含 U 值，而最重要的單字 (MSW) 包含 V 值。 結合的 U V 平面的 stride 等於 Y 平面的 stride。 U V 平面有一半與 Y 平面一樣多的行數。

這兩種格式是慣用的4:2:0 平面像素格式，適用于較高的精確度 YUV 表示。 它們應該是支援10位或16位4:2:0 影片的 DirectX Video 加速 (DXVA) 加速器的中繼詞彙需求。

### <a name="422-formats"></a>4:2:2 格式

定義了四種4:2:2 格式：兩個平面和兩個都是封裝的。 它們具有下列 FOURCC 碼：

-   P216
-   P210
-   Y216
-   Y210

### <a name="p216-and-p210"></a>P216 和 P210

在這兩種平面格式中，所有的 Y 範例都會先出現在記憶體中，做為 **單字** 的陣列，包含偶數的行數。 介面 stride 可以大於 Y 平面的寬度。 這個陣列後面緊接著包含交錯您和 V 範例的 **單字** 陣列，如下圖所示。

![顯示 p216 和 p210 圖元版面配置的圖表](images/ff672fef-218f-4722-b806-d06c77fe8cfa.gif)

如果結合的 U-V 陣列是定址為 **DWORD** s 的陣列，LSW 就會包含 U 值，而且 MSW 會包含 V 值。 結合的 U V 平面的 stride 等於 Y 平面的 stride。 U V 平面與 Y 平面的行數相同。

這兩種格式是慣用的4:2:2 平面像素格式，適用于較高的精確度 YUV 表示。 它們應該是支援10位或16位4:2:2 影片的 DirectX Video 加速 (DXVA) 加速器的中繼詞彙需求。

### <a name="y216-and-y210"></a>Y216 和 Y210

在這兩個壓縮格式中，每對圖元都會儲存為四個 **單字** 的陣列，如下圖所示。

![顯示 y216 和 y210 圖元配置的圖表。](images/6f68aeeb-18ca-48ee-82c4-5b79d5510e9f.gif)

陣列中的第一個 **單字** 包含配對中的第一個 Y 樣本、第二 **個單字** 包含 U 範例、第三個 **字** 組包含第二個 y 樣本，而 **第四個單字包含** V 範例。

Y210 與 Y216 完全相同，不同之處在于每個範例只包含10個位的重要資料。 最不重要的6個位會設定為零，如先前所述。

### <a name="444-formats"></a>4:4:4 格式

定義兩種4:4:4 格式，FOURCC 碼為 Y410 和 Y416。 兩者都是封裝格式。

### <a name="y410"></a>Y410

這種格式是包含2位 Alpha 的壓縮10位標記法。 每個圖元都會編碼為單一 **DWORD** ，其中的記憶體配置如下圖所示。

![顯示 y410 圖元配置的圖表。](images/f8a71437-e3f1-4331-be30-f766c028d648.gif)

Bits 0-9 包含 U 範例、bits 10-19 包含 Y 樣本、bits 20-29 包含 V 範例，而 bits 30-31 則包含 Alpha 值。 若要指出圖元完全不透明，應用程式必須將兩個 Alpha 位設定為等於0x03。

### <a name="y416"></a>Y416

此格式是包含16位 Alpha 的封裝16位標記法。 每個圖元都會編碼為一對 **DWORD**，如下圖所示。

![顯示 y416 圖元配置的圖表。](images/c928523a-25d3-4712-9aec-5b492b51435f.gif)

Bits 0-15 包含 U 範例、bits 16-31 包含 Y 樣本、bits 32-47 包含 V 範例，而 bits 48-63 則包含 Alpha 值。

若要指出圖元是完全不透明的，應用程式必須將兩個 Alpha 位設定為0xFFFF。 此格式主要是在影像處理期間作為中繼格式，以避免發生錯誤的累積。

## <a name="preferred-yuv-formats"></a>慣用的 YUV 格式

下表列出慣用的 YUV 格式，包括8位格式。



| 格式 | 色度取樣 | 已封裝或平面 | 每個通道的位數 |
|--------|-----------------|------------------|------------------|
| AYUV   | 4:4:4           | 包裝           | 8                |
| Y410   | 4:4:4           | 包裝           | 10               |
| Y416   | 4:4:4           | 包裝           | 16               |
| AI44   | 4:4:4           | 包裝           | 調色盤       |
| YUY2   | 4:2:2           | 包裝           | 8                |
| Y210   | 4:2:2           | 包裝           | 10               |
| Y216   | 4:2:2           | 包裝           | 16               |
| P210   | 4:2:2           | 平面           | 10               |
| P216   | 4:2:2           | 平面           | 16               |
| NV12   | 4:2:0           | 平面           | 8                |
| P010   | 4:2:0           | 平面           | 10               |
| P016   | 4:2:0           | 平面           | 16               |
| NV11   | 4:1:1           | 平面           | 8                |



 

建議您如果物件支援指定的位深度和色度取樣配置，則應該支援下表所列的對應 YUV 格式。  (物件可能會支援此處未列出的其他格式。 ) 

## <a name="related-topics"></a>相關主題

<dl> <dt>

[適用于影片轉譯的建議8位 YUV 格式](recommended-8-bit-yuv-formats-for-video-rendering.md)
</dt> <dt>

[影片子類型 Guid](video-subtype-guids.md)
</dt> <dt>

[影片媒體類型](video-media-types.md)
</dt> </dl>

 

 



