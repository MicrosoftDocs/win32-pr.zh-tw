---
description: 來源讀取器是使用媒體會話和 Microsoft 媒體基礎管線來處理媒體資料的替代方法。
ms.assetid: 8a17a754-53ef-4c05-9189-7978d864b17a
title: 來源讀取程式
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 81527392c97aae039de8b8cdbd76b1251e03842b6b66c22cc224118d4f428620
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/11/2021
ms.locfileid: "119101809"
---
# <a name="source-reader"></a>來源讀取程式

來源讀取器是使用 [媒體會話](media-session.md) 和 Microsoft 媒體基礎管線來處理媒體資料的替代方法。

## <a name="why-use-the-source-reader"></a>為何要使用來源讀取器？

媒體基礎提供已針對播放優化的管線。 管線是端對端的，這表示它會處理來自來源的資料流程 (例如影片檔案) 一直到目的地 (例如圖形顯示) 。 但是，如果您想要在資料通過管線時讀取或修改資料，您必須撰寫自訂外掛程式。 這需要對媒體基礎管線有相當深入的瞭解。 針對某些工作，建立新外掛程式的負荷會太多。 當您想要從來源取得未經處理的資料，而不會產生整個管線的額外負荷時，來源讀取器是針對這類情況所設計。

來源讀取器會在內部保存媒體來源的指標。 *媒體來源* 是媒體基礎的物件，可從外部來源（例如媒體檔案或影片捕獲裝置）產生媒體資料。 來源讀取器會管理媒體來源的所有方法呼叫。  (如需媒體來源的詳細資訊，請參閱 [媒體來源](media-sources.md)。 ) 

如果媒體來源提供壓縮的資料，您可以使用來源讀取器將資料解碼。 在此情況下，來源讀取器將會載入正確的解碼器，並管理媒體來源與解碼器之間的資料流程。 來源讀取器也可以執行一些有限的影片處理：從 YUV 到 RGB-32 的色彩轉換，以及軟體去交錯，不過不建議針對即時影片轉譯進行這些作業。 下圖說明此程式。

![來源讀取器的圖表](images/sourcereader.png)

來源讀取器不會將資料傳送至目的地;應用程式會耗用資料。 例如，來源讀取器可以讀取影片檔案，但不會將影片轉譯至螢幕。 此外，來源讀取器不會管理簡報時鐘、處理計時問題，或同步處理影片與音訊。

當下列情況時，請考慮使用來源讀取器：

-   您想要從媒體檔案取得資料，而不需要擔心基礎檔結構。
-   您想要從音訊或影片捕獲裝置取得資料。
-   您的資料處理工作不會區分時間，或是您不需要簡報時鐘。
-   您已經有不是以媒體基礎為基礎的媒體管線，而您想要將媒體基礎的媒體來源併入您自己的管線。

在下列情況下，不建議使用來源讀取器：

-   適用于受保護的內容。 來源讀取器不支援 (DRM) 的數位版權管理。
-   如果您在意基礎檔結構的詳細資料。 來源讀取器會隱藏該類型的詳細資料。

## <a name="in-this-section"></a>本節內容



| 主題                                                                                                        | 描述                                                                                                                       |
|--------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| [使用來源讀取器來處理媒體資料](processing-media-data-with-the-source-reader.md)<br/> | 本主題說明如何使用來源讀取器來處理媒體資料。<br/>                                               |
| [使用非同步模式的來源讀取器](using-the-source-reader-in-asynchronous-mode.md)<br/>  | 本主題說明如何使用非同步模式的來源讀取器。<br/>                                                |
| [教學課程：解碼音訊](tutorial--decoding-audio.md)<br/>                                          | 本教學課程示範如何使用來源讀取器將音訊從媒體檔案解碼，並將音訊寫入 WAVE 檔案。<br/> |



 

## <a name="related-topics"></a>相關主題

<dl> <dt>

[媒體基礎架構](media-foundation-architecture.md)
</dt> <dt>

[媒體基礎程式設計指南](media-foundation-programming-guide.md)
</dt> <dt>

[**IMFSourceReader**](/windows/desktop/api/mfreadwrite/nn-mfreadwrite-imfsourcereader)
</dt> </dl>

 

 




