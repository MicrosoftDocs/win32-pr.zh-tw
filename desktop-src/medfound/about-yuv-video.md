---
description: 關於 YUV 影片
ms.assetid: 089f42f2-1e5b-4d4b-98a4-9ef0ca2823c1
title: 關於 YUV 影片
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3499a8adfe1a43a22fe9bdd9ff4e576b7a14c398a9dafc0b945647d7225ad581
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/11/2021
ms.locfileid: "118744239"
---
# <a name="about-yuv-video"></a>關於 YUV 影片

數位影片的編碼通常是 *YUV* 格式。 本文說明 YUV 影片的一般概念，以及一些術語，而不會深入探討 YUV 影片處理的數學運算。

如果您曾經使用過電腦圖形，您可能很熟悉 RGB 色彩。 RGB 色彩會使用三個值進行編碼：紅色、綠色和藍色。 這些值會直接對應至可見頻譜的部分。 這三個 RGB 值形成一個數學座標系統，稱為 *色彩空間*。 紅色元件定義此座標系統的一個軸，藍色定義第二個軸，而綠色則定義第三個軸，如下圖所示。 任何有效的 RGB 色彩都落在這個色彩空間的某個位置。 例如，純洋紅是100% 藍色、100% 紅色和0% 綠色。

![顯示 rgb 色彩空間的圖表](images/8ec60365-ed5c-41f7-9da9-be46aa82896a.gif)

雖然 RGB 是代表色彩的常見方式，但可能有其他座標系統。 「 *YUV* 」一詞是指一系列的色彩空間，這些色彩空間全都會將亮度資訊與色彩資訊分開編碼。 如同 RGB，YUV 會使用三個值來表示任何色彩。 這些值稱為 Y '、U 和 V。 (事實上，這個詞彙 "YUV" 的用法在技術上是不正確的。 在「電腦」影片中，Y'CbCr 一詞幾乎一律會參考一個名為的特定色彩空間，稍後再討論。 不過，在與 Y'CbCr 相同的原則下運作的任何色彩空間，都通常會使用 YUV 作為一般詞彙。 ) 

Y ' 元件也稱為 *luma*，表示色彩的亮度值。  ( ' ) 的質數符號用來區別 luma 與緊密相關的值，也就是指定了 Y 的 *亮度*。亮度是衍生自 *線性* RGB 值，而 luma 則是衍生自非線性的 *非線性* () RGB 值。 亮度是真實亮度的較接近量值，但 luma 更適合用於技術的原因。 主要符號會經常省略，但 YUV 色彩空間一律會使用 luma，而非亮度。

Luma 是使用紅色、綠色和藍色元件的加權平均值，從 RGB 色彩衍生。 若為標準定義電視，則會使用下列公式：

`Y' = 0.299R + 0.587G + 0.114B`

此公式會反映人類眼比其他波長更敏感的事實，而這會影響色彩的認知亮度。 藍色燈會出現 dimmest，綠色顯示為最亮，紅色則是介於兩者之間。 此公式也會反映早期電視中所使用之 phosphors 的實體特性。 將新式電視技術納入考慮的較新公式，會用於高定義電視：

`Y' = 0.2125R + 0.7154G + 0.0721B`

標準定義電視的 luma 方程式是定義在名為 ITU-T-R BT. 601 的規格中。 針對高定義電視，相關規格為 ITU-T-R BT. 709。

您和 V 元件（也稱為 *色度* 值或 *色彩差異* 值）是從原始 RGB 色彩的 red 和 blue 元件減去 Y 值所衍生的：

`U = B - Y'`

`V = R - Y'`

這些值一起包含足夠的資訊，以復原原始的 RGB 值。

## <a name="benefits-of-yuv"></a>YUV 的優點

類比電視使用 YUV 部分的歷史原因。 類比色電視信號的設計目的是要與黑色和白色電視回溯相容。 色電視信號攜帶了色度資訊， (您和 V) 重迭到 luma 信號。 黑色和白色電視會忽略色度，並將結合的信號顯示為灰階影像。  (信號的設計，使得色度不會明顯干擾 luma 信號。 ) 色彩電視可將色度解壓縮，並將信號轉換回 RGB。

YUV 還有另一個更相關的優點。 人們的眼睛比亮度變化更不敏感的色調變更。 如此一來，相較于 luma 資訊，影像可能會有較少的色度資訊，而不會犧牲影像的認知品質。 例如，通常會在 luma 範例的水準解析度的一半上取樣色度值。 換句話說，每兩個 luma 樣本（以圖元為單位）中都有一個 U 範例和一個 V 範例。 假設使用8個位來編碼每個值，則每兩個圖元都需要4個位元組的總計 (兩個 Y '、一個 U 和一個 V) 、平均每圖元16位，或小於相等24位 RGB 編碼的30%。

YUV 本質上並不比 RGB 更精簡。 除非 >downsampled 了色度，否則 YUV 圖元的大小會與 RGB 圖元相同。 此外，從 RGB 到 YUV 的轉換並不會有任何損失。 如果沒有縮減取樣，則會將 YUV 圖元轉換回 RGB，而不會遺失資訊。 縮小取樣會讓 YUV 影像變小，而且也會遺失部分色彩資訊。 但是，如果正確地執行，則遺失的 perceptually 很重要。

## <a name="yuv-in-computer-video"></a>電腦中的 YUV 影片

先前針對 YUV 列出的公式不是數位視訊中使用的精確轉換。 數位視訊通常是使用一種稱為 Y'CbCr 的 YUV 形式。 基本上，Y'CbCr 的運作方式是將 YUV 元件調整為下列範圍：



| 元件 | 範圍                              |
|-----------|------------------------------------|
| X        | 16–235                             |
| Cb/Cr     | 16–240，128代表零 |



 

這些範圍假設 Y'CbCr 元件的精確度為8位。 以下是使用 luma 的 BT. 601 定義，Y'CbCr 的確切衍生：

1.  從0到1範圍內的 RGB 值開始。 \[ \] 換句話說，純黑色是0，純白色則是1。 重要的是，這些是) RGB 值的非線性 (gamma 修正。
2.  計算 luma。 如先前所述，針對 BT. 601，Y ' = 0.299 R + 0.587 G + 0.114 B。
3.  計算 (B-Y ' ) 和 (R-Y ' ) 的中繼色度差異值。 這些值的範圍為 +/-0.886，適用于 (B-Y ' ) ，而 +/-0.701 適用于 (R Y ' ) 。
4.  調整色度差異值，如下所示：

    Pb = (0.5/ (1-0.114) ) × (B-Y ' ) 

    Pr = (0.5/ (1-0.299) ) × (R Y ' ) 

    這些縮放比例的設計目的是要為兩個值提供相同的數值範圍，+/-0.5。 它們一起定義了一個名為 Y'PbPr 的 YUV 色彩空間。 此色彩空間會在類比元件影片中使用。

5.  調整 Y'PbPr 值以取得最終的 Y'CbCr 值：

    Y ' = 16 + 219 × Y '

    Cb = 128 + 224 × Pb

    Cr = 128 + 224 × Pr

這些最後的調整因數會產生上表所列的值範圍。 當然，您可以直接將 RGB 轉換成 Y'CbCr，而不需要儲存中繼結果。 這些步驟會分別列在這裡，以顯示 Y'CbCr 如何衍生自本文開頭所提供的原始 YUV 方程式。

下表顯示各種色彩的 RGB 和 YCbCr 值，再次使用 luma 的 BT. 601 定義。



| Color   | R   | G   | B   | X  | Cb  | Cr  |
|---------|-----|-----|-----|-----|-----|-----|
| 黑色   | 0   | 0   | 0   | 16  | 128 | 128 |
| 紅色     | 255 | 0   | 0   | 81  | 90  | 240 |
| 綠色   | 0   | 255 | 0   | 145 | 54  | 34  |
| 藍色    | 0   | 0   | 255 | 41  | 240 | 110 |
| 11：青色    | 0   | 255 | 255 | 170 | 166 | 16  |
| 桃紅色 | 255 | 0   | 255 | 106 | 202 | 222 |
| 黃色  | 255 | 255 | 0   | 210 | 16  | 146 |
| 白色   | 255 | 255 | 255 | 235 | 128 | 128 |



 

如下表所示，Cb 和 Cr 不會對應至色彩的直覺概念。 例如，純白色與純黑色兩者都包含 Cb 和 Cr 的中性層級 (128) 。 Cb 的最高和最低值分別是藍色和黃色。 若為 Cr，最高和最低值為紅色和青色。

## <a name="for-more-information"></a>詳細資訊

-   [適用于影片轉譯的建議8位 YUV 格式](recommended-8-bit-yuv-formats-for-video-rendering.md)
-   Keith 插座。 Video 完全解密，第五版。 Newnes，2007。
-   Charles Poynton。 數位影片的技術簡介。 Wiley，1996。

## <a name="related-topics"></a>相關主題

<dl> <dt>

[影片媒體類型](video-media-types.md)
</dt> <dt>

[媒體類型](media-types.md)
</dt> </dl>

 

 



