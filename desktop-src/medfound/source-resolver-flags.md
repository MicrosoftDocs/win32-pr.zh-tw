---
description: 定義來源解析程式的行為。 配置處理常式和位元組資料流程處理常式也會使用這些旗標。
ms.assetid: fe0b9090-5d2a-41a4-a806-57c874d3b3a2
title: '來源解析程式旗標 (Mfidl .h) '
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 31efe47f75151f78958903cb514653edb6c5aa08
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "103691607"
---
# <a name="source-resolver-flags"></a><span data-ttu-id="0840a-104">來源解析程式旗標</span><span class="sxs-lookup"><span data-stu-id="0840a-104">Source Resolver Flags</span></span>

<span data-ttu-id="0840a-105">定義來源解析程式的行為。</span><span class="sxs-lookup"><span data-stu-id="0840a-105">Defines the behavior of the source resolver.</span></span> <span data-ttu-id="0840a-106">配置處理常式和位元組資料流程處理常式也會使用這些旗標。</span><span class="sxs-lookup"><span data-stu-id="0840a-106">These flags are also used by scheme handlers and byte stream handlers.</span></span>



| <span data-ttu-id="0840a-107">常數/值</span><span class="sxs-lookup"><span data-stu-id="0840a-107">Constant/value</span></span>                                                                                                                                                                                                                                                                                                                                                                                               | <span data-ttu-id="0840a-108">Description</span><span class="sxs-lookup"><span data-stu-id="0840a-108">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="MF_RESOLUTION_MEDIASOURCE"></span><span id="mf_resolution_mediasource"></span><dl> <span data-ttu-id="0840a-109"><dt>**MF \_解決方式 \_ MEDIASOURCE**</dt> <dt>0x00000001</dt></span><span class="sxs-lookup"><span data-stu-id="0840a-109"><dt>**MF\_RESOLUTION\_MEDIASOURCE**</dt> <dt>0x00000001</dt></span></span> </dl>                                                                                                                                           | <span data-ttu-id="0840a-110">嘗試建立媒體來源。</span><span class="sxs-lookup"><span data-stu-id="0840a-110">Attempt to create a media source.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="MF_RESOLUTION_BYTESTREAM"></span><span id="mf_resolution_bytestream"></span><dl> <span data-ttu-id="0840a-111"><dt>**MF \_解決方式 \_ BYTESTREAM**</dt> <dt>0x00000002</dt></span><span class="sxs-lookup"><span data-stu-id="0840a-111"><dt>**MF\_RESOLUTION\_BYTESTREAM**</dt> <dt>0x00000002</dt></span></span> </dl>                                                                                                                                              | <span data-ttu-id="0840a-112">嘗試建立位元組資料流程。</span><span class="sxs-lookup"><span data-stu-id="0840a-112">Attempt to create a byte stream.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="MF_RESOLUTION_CONTENT_DOES_NOT_HAVE_TO_MATCH_EXTENSION_OR_MIME_TYPE_"></span><span id="mf_resolution_content_does_not_have_to_match_extension_or_mime_type_"></span><dl> <span data-ttu-id="0840a-113"><dt> **MF \_ 解析 \_ 內容 \_ 不 \_ \_ 需要 \_ \_ 符合延伸模組 \_ \_ 或 \_ MIME \_ 類型**</dt>的 <dt>0x00000010</dt></span><span class="sxs-lookup"><span data-stu-id="0840a-113"><dt>**MF\_RESOLUTION\_CONTENT\_DOES\_NOT\_HAVE\_TO\_MATCH\_EXTENSION\_OR\_MIME\_TYPE** </dt> <dt>0x00000010</dt></span></span> </dl> | <span data-ttu-id="0840a-114">如果來源解析失敗，使用針對 MIME 類型或副檔名所註冊的位元組資料流程處理常式，來源解析程式會列舉所有已註冊的位元組資料流程處理常式。</span><span class="sxs-lookup"><span data-stu-id="0840a-114">If source resolution fails using the byte-stream handler that is registered for the MIME type or file name extension, the source resolver enumerates through all of the registered byte-stream handlers.</span></span><br/> <span data-ttu-id="0840a-115">位元組資料流程處理常式是以副檔名或 MIME 類型來註冊。</span><span class="sxs-lookup"><span data-stu-id="0840a-115">Byte-stream handlers are registered by file name extension or MIME type.</span></span> <span data-ttu-id="0840a-116">來源解析程式一開始會嘗試使用與副檔名或 MIME 類型相符的處理常式。</span><span class="sxs-lookup"><span data-stu-id="0840a-116">Initially, the source resolver attempts to use a handler that matches the file name extension or the MIME type.</span></span> <span data-ttu-id="0840a-117">如果失敗，則根據預設，整個來源解析會失敗，而且來源解析程式會將錯誤碼傳回給應用程式。</span><span class="sxs-lookup"><span data-stu-id="0840a-117">If that fails, then by default the entire source resolution fails and the source resolver returns an error code to the application.</span></span> <span data-ttu-id="0840a-118">但是，如果指定此旗標，來源解析程式會繼續透過所有已註冊的位元組資料流程處理常式來列舉。</span><span class="sxs-lookup"><span data-stu-id="0840a-118">If this flag is specified, however, the source resolver continues to enumerates through all of the registered byte-stream handlers.</span></span> <span data-ttu-id="0840a-119">可能是不相符的處理常式可能會成功建立媒體來源。</span><span class="sxs-lookup"><span data-stu-id="0840a-119">Possibly a mis-matched handler can successfully create the media source.</span></span><br/> <span data-ttu-id="0840a-120">此旗標無法與 MF 解析結合，因此 \_ \_ \_ \_ \_ \_ 在 \_ FAIL 旗標上保持位元組資料流程保持運作。</span><span class="sxs-lookup"><span data-stu-id="0840a-120">This flag cannot be combined with the MF\_RESOLUTION\_KEEP\_BYTE\_STREAM\_ALIVE\_ON\_FAIL flag.</span></span> <span data-ttu-id="0840a-121">如需詳細資訊，請參閱「備註」。</span><span class="sxs-lookup"><span data-stu-id="0840a-121">See Remarks for more information.</span></span><br/> |
| <span id="MF_RESOLUTION_KEEP_BYTE_STREAM_ALIVE_ON_FAIL"></span><span id="mf_resolution_keep_byte_stream_alive_on_fail"></span><dl> <span data-ttu-id="0840a-122"><dt>**MF \_解決 \_ \_ \_ \_ \_ \_ 失敗的情況，讓位元組資料流程保持**</dt>運作 <dt></dt></span><span class="sxs-lookup"><span data-stu-id="0840a-122"><dt>**MF\_RESOLUTION\_KEEP\_BYTE\_STREAM\_ALIVE\_ON\_FAIL**</dt> <dt>0x00000020</dt></span></span> </dl>                                                                             | <span data-ttu-id="0840a-123">如果來源解析失敗，來源解析程式就不會關閉位元組資料流程。</span><span class="sxs-lookup"><span data-stu-id="0840a-123">If the source resolution fails, the source resolver does not close the byte stream.</span></span> <span data-ttu-id="0840a-124">根據預設，來源解析程式會在失敗時關閉位元組資料流程。</span><span class="sxs-lookup"><span data-stu-id="0840a-124">By default, the source resolver closes the byte stream on failure.</span></span><br/> <span data-ttu-id="0840a-125">如果使用此旗標，且來源解析失敗，則呼叫端應該再次呼叫方法，並設定 MF \_ 解析 \_ 內容 \_ \_ 不 \_ 需要 \_ \_ 符合延伸模組 \_ \_ 或 \_ MIME \_ 類型旗標。</span><span class="sxs-lookup"><span data-stu-id="0840a-125">If this flag is used and the source resolution fails, the caller should call the method again and set the MF\_RESOLUTION\_CONTENT\_DOES\_NOT\_HAVE\_TO\_MATCH\_EXTENSION\_OR\_MIME\_TYPE flag.</span></span><br/> <span data-ttu-id="0840a-126">此旗標無法與 MF \_ 解析內容結合 \_ \_ \_ ，而不 \_ 需要 \_ \_ 符合 \_ 延伸模組 \_ 或 \_ MIME \_ 類型旗標。</span><span class="sxs-lookup"><span data-stu-id="0840a-126">This flag cannot be combined with the MF\_RESOLUTION\_CONTENT\_DOES\_NOT\_HAVE\_TO\_MATCH\_EXTENSION\_OR\_MIME\_TYPE flag.</span></span> <span data-ttu-id="0840a-127">如需詳細資訊，請參閱「備註」。</span><span class="sxs-lookup"><span data-stu-id="0840a-127">See Remarks for more information.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="MF_RESOLUTION_READ"></span><span id="mf_resolution_read"></span><dl> <span data-ttu-id="0840a-128"><dt>**MF \_解決方式 \_ 讀取**</dt> <dt>0x00010000</dt></span><span class="sxs-lookup"><span data-stu-id="0840a-128"><dt>**MF\_RESOLUTION\_READ**</dt> <dt>0x00010000</dt></span></span> </dl>                                                                                                                                                                | <span data-ttu-id="0840a-129">要求來源的讀取存取權。</span><span class="sxs-lookup"><span data-stu-id="0840a-129">Requests read access to the source.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="MF_RESOLUTION_WRITE"></span><span id="mf_resolution_write"></span><dl> <span data-ttu-id="0840a-130"><dt>**MF \_解決方式 \_ 寫入**</dt> <dt>0x00020000</dt></span><span class="sxs-lookup"><span data-stu-id="0840a-130"><dt>**MF\_RESOLUTION\_WRITE**</dt> <dt>0x00020000</dt></span></span> </dl>                                                                                                                                                             | <span data-ttu-id="0840a-131">要求來源的寫入存取權。</span><span class="sxs-lookup"><span data-stu-id="0840a-131">Requests write access to the source.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span id="MF_RESOLUTION_DISABLE_LOCAL_PLUGINS"></span><span id="mf_resolution_disable_local_plugins"></span><dl> <span data-ttu-id="0840a-132"><dt>**MF \_解決方式 \_ 停用 \_ 本機 \_ 外掛程式**</dt> <dt>0x00000040</dt></span><span class="sxs-lookup"><span data-stu-id="0840a-132"><dt>**MF\_RESOLUTION\_DISABLE\_LOCAL\_PLUGINS**</dt> <dt>0x00000040</dt></span></span> </dl>                                                                                                           | <span data-ttu-id="0840a-133">來源解析程式不會使用本機註冊的配置或 bytestream 處理常式外掛程式。</span><span class="sxs-lookup"><span data-stu-id="0840a-133">The source resolver will not use locally registered scheme or bytestream handler plugins.</span></span><br/> <span data-ttu-id="0840a-134">需要 Windows 8。</span><span class="sxs-lookup"><span data-stu-id="0840a-134">Requires Windows 8.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |



## <a name="remarks"></a><span data-ttu-id="0840a-135">備註</span><span class="sxs-lookup"><span data-stu-id="0840a-135">Remarks</span></span>

<span data-ttu-id="0840a-136">當應用程式使用 [**IMFSourceResolver**](/windows/desktop/api/mfidl/nn-mfidl-imfsourceresolver) 介面時，會設定這些旗標。</span><span class="sxs-lookup"><span data-stu-id="0840a-136">The application sets these flags when it uses the [**IMFSourceResolver**](/windows/desktop/api/mfidl/nn-mfidl-imfsourceresolver) interface.</span></span> <span data-ttu-id="0840a-137">來源解析程式會將相同的旗標傳遞給 [**IMFByteStreamHandler：： BeginCreateObject**](/windows/desktop/api/mfidl/nf-mfidl-imfbytestreamhandler-begincreateobject) 和 [**IMFSchemeHandler：： BeginCreateObject**](/windows/desktop/api/mfidl/nf-mfidl-imfschemehandler-begincreateobject) 方法。</span><span class="sxs-lookup"><span data-stu-id="0840a-137">The source resolver passes the same flags to the [**IMFByteStreamHandler::BeginCreateObject**](/windows/desktop/api/mfidl/nf-mfidl-imfbytestreamhandler-begincreateobject) and [**IMFSchemeHandler::BeginCreateObject**](/windows/desktop/api/mfidl/nf-mfidl-imfschemehandler-begincreateobject) methods.</span></span>

<span data-ttu-id="0840a-138">您必須指定其中一個 MF \_ 解析 \_ MEDIASOURCE 或 mf \_ 解析 \_ BYTESTREAM 旗標。</span><span class="sxs-lookup"><span data-stu-id="0840a-138">You must specify one of the MF\_RESOLUTION\_MEDIASOURCE or MF\_RESOLUTION\_BYTESTREAM flags.</span></span> <span data-ttu-id="0840a-139">其餘旗標都是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="0840a-139">The remaining flags are all optional.</span></span>

<span data-ttu-id="0840a-140">適用于 \_ 下列案例的 MF 解析 \_ \_ \_ \_ \_ 會在「失敗」旗標上定義「位元組資料流程保持 \_ 運作」：</span><span class="sxs-lookup"><span data-stu-id="0840a-140">The MF\_RESOLUTION\_KEEP\_BYTE\_STREAM\_ALIVE\_ON\_FAIL flag is defined for the following scenario:</span></span>

1.  <span data-ttu-id="0840a-141">應用程式嘗試透過網路開啟來源。</span><span class="sxs-lookup"><span data-stu-id="0840a-141">The application attempts to open a source over the network.</span></span> <span data-ttu-id="0840a-142">應用程式會設定 MF \_ 解析 \_ ， \_ 讓 \_ 位元組 \_ 資料流程 \_ 在 \_ 失敗旗標上保持運作。</span><span class="sxs-lookup"><span data-stu-id="0840a-142">The application sets the MF\_RESOLUTION\_KEEP\_BYTE\_STREAM\_ALIVE\_ON\_FAIL flag.</span></span>

2.  <span data-ttu-id="0840a-143">來源的 URL 包含不正確的檔案名副檔名。</span><span class="sxs-lookup"><span data-stu-id="0840a-143">The source's URL contains the wrong file name extension.</span></span> <span data-ttu-id="0840a-144">因為副檔名錯誤，所以預設的位元組資料流程處理常式無法建立媒體來源。</span><span class="sxs-lookup"><span data-stu-id="0840a-144">Because the file name extension is wrong, the default byte-stream handler cannot create the media source.</span></span> <span data-ttu-id="0840a-145">由於應用程式會將 MF 解析設定為「失敗」旗標上的「 \_ \_ 位元組資料流程保持運作」 \_ ，因此 \_ \_ \_ \_ 來源解析程式會快取位元組資料流程。</span><span class="sxs-lookup"><span data-stu-id="0840a-145">Because the application set the MF\_RESOLUTION\_KEEP\_BYTE\_STREAM\_ALIVE\_ON\_FAIL flag, the source resolver caches the byte stream.</span></span>

3.  <span data-ttu-id="0840a-146">來源解析程式會將錯誤碼傳回給應用程式。</span><span class="sxs-lookup"><span data-stu-id="0840a-146">The source resolver returns an error code to the application.</span></span>

4.  <span data-ttu-id="0840a-147">用戶端會再次開啟來源，這次設定 MF \_ 解析 \_ 內容 \_ \_ 不 \_ 需要 \_ \_ 符合延伸模組 \_ \_ 或 \_ MIME \_ 類型旗標。</span><span class="sxs-lookup"><span data-stu-id="0840a-147">The client opens the source again, this time setting the MF\_RESOLUTION\_CONTENT\_DOES\_NOT\_HAVE\_TO\_MATCH\_EXTENSION\_OR\_MIME\_TYPE flag.</span></span> <span data-ttu-id="0840a-148">此旗標會導致來源解析程式嘗試所有已註冊的處理常式，而不只是預設處理常式。</span><span class="sxs-lookup"><span data-stu-id="0840a-148">This flag causes the source resolver to try all of the registered handlers instead of just the default handler.</span></span> <span data-ttu-id="0840a-149">因為已快取位元組資料流程，所以來源解析程式不需要再次開啟位元組資料流程。</span><span class="sxs-lookup"><span data-stu-id="0840a-149">Because the byte stream was cached, the source resolver does not have to open the byte stream again.</span></span>

## <a name="requirements"></a><span data-ttu-id="0840a-150">規格需求</span><span class="sxs-lookup"><span data-stu-id="0840a-150">Requirements</span></span>



| <span data-ttu-id="0840a-151">需求</span><span class="sxs-lookup"><span data-stu-id="0840a-151">Requirement</span></span> | <span data-ttu-id="0840a-152">值</span><span class="sxs-lookup"><span data-stu-id="0840a-152">Value</span></span> |
|-------------------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="0840a-153">最低支援的用戶端</span><span class="sxs-lookup"><span data-stu-id="0840a-153">Minimum supported client</span></span><br/> | <span data-ttu-id="0840a-154">\[僅限 Windows Vista 桌面應用程式\]</span><span class="sxs-lookup"><span data-stu-id="0840a-154">Windows Vista \[desktop apps only\]</span></span><br/>                                     |
| <span data-ttu-id="0840a-155">最低支援的伺服器</span><span class="sxs-lookup"><span data-stu-id="0840a-155">Minimum supported server</span></span><br/> | <span data-ttu-id="0840a-156">僅限 Windows Server 2008 \[ desktop 應用程式\]</span><span class="sxs-lookup"><span data-stu-id="0840a-156">Windows Server 2008 \[desktop apps only\]</span></span><br/>                               |
| <span data-ttu-id="0840a-157">標頭</span><span class="sxs-lookup"><span data-stu-id="0840a-157">Header</span></span><br/>                   | <dl> <span data-ttu-id="0840a-158"><dt>Mfidl。h</dt></span><span class="sxs-lookup"><span data-stu-id="0840a-158"><dt>Mfidl.h</dt></span></span> </dl> |



## <a name="see-also"></a><span data-ttu-id="0840a-159">另請參閱</span><span class="sxs-lookup"><span data-stu-id="0840a-159">See also</span></span>

<dl> <dt>

[<span data-ttu-id="0840a-160">媒體基礎常數</span><span class="sxs-lookup"><span data-stu-id="0840a-160">Media Foundation Constants</span></span>](media-foundation-constants.md)
</dt> <dt>

[<span data-ttu-id="0840a-161">**IMFByteStreamHandler**</span><span class="sxs-lookup"><span data-stu-id="0840a-161">**IMFByteStreamHandler**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfbytestreamhandler)
</dt> <dt>

[<span data-ttu-id="0840a-162">**IMFSchemeHandler**</span><span class="sxs-lookup"><span data-stu-id="0840a-162">**IMFSchemeHandler**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfschemehandler)
</dt> <dt>

[<span data-ttu-id="0840a-163">**IMFSourceResolver**</span><span class="sxs-lookup"><span data-stu-id="0840a-163">**IMFSourceResolver**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfsourceresolver)
</dt> <dt>

[<span data-ttu-id="0840a-164">來源解析程式</span><span class="sxs-lookup"><span data-stu-id="0840a-164">Source Resolver</span></span>](source-resolver.md)
</dt> </dl>

 

 




