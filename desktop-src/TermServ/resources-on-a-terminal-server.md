---
title: 遠端桌面工作階段主機伺服器上的資源
description: 多個使用者可以同時登入單一遠端桌面工作階段主機 (RD 工作階段主機) 伺服器，並共用伺服器的硬體和軟體資源。
ms.assetid: ab193a9f-7424-42bf-8cea-28628096edc6
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 81e099787ae3d0acd9028405b244f7fbc2e2117e
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/16/2019
ms.locfileid: "103673812"
---
# <a name="resources-on-a-remote-desktop-session-host-server"></a><span data-ttu-id="f6185-103">遠端桌面工作階段主機伺服器上的資源</span><span class="sxs-lookup"><span data-stu-id="f6185-103">Resources on a Remote Desktop Session Host Server</span></span>

<span data-ttu-id="f6185-104">在遠端桌面服務環境中，多個使用者可以同時登入單一遠端桌面工作階段主機 (RD 工作階段主機) 伺服器 (先前稱為終端機伺服器) 。</span><span class="sxs-lookup"><span data-stu-id="f6185-104">In a Remote Desktop Services environment, multiple users can log on simultaneously to a single Remote Desktop Session Host (RD Session Host) server (formerly known as a terminal server).</span></span> <span data-ttu-id="f6185-105">因此，使用者會共用伺服器的硬體和軟體資源，而這可能會建立下列爭用區域：</span><span class="sxs-lookup"><span data-stu-id="f6185-105">Consequently, the users are sharing the hardware and software resources of the server, which can create the following areas of contention:</span></span>

-   <span data-ttu-id="f6185-106">CPU 時間。</span><span class="sxs-lookup"><span data-stu-id="f6185-106">CPU time.</span></span> <span data-ttu-id="f6185-107">每個使用者都有桌面環境，而且可以執行該桌面可用的任何應用程式。</span><span class="sxs-lookup"><span data-stu-id="f6185-107">Each user has a desktop environment and can run whatever applications are available to that desktop.</span></span> <span data-ttu-id="f6185-108">不過，所有使用者執行的所有應用程式都會爭用 RD 工作階段主機伺服器上可用的中央 CPU 資源。</span><span class="sxs-lookup"><span data-stu-id="f6185-108">However, all applications run by all users are contending for the central CPU resources available on the RD Session Host server.</span></span> <span data-ttu-id="f6185-109">如果有一位使用者執行寫入不佳、需要大量 CPU 的應用程式，則其他使用者可能會遇到效能明顯降低的情況。</span><span class="sxs-lookup"><span data-stu-id="f6185-109">If one user runs a poorly written, CPU-intensive application, other users might experience a visible loss of performance.</span></span>
-   <span data-ttu-id="f6185-110">磁片存取。</span><span class="sxs-lookup"><span data-stu-id="f6185-110">Disk access.</span></span> <span data-ttu-id="f6185-111">使用者會爭用應用程式和相關程式檔案的存取權。</span><span class="sxs-lookup"><span data-stu-id="f6185-111">Users contend for access to applications and related program files.</span></span> <span data-ttu-id="f6185-112">此外，使用者也爭用伺服器作業系統的磁片存取，例如載入 Dll 或在分頁檔案和實體記憶體之間交換記憶體。</span><span class="sxs-lookup"><span data-stu-id="f6185-112">In addition, users contend for disk accesses by the server operating system, such as loading DLLs or swapping memory between the paging file and physical memory.</span></span>
-   <span data-ttu-id="f6185-113">隨機存取記憶體 (RAM) 。</span><span class="sxs-lookup"><span data-stu-id="f6185-113">Random Access Memory (RAM).</span></span> <span data-ttu-id="f6185-114">每位使用者執行的每個應用程式都會爭用 RD 工作階段主機伺服器上的可用 RAM 資源。</span><span class="sxs-lookup"><span data-stu-id="f6185-114">Each application run by every user is contending for the RAM resources available on the RD Session Host server.</span></span> <span data-ttu-id="f6185-115">如果有一位使用者執行需要海量儲存體的應用程式，則其他使用者可能會遇到效能降低的情況。</span><span class="sxs-lookup"><span data-stu-id="f6185-115">If one user runs a memory-intensive application, other users might experience a loss of performance.</span></span>
-   <span data-ttu-id="f6185-116">網路存取：</span><span class="sxs-lookup"><span data-stu-id="f6185-116">Network access.</span></span> <span data-ttu-id="f6185-117">網路存取在遠端桌面服務環境中是不可或缺的，因為所有桌面活動（圖形化輸出和滑鼠/鍵盤輸入）都是透過用戶端桌面與伺服器之間的網路連結來流動。</span><span class="sxs-lookup"><span data-stu-id="f6185-117">Network access is essential in a Remote Desktop Services environment because all desktop activity—graphical output and mouse/keyboard input—flows over the network links between the client desktop and the server.</span></span> <span data-ttu-id="f6185-118">此外，在 RD 工作階段主機伺服器上執行的使用者應用程式會爭用其他網路資源的存取權。</span><span class="sxs-lookup"><span data-stu-id="f6185-118">In addition, the users' applications running on the RD Session Host server contend for access to other network resources.</span></span>
-   <span data-ttu-id="f6185-119">伺服器硬體。</span><span class="sxs-lookup"><span data-stu-id="f6185-119">Server hardware.</span></span> <span data-ttu-id="f6185-120">CD-ROM、磁片磁碟機、序列埠和平行埠等硬體元件通常是以伺服器為基礎，而不是以用戶端為基礎。</span><span class="sxs-lookup"><span data-stu-id="f6185-120">Hardware components such as CD-ROMs, floppy disk drives, serial ports, and parallel ports are often server based, not client based.</span></span> <span data-ttu-id="f6185-121">共用這些傳統的非共用元件，可為使用者和存取這些硬體元件的應用程式建立新的考慮。</span><span class="sxs-lookup"><span data-stu-id="f6185-121">Sharing these traditionally nonshared components creates new considerations for users and for applications that access these hardware components.</span></span> <span data-ttu-id="f6185-122">如需詳細資訊，請參閱 [週邊硬體指導方針](peripheral-hardware-guidelines.md)。</span><span class="sxs-lookup"><span data-stu-id="f6185-122">For more information, see [Peripheral Hardware Guidelines](peripheral-hardware-guidelines.md).</span></span>
-   <span data-ttu-id="f6185-123">全域物件和資源的存取權。</span><span class="sxs-lookup"><span data-stu-id="f6185-123">Access to global objects and resources.</span></span> <span data-ttu-id="f6185-124">在遠端桌面服務環境中，使用者不會執行個別的 Windows 複本，而是會複製一些核心模組，但會在使用者之間共用其餘的模組。</span><span class="sxs-lookup"><span data-stu-id="f6185-124">In a Remote Desktop Services environment, users do not run individual copies of Windows—some of the core modules are cloned, but the remaining modules are shared among the users.</span></span> <span data-ttu-id="f6185-125">如此一來，使用者就可以存取登錄、分頁檔案、系統服務和其他全域物件和資源。</span><span class="sxs-lookup"><span data-stu-id="f6185-125">Thus, users are competing for access to the registry, the paging file, system services, and other global objects and resources.</span></span>

<span data-ttu-id="f6185-126">您可以藉由使用足夠的 CPU、記憶體和磁片資源來調整 RD 工作階段主機伺服器大小，以處理用戶端需求，來減輕其中許多先前的爭用點。</span><span class="sxs-lookup"><span data-stu-id="f6185-126">Many of the preceding points of contention can be mitigated by sizing the RD Session Host server with sufficient CPU, memory, and disk resources to handle the client demand.</span></span> <span data-ttu-id="f6185-127">例如，多處理器設定可以將 CPU 可用性最大化。</span><span class="sxs-lookup"><span data-stu-id="f6185-127">For example, a multiple processor configuration can maximize CPU availability.</span></span> <span data-ttu-id="f6185-128">記憶體可用性可以藉由安裝額外的實體記憶體來最大化 (Windows Server Enterprise、Datacenter 或64位版本的記憶體限制增加，可協助) 。</span><span class="sxs-lookup"><span data-stu-id="f6185-128">Memory availability can be maximized by installing extra physical memory (the increased memory limits for the Enterprise, Datacenter, or 64-bit editions of Windows Server can help).</span></span> <span data-ttu-id="f6185-129">最後，您可以設定多個通道，將作業系統和應用程式負載分散到不同的實體磁片磁碟機，以最大化磁片存取效能。</span><span class="sxs-lookup"><span data-stu-id="f6185-129">Finally, disk access performance can be maximized by configuring multiple channels and distributing your operating system and application loads across different physical drives.</span></span> <span data-ttu-id="f6185-130">正確設定 RD 工作階段主機伺服器是察覺應用程式效能的重要元素。</span><span class="sxs-lookup"><span data-stu-id="f6185-130">Properly configuring an RD Session Host server is a critical element of perceived application performance.</span></span>

<span data-ttu-id="f6185-131">雖然硬體大小調整是建立可擴充的遠端桌面服務環境的重要部分，但軟體的考慮也同樣重要。</span><span class="sxs-lookup"><span data-stu-id="f6185-131">Although hardware sizing is an important part of creating a scalable Remote Desktop Services environment, the software considerations are equally important.</span></span> <span data-ttu-id="f6185-132">事實上，微調應用程式通常可以大幅減少資源競賽，並改善察覺的應用程式效能。</span><span class="sxs-lookup"><span data-stu-id="f6185-132">In fact, fine-tuning an application often can do a lot to reduce resource competition and improve perceived application performance.</span></span>

<span data-ttu-id="f6185-133">如需有關遠端桌面服務環境的詳細資訊，請參閱下列主題：</span><span class="sxs-lookup"><span data-stu-id="f6185-133">For more information about the Remote Desktop Services environment, see the following topics:</span></span>

-   [<span data-ttu-id="f6185-134">遠端桌面服務程式設計指導方針</span><span class="sxs-lookup"><span data-stu-id="f6185-134">Remote Desktop Services Programming Guidelines</span></span>](terminal-services-programming-guidelines.md)
-   [<span data-ttu-id="f6185-135">偵測遠端桌面服務環境</span><span class="sxs-lookup"><span data-stu-id="f6185-135">Detecting the Remote Desktop Services Environment</span></span>](detecting-the-terminal-services-environment.md)
-   [<span data-ttu-id="f6185-136">偵測是否已安裝遠端桌面服務角色</span><span class="sxs-lookup"><span data-stu-id="f6185-136">Detecting Whether the Remote Desktop Services Role Is Installed</span></span>](detecting-whether-terminal-services-is-installed.md)
-   [<span data-ttu-id="f6185-137">遠端桌面服務會話</span><span class="sxs-lookup"><span data-stu-id="f6185-137">Remote Desktop Services Sessions</span></span>](terminal-services-sessions.md)

 

 




