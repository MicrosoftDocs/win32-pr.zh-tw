---
title: 關於影像清單
description: 影像清單是相同大小的影像集合，每個影像都可由其索引參考。
ms.assetid: vs|controls|~\controls\imagelist\imagelist.htm
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f059e89b04d16088fff1d937bd29cb23a427d4c2
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/21/2020
ms.locfileid: "104316531"
---
# <a name="about-image-lists"></a><span data-ttu-id="6fa13-103">關於影像清單</span><span class="sxs-lookup"><span data-stu-id="6fa13-103">About Image Lists</span></span>

<span data-ttu-id="6fa13-104">影像清單是相同大小的影像集合，每個影像都可由其索引參考。</span><span class="sxs-lookup"><span data-stu-id="6fa13-104">An image list is a collection of images of the same size, each of which can be referred to by its index.</span></span> <span data-ttu-id="6fa13-105">影像清單用來有效管理大量圖示或點陣圖。</span><span class="sxs-lookup"><span data-stu-id="6fa13-105">Image lists are used to efficiently manage large sets of icons or bitmaps.</span></span> <span data-ttu-id="6fa13-106">影像清單中的所有影像都包含在螢幕裝置格式的單一全寬點陣圖中。</span><span class="sxs-lookup"><span data-stu-id="6fa13-106">All images in an image list are contained in a single, wide bitmap in screen device format.</span></span> <span data-ttu-id="6fa13-107">影像清單也可以包含用來以透明方式繪製影像 (圖示樣式) 的單色點陣圖。</span><span class="sxs-lookup"><span data-stu-id="6fa13-107">An image list can also include a monochrome bitmap that contains masks that are used to draw images transparently (icon style).</span></span>

<span data-ttu-id="6fa13-108">Microsoft WIN32 API 提供影像清單函式和宏，可讓您建立和終結影像清單、新增和移除影像、取代和合併影像、繪製影像，以及拖曳影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-108">The Microsoft Win32 API provides image list functions and macros that enable you to create and destroy image lists, add and remove images, replace and merge images, draw images, and drag images.</span></span> <span data-ttu-id="6fa13-109">若要使用影像清單函式，請在原始程式碼檔中包含通用控制項標頭檔，並連結至通用控制項匯出程式庫。</span><span class="sxs-lookup"><span data-stu-id="6fa13-109">To use the image list functions, include the common control header file in your source code files and link with the common control export library.</span></span> <span data-ttu-id="6fa13-110">此外，在呼叫任何影像清單函式之前，請先使用 [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) 或 [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) 函式，以確保已載入通用控制項 DLL。</span><span class="sxs-lookup"><span data-stu-id="6fa13-110">In addition, before calling any image list function, use the [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) or [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) function to ensure that the common control DLL is loaded.</span></span>

<span data-ttu-id="6fa13-111">本節將討論下列主題：</span><span class="sxs-lookup"><span data-stu-id="6fa13-111">The following topics are discussed in this section:</span></span>

-   [<span data-ttu-id="6fa13-112">類型</span><span class="sxs-lookup"><span data-stu-id="6fa13-112">Types</span></span>](#types)
-   [<span data-ttu-id="6fa13-113">建立和終結影像清單</span><span class="sxs-lookup"><span data-stu-id="6fa13-113">Creating and Destroying Image Lists</span></span>](#creating-and-destroying-image-lists)
-   [<span data-ttu-id="6fa13-114">新增和移除映射</span><span class="sxs-lookup"><span data-stu-id="6fa13-114">Adding and Removing Images</span></span>](#adding-and-removing-images)
-   [<span data-ttu-id="6fa13-115">取代和合併影像</span><span class="sxs-lookup"><span data-stu-id="6fa13-115">Replacing and Merging Images</span></span>](#replacing-and-merging-images)
-   [<span data-ttu-id="6fa13-116">繪圖影像</span><span class="sxs-lookup"><span data-stu-id="6fa13-116">Drawing Images</span></span>](#drawing-images)
-   [<span data-ttu-id="6fa13-117">拖曳影像</span><span class="sxs-lookup"><span data-stu-id="6fa13-117">Dragging Images</span></span>](#dragging-images)
-   [<span data-ttu-id="6fa13-118">影像資訊</span><span class="sxs-lookup"><span data-stu-id="6fa13-118">Image Information</span></span>](#image-information)
-   [<span data-ttu-id="6fa13-119">影像覆蓋</span><span class="sxs-lookup"><span data-stu-id="6fa13-119">Image Overlays</span></span>](#image-overlays)
-   [<span data-ttu-id="6fa13-120">32位反鋸齒圖示</span><span class="sxs-lookup"><span data-stu-id="6fa13-120">32-Bit Antialiased Icons</span></span>](#32-bit-antialiased-icons)

## <a name="types"></a><span data-ttu-id="6fa13-121">類型</span><span class="sxs-lookup"><span data-stu-id="6fa13-121">Types</span></span>

<span data-ttu-id="6fa13-122">影像清單有兩種類型： nonmasked 和遮罩。</span><span class="sxs-lookup"><span data-stu-id="6fa13-122">There are two types of image lists: nonmasked and masked.</span></span> <span data-ttu-id="6fa13-123">Nonmasked 影像清單包含包含一或多個影像的色彩點陣圖。</span><span class="sxs-lookup"><span data-stu-id="6fa13-123">A nonmasked image list consists of a color bitmap that contains one or more images.</span></span> <span data-ttu-id="6fa13-124">遮罩的影像清單包含兩個大小相同的點陣圖。</span><span class="sxs-lookup"><span data-stu-id="6fa13-124">A masked image list consists of two bitmaps of equal size.</span></span> <span data-ttu-id="6fa13-125">第一個是包含影像的色彩點陣圖，而第二個則是包含一連串遮罩的單色點陣圖（第一個點陣圖中的每個影像各一個）。</span><span class="sxs-lookup"><span data-stu-id="6fa13-125">The first is a color bitmap that contains the images, and the second is a monochrome bitmap that contains a series of masks—one for each image in the first bitmap.</span></span>

<span data-ttu-id="6fa13-126">繪製 nonmasked 映射時，它只會複製到目標裝置內容中;也就是說，它會繪製在裝置內容的現有背景色彩上。</span><span class="sxs-lookup"><span data-stu-id="6fa13-126">When a nonmasked image is drawn, it is simply copied into the target device context; that is, it is drawn over the existing background color of the device context.</span></span> <span data-ttu-id="6fa13-127">繪製遮罩的影像時，影像的位會與遮罩的位結合，通常會在點陣圖中產生透明區域，其中目標裝置內容的背景色彩會透過該點陣圖顯示。</span><span class="sxs-lookup"><span data-stu-id="6fa13-127">When a masked image is drawn, the bits of the image are combined with the bits of the mask, typically producing transparent areas in the bitmap where the background color of the target device context shows through.</span></span> <span data-ttu-id="6fa13-128">當您繪製遮罩影像時，可以指定多個繪製樣式。</span><span class="sxs-lookup"><span data-stu-id="6fa13-128">There are several drawing styles that you can specify when drawing a masked image.</span></span> <span data-ttu-id="6fa13-129">例如，您可以指定影像為遞色以表示選取的物件。</span><span class="sxs-lookup"><span data-stu-id="6fa13-129">For example, you can specify that the image be dithered to indicate a selected object.</span></span>

## <a name="creating-and-destroying-image-lists"></a><span data-ttu-id="6fa13-130">建立和終結影像清單</span><span class="sxs-lookup"><span data-stu-id="6fa13-130">Creating and Destroying Image Lists</span></span>

<span data-ttu-id="6fa13-131">您可以藉由呼叫 [**ImageList \_ create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) 函數來建立影像清單。</span><span class="sxs-lookup"><span data-stu-id="6fa13-131">You create an image list by calling the [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) function.</span></span> <span data-ttu-id="6fa13-132">這些參數包含要建立的影像清單類型、每個影像的維度，以及您想要新增至清單的影像數目。</span><span class="sxs-lookup"><span data-stu-id="6fa13-132">The parameters include the type of image list to create, the dimensions of each image, and the number of images you intend to add to the list.</span></span> <span data-ttu-id="6fa13-133">針對 nonmasked 影像清單，此函式會建立夠大的單一點陣圖，以容納指定維度的指定數目影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-133">For a nonmasked image list, the function creates a single bitmap large enough to hold the specified number of images of the given dimensions.</span></span> <span data-ttu-id="6fa13-134">然後，它會建立與螢幕相容的裝置內容，並在其中選取點陣圖。</span><span class="sxs-lookup"><span data-stu-id="6fa13-134">Then it creates a screen-compatible device context and selects the bitmap into it.</span></span> <span data-ttu-id="6fa13-135">針對遮罩影像清單，此函式會建立兩個位圖和兩個螢幕相容的裝置內容。</span><span class="sxs-lookup"><span data-stu-id="6fa13-135">For a masked image list, the function creates two bitmaps and two screen-compatible device contexts.</span></span> <span data-ttu-id="6fa13-136">它會將影像點陣圖選取為一個裝置內容，並將遮罩點陣圖選取至另一個。</span><span class="sxs-lookup"><span data-stu-id="6fa13-136">It selects the image bitmap into one device context and the mask bitmap into the other.</span></span> <span data-ttu-id="6fa13-137">通用控制項 DLL 包含影像清單函式的可執行程式碼。</span><span class="sxs-lookup"><span data-stu-id="6fa13-137">The common control DLL contains the executable code for the image list functions.</span></span>

<span data-ttu-id="6fa13-138">在 [**ImageList \_ Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create)中，您會指定將在影像清單中的初始影像數目，以及清單可成長的影像數目。</span><span class="sxs-lookup"><span data-stu-id="6fa13-138">In [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create), you specify the initial number of images that will be in an image list as well as the number of images by which the list can grow.</span></span> <span data-ttu-id="6fa13-139">因此，如果您嘗試新增的影像數目超過最初指定的數目，則影像清單會自動成長以容納新的影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-139">So if you attempt to add more images than you initially specified, the image list automatically grows to accommodate the new images.</span></span>

<span data-ttu-id="6fa13-140">如果 [**ImageList \_ 建立**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) 成功，它會傳回 HIMAGELIST 類型的控制碼。</span><span class="sxs-lookup"><span data-stu-id="6fa13-140">If [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) succeeds, it returns a handle to the HIMAGELIST type.</span></span> <span data-ttu-id="6fa13-141">您可以使用其他影像清單函式中的這個控制碼來存取影像清單和管理影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-141">You use this handle in other image list functions to access the image list and manage the images.</span></span> <span data-ttu-id="6fa13-142">您可以新增和移除影像、將影像從某個影像清單複製到另一個影像清單，以及合併兩個不同影像清單中的影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-142">You can add and remove images, copy images from one image list to another, and merge images from two different image lists.</span></span> <span data-ttu-id="6fa13-143">當您不再需要影像清單時，可以在對 [**ImageList 損 \_ 毀**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_destroy) 函式的呼叫中指定其控制碼來終結它。</span><span class="sxs-lookup"><span data-stu-id="6fa13-143">When you no longer need an image list, you can destroy it by specifying its handle in a call to the [**ImageList\_Destroy**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_destroy) function.</span></span>

## <a name="adding-and-removing-images"></a><span data-ttu-id="6fa13-144">新增和移除映射</span><span class="sxs-lookup"><span data-stu-id="6fa13-144">Adding and Removing Images</span></span>

<span data-ttu-id="6fa13-145">您可以將點陣圖影像、圖示或游標加入影像清單中。</span><span class="sxs-lookup"><span data-stu-id="6fa13-145">You can add bitmapped images, icons, or cursors to an image list.</span></span> <span data-ttu-id="6fa13-146">您可以在對 [**ImageList \_ add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add) 函式的呼叫中指定兩個位圖的控制碼，以新增點陣圖影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-146">You add bitmapped images by specifying the handles to two bitmaps in a call to the [**ImageList\_Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add) function.</span></span> <span data-ttu-id="6fa13-147">第一個點陣圖包含一或多個要加入影像點陣圖的影像，而第二個位圖包含要加入遮罩點陣圖的遮罩。</span><span class="sxs-lookup"><span data-stu-id="6fa13-147">The first bitmap contains one or more images to add to the image bitmap, and the second bitmap contains the masks to add to the mask bitmap.</span></span> <span data-ttu-id="6fa13-148">針對 nonmasked 影像清單，會忽略第二個位圖控制碼;可以設定為 **Null**。</span><span class="sxs-lookup"><span data-stu-id="6fa13-148">For nonmasked image lists, the second bitmap handle is ignored; it can be set to **NULL**.</span></span>

<span data-ttu-id="6fa13-149">[**ImageList \_ AddMasked**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addmasked)函式也會將點陣圖影像新增至遮罩影像清單。</span><span class="sxs-lookup"><span data-stu-id="6fa13-149">The [**ImageList\_AddMasked**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addmasked) function also adds bitmapped images to a masked image list.</span></span> <span data-ttu-id="6fa13-150">此函式類似于 [**ImageList \_ Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add)，不同之處在于您未指定遮罩點陣圖。</span><span class="sxs-lookup"><span data-stu-id="6fa13-150">This function is similar to [**ImageList\_Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add), except that you do not specify a mask bitmap.</span></span> <span data-ttu-id="6fa13-151">相反地，您可以指定一種色彩，讓系統與影像點陣圖合併以自動產生遮罩。</span><span class="sxs-lookup"><span data-stu-id="6fa13-151">Instead, you specify a color that the system combines with the image bitmap to automatically generate the masks.</span></span> <span data-ttu-id="6fa13-152">影像點陣圖中指定之色彩的每個圖元都會變更為黑色，且遮罩中的對應位會設定為1。</span><span class="sxs-lookup"><span data-stu-id="6fa13-152">Each pixel of the specified color in the image bitmap is changed to black, and the corresponding bit in the mask is set to 1.</span></span> <span data-ttu-id="6fa13-153">因此，繪製影像時，影像中符合指定色彩的任何圖元都是透明的。</span><span class="sxs-lookup"><span data-stu-id="6fa13-153">As a result, any pixel in the image that matches the specified color is transparent when the image is drawn.</span></span>

<span data-ttu-id="6fa13-154">[**ImageList \_ AddIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon)宏會將圖示或游標加入影像清單中。</span><span class="sxs-lookup"><span data-stu-id="6fa13-154">The [**ImageList\_AddIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon) macro adds an icon or cursor to an image list.</span></span> <span data-ttu-id="6fa13-155">如果影像清單已遮罩， **ImageList \_ AddIcon** 會將以圖示或游標提供的遮罩加入遮罩點陣圖。</span><span class="sxs-lookup"><span data-stu-id="6fa13-155">If the image list is masked, **ImageList\_AddIcon** adds the mask that is provided with the icon or cursor to the mask bitmap.</span></span> <span data-ttu-id="6fa13-156">如果影像清單是 nonmasked，則繪製影像時不會使用圖示或游標的遮罩。</span><span class="sxs-lookup"><span data-stu-id="6fa13-156">If the image list is nonmasked, the mask for the icon or cursor is not used when drawing the image.</span></span>

<span data-ttu-id="6fa13-157">您可以使用 [**ImageList \_ GetIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_geticon) 函式，根據影像清單中的影像和遮罩來建立圖示。</span><span class="sxs-lookup"><span data-stu-id="6fa13-157">You can create an icon based on an image and mask in an image list by using the [**ImageList\_GetIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_geticon) function.</span></span> <span data-ttu-id="6fa13-158">函數會將控制碼傳回至新的圖示。</span><span class="sxs-lookup"><span data-stu-id="6fa13-158">The function returns the handle to the new icon.</span></span>

<span data-ttu-id="6fa13-159">[**ImageList \_Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add)、 [**imagelist \_ AddMasked**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addmasked)和 [**ImageList \_ AddIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon) 會在每個影像新增至影像清單時，將索引指派給每個影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-159">[**ImageList\_Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add), [**ImageList\_AddMasked**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addmasked), and [**ImageList\_AddIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon) assign an index to each image as it is added to an image list.</span></span> <span data-ttu-id="6fa13-160">索引是以零為基底;也就是說，清單中的第一個影像的索引為零，下一個影像的索引為1，依此類推。</span><span class="sxs-lookup"><span data-stu-id="6fa13-160">The indexes are zero-based; that is, the first image in the list has an index of zero, the next has an index of one, and so on.</span></span> <span data-ttu-id="6fa13-161">新增單一映射之後，函式會傳回影像的索引。</span><span class="sxs-lookup"><span data-stu-id="6fa13-161">After adding a single image, the functions return the index of the image.</span></span> <span data-ttu-id="6fa13-162">當一次新增一個以上的映射時，函式會傳回第一個影像的索引。</span><span class="sxs-lookup"><span data-stu-id="6fa13-162">When more than one image is added at a time, the functions return the index of the first image.</span></span>

<span data-ttu-id="6fa13-163">[**ImageList \_ Remove**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_remove)函數會從影像清單中移除影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-163">The [**ImageList\_Remove**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_remove) function removes an image from an image list.</span></span>

## <a name="replacing-and-merging-images"></a><span data-ttu-id="6fa13-164">取代和合併影像</span><span class="sxs-lookup"><span data-stu-id="6fa13-164">Replacing and Merging Images</span></span>

<span data-ttu-id="6fa13-165">[**Imagelist \_ Replace**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_replace)和 [**imagelist \_ ReplaceIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_replaceicon)函式會以新的影像取代影像清單中的影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-165">The [**ImageList\_Replace**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_replace) and [**ImageList\_ReplaceIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_replaceicon) functions replace an image in an image list with a new image.</span></span> <span data-ttu-id="6fa13-166">**ImageList \_Replace** 會以點陣圖影像和遮罩取代影像，而 **ImageList \_ ReplaceIcon** 會以圖示或游標取代影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-166">**ImageList\_Replace** replaces an image with a bitmapped image and mask, and **ImageList\_ReplaceIcon** replaces an image with an icon or cursor.</span></span>

<span data-ttu-id="6fa13-167">[**ImageList \_ 合併**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_merge)函式會合並兩個影像，並將新的影像儲存在新的影像清單中。</span><span class="sxs-lookup"><span data-stu-id="6fa13-167">The [**ImageList\_Merge**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_merge) function merges two images, storing the new image in a new image list.</span></span> <span data-ttu-id="6fa13-168">新的影像會以在第一個影像上繪製透明的第二個影像來立。</span><span class="sxs-lookup"><span data-stu-id="6fa13-168">The new image is created by drawing the second image transparently over the first.</span></span> <span data-ttu-id="6fa13-169">新映射的遮罩是在兩個現有映射的遮罩位上執行邏輯 **OR** 運算的結果。</span><span class="sxs-lookup"><span data-stu-id="6fa13-169">The mask for the new image is the result of performing a logical **OR** operation on the bits of the masks for the two existing images.</span></span>

## <a name="drawing-images"></a><span data-ttu-id="6fa13-170">繪圖影像</span><span class="sxs-lookup"><span data-stu-id="6fa13-170">Drawing Images</span></span>

<span data-ttu-id="6fa13-171">若要繪製影像，請使用 [**ImageList \_ Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) 或 [**imagelist \_ DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) 函數。</span><span class="sxs-lookup"><span data-stu-id="6fa13-171">To draw an image, you use the [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) function.</span></span> <span data-ttu-id="6fa13-172">您可以指定影像清單的控制碼、要繪製之影像的索引、目的地裝置內容的控制碼、裝置內容中的位置，以及一或多個繪製樣式。</span><span class="sxs-lookup"><span data-stu-id="6fa13-172">You specify the handle to an image list, the index of the image to draw, the handle to the destination device context, a location within the device context, and one or more drawing styles.</span></span>

<span data-ttu-id="6fa13-173">當您指定 **I ... \_ 透明** 樣式時， [**ImageList \_ Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) 或 [**imagelist \_ DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) 會使用兩個步驟的程式來繪製遮罩的影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-173">When you specify the **ILD\_TRANSPARENT** style, [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) uses a two-step process to draw a masked image.</span></span> <span data-ttu-id="6fa13-174">首先，它會對影像的位和遮罩的位執行邏輯 **and** 運算。</span><span class="sxs-lookup"><span data-stu-id="6fa13-174">First, it performs a logical **AND** operation on the bits of the image and the bits of the mask.</span></span> <span data-ttu-id="6fa13-175">然後，它會在第一個作業的結果和目的地裝置內容的背景位上執行邏輯 **XOR** 運算。</span><span class="sxs-lookup"><span data-stu-id="6fa13-175">Then it performs a logical **XOR** operation on the results of the first operation and the background bits of the destination device context.</span></span> <span data-ttu-id="6fa13-176">這個程序會在產生的影像中建立透明區域，即遮罩中每個白色位元會使產生影像的對應位元變成透明。</span><span class="sxs-lookup"><span data-stu-id="6fa13-176">This process creates transparent areas in the resulting image; that is, each white bit in the mask causes the corresponding bit in the resulting image to be transparent.</span></span>

<span data-ttu-id="6fa13-177">在純色背景上繪製遮罩影像之前，您應該使用 [**ImageList \_ SetBkColor**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setbkcolor) 函式，將影像清單的背景色彩設定為與目的地相同的色彩。</span><span class="sxs-lookup"><span data-stu-id="6fa13-177">Before drawing a masked image on a solid color background, you should use the [**ImageList\_SetBkColor**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setbkcolor) function to set the background color of the image list to the same color as the destination.</span></span> <span data-ttu-id="6fa13-178">設定色彩不需要在影像中建立透明區域，而且可讓 [**imagelist \_ 繪圖**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) 或 [**imagelist \_ DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) 只將影像複製到目的地裝置內容，進而大幅提升效能。</span><span class="sxs-lookup"><span data-stu-id="6fa13-178">Setting the color eliminates the need to create transparent areas in the image and enables [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) to simply copy the image to the destination device context, resulting in a significant increase in performance.</span></span> <span data-ttu-id="6fa13-179">若要繪製影像，請在對 **imagelist \_ Draw** 或 **imagelist \_ DrawEx** 的呼叫中指定 **i ... \_ NORMAL** 樣式。</span><span class="sxs-lookup"><span data-stu-id="6fa13-179">To draw the image, specify the **ILD\_NORMAL** style in a call to **ImageList\_Draw** or **ImageList\_DrawEx**.</span></span>

<span data-ttu-id="6fa13-180">您可以隨時設定遮罩影像清單的背景色彩，以便在任何穩固的背景上正確地繪製。</span><span class="sxs-lookup"><span data-stu-id="6fa13-180">You can set the background color for a masked image list at any time so that it draws correctly on any solid background.</span></span> <span data-ttu-id="6fa13-181">將背景色彩設定為 CLR \_ NONE，預設會導致影像以透明的方式繪製。</span><span class="sxs-lookup"><span data-stu-id="6fa13-181">Setting the background color to CLR\_NONE causes images to be drawn transparently by default.</span></span> <span data-ttu-id="6fa13-182">若要取得影像清單的背景色彩，請使用 [**ImageList \_ GetBkColor**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getbkcolor) 函數。</span><span class="sxs-lookup"><span data-stu-id="6fa13-182">To retrieve the background color of an image list, use the [**ImageList\_GetBkColor**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getbkcolor) function.</span></span>

<span data-ttu-id="6fa13-183">[ **I ... \_ BLEND25** ] 和 [ **i ... \_ BLEND50** ] 樣式會以系統反白顯示色彩來遞色影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-183">The **ILD\_BLEND25** and **ILD\_BLEND50** styles dither the image with the system highlight color.</span></span> <span data-ttu-id="6fa13-184">如果您使用代表使用者可選取之物件的遮罩影像，這些樣式便可派上用場。</span><span class="sxs-lookup"><span data-stu-id="6fa13-184">These styles are useful if you use a masked image to represent an object that the user can select.</span></span> <span data-ttu-id="6fa13-185">例如，您可以使用 **I ... \_ BLEND50** 樣式，在使用者選取影像時繪製影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-185">For example, you can use the **ILD\_BLEND50** style to draw the image when the user selects it.</span></span>

<span data-ttu-id="6fa13-186">Nonmasked 映射會使用 SRCCOPY 點陣運算複製到目的地裝置內容。</span><span class="sxs-lookup"><span data-stu-id="6fa13-186">A nonmasked image is copied to the destination device context by using the SRCCOPY raster operation.</span></span> <span data-ttu-id="6fa13-187">不論裝置內容的背景色彩為何，影像色彩都與之相同。</span><span class="sxs-lookup"><span data-stu-id="6fa13-187">The colors in the image appear the same regardless of the background color of the device context.</span></span> <span data-ttu-id="6fa13-188">在 [**ImageList \_ Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) 或 [**imagelist \_ DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) 中指定的繪圖樣式也不會影響 nonmasked 影像的外觀。</span><span class="sxs-lookup"><span data-stu-id="6fa13-188">The drawing styles specified in [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) also have no effect on the appearance of a nonmasked image.</span></span>

## <a name="dragging-images"></a><span data-ttu-id="6fa13-189">拖曳影像</span><span class="sxs-lookup"><span data-stu-id="6fa13-189">Dragging Images</span></span>

<span data-ttu-id="6fa13-190">WIN32 API 包含在螢幕上拖曳影像的功能。</span><span class="sxs-lookup"><span data-stu-id="6fa13-190">The Win32 API includes functions for dragging an image on the screen.</span></span> <span data-ttu-id="6fa13-191">拖曳函式平滑且沒有游標閃爍地移動彩色影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-191">The dragging functions move an image smoothly, in color, and without any flashing of the cursor.</span></span> <span data-ttu-id="6fa13-192">遮罩影像和未遮罩影像都可以拖曳。</span><span class="sxs-lookup"><span data-stu-id="6fa13-192">Both masked and unmasked images can be dragged.</span></span>

<span data-ttu-id="6fa13-193">[**ImageList \_ BeginDrag**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_begindrag)函式會開始拖曳作業。</span><span class="sxs-lookup"><span data-stu-id="6fa13-193">The [**ImageList\_BeginDrag**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_begindrag) function begins a drag operation.</span></span> <span data-ttu-id="6fa13-194">這些參數包括影像清單的控制碼、要拖曳的影像索引，以及影像內的作用點位置。</span><span class="sxs-lookup"><span data-stu-id="6fa13-194">The parameters include the handle to the image list, the index of the image to drag, and the location of the hot spot within the image.</span></span> <span data-ttu-id="6fa13-195">作用點是拖曳函式辨認為影像的實際螢幕位置的單一像素。</span><span class="sxs-lookup"><span data-stu-id="6fa13-195">The hot spot is a single pixel that the dragging functions recognize as the exact screen location of the image.</span></span> <span data-ttu-id="6fa13-196">一般而言，應用程式設定作用點，以便使其與滑鼠游標的作用點相符。</span><span class="sxs-lookup"><span data-stu-id="6fa13-196">Typically, an application sets the hot spot so that it coincides with the hot spot of the mouse cursor.</span></span> <span data-ttu-id="6fa13-197">[**ImageList \_ DragMove**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_dragmove)函式會將影像移至新的位置。</span><span class="sxs-lookup"><span data-stu-id="6fa13-197">The [**ImageList\_DragMove**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_dragmove) function moves the image to a new location.</span></span>

<span data-ttu-id="6fa13-198">[**ImageList \_ system.windows.dragdrop.dragenter>**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_dragenter)函式會設定在視窗內拖曳影像的初始位置，並在該位置繪製影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-198">The [**ImageList\_DragEnter**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_dragenter) function sets the initial position of the drag image within a window and draws the image at the position.</span></span> <span data-ttu-id="6fa13-199">這些參數包含視窗的控制碼，可在其中繪製影像以及視窗內初始位置的座標。</span><span class="sxs-lookup"><span data-stu-id="6fa13-199">The parameters include the handle to the window in which to draw the image and the coordinates of the initial position within the window.</span></span> <span data-ttu-id="6fa13-200">座標是相對於視窗左上角，而非工作區。</span><span class="sxs-lookup"><span data-stu-id="6fa13-200">The coordinates are relative to the window's upper-left corner, not the client area.</span></span> <span data-ttu-id="6fa13-201">將座標視為參數的所有影像拖曳函式也是如此。</span><span class="sxs-lookup"><span data-stu-id="6fa13-201">The same is true for all of the image dragging functions that take coordinates as parameters.</span></span> <span data-ttu-id="6fa13-202">這表示當指定座標時，您必須補償視窗元素的寬度，例如框線、標題列和功能表列。</span><span class="sxs-lookup"><span data-stu-id="6fa13-202">This means you must compensate for the widths of window elements such as the border, title bar, and menu bar when specifying the coordinates.</span></span> <span data-ttu-id="6fa13-203">如果您在呼叫 **ImageList \_ system.windows.dragdrop.dragenter>** 時指定 **Null** 視窗控制碼，則拖曳函式會在與桌面視窗相關聯的裝置內容中繪製影像，而座標則是相對於畫面的左上角。</span><span class="sxs-lookup"><span data-stu-id="6fa13-203">If you specify a **NULL** window handle when calling **ImageList\_DragEnter**, the dragging functions draw the image in the device context that is associated with the desktop window, and the coordinates are relative to the upper-left corner of the screen.</span></span>

<span data-ttu-id="6fa13-204">[**ImageList \_ SetDragCursorImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setdragcursorimage)函式會藉由結合指定的影像， (通常是使用目前拖曳影像) 的滑鼠游標影像，來建立新的拖曳影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-204">The [**ImageList\_SetDragCursorImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setdragcursorimage) function creates a new drag image by combining the given image (typically a mouse cursor image) with the current drag image.</span></span> <span data-ttu-id="6fa13-205">因為拖曳函式會在拖曳作業期間使用新的影像，所以您應該使用 [**ShowCursor**](/windows/desktop/api/winuser/nf-winuser-showcursor) 函式在呼叫 **ImageList \_ SetDragCursorImage** 之後隱藏實際的滑鼠游標。</span><span class="sxs-lookup"><span data-stu-id="6fa13-205">Because the dragging functions use the new image during a drag operation, you should use the [**ShowCursor**](/windows/desktop/api/winuser/nf-winuser-showcursor) function to hide the actual mouse cursor after calling **ImageList\_SetDragCursorImage**.</span></span> <span data-ttu-id="6fa13-206">否則，系統可能會在拖曳作業期間出現兩個滑鼠游標。</span><span class="sxs-lookup"><span data-stu-id="6fa13-206">Otherwise, the system may appear to have two mouse cursors for the duration of the drag operation.</span></span>

<span data-ttu-id="6fa13-207">當應用程式呼叫 [**ImageList \_ BeginDrag**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_begindrag)時，系統會建立暫時性的內部影像清單，然後將指定的拖曳影像複製到內部清單。</span><span class="sxs-lookup"><span data-stu-id="6fa13-207">When an application calls [**ImageList\_BeginDrag**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_begindrag), the system creates a temporary, internal image list and then copies the specified drag image to the internal list.</span></span> <span data-ttu-id="6fa13-208">您可以使用 [**ImageList \_ GetDragImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getdragimage) 函式取出暫存拖曳影像清單的控制碼。</span><span class="sxs-lookup"><span data-stu-id="6fa13-208">You can retrieve the handle to the temporary drag image list by using the [**ImageList\_GetDragImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getdragimage) function.</span></span> <span data-ttu-id="6fa13-209">函式也會擷取目前拖曳位置以及拖曳影像相對於拖曳位置的位移。</span><span class="sxs-lookup"><span data-stu-id="6fa13-209">The function also retrieves the current drag position and the offset of the drag image relative to the drag position.</span></span>

## <a name="image-information"></a><span data-ttu-id="6fa13-210">影像資訊</span><span class="sxs-lookup"><span data-stu-id="6fa13-210">Image Information</span></span>

<span data-ttu-id="6fa13-211">有一些函數可從影像清單中取出資訊。</span><span class="sxs-lookup"><span data-stu-id="6fa13-211">There are a number of functions that retrieve information from an image list.</span></span> <span data-ttu-id="6fa13-212">[**ImageList \_ GetImageInfo**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getimageinfo)函式會以單一影像的相關資訊填入 [**IMAGEINFO**](/windows/desktop/api)結構，包括影像和遮罩點陣圖的控制碼、色彩平面的數目和每圖元的位數，以及影像點陣圖內影像的周框。</span><span class="sxs-lookup"><span data-stu-id="6fa13-212">The [**ImageList\_GetImageInfo**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getimageinfo) function fills an [**IMAGEINFO**](/windows/desktop/api) structure with information about a single image, including the handles of the image and mask bitmaps, the number of color planes and bits per pixel, and the bounding rectangle of the image within the image bitmap.</span></span> <span data-ttu-id="6fa13-213">您可以使用此項資訊直接操作影像的點陣圖。</span><span class="sxs-lookup"><span data-stu-id="6fa13-213">You can use this information to directly manipulate the bitmaps for the image.</span></span> <span data-ttu-id="6fa13-214">[**ImageList \_ GetImageCount**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getimagecount)函式會捕獲影像清單中的影像數目。</span><span class="sxs-lookup"><span data-stu-id="6fa13-214">The [**ImageList\_GetImageCount**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getimagecount) function retrieves the number of images in an image list.</span></span>

## <a name="image-overlays"></a><span data-ttu-id="6fa13-215">影像覆蓋</span><span class="sxs-lookup"><span data-stu-id="6fa13-215">Image Overlays</span></span>

<span data-ttu-id="6fa13-216">每個影像清單都包含用來做為重迭的索引清單。</span><span class="sxs-lookup"><span data-stu-id="6fa13-216">Every image list includes a list of indexes to use as overlays.</span></span> <span data-ttu-id="6fa13-217">覆迭是以透明方式繪製在另一個影像上的影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-217">An overlay is an image that is drawn transparently over another image.</span></span> <span data-ttu-id="6fa13-218">目前在影像清單中的任何影像都可以用來做為重迭。</span><span class="sxs-lookup"><span data-stu-id="6fa13-218">Any image currently in the image list can be used as an overlay.</span></span> <span data-ttu-id="6fa13-219">您最多可以為每個影像清單指定四個重迭。</span><span class="sxs-lookup"><span data-stu-id="6fa13-219">You can specify up to four overlays per image list.</span></span> <span data-ttu-id="6fa13-220">在4.71 版中，此限制已擴充為15。</span><span class="sxs-lookup"><span data-stu-id="6fa13-220">This limit has been expanded to 15 in version 4.71.</span></span>

<span data-ttu-id="6fa13-221">您可以使用 [**ImageList \_ SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) 函式、指定影像清單的控制碼、現有影像的索引，以及所需的重迭索引，將影像的索引加入至重迭清單。</span><span class="sxs-lookup"><span data-stu-id="6fa13-221">You add the index of an image to the list of overlays by using the [**ImageList\_SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) function, specifying the handle to the image list, the index of the existing image, and the desired overlay index.</span></span> <span data-ttu-id="6fa13-222">如此一來，就會向影像清單指出 "index *x* 上的影像可作為重迭，而我想要將覆迭當做重迭索引 *y* 參考。"</span><span class="sxs-lookup"><span data-stu-id="6fa13-222">This, in effect, tells the image list that "the image at index *x* can be used as an overlay, and I want to refer to the overlay as overlay index *y*."</span></span> <span data-ttu-id="6fa13-223">覆迭索引是以1為基礎，而不是以零為起始，因為覆迭索引為零表示不會使用任何覆迭。</span><span class="sxs-lookup"><span data-stu-id="6fa13-223">The overlay indexes are one-based rather than zero-based because an overlay index of zero means that no overlay will be used.</span></span>

<span data-ttu-id="6fa13-224">使用 [**imagelist \_ Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) 或 [**imagelist \_ DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) 函式繪製影像時，您會指定覆迭。</span><span class="sxs-lookup"><span data-stu-id="6fa13-224">You specify an overlay when drawing an image with the [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) function.</span></span> <span data-ttu-id="6fa13-225">覆迭的指定方式是在所需的繪圖旗標和 [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask)宏的結果之間執行邏輯 **OR** 運算。</span><span class="sxs-lookup"><span data-stu-id="6fa13-225">The overlay is specified by performing a logical **OR** operation between the desired drawing flags and the result of the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro.</span></span> <span data-ttu-id="6fa13-226">**INDEXTOOVERLAYMASK** 宏會接受覆迭索引，並將其格式化以包含這些函式的旗標。</span><span class="sxs-lookup"><span data-stu-id="6fa13-226">The **INDEXTOOVERLAYMASK** macro takes the overlay index and formats it for inclusion with the flags for these functions.</span></span> <span data-ttu-id="6fa13-227">這會繪製具有指定覆迭的影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-227">This will draw the image with the specified overlay.</span></span> <span data-ttu-id="6fa13-228">下列範例示範如何在繪製影像時新增和指定重迭。</span><span class="sxs-lookup"><span data-stu-id="6fa13-228">The following example demonstrates how an overlay is added and specified when drawing the image.</span></span>


```
ImageList_SetOverlayImage(himl, 0, 3);
ImageList_Draw(himl, 1, hdc, 0, 0, ILD_MASK | INDEXTOOVERLAYMASK(3));
```



<span data-ttu-id="6fa13-229">這會繪製影像1，然後以影像0覆迭影像。</span><span class="sxs-lookup"><span data-stu-id="6fa13-229">This will draw image 1 and then overlay that image with image 0.</span></span> <span data-ttu-id="6fa13-230">因為3是您在 [**ImageList \_ SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) 呼叫中指定的重迭索引，所以會在 [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) 宏中放置3。</span><span class="sxs-lookup"><span data-stu-id="6fa13-230">Because 3 is the overlay index that you specified in the [**ImageList\_SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) call, 3 is placed in the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro.</span></span>

## <a name="32-bit-antialiased-icons"></a><span data-ttu-id="6fa13-231">32位反鋸齒圖示</span><span class="sxs-lookup"><span data-stu-id="6fa13-231">32-Bit Antialiased Icons</span></span>

<span data-ttu-id="6fa13-232">消除鋸齒是一種柔化或模糊邊緣的技巧。</span><span class="sxs-lookup"><span data-stu-id="6fa13-232">Antialiasing is a technique for softening or blurring sharp edges.</span></span> <span data-ttu-id="6fa13-233">這可提供影像更自然的外觀。</span><span class="sxs-lookup"><span data-stu-id="6fa13-233">This gives images a more natural appearance.</span></span> <span data-ttu-id="6fa13-234">Windows Vista 和 Windows 7 中的影像清單支援使用32位的反鋸齒圖示和點陣圖。</span><span class="sxs-lookup"><span data-stu-id="6fa13-234">Image lists in Windows Vista and Windows 7 support the use of 32-bit antialiased icons and bitmaps.</span></span> <span data-ttu-id="6fa13-235">色彩值使用24位，而8個位則是用來作為圖示上的 Alpha 色板。</span><span class="sxs-lookup"><span data-stu-id="6fa13-235">Color values use 24 bits, and 8 bits are used as an alpha channel on the icons.</span></span> <span data-ttu-id="6fa13-236">若要建立可處理每圖元32位 (bpp) 映射的影像清單，請呼叫 [**ImageList \_ create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) 函式，並傳入 ilc.out \_ COLOR32 旗標。</span><span class="sxs-lookup"><span data-stu-id="6fa13-236">To create an image list that can handle a 32 bits-per-pixel (bpp) image, call the [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) function, passing in an ILC\_COLOR32 flag.</span></span>

<span data-ttu-id="6fa13-237">若要正確撰寫32位的圖示，您必須為每個圖示建立多個影像，如下圖所示。</span><span class="sxs-lookup"><span data-stu-id="6fa13-237">To author 32-bit icons correctly, you must create multiple images for each icon, as shown in the following illustration.</span></span>

![圖例顯示三個色彩深度的三個圖示大小](images/theme2.png)

-   <span data-ttu-id="6fa13-239">前三個影像處於16色模式，可在安全模式中使用。</span><span class="sxs-lookup"><span data-stu-id="6fa13-239">The first three images are in 16-color mode for use in safe mode.</span></span>
-   <span data-ttu-id="6fa13-240">接下來的三個圖示會在256色彩模式下使用。</span><span class="sxs-lookup"><span data-stu-id="6fa13-240">The next three icons are used in 256-color mode.</span></span>
-   <span data-ttu-id="6fa13-241">最後三個圖示具有 Alpha 色板，而且只能在執行24位或更高版本的作業系統中使用。</span><span class="sxs-lookup"><span data-stu-id="6fa13-241">The last three icons have the alpha channel and can be used only in operating systems running 24-bit color or higher.</span></span>
-   <span data-ttu-id="6fa13-242">圖示格式的影像順序並不重要。</span><span class="sxs-lookup"><span data-stu-id="6fa13-242">The order of images in the icon format does matter.</span></span> <span data-ttu-id="6fa13-243">如果順序錯誤，則在解壓縮圖示時，較舊的 Windows 版本功能會不佳。</span><span class="sxs-lookup"><span data-stu-id="6fa13-243">If the order is wrong, older versions of Windows function poorly when extracting the icons.</span></span> <span data-ttu-id="6fa13-244">不正確地將圖示解壓縮可能會導致記憶體損毀和轉譯不當。</span><span class="sxs-lookup"><span data-stu-id="6fa13-244">Extracting the icons incorrectly can cause memory corruption and improper rendering.</span></span>
-   <span data-ttu-id="6fa13-245">舊版 Windows 有10個圖示的資源限制。</span><span class="sxs-lookup"><span data-stu-id="6fa13-245">Previous versions of Windows had a 10-icon resource limit.</span></span>

> [!Note]  
> <span data-ttu-id="6fa13-246">您可以使用協力廠商工具來產生包含 Alpha 色板的圖示檔和點陣圖。</span><span class="sxs-lookup"><span data-stu-id="6fa13-246">You can use third party tools to generate icon files and bitmaps that contain an alpha channel.</span></span> <span data-ttu-id="6fa13-247">如果您使用 [**LoadImage**](/windows/desktop/api/winuser/nf-winuser-loadimagea) 載入包含 Alpha 的 32 bpp 點陣圖，您需要指定 LR \_ CREATEDIBSECTION 旗標。</span><span class="sxs-lookup"><span data-stu-id="6fa13-247">If you use [**LoadImage**](/windows/desktop/api/winuser/nf-winuser-loadimagea) to load a 32 bpp bitmap that contains alpha, you need to specify the LR\_CREATEDIBSECTION flag.</span></span>

 

 

 