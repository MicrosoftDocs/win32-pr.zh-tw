---
title: 建立動畫
description: 建立動畫
ms.assetid: 6d5c3c61-b3f2-4505-aa43-b6d001c444a5
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f16c460908e7c782054a3f62ece87d01e7c9a817
ms.sourcegitcommit: bf526e267d3991892733bdd229c66d5365cf244a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 02/05/2021
ms.locfileid: "104557189"
---
# <a name="creating-animations"></a><span data-ttu-id="cbf93-103">建立動畫</span><span class="sxs-lookup"><span data-stu-id="cbf93-103">Creating Animations</span></span>

<span data-ttu-id="cbf93-104">\[Microsoft Agent 已于 Windows 7 淘汰，在後續的 Windows 版本中可能無法使用。\]</span><span class="sxs-lookup"><span data-stu-id="cbf93-104">\[Microsoft Agent is deprecated as of Windows 7, and may be unavailable in subsequent versions of Windows.\]</span></span>

<span data-ttu-id="cbf93-105">若要開始建立您的字元動畫，請選取樹狀結構中的 **動畫** 圖示。</span><span class="sxs-lookup"><span data-stu-id="cbf93-105">To begin creating animations for your character, select the **Animations** icon in the tree.</span></span> <span data-ttu-id="cbf93-106">這會顯示 [ **屬性** ] 頁面，其中包含所有動畫的預設設定。</span><span class="sxs-lookup"><span data-stu-id="cbf93-106">This displays the **Properties** page with the default settings for all animations.</span></span> <span data-ttu-id="cbf93-107">您可以變更 [ **屬性** ] 頁面上的畫面格大小、預設框架持續時間和色彩選擇區設定。</span><span class="sxs-lookup"><span data-stu-id="cbf93-107">You can alter the frame size, the default frame duration, and color palette settings on the **Properties** page.</span></span>

### <a name="setting-your-characters-frame-size"></a><span data-ttu-id="cbf93-108">設定您的字元畫面格大小</span><span class="sxs-lookup"><span data-stu-id="cbf93-108">Setting Your Character's Frame Size</span></span>

<span data-ttu-id="cbf93-109">動畫框架的高度和寬度必須在整個字元定義中保持不變， (也就是所有該字元的動畫都) 。</span><span class="sxs-lookup"><span data-stu-id="cbf93-109">The animation frame height and width must remain constant throughout the entire character definition (that is, for all of that character's animations).</span></span> <span data-ttu-id="cbf93-110">雖然您可以變更預設設定的框架大小 (128 x 128 圖元) ，但是編輯器中顯示的影像將會縮放以符合預設的顯示大小。</span><span class="sxs-lookup"><span data-stu-id="cbf93-110">Although you can change the frame size from its default setting (128 x 128 pixels), images displayed in the Editor will be scaled to fit default display size.</span></span> <span data-ttu-id="cbf93-111">如果您變更預設框架設定，則可以從 [**編輯**] 功能表中選擇 [**開啟框架視窗]** ，以顯示框架的完整、未縮放的大小。</span><span class="sxs-lookup"><span data-stu-id="cbf93-111">If you change the default frame setting, you can display the frame's full, non-scaled size by choosing **Open Frame Window** from the **Edit** menu.</span></span>

### <a name="setting-your-characters-palette"></a><span data-ttu-id="cbf93-112">設定您的字元的調色板</span><span class="sxs-lookup"><span data-stu-id="cbf93-112">Setting Your Character's Palette</span></span>

<span data-ttu-id="cbf93-113">根據預設，編輯器會使用您所載入的第一個點陣圖影像來設定您的字元預設色彩選擇區、決定字元顯示方式的色彩，以及將<sup>第</sup> 11 個調色板位置中的色彩設定為您的透明度色彩。</span><span class="sxs-lookup"><span data-stu-id="cbf93-113">By default, the Editor uses the first bitmap image you load to set your character's default color palette, the colors that determine how the character appears, and sets the color in the 11<sup>th</sup> palette position as your transparency color.</span></span> <span data-ttu-id="cbf93-114">不過，您可以在 [ **調色板] 資訊** 群組中明確地設定調色板和透明度。</span><span class="sxs-lookup"><span data-stu-id="cbf93-114">However, you can set the palette and transparency explicitly in the **Palette Information** group.</span></span> <span data-ttu-id="cbf93-115">這可讓您指定要用於色板的影像檔案。</span><span class="sxs-lookup"><span data-stu-id="cbf93-115">This enables you to specify an image file to use for the palette.</span></span> <span data-ttu-id="cbf93-116">您可以指定其中一個動畫圖像檔案或任何圖形檔案。</span><span class="sxs-lookup"><span data-stu-id="cbf93-116">You can specify one of the animation image files or any graphic file.</span></span> <span data-ttu-id="cbf93-117">您指定的調色板檔案必須是8位的 (256) 色彩檔。</span><span class="sxs-lookup"><span data-stu-id="cbf93-117">The palette file you specify must be an 8-bit (256) color file.</span></span> <span data-ttu-id="cbf93-118">載入之後，請使用 [ **變更設定** ] 按鈕來變更透明度色彩。</span><span class="sxs-lookup"><span data-stu-id="cbf93-118">After it is loaded, use the **Change Setting** button to change the transparency color.</span></span>

<span data-ttu-id="cbf93-119">您的字元的色板不能重新對應標準系統色彩。</span><span class="sxs-lookup"><span data-stu-id="cbf93-119">Your character's color palette must not remap the standard system colors.</span></span> <span data-ttu-id="cbf93-120">顯示影像時，編輯器會自動保留系統的調色板。</span><span class="sxs-lookup"><span data-stu-id="cbf93-120">The Editor will automatically reserve the system's color palette when displaying images.</span></span> <span data-ttu-id="cbf93-121">此外，您的所有動畫影像都必須使用相同的色調色板和透明度色彩。</span><span class="sxs-lookup"><span data-stu-id="cbf93-121">In addition, all your animation images must use the same color palette and transparency color.</span></span> <span data-ttu-id="cbf93-122">這非常重要。</span><span class="sxs-lookup"><span data-stu-id="cbf93-122">This is very important.</span></span> <span data-ttu-id="cbf93-123">如果沒有，您可能會在將影像載入編輯器時看到影像的色彩重新對應。</span><span class="sxs-lookup"><span data-stu-id="cbf93-123">If they do not, you may see color remapping of your images when you load them into the Editor.</span></span>

<span data-ttu-id="cbf93-124">雖然您可以設定字元的色板，在顯示內容設定為8位 (256) 色板的 Windows 系統上，字元的色彩會受限於目前的系統元件。</span><span class="sxs-lookup"><span data-stu-id="cbf93-124">While you can set the color palette for the character, on Windows systems where the Display properties are set to an 8-bit (256) color palette, the character's color will be subject to the current system palette.</span></span> <span data-ttu-id="cbf93-125">因為應用程式可能會變更系統調色板，所以字元可能不會以正確的色彩設定出現。</span><span class="sxs-lookup"><span data-stu-id="cbf93-125">Because applications may change the system palette, the character may not appear with the correct color settings.</span></span> <span data-ttu-id="cbf93-126">雖然無法避免這種情況，但您可以藉由限制所使用的色彩數目來減少效果，並根據應用程式駕駛字元的應用程式所使用的調色板來設定字元的調色板。</span><span class="sxs-lookup"><span data-stu-id="cbf93-126">Although there is no way to prevent this, you can lessen the effect by limiting the numbers of colors you use and setting the character's palette based on the palette used by the application driving the character.</span></span> <span data-ttu-id="cbf93-127">例如，如果您要開發與網頁搭配使用的字元，您可能會想要使用 Microsoft Internet Explorer 的半色調調色板來設定字元的調色板。</span><span class="sxs-lookup"><span data-stu-id="cbf93-127">For example, if you are developing a character to be used with webpages, you may want set the character's palette using the Microsoft Internet Explorer's halftone palette.</span></span> <span data-ttu-id="cbf93-128">您可以用滑鼠右鍵按一下網頁上的影像，然後選擇 [**另存** 新檔] 選項，選擇 [另存新檔 **] 選項中** 的 [**點陣圖**]，然後按一下 [**儲存**]，以抓取瀏覽器的調色板。</span><span class="sxs-lookup"><span data-stu-id="cbf93-128">You can capture the browser's palette by right-clicking on an image on a webpage and choosing the **Save Picture As** command and choosing **Bitmap** in the **Save As Type** option, then clicking **Save**.</span></span> <span data-ttu-id="cbf93-129">若要將動畫圖像檔優化為特定的調色板檔案，您可能會想要使用像是均衡 DeBabelizer 的產品。</span><span class="sxs-lookup"><span data-stu-id="cbf93-129">To optimize your animation image files to a specific palette file, you might want to use a product like Equilibrium DeBabelizer.</span></span>

### <a name="creating-a-new-animation"></a><span data-ttu-id="cbf93-130">建立新的動畫</span><span class="sxs-lookup"><span data-stu-id="cbf93-130">Creating a New Animation</span></span>

<span data-ttu-id="cbf93-131">確定您的全域動畫設定之後，您就可以開始建立動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-131">After you have determined your global animation settings, you can begin creating animations.</span></span> <span data-ttu-id="cbf93-132">若要建立新的動畫，請從 [**編輯**] 功能表或工具列上的 [**新增動畫**] 按鈕選擇 [**新增動畫**]。</span><span class="sxs-lookup"><span data-stu-id="cbf93-132">To create a new animation, choose **New Animation** from the **Edit** menu or the **New Animation** button on the toolbar.</span></span> <span data-ttu-id="cbf93-133">這會在樹狀結構的 **動畫** 圖示底下新增動畫圖標，並將新的圖示指派為預設名稱。</span><span class="sxs-lookup"><span data-stu-id="cbf93-133">This adds a new animation icon in the tree under the **Animations** icon and assigns the new icon a default name.</span></span> <span data-ttu-id="cbf93-134">您可以在 [ **動畫名稱** ] 欄位中輸入，以重新命名您的動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-134">You can rename your animation by typing in the **Animation Name** field.</span></span> <span data-ttu-id="cbf93-135">請注意，字元定義內的動畫名稱必須是唯一的。</span><span class="sxs-lookup"><span data-stu-id="cbf93-135">Note that animation names within a character definition must be unique.</span></span> <span data-ttu-id="cbf93-136">此外，請避免在檔案名中使用不是有效字元的字元。</span><span class="sxs-lookup"><span data-stu-id="cbf93-136">Also, avoid using characters in the name that are not valid characters for file names.</span></span>

### <a name="adding-frames"></a><span data-ttu-id="cbf93-137">加入框架</span><span class="sxs-lookup"><span data-stu-id="cbf93-137">Adding Frames</span></span>

<span data-ttu-id="cbf93-138">每個動畫都是由畫面格組成。</span><span class="sxs-lookup"><span data-stu-id="cbf93-138">Every animation is composed of frames.</span></span> <span data-ttu-id="cbf93-139">若要為您的動畫建立新的框架，請從 [**編輯**] 功能表或工具列選擇 [**新的框架**]。</span><span class="sxs-lookup"><span data-stu-id="cbf93-139">To create a new frame for your animation, choose **New Frame** from either the **Edit** menu or the toolbar.</span></span> <span data-ttu-id="cbf93-140">這會將新的框架圖示新增至動畫圖標底下的樹狀結構，並顯示三個索引標籤式頁面。</span><span class="sxs-lookup"><span data-stu-id="cbf93-140">This adds a new frame icon to the tree under your animation icon, and displays three tabbed pages.</span></span> <span data-ttu-id="cbf93-141">[ **一般** ] 頁面包含的控制項可讓您載入及調整框架的影像。</span><span class="sxs-lookup"><span data-stu-id="cbf93-141">The **General** page includes controls that enable you to load and adjust an image for your frame.</span></span> <span data-ttu-id="cbf93-142">它也包含畫面格外觀的顯示區域。</span><span class="sxs-lookup"><span data-stu-id="cbf93-142">It also includes a display area for the frame's appearance.</span></span>

![顯示具有檔案名、路徑和位置之影像窗格的螢幕擷取畫面。](images/f2charflame.gif)

<span data-ttu-id="cbf93-144">框架可以包含一或多個影像。</span><span class="sxs-lookup"><span data-stu-id="cbf93-144">A frame can contain one or more images.</span></span> <span data-ttu-id="cbf93-145">若要定義框架的影像，請按一下 [**影像**] 清單方塊正上方的 [**新增影像檔**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="cbf93-145">To define an image for a frame, click the **Add Image File** button just above the **Images** list box.</span></span> <span data-ttu-id="cbf93-146">[ **選取影像檔** 案] 對話方塊隨即顯示，讓您可以選取點陣圖影像檔案。</span><span class="sxs-lookup"><span data-stu-id="cbf93-146">The **Select Image Files** dialog box displays, which allows you to select a bitmap image file.</span></span>

![顯示檔案總管中選取之影像檔案的螢幕擷取畫面。](images/f3chardialbox.gif)

<span data-ttu-id="cbf93-148">選取您要載入的檔案，選擇 [ **開啟**]，影像會出現在 [ **一般** ] 頁面上的畫面格顯示中。</span><span class="sxs-lookup"><span data-stu-id="cbf93-148">Select the file you want to load, choose **Open**, and the image appears in the frame display on the **General** page.</span></span> <span data-ttu-id="cbf93-149">編輯器接受以1位 (單色) 、4位或8位 Windows 點陣圖格式或 GIF 格式儲存的影像。</span><span class="sxs-lookup"><span data-stu-id="cbf93-149">The Editor accepts images stored as 1-bit (monochrome), 4-bit, or 8-bit Windows bitmap format, or as GIF format.</span></span>

<span data-ttu-id="cbf93-150">您可以使用 [ **位置** ] 方塊中影像下方的四個箭號按鈕，來調整影像在框架內的外觀。</span><span class="sxs-lookup"><span data-stu-id="cbf93-150">You can use the four arrow buttons beneath the image in the **Position** box to adjust the image's appearance within the frame.</span></span> <span data-ttu-id="cbf93-151">如果影像大於您的框架大小，則只會顯示畫面內出現的影像部分。</span><span class="sxs-lookup"><span data-stu-id="cbf93-151">If the image is larger than your frame's size, only the portion of the image that appears within the frame will display.</span></span> <span data-ttu-id="cbf93-152">如果您增加畫面格大小，影像可能會調整以容納在編輯器的顯示區域中。</span><span class="sxs-lookup"><span data-stu-id="cbf93-152">If you increase the frame size, the image may be scaled to fit within the display area of the Editor.</span></span>

<span data-ttu-id="cbf93-153">您也可以從 [**編輯**] 功能表中選擇 [**開啟框架視窗]** 來顯示畫面格。</span><span class="sxs-lookup"><span data-stu-id="cbf93-153">You can also display a frame by choosing **Open Frame Window** from the **Edit** menu.</span></span> <span data-ttu-id="cbf93-154">這會將目前的框架顯示在不同的視窗中，而不會調整載入框架的影像。</span><span class="sxs-lookup"><span data-stu-id="cbf93-154">This displays the current frame in a separate window without scaling the images loaded into the frame.</span></span> <span data-ttu-id="cbf93-155">這個視窗的初始大小是以您框架的高度和寬度設定為基礎。</span><span class="sxs-lookup"><span data-stu-id="cbf93-155">This window's initial size is based on your frame's height and width settings.</span></span> <span data-ttu-id="cbf93-156">您可以將它調整為較小但不大。</span><span class="sxs-lookup"><span data-stu-id="cbf93-156">You can resize it smaller, but not larger.</span></span> <span data-ttu-id="cbf93-157">框架視窗會使用編輯器中的控制項來反映您所做的變更，也可讓您在流覽其他屬性頁時查看框架。</span><span class="sxs-lookup"><span data-stu-id="cbf93-157">The Frame Window reflects the changes you make using the controls in the Editor and also allows you view the frame while viewing its other property pages.</span></span>

![顯示 [位置] 窗格的螢幕擷取畫面。](images/f4charposctrl.gif)

<span data-ttu-id="cbf93-159">您可以從多個影像撰寫框架。</span><span class="sxs-lookup"><span data-stu-id="cbf93-159">You can compose a frame from multiple images.</span></span> <span data-ttu-id="cbf93-160">每次您選取 [ **新增影像** ] 按鈕並選擇另一個影像時，影像就會加入至清單和影像顯示區域。</span><span class="sxs-lookup"><span data-stu-id="cbf93-160">Each time you select the **Add Image** button and choose another image, the image gets added to the list and to the image display area.</span></span> <span data-ttu-id="cbf93-161">您也可以選取多個檔案，以新增多個影像。</span><span class="sxs-lookup"><span data-stu-id="cbf93-161">You can also add multiple images by selecting more than one file.</span></span> <span data-ttu-id="cbf93-162">當您按一下 [ **選取影像檔** 案] 對話方塊時，按下 SHIFT 或 CTRL，然後選擇 [ **開啟**]。</span><span class="sxs-lookup"><span data-stu-id="cbf93-162">Press SHIFT or CTRL while you click in the **Select Image Files** dialog box, and then choose **Open**.</span></span> <span data-ttu-id="cbf93-163">[**影像**] 清單方塊上方的 [**上移**] 和 **[下移] 按鈕，** 會以框架的顯示順序 (z 順序) 移動選取的影像。</span><span class="sxs-lookup"><span data-stu-id="cbf93-163">The **Move Up** and **Move Down** buttons above the **Images** list box move a selected image in the display order (z-order) for the frame.</span></span> <span data-ttu-id="cbf93-164">您也可以在清單中拖曳影像來移動影像。</span><span class="sxs-lookup"><span data-stu-id="cbf93-164">You can also move images by dragging them within the list.</span></span> <span data-ttu-id="cbf93-165">選取清單中的影像，然後按一下 [ **刪除** ] 按鈕，就會移除影像。</span><span class="sxs-lookup"><span data-stu-id="cbf93-165">Selecting an image in the list and clicking the **Delete** button removes an image.</span></span> <span data-ttu-id="cbf93-166">若要變更已載入至另一個影像檔案的影像，您可以按一下檔案名直接進行編輯，或使用 **...** (省略號) 按鈕來顯示 [ **選取影像檔** 案] 對話方塊，並選取不同的檔案。</span><span class="sxs-lookup"><span data-stu-id="cbf93-166">To change an image you have loaded to another image file, you can click the filename to edit it directly or use the **...** (ellipsis) button to bring up the **Select Image Files** dialog box and select a different file.</span></span>

![顯示省略號按鈕的螢幕擷取畫面。](images/f5charell.gif)

<span data-ttu-id="cbf93-168">您可以使用 [ **持續時間** ] 文字方塊來設定框架的持續時間;亦即，畫面格的顯示時間長度。</span><span class="sxs-lookup"><span data-stu-id="cbf93-168">You can use the **Duration** text box to set the duration for the frame; that is, how long the frame will be displayed.</span></span> <span data-ttu-id="cbf93-169">如果框架沒有影像且持續時間為零，則當動畫播放時，不會顯示框架。</span><span class="sxs-lookup"><span data-stu-id="cbf93-169">If a frame has no image and zero duration, the frame will not be displayed when the animation plays.</span></span>

<span data-ttu-id="cbf93-170">您也可以指定在畫面格顯示時播放的音效效果檔案。</span><span class="sxs-lookup"><span data-stu-id="cbf93-170">You can also specify a sound effect file to play when the frame is displayed.</span></span> <span data-ttu-id="cbf93-171">如果您打算從 web 伺服器載入此字元，您可能會想要壓縮音效效果檔案，以將載入時間降至最低。</span><span class="sxs-lookup"><span data-stu-id="cbf93-171">If you plan to load the character from a web server, you may want to compress the sound effect file to minimize load time.</span></span> <span data-ttu-id="cbf93-172">然後，您可以在代理程式字元編輯器中指定壓縮的音效檔。</span><span class="sxs-lookup"><span data-stu-id="cbf93-172">You can then specify the compressed sound file in the Agent Character Editor.</span></span> <span data-ttu-id="cbf93-173">此外，請避免使用持續時間超過動畫持續時間的音效效果，特別是避免迴圈的音效效果，因為 Microsoft Agent 動畫服務不會傳送動畫完成事件，直到音效完成為止。</span><span class="sxs-lookup"><span data-stu-id="cbf93-173">In addition, avoid using a sound effect with a duration longer than the duration of your animation and especially avoid a sound effect that loops, because the Microsoft Agent animation services do not send an animation complete event until the sound completes.</span></span> <span data-ttu-id="cbf93-174">也請避免針對您指派給 **聆聽** 或 **聽覺** 狀態的任何動畫指定音效效果，因為這會干擾語音輸入。</span><span class="sxs-lookup"><span data-stu-id="cbf93-174">Also avoid specifying a sound effect for any animation you assign to the **Listening** or **Hearing** states, because this interferes with speech input.</span></span> <span data-ttu-id="cbf93-175">最後，雖然您可以在動畫中包含一個以上的音效效果，但請避免將它們放在一起使其重迭，因為這可能會影響動畫的時間。</span><span class="sxs-lookup"><span data-stu-id="cbf93-175">Finally, while you can include more than one sound effect in an animation, avoid placing them so they overlap, because this may affect the timing of the animation.</span></span> <span data-ttu-id="cbf93-176">此外，請記住，音效效果可能會根據使用者的硬體以不同的費率播放。</span><span class="sxs-lookup"><span data-stu-id="cbf93-176">Also, keep in mind that sound effects may play at different rates based on the user's hardware.</span></span>

<span data-ttu-id="cbf93-177">若要將畫面格新增至動畫，請再次選擇 **新的框架** 命令，並遵循相同的程式。</span><span class="sxs-lookup"><span data-stu-id="cbf93-177">To add frames to your animation, choose the **New Frame** command again and follow the same procedure.</span></span> <span data-ttu-id="cbf93-178">您也可以選擇載入多個映射，並自動為其產生新的框架。</span><span class="sxs-lookup"><span data-stu-id="cbf93-178">As an option, you can also load multiple images and automatically generate new frames for them.</span></span> <span data-ttu-id="cbf93-179">若要使用這項功能，請從 [**編輯**] 功能表選擇 **影像中的新框架**。</span><span class="sxs-lookup"><span data-stu-id="cbf93-179">To use this feature, choose **New Frames From Images** from the **Edit** menu.</span></span> <span data-ttu-id="cbf93-180">畫面格會根據影像檔案名以字母順序建立。</span><span class="sxs-lookup"><span data-stu-id="cbf93-180">The frames will be created in alphabetic order based on the image filenames.</span></span> <span data-ttu-id="cbf93-181">當您完成定義動畫的所有框架之後，您可以再次選擇 [ **新增動畫** ] 命令以開始新的動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-181">When you are finished defining all frames for your animation, you can choose the **New Animation** command again to begin a new animation.</span></span>

<span data-ttu-id="cbf93-182">還有其他方法可以將畫面格新增至動畫，以及在動畫內或之間移動框架。</span><span class="sxs-lookup"><span data-stu-id="cbf93-182">There are other ways to add frames to animations and move frames within or between animations.</span></span> <span data-ttu-id="cbf93-183">您可以從相同或另一個動畫選取另一個框架 () 然後選擇 [ **剪** 下] 或 [ **複製**]，然後選取動畫或該動畫中的框架，然後選擇 [ **貼** 上]。</span><span class="sxs-lookup"><span data-stu-id="cbf93-183">You can select another frame (from the same or another animation) and choose **Cut** or **Copy**, then select the animation or a frame in that animation and choose **Paste**.</span></span> <span data-ttu-id="cbf93-184">您也可以將畫面格從某個動畫拖曳到另一個動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-184">You can also drag a frame from one animation to another.</span></span> <span data-ttu-id="cbf93-185">如果您在動畫中拖曳，動作就會移動框架。</span><span class="sxs-lookup"><span data-stu-id="cbf93-185">If you drag within an animation, the action moves the frame.</span></span> <span data-ttu-id="cbf93-186">如果您拖曳到另一個動畫，它會複製框架。</span><span class="sxs-lookup"><span data-stu-id="cbf93-186">If you drag to another animation, it copies the frame.</span></span> <span data-ttu-id="cbf93-187">在相同的動畫中拖曳至先前的框架會在您拖曳的框架之前插入框架。</span><span class="sxs-lookup"><span data-stu-id="cbf93-187">Dragging to a preceding frame in the same animation inserts the frame before the frame to which you drag.</span></span> <span data-ttu-id="cbf93-188">拖曳至下列框架之後，會將它放在您拖曳的框架之後。</span><span class="sxs-lookup"><span data-stu-id="cbf93-188">Dragging to a following frame places it after the frame to which you drag.</span></span> <span data-ttu-id="cbf93-189">如果您使用滑鼠右鍵拖曳畫面格，則放開按鈕會顯示快顯功能表，其中包含您的傳輸選項。</span><span class="sxs-lookup"><span data-stu-id="cbf93-189">If you drag a frame using the right mouse button, releasing the button displays a pop-up menu with your transfer choices.</span></span>

<span data-ttu-id="cbf93-190">您也可以複製現有動畫來建立動畫 (選取動畫並選擇 [ **複製**) ]，然後選取 **動畫** 圖示或另一個動畫圖標，然後選擇 [ **貼** 上]。</span><span class="sxs-lookup"><span data-stu-id="cbf93-190">You can also create an animation by copying an existing animation (select the animation and choose **Copy**), and selecting the **Animations** icon or another animation icon and choosing **Paste**.</span></span> <span data-ttu-id="cbf93-191">雖然您可以變更名稱，但是編輯器會自動為動畫建立新的名稱。</span><span class="sxs-lookup"><span data-stu-id="cbf93-191">The Editor automatically creates a new name for the animation, although you can change the name.</span></span>

### <a name="branching"></a><span data-ttu-id="cbf93-192">分支</span><span class="sxs-lookup"><span data-stu-id="cbf93-192">Branching</span></span>

<span data-ttu-id="cbf93-193">當您建立框架時，您也可以定義接下來要播放的框架。</span><span class="sxs-lookup"><span data-stu-id="cbf93-193">When you create a frame, you can also define which frame plays next.</span></span> <span data-ttu-id="cbf93-194">依預設，動畫順序中所播放的下一個框架一律為下一個框架（以 z 順序排列）。</span><span class="sxs-lookup"><span data-stu-id="cbf93-194">By default, the next frame played in the animation sequence is always the next frame in the z-order.</span></span> <span data-ttu-id="cbf93-195">不過，藉由選擇 [ **分支** ] 頁面，您可以設定多達三個伺服器可能播放之其他框架的機率。</span><span class="sxs-lookup"><span data-stu-id="cbf93-195">However, by choosing the **Branching** page, you can set the probability for up to three other frames that the server may play.</span></span> <span data-ttu-id="cbf93-196">在適當的欄位中輸入機率百分比和目標框架編號。</span><span class="sxs-lookup"><span data-stu-id="cbf93-196">Enter the probability percentage and the target frame number in the appropriate fields.</span></span> <span data-ttu-id="cbf93-197">您可以指定分支，即使是沒有影像的框架，並將其持續時間設為零。</span><span class="sxs-lookup"><span data-stu-id="cbf93-197">You can specify branching even for frames that don't have images and have their duration set to zero.</span></span> <span data-ttu-id="cbf93-198">這可讓您在不先顯示特定影像的情況下進行分支。</span><span class="sxs-lookup"><span data-stu-id="cbf93-198">This enables you to branch without first displaying a particular image.</span></span>

![顯示 [分支] 頁面的螢幕擷取畫面。](images/f6charbranch.gif)

<span data-ttu-id="cbf93-200">您可以使用分支功能來建立將會無限迴圈的動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-200">You can use the branching feature to create animations that will loop indefinitely.</span></span> <span data-ttu-id="cbf93-201">不過，請注意，當迴圈動畫播放時，字元佇列中的其他動畫將不會播放，直到事件為止（例如，使用者按下推播鍵或呼叫 [**Stop**](stop-method.md) 方法的用戶端應用程式），以中止迴圈動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-201">However, note that when a looping animation plays, other animations in the character's queue will not play until an event—such as a user pressing the push-to-talk key or the client application calling the [**Stop**](stop-method.md) method—halts the looping animation.</span></span> <span data-ttu-id="cbf93-202">因此，在建立迴圈動畫之前，請仔細考慮將使用動畫的內容。</span><span class="sxs-lookup"><span data-stu-id="cbf93-202">Therefore, carefully consider the context in which the animation will be used before creating a looping animation.</span></span>

<span data-ttu-id="cbf93-203">[分支] 頁面也可讓您建立結束分支。</span><span class="sxs-lookup"><span data-stu-id="cbf93-203">The branching page also enables you to create Exit Branching.</span></span> <span data-ttu-id="cbf93-204">「結束分支」（exit branch）是一種框架的分支，當動畫已停止，且播放下一個動畫之前，動畫將會執行此工作。</span><span class="sxs-lookup"><span data-stu-id="cbf93-204">An exit branch is a branch to a frame that the animation will take when the animation is stopped and before the next animation is played.</span></span> <span data-ttu-id="cbf93-205">定義結束分支可讓您在轉換過程中，順暢地移動到另一個動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-205">Defining exit branches will enable you to move smoothly during the transition from one animation to another.</span></span> <span data-ttu-id="cbf93-206">您的結束分支不能建立迴圈迴圈，但最終必須能夠結束動畫的最後一個畫面格。</span><span class="sxs-lookup"><span data-stu-id="cbf93-206">Your exit branching must not create a circular loop, but must eventually be able to exit to the last frame of the animation.</span></span>

<span data-ttu-id="cbf93-207">您不需要為每個框架提供結束分支，但如果沒有，則動畫會遵循框架的一般分支。</span><span class="sxs-lookup"><span data-stu-id="cbf93-207">You do not have to provide an exit branch for each frame, however, if you don't, the animation will follow the frame's normal branching.</span></span> <span data-ttu-id="cbf93-208">如果框架沒有明確的分支，則動畫會自動分支至其後的框架。</span><span class="sxs-lookup"><span data-stu-id="cbf93-208">If the frame has no explicit branch, then the animation automatically branches to the frame that follows it.</span></span> <span data-ttu-id="cbf93-209">例如，如果您從畫面格3分支至框架1，且框架1沒有任何其他分支 (normal 或 exit 分支) ，則框架1會分支到框架2。</span><span class="sxs-lookup"><span data-stu-id="cbf93-209">For example, if you branch from frame 3 to frame 1 and frame 1 has no other branching (normal or exit branch), frame 1 will branch to frame 2.</span></span> <span data-ttu-id="cbf93-210">如果框架2沒有分支，則動畫會分支回框架3，而您會有迴圈的迴圈。</span><span class="sxs-lookup"><span data-stu-id="cbf93-210">If frame 2 has no branching, the animation will branch back to frame 3 and you have a circular loop.</span></span> <span data-ttu-id="cbf93-211">相反地，您可以從畫面格3分支至框架1，然後將畫面格1的結束分支設定為畫面格3之後的任何框架，並且通常會繼續進行動畫的最後一個畫面格。</span><span class="sxs-lookup"><span data-stu-id="cbf93-211">Instead, you could branch from frame 3 to frame 1 and then set frame 1's exit branch to any frame that is after frame 3 and normally proceeds to the last frame of the animation.</span></span>

<span data-ttu-id="cbf93-212">有時候您可能需要建立動畫的明確最終畫面格，而不會明顯地播放，但會提供動畫的結尾。</span><span class="sxs-lookup"><span data-stu-id="cbf93-212">Sometimes you may need to create an explicit final frame of an animation that is not played visibly, but provides an end of the animation.</span></span> <span data-ttu-id="cbf93-213">例如，您需要結束動畫，但結束于最後一個畫面格將不適用。</span><span class="sxs-lookup"><span data-stu-id="cbf93-213">For example, you need to exit the animation, but exiting to the last frame would not be appropriate.</span></span> <span data-ttu-id="cbf93-214">若要這麼做，您可以建立空白的零持續時間框架作為動畫的最後一個畫面格。</span><span class="sxs-lookup"><span data-stu-id="cbf93-214">You can do this by creating a blank, zero duration frame as the last frame of the animation.</span></span> <span data-ttu-id="cbf93-215">這可讓動畫在動畫的最後一個畫面格中正常播放，也可讓您為結束分支提供最終的結束點。</span><span class="sxs-lookup"><span data-stu-id="cbf93-215">This allows the animation to play normally through the last frame of the animation and also enables you to provide a final exit point for your exit branching.</span></span>

### <a name="previewing-an-animation"></a><span data-ttu-id="cbf93-216">預覽動畫</span><span class="sxs-lookup"><span data-stu-id="cbf93-216">Previewing an Animation</span></span>

<span data-ttu-id="cbf93-217">您可以選擇 [**編輯**] 功能表上的 [**預覽**] 命令或工具列上的 [預覽] 按鈕，在 [代理程式字元編輯器] 中預覽動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-217">You can preview your animation in the Agent Character Editor by choosing the **Preview** command on the **Edit** menu or the Preview button on the toolbar.</span></span> <span data-ttu-id="cbf93-218">這會從目前選取的畫面格開始播放您的動畫，包括任何分支和音效效果。</span><span class="sxs-lookup"><span data-stu-id="cbf93-218">This plays your animation, including any branches and sound effects, starting from the current selected frame.</span></span> <span data-ttu-id="cbf93-219">當動畫完成時，它會重設為目前選取的畫面格。</span><span class="sxs-lookup"><span data-stu-id="cbf93-219">It resets to the current selected frame when the animation completes.</span></span> <span data-ttu-id="cbf93-220">若要播放整個動畫，請移至樹狀檢視、選取動畫的圖示或動畫的第一個畫面格，然後選擇 [ **預覽** ] 命令。</span><span class="sxs-lookup"><span data-stu-id="cbf93-220">To play your entire animation, go to the tree view, select the animation's icon or first frame of the animation, and choose the **Preview** command.</span></span> <span data-ttu-id="cbf93-221">編輯器會在 [ **一般** ] 頁面上將畫面格動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-221">The Editor animates your frames on the **General** page.</span></span> <span data-ttu-id="cbf93-222">若要在預覽結束前將其停止，請選擇 [ **停止預覽** ] 命令。</span><span class="sxs-lookup"><span data-stu-id="cbf93-222">To stop the preview before it ends, choose the **Stop Preview** command.</span></span> <span data-ttu-id="cbf93-223">預覽 **命令會** 在預覽播放時自動變更為 **停止預覽** 。</span><span class="sxs-lookup"><span data-stu-id="cbf93-223">The **Preview** command automatically changes to **Stop Preview** while the preview plays.</span></span>

<span data-ttu-id="cbf93-224">您也可以在 [**編輯**] 功能表或工具列上選擇 [**預覽結束分支**] 命令，以預覽結束分支。</span><span class="sxs-lookup"><span data-stu-id="cbf93-224">You can also preview your exit branching by choosing the **Preview Exit Branching** command on the **Edit** menu or on the toolbar.</span></span> <span data-ttu-id="cbf93-225">可讓您測試結束分支將如何從任何特定的框架顯示。</span><span class="sxs-lookup"><span data-stu-id="cbf93-225">The enables you to test how the exit branching will appear from any specific frame.</span></span>

### <a name="assigning-speaking-overlays"></a><span data-ttu-id="cbf93-226">指派說話覆蓋</span><span class="sxs-lookup"><span data-stu-id="cbf93-226">Assigning Speaking Overlays</span></span>

<span data-ttu-id="cbf93-227">您可以定義一個字元，讓它在動畫的最後一個畫面格進行演講。</span><span class="sxs-lookup"><span data-stu-id="cbf93-227">You can define a character so that it speaks during the last frame of its animation.</span></span> <span data-ttu-id="cbf93-228">在此畫面上，選擇 [重迭 **] 頁面。**</span><span class="sxs-lookup"><span data-stu-id="cbf93-228">On this frame, choose the **Overlay** page.</span></span> <span data-ttu-id="cbf93-229">此頁面可讓您將嘴影像檔案載入並指派給 Microsoft Agent 支援的標準嘴位置。</span><span class="sxs-lookup"><span data-stu-id="cbf93-229">This page enables you to load and assign mouth image files to the standard mouth positions supported by Microsoft Agent.</span></span> <span data-ttu-id="cbf93-230">按一下 [ **新增影像** ] 按鈕，然後從對話方塊中選取影像。</span><span class="sxs-lookup"><span data-stu-id="cbf93-230">Click the **Add Image** button and select the image from the dialog box.</span></span> <span data-ttu-id="cbf93-231">您也可以選取多個影像，然後編輯器會從您選取的嘴位置開始載入並指派影像。</span><span class="sxs-lookup"><span data-stu-id="cbf93-231">You can also select multiple images, and the Editor will load and assign the images starting with the mouth position you selected.</span></span> <span data-ttu-id="cbf93-232">按一下 [ **上移** ] **和 [下移]** 按鈕，或拖曳專案以變更清單中的影像指派。</span><span class="sxs-lookup"><span data-stu-id="cbf93-232">Click the **Move Up** and **Move Down** buttons or drag an entry to change an image assignment in the list.</span></span> <span data-ttu-id="cbf93-233">按一下 [ **刪除** ] 按鈕以移除影像。</span><span class="sxs-lookup"><span data-stu-id="cbf93-233">Click the **Delete** button to remove an image.</span></span> <span data-ttu-id="cbf93-234">您也可以按一下清單中的專案，並重新輸入其檔案名，或是選擇 **省略號** 按鈕來顯示 [ **選取影像檔** 案] 對話方塊，以編輯指派之檔案的路徑名稱。</span><span class="sxs-lookup"><span data-stu-id="cbf93-234">You can also edit the pathname of an assigned file by clicking its entry in the list and retyping its filename, or by choosing the **Ellipsis** button to display the **Select Image Files** dialog box.</span></span>

![螢幕擷取畫面，顯示已選取檔案的 [重迭] 頁面。](images/f7charover.gif)

<span data-ttu-id="cbf93-236">您的嘴重迭必須符合其顯示所在的基底框架大綱內。</span><span class="sxs-lookup"><span data-stu-id="cbf93-236">Your mouth overlays must fit within the outline of the base frame over which they will appear.</span></span> <span data-ttu-id="cbf93-237">如果沒有，則會將它們裁剪成基底框架。</span><span class="sxs-lookup"><span data-stu-id="cbf93-237">If they do not, they will be clipped to the base frame.</span></span>

<span data-ttu-id="cbf93-238">如果您想要讓字元與基底框架外的嘴保持互動--例如，當字元朝側邊朗讀時，請先使用字元的 head (或將隨著字元進行移動) 作為其最上層影像的區域來建立基底框架。</span><span class="sxs-lookup"><span data-stu-id="cbf93-238">If you want to have the character speak with its mouth outside of the base frame--for instance, when the character is to speak facing sideways--first create the base frame with the character's head (or the area that will move as the character speaks) as its top image.</span></span> <span data-ttu-id="cbf93-239">然後，定義您的嘴重迭以取代該影像，並設定 [ **取代基底畫面格最上層影像** ] 選項。</span><span class="sxs-lookup"><span data-stu-id="cbf93-239">Then, define your mouth overlays to replace that image and set the **Replace Base Frame Top Image** option.</span></span> <span data-ttu-id="cbf93-240">您也可以使用 [ **全部設定** ] 按鈕，針對框架中的所有嘴重迭設定這個選項。</span><span class="sxs-lookup"><span data-stu-id="cbf93-240">You can also use the **Set All** button to set this option for all your mouth overlays in the frame.</span></span>

### <a name="assigning-a-return-animation"></a><span data-ttu-id="cbf93-241">指派傳回動畫</span><span class="sxs-lookup"><span data-stu-id="cbf93-241">Assigning a Return Animation</span></span>

<span data-ttu-id="cbf93-242">若要建立從某個動畫到下一個動畫的平滑轉換，請將動畫順序設計成以中性影像作為開頭和結尾。</span><span class="sxs-lookup"><span data-stu-id="cbf93-242">To create a smooth transition from one animation to the next, design your animation sequences to begin and end with a neutral image.</span></span> <span data-ttu-id="cbf93-243">如需詳細資訊，請參閱 [**設計 Microsoft Agent 的字元**](designing-characters-for-microsoft-agent.md)。</span><span class="sxs-lookup"><span data-stu-id="cbf93-243">For more information, see [**Designing Characters for Microsoft Agent**](designing-characters-for-microsoft-agent.md).</span></span> <span data-ttu-id="cbf93-244">不過，這並不表示每個動畫都必須以中立的位置結束。</span><span class="sxs-lookup"><span data-stu-id="cbf93-244">However, this does not mean that every animation must end at the neutral position.</span></span> <span data-ttu-id="cbf93-245">您可以透過一連串的框架建立一個字元的動畫，讓它在最後一個畫面格進行對話，然後建立另一個互補的動畫，將字元傳回至中立的位置。</span><span class="sxs-lookup"><span data-stu-id="cbf93-245">You can animate a character through a sequence of frames, have it speak during the last frame, and create a separate, complementary animation that returns the character to the neutral position.</span></span> <span data-ttu-id="cbf93-246">這個互補的動畫稱為「傳回動畫」。</span><span class="sxs-lookup"><span data-stu-id="cbf93-246">This complementary animation is called a Return animation.</span></span>

<span data-ttu-id="cbf93-247">您可以針對此用途建立明確動畫來定義傳回動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-247">You can define a Return animation by creating an explicit animation for this purpose.</span></span> <span data-ttu-id="cbf93-248">您也可以使用您在動畫中定義的結束分支來建立傳回動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-248">You can also create a Return animation using the exit branching you define within the animation.</span></span> <span data-ttu-id="cbf93-249">若要指派傳回動畫，請選取樹狀結構中的動畫，然後從 [屬性] 頁面上的 [傳回動畫] 下拉式清單中選取您所建立的 [傳回動畫] 或 [結束分支]。</span><span class="sxs-lookup"><span data-stu-id="cbf93-249">To assign a Return animation, select the animation in the tree, and select either the Return animation you created or Use Exit Branching from the Return Animation drop-down list on the Properties page.</span></span>

<span data-ttu-id="cbf93-250">建立和指派傳回動畫有一個額外的優點：當伺服器取得播放另一個動畫的要求時，如果已指派傳回動畫，它就會嘗試播放所播放之最後一個動畫的傳回動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-250">Creating and assigning a Return animation has an added benefit: When the server gets a request to play another animation, it will attempt to play the Return animation for the last animation it played, if a Return animation is assigned.</span></span> <span data-ttu-id="cbf93-251">這可確保順利轉換。</span><span class="sxs-lookup"><span data-stu-id="cbf93-251">This ensures a smooth transition.</span></span> <span data-ttu-id="cbf93-252">如果動畫在中立位置開始並結束，您就不需要定義傳回動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-252">If an animation begins and ends at the neutral position, you don't need to define a Return animation.</span></span> <span data-ttu-id="cbf93-253">同樣地，如果您想要自行處理從某個動畫轉換成另一個動畫的轉換，您可能不需要指派傳回動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-253">Similarly, if you intend to handle transitions from one animation to another yourself, you may not need to assign a Return animation.</span></span>

### <a name="assigning-animations-to-states"></a><span data-ttu-id="cbf93-254">指派狀態的動畫</span><span class="sxs-lookup"><span data-stu-id="cbf93-254">Assigning Animations to States</span></span>

<span data-ttu-id="cbf93-255">當主控用戶端應用程式使用特定方法時，Microsoft Agent 動畫服務會自動播放動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-255">The Microsoft Agent animation services automatically play animations when the hosting client application uses certain methods.</span></span> <span data-ttu-id="cbf93-256">例如，當應用程式呼叫 [**MoveTo**](moveto-method.md) 和 [**GestureAt**](gestureat-method.md) 方法時，伺服器會自動判斷字元的顯示位置並播放適當的動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-256">For example, when an application calls the [**MoveTo**](moveto-method.md) and [**GestureAt**](gestureat-method.md) methods, the server automatically determines where the character is displayed and plays an appropriate animation.</span></span> <span data-ttu-id="cbf93-257">同樣地，當使用者未與字元互動幾秒鐘時，Microsoft Agent 會自動播放閒置動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-257">Similarly, Microsoft Agent automatically plays Idle animations when the user has not interacted with the character for several seconds.</span></span> <span data-ttu-id="cbf93-258">當伺服器代表應用程式自動播放動畫時，這些條件稱為「 *狀態*」。</span><span class="sxs-lookup"><span data-stu-id="cbf93-258">These conditions, when the server automatically plays animations on an application's behalf, are called *states*.</span></span> <span data-ttu-id="cbf93-259">但是，若要讓伺服器知道要播放哪一個動畫，您必須將動畫指派給這些狀態。</span><span class="sxs-lookup"><span data-stu-id="cbf93-259">However, for the server to know which animation to play, you must assign animations to these states.</span></span>

<span data-ttu-id="cbf93-260">若要將動畫或動畫指派給狀態，請建立適當的動畫，展開 [編輯器] 視窗樹狀檢視中的 [狀態] 專案，然後選取 [狀態] 圖示。</span><span class="sxs-lookup"><span data-stu-id="cbf93-260">To assign an animation or animations to a state, create the appropriate animation, expand the States entry in the tree view of the Editor window, and select the State icon.</span></span> <span data-ttu-id="cbf93-261">您所建立的動畫清單會出現在視窗右邊的清單方塊中。</span><span class="sxs-lookup"><span data-stu-id="cbf93-261">The list of animations you have created appear in a list box on the right side of the window.</span></span> <span data-ttu-id="cbf93-262">檢查您想要指派給此狀態的動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-262">Check the animation you want to assign to this state.</span></span> <span data-ttu-id="cbf93-263">請注意，您可以將一個以上的動畫指派給相同的狀態。</span><span class="sxs-lookup"><span data-stu-id="cbf93-263">Note that you can assign more than one animation to the same state.</span></span> <span data-ttu-id="cbf93-264">這可讓伺服器隨機選取不同的狀態動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-264">This allows the server to randomly select different animations for the state.</span></span> <span data-ttu-id="cbf93-265">將動畫指派給狀態並不會防止動畫直接播放該動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-265">Assigning an animation to a state does not prevent an animation from playing that animation directly.</span></span>

<span data-ttu-id="cbf93-266">您也可以在樹狀結構中選取動畫的專案，以將動畫指派給狀態。</span><span class="sxs-lookup"><span data-stu-id="cbf93-266">You can also assign an animation to a state by selecting the animation's entry in the tree.</span></span> <span data-ttu-id="cbf93-267">[**屬性**] 頁面上的 [**指派給狀態**] 清單方塊會列出狀態。</span><span class="sxs-lookup"><span data-stu-id="cbf93-267">The **Assign To State** list box on the **Properties** page lists the states.</span></span> <span data-ttu-id="cbf93-268">選取您要指派動畫之狀態的核取方塊。</span><span class="sxs-lookup"><span data-stu-id="cbf93-268">Select the check box of the state to which you're assigning the animation.</span></span>

<span data-ttu-id="cbf93-269">由於狀態僅適用于伺服器必須代表用戶端應用程式自動播放動畫的情況，因此編輯器不支援建立其他狀態。</span><span class="sxs-lookup"><span data-stu-id="cbf93-269">The Editor does not support creating additional states because states only apply to situations where the server must play an animation automatically on behalf of the client application.</span></span> <span data-ttu-id="cbf93-270">因此，定義您自己的狀態並沒有任何好處。</span><span class="sxs-lookup"><span data-stu-id="cbf93-270">Thus, there is no benefit in defining your own state.</span></span> <span data-ttu-id="cbf93-271">如果需要，您可以使用 [**play**](play-method.md) 方法明確地播放任何動畫。</span><span class="sxs-lookup"><span data-stu-id="cbf93-271">If need be, you can play any animation explicitly using the [**Play**](play-method.md) method.</span></span>

### <a name="saving-your-character-definition"></a><span data-ttu-id="cbf93-272">儲存您的字元定義</span><span class="sxs-lookup"><span data-stu-id="cbf93-272">Saving Your Character Definition</span></span>

<span data-ttu-id="cbf93-273">您可以 **選擇 [檔案] 功能表上** 的 [**儲存**] 命令或工具列上的 [**儲存字元定義**] 按鈕，以儲存字元的定義檔。</span><span class="sxs-lookup"><span data-stu-id="cbf93-273">You can save your character's definition file by choosing the **Save** command on the **File** menu or the **Save Character Definition** button on the toolbar.</span></span> <span data-ttu-id="cbf93-274">如果您想要以新名稱儲存字元定義檔，請 **選擇 [檔案] 功能表上** 的 [**另存** 新檔] 命令。</span><span class="sxs-lookup"><span data-stu-id="cbf93-274">If you want to save the character definition file with a new name, choose the **Save As** command on the **File** menu.</span></span> <span data-ttu-id="cbf93-275">編輯器會將字元的可編輯定義儲存為代理程式字元定義 (。ACD) 檔。</span><span class="sxs-lookup"><span data-stu-id="cbf93-275">The Editor saves a character's editable definition as an Agent Character Definition (.ACD) file.</span></span> <span data-ttu-id="cbf93-276">您也可以使用大部分的文字編輯器和文字處理應用程式來編輯這種自我記錄文本檔案格式。</span><span class="sxs-lookup"><span data-stu-id="cbf93-276">You can also edit this self-documenting text file format with most text editors and word processing applications.</span></span>

### <a name="printing-your-character-definition"></a><span data-ttu-id="cbf93-277">列印您的字元定義</span><span class="sxs-lookup"><span data-stu-id="cbf93-277">Printing Your Character Definition</span></span>

<span data-ttu-id="cbf93-278">若要列印字元的定義，請 **選擇 [檔案] 功能表上** 的 [**列印**] 命令或工具列上的 [**列印**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="cbf93-278">To print your character's definition, choose the **Print** command on the **File** menu or the **Print** button on the toolbar.</span></span> <span data-ttu-id="cbf93-279">若要設定列印輸出的屬性，請選擇 [版面 **設定** ] 命令，然後選擇您的設定，然後選取 [ **列印** ] 命令。</span><span class="sxs-lookup"><span data-stu-id="cbf93-279">To set the properties for your printed output, choose the **Page Setup** command and choose your settings before selecting the **Print** command.</span></span>

### <a name="building-a-character"></a><span data-ttu-id="cbf93-280">建立字元</span><span class="sxs-lookup"><span data-stu-id="cbf93-280">Building a Character</span></span>

<span data-ttu-id="cbf93-281">當您完成建立動畫之後，必須將字元和影像編譯成 Microsoft Agent 用來載入此資料的特殊格式。</span><span class="sxs-lookup"><span data-stu-id="cbf93-281">When you are done creating your animations, the character and images must be compiled into a special format that Microsoft Agent uses to load this data.</span></span> <span data-ttu-id="cbf93-282">若要建立字元，請選取 [檔案 **] 功能表或工具列上的 [** 組建字元] 命令。</span><span class="sxs-lookup"><span data-stu-id="cbf93-282">To build a character, select the Build Character command on the **File** menu or from the toolbar.</span></span> <span data-ttu-id="cbf93-283">如果您在字元定義檔中有未儲存的編輯，編輯器會先儲存定義檔，然後再顯示 [ **組建字元** ] 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="cbf93-283">If you have unsaved edits in your character definition file, the Editor saves the definition file before displaying the **Build Character** dialog box.</span></span>

![螢幕擷取畫面，顯示已選取檔案的 [組建字元] 視窗。](images/f8charbldg.gif)

<span data-ttu-id="cbf93-285">代理程式字元編輯器會根據您的字元定義檔案名自動提議檔案名。</span><span class="sxs-lookup"><span data-stu-id="cbf93-285">The Agent Character Editor will automatically propose a filename based on your character definition filename.</span></span> <span data-ttu-id="cbf93-286">[組建字元] 對話方塊也包含下拉式清單，讓您可以選擇以單一儲存檔 ( 建立字元。ACS) 或多個檔案。</span><span class="sxs-lookup"><span data-stu-id="cbf93-286">The Build Character dialog box also includes a drop-down list so you can choose between building the character as a single storage file (.ACS) or as multiple files.</span></span> <span data-ttu-id="cbf93-287">如果您選擇後者，編輯器會建立。包含字元資料和的 ACF 檔案。您所建立之每個動畫的 ACA 檔案。</span><span class="sxs-lookup"><span data-stu-id="cbf93-287">If you choose the latter, the Editor builds an .ACF file that includes character's data and an .ACA file for each animation you created.</span></span> <span data-ttu-id="cbf93-288">如果您打算安裝和存取與用戶端應用程式儲存在同一部電腦上的字元，通常會選擇單一結構化檔案格式。</span><span class="sxs-lookup"><span data-stu-id="cbf93-288">If you plan to install and access a character stored on the same computer as your client application, you would typically choose the single structured file format.</span></span> <span data-ttu-id="cbf93-289">此格式可讓您輕鬆且有效率地安裝和存取字元。</span><span class="sxs-lookup"><span data-stu-id="cbf93-289">This format provides easy and efficient installation and access to the character.</span></span> <span data-ttu-id="cbf93-290">但是，如果將使用 HTTP 通訊協定從 web 伺服器存取字元，請使用建立您的字元。ACF (個別) 檔案格式。</span><span class="sxs-lookup"><span data-stu-id="cbf93-290">However, if the character will be accessed from a web server using the HTTP protocol, build your character using the .ACF (individual) file format.</span></span> <span data-ttu-id="cbf93-291">後者的檔案結構允許網頁腳本載入個別的動畫檔案，將資料儲存在使用者的瀏覽器檔案快取中。</span><span class="sxs-lookup"><span data-stu-id="cbf93-291">This latter file structure allows a webpage script to load individual animation files, storing the data in the user's browser file cache.</span></span> <span data-ttu-id="cbf93-292">它可提供更有效率的 Web 存取方式，因為您可以視需要下載動畫資料，而不需要使用者等待一組完整的動畫一次下載。</span><span class="sxs-lookup"><span data-stu-id="cbf93-292">It provides more efficient access over the Web because animation data can be downloaded as needed rather than requiring the user to wait for the entire set of animations to download at one time.</span></span> <span data-ttu-id="cbf93-293">此外，由於字元的資料會儲存在瀏覽器快取中，因此可以自動回收檔案空間。</span><span class="sxs-lookup"><span data-stu-id="cbf93-293">In addition, because the character's data is stored in the browser cache, the file space can be automatically reclaimed.</span></span>

<span data-ttu-id="cbf93-294">雖然您也可以下載字元資料 (為單一結構化檔案，或從 web 伺服器) 多個檔案，並安裝在使用者電腦上的其他位置，這類方法需要安全布建以進行下載和安裝。</span><span class="sxs-lookup"><span data-stu-id="cbf93-294">Although you can also download character data (either as a single structured file or multiple files) from a web server and install elsewhere on a user's machine, such a method requires security provisions for downloading and installation.</span></span> <span data-ttu-id="cbf93-295">如此一來，Microsoft Agent API 不包含瀏覽器快取以外的可下載安裝字元。</span><span class="sxs-lookup"><span data-stu-id="cbf93-295">As a result, the Microsoft Agent API does not include support for downloadable installation of a character except to the browser's cache.</span></span> <span data-ttu-id="cbf93-296">不過，您仍然可以藉由建立自己的安裝控制項來支援此案例，並依照適當的安全性慣例加以散發。</span><span class="sxs-lookup"><span data-stu-id="cbf93-296">However, you can still support this scenario by creating your own installation control and distribute it following appropriate security conventions.</span></span> <span data-ttu-id="cbf93-297">如需詳細資訊，請參閱 Microsoft 網際網路用戶端軟體發展工具組。</span><span class="sxs-lookup"><span data-stu-id="cbf93-297">For more information, see the Microsoft Internet Client Software Development Kit.</span></span>

<span data-ttu-id="cbf93-298">[壓縮] 選項可讓您設定是否壓縮字元資料。</span><span class="sxs-lookup"><span data-stu-id="cbf93-298">The Compress option enables you to set whether the character data is compressed.</span></span> <span data-ttu-id="cbf93-299">一般而言，您會想要設定此選項來壓縮字元資料，雖然建立具有壓縮資料的字元需要較長的時間。</span><span class="sxs-lookup"><span data-stu-id="cbf93-299">Typically, you will want to set this option to compact your character data, although building a character with the compacted data takes longer.</span></span>

<span data-ttu-id="cbf93-300">當您建立一個字元之後，如果您在相同的目錄位置建立字元，後續的組建將會更快。</span><span class="sxs-lookup"><span data-stu-id="cbf93-300">Once you build a character, subsequent builds will be faster if you build the character to the same directory location.</span></span> <span data-ttu-id="cbf93-301">字元編輯器會自動驗證並複製未變更的檔案，並重新編譯任何已編輯過的資料。</span><span class="sxs-lookup"><span data-stu-id="cbf93-301">The Character Editor automatically verifies and copies those files that have not changed, and recompiles any data that has been edited.</span></span>

<span data-ttu-id="cbf93-302">如果編輯器在建立字元時偵測到字元檔中的任何錯誤，則會將資訊寫入至記錄檔，並顯示訊息方塊。</span><span class="sxs-lookup"><span data-stu-id="cbf93-302">If the Editor detects any errors in the character file while building the character, it writes the information out to a log file and displays a message box.</span></span> <span data-ttu-id="cbf93-303">您可以選擇使用文字編輯器來查看或忽略記錄檔，並稍後再閱讀。</span><span class="sxs-lookup"><span data-stu-id="cbf93-303">You can choose to view the log file or ignore it and read it later with a text editor.</span></span> <span data-ttu-id="cbf93-304">不過，請注意，編輯器會在您下一次建立字元檔時覆寫記錄檔。</span><span class="sxs-lookup"><span data-stu-id="cbf93-304">However, note that the Editor will overwrite the log file the next time you build a character file.</span></span>

### <a name="editing-an-existing-character"></a><span data-ttu-id="cbf93-305">編輯現有的字元</span><span class="sxs-lookup"><span data-stu-id="cbf93-305">Editing an Existing Character</span></span>

<span data-ttu-id="cbf93-306">若要編輯現有的字元，請 **選擇 [檔案] 功能表上** 的 [**開啟**]，並選取字元的定義檔 (。在產生的對話方塊中 ACD) ，然後選擇 [開啟]。</span><span class="sxs-lookup"><span data-stu-id="cbf93-306">To edit an existing character, choose **Open** on the **File** menu, select the character's definition file (.ACD) in the resulting dialog box, and choose Open.</span></span> <span data-ttu-id="cbf93-307">檔案會載入編輯器中。</span><span class="sxs-lookup"><span data-stu-id="cbf93-307">The file will load into the Editor.</span></span> <span data-ttu-id="cbf93-308">請注意，您無法 ( 載入編譯的字元檔。Acs。ACF，或。使用編輯器 ACA) 。</span><span class="sxs-lookup"><span data-stu-id="cbf93-308">Note that you cannot load compiled character files (.ACS, .ACF, or .ACA) with the Editor.</span></span>

<span data-ttu-id="cbf93-309">因為字元的定義檔 (。ACD) 是文字檔，您也可以使用文字編輯器或文字處理程式來開啟檔案，以編輯字元的定義。</span><span class="sxs-lookup"><span data-stu-id="cbf93-309">Because the character's definition file (.ACD) is a text file, you can also edit a character's definition by opening the file with a text editor or word processing program.</span></span> <span data-ttu-id="cbf93-310">不過，完成變更時，請務必先將檔案儲存成原來的格式，再將它載入至字元編輯器進行編譯。</span><span class="sxs-lookup"><span data-stu-id="cbf93-310">However, when completing your changes, make sure to save the file in its original format before loading it into the character editor for compilation.</span></span>

 

 




