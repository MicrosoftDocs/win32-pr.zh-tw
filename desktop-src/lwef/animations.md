---
title: 動畫
description: 動畫
ms.assetid: 8bd9ac94-3f86-4168-bf33-7a2c8d11907d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bf1b9f5e8daa320390f5c19c3c4c27cb8195a8fe
ms.sourcegitcommit: bf526e267d3991892733bdd229c66d5365cf244a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 02/05/2021
ms.locfileid: "104550644"
---
# <a name="animations"></a>動畫

\[Microsoft Agent 已于 Windows 7 淘汰，在後續的 Windows 版本中可能無法使用。\]

字元的動畫會反映其性別、年齡、特質和行為。 您針對字元所建立的動畫數目和類型，取決於您的字元功能，以及它如何回應不同的情況。

就像傳統的動畫一樣，數位動畫需要建立一系列稍微不同的影像，當您依序顯示時，就會提供動作的假像。 建立高品質的動畫影像可能需要熟練的 animator，但是您所建立的字元樣式和呈現也會影響品質。 具有簡單圖形和功能的二維字元有時可以 (，或比) 高度轉譯的字元更有效。 不需要建立逼真的影像來描繪有效的字元。 許多熱門的卡通字元在其簡報中並不切合實際，但卻很有效，因為 animator 瞭解如何傳達動作和表情。 本附錄提供基本動畫設計原則的一般資訊。

### <a name="frames"></a>框架

您為 Microsoft 代理程式字元建立的每個動畫都是由一連串的畫面格所組成。 動畫中的每個畫面格都是由一或多個點陣圖影像所組成。 影像可以像您需要的一樣小，或與框架本身一樣大。

影像詳細資料（例如眼睛閃爍或手指移動）可以包含為框架的額外影像。 您可以重迭數個影像來建立複合，並改變它們在圖層中的位置。 這項技術可讓您重複使用多個框架中的影像，並改變變更的詳細資料。 比方說，如果您想要有一個字元的手，就可以針對每個框架使用基底影像，並將基底影像與不同的手影像重迭。 同樣地，如果您想要讓字元閃爍，可以針對每個畫面格，將不同的眼睛重迭在基底映射上。 映射也可以從基底映射位移。 不過，只會顯示存在於畫面格大小內的影像部分。

您可以視需要在動畫中擁有任意數量的框架;不過，一般的動畫平均大約14個框架，因此它的播放時間不超過6秒。 這種適當的時間長度可確保您的字元能回應使用者輸入的回應。 此外，畫面格數目愈大，您的動畫檔案就愈大。 針對下載的 Web 字元，請盡可能將動畫檔案的大小保持在最小的狀態，同時仍然提供一組大小相當大的框架，讓字元的動畫不會顯示為不變。

### <a name="image-design"></a>影像設計

您可以使用任何圖形或動畫工具來建立動畫框架的影像，但前提是您在 Windows 點陣圖 ( 中儲存最後的影像。BMP) 格式。 建立映射時，請使用可在 [可下載](https://www.microsoft.com/download/en/details.aspx?id=14765) 的) 中取得的「Microsoft 代理程式字元編輯器」 (，以組合、排序和時間影像、提供其他字元資訊，以及將所有資訊編譯成最後的字元檔。

字元影像必須設計成256色的調色板，並將20個標準的 Windows 系統色彩保留在調色板的標準位置， (前10個和最後10個位置) 。 這表示您的字元色彩選擇區可以使用標準的系統色彩，以及最多236的其他色彩。 定義您的調色板時，請包含您的字元在動畫中使用的任何 .props。 如果您的字元的調色板在系統色彩位置中放入色彩，當 Microsoft Agent 建立調色板時，將會以系統色彩覆寫這些字元色彩。

您在字元的色板中使用的色彩愈大，您的字元色彩可能會在設定為8位 (256) 色彩設定的系統重新對應的可能性愈大。 另外也請考慮將使用該字元之應用程式的調色板使用方式。 最好避免讓字元重新對應其主機應用程式的色彩，反之亦然。 同樣地，如果您打算同時支援多個顯示的字元，您可能會想要為這些字元維持一致的調色板。 如果您的目標使用者具有8位色彩設定，則您可以考慮只在字元中使用標準系統色彩。 但是，如果另一個應用程式廣泛地重新定義色彩選擇區，這仍可能無法避免重新對應您的字元色彩。 在設定為較高色彩解析度的系統上，色彩選擇區重新對應不應該有問題，因為系統會自動管理調色板。

在影像中使用較大量的色彩也可以增加動畫檔案的整體大小。 色彩和變化頻率的數目可能會決定您的字元檔案壓縮的程度。 例如，只使用幾個色彩的二維字元會壓縮出優於三維、陰影字元。

您必須針對整個字元檔使用相同的色彩調色板。 您無法變更不同動畫的調色板。 如果您嘗試支援8位的色彩設定，請考慮針對您的應用程式使用相同的調色板，以及您打算支援的其他任何字元。

雖然您也可以使用 Microsoft Agent 字元編輯器來設定色彩，但在此調色板中的<sup>第</sup> 11 個位置預設會定義為透明度 (或 Alpha) 色彩。 Microsoft 代理程式動畫服務會以此色彩呈現透明的任何圖元，因此只在您想要透明度的位置使用影像中的色彩。

請仔細考慮您的字元圖形，因為這可能會影響動畫效能。 為了顯示此字元，動畫服務會根據整體影像建立區域視窗。 小型不規則區域通常需要更多區域資料，而且可能會降低您的字元的動畫效能。 因此，可能的話，請避免間距或單一圖元的元素和詳細資料。

避免消除您字元外緣的消除鋸齒。 雖然消除鋸齒是減少鋸齒狀邊緣的好方法，但它是以連續的色彩為基礎。 由於您的字元可能會顯示在各種不同的色彩之上，因此，外部邊緣的消除鋸齒可能會讓您的字元在其他背景中出現不佳的情況。 不過，您可以在字元的內部詳細資料中使用消除鋸齒功能，而不會遇到此問題。

### <a name="frame-size"></a>畫面格大小

框架大小通常不能大於 128 x 128 圖元。 雖然在任一維度中的字元可以較大或較小，但 Microsoft Agent 字元編輯器會使用此值做為其顯示大小，並在您定義較大的框架大小時縮放字元影像。 128 x 128 框架大小與字元將在螢幕上佔用的空間進行合理的取捨。 您的應用程式可以在執行時間調整字元的大小。

### <a name="frame-duration"></a>框架持續時間

您可以使用「Microsoft 代理程式字元編輯器」來設定在移至下一個畫面格之前，會顯示每個動畫畫面格的時間長度。 將每個畫面格的持續時間設定為至少10百分之一秒 (每秒10個畫面格) --可能不會在某些系統上可察覺任何較小的部分。 您也可以將持續時間設定為較長的時間，但請避免動作中的非自然暫停。

Microsoft 代理程式字元編輯器也支援根據您提供的機率百分比，從動畫中的某個框架分支至另一個畫面格。 針對任何指定的框架，您最多可以定義三個不同的分支。 分支可讓您建立在播放時有不同的動畫，以及迴圈的動畫。 不過，使用分支時請小心，因為它可能會在嘗試播放另一個動畫時產生問題。 例如，如果您播放迴圈或分支動畫，它可以無限期地繼續，除非您使用 [**Stop**](stop-method.md) 方法。 如果您不確定，請避免進行分支。

包含在動畫中的框架不會出現影像，而且會設定為零的持續時間。 您可以使用這項功能來建立支援分支的框架，而不會顯示。 但是，不含影像的框架會顯示持續時間大於零的畫面格。 因此，請避免在動畫中包含空的框架，因為當字元隱藏時，使用者可能無法區分空白的框架。

### <a name="frame-transition"></a>框架轉換

設計動畫時，請考慮如何順暢地從動畫轉換至動畫。 例如，如果您建立一個動畫，其中的字元手勢右邊，另一個則是字元手勢的左邊，您希望字元從一個位置順暢地建立動畫。 雖然您可以將此功能建立成動畫，但更好的解決方法是定義字元開始和傳回的中性或過渡位置。 在每個動畫或個別的動畫中，可以合併為中性位置的動畫。 在 [Microsoft 代理程式字元編輯器] 中，您可以為字元的每個動畫 **指定互補的** 傳回動畫。 傳回 **動畫通常** 不能超過2-4 的框架，因此字元可以快速轉換成中立的位置。

例如，使用 "gesturing right，then gesturing left" 案例時，您可以建立 **GestureRight** 動畫，從字元顯示于中性位置的畫面格開始，然後新增具有影像的框架，以將字元向右延伸。 然後建立其 **傳回動畫：** 具有影像的互補動畫，會將字元傳回至其中性位置。 您可以將此指派為 **GestureRight** 動畫的傳回動畫。 接下來，建立從中性位置開始的 **GestureLeft** 動畫，並將字元的 arm 延伸至左方。 最後，也為此動畫 **建立互補的** 傳回動畫。 傳回 **動畫通常是以** 先前動畫最後一個影像後面的影像開頭。

您可以使用任何順序來播放任何動畫，以在動畫中或使用傳回動畫來開始和返回相同的中性位置。 Microsoft Agent 動畫服務在許多情況下都會自動播放您指定的傳回動畫。 例如，在播放您的字元的閒置狀態動畫之前，服務會 **播放指定的** 傳回動畫。 如果您的動畫尚未以中性位置結尾，則定義 **和指派傳回** 動畫是個不錯的主意。

如果您想要在特定動畫之間提供自己的轉換，例如，因為您一律以妥善定義的順序來播放它們，所以您可以 **避免定義傳回** 動畫。 不過，從中性位置開始並結束動畫順序是不錯的主意。

### <a name="speaking-animation"></a>說話動畫

在您想要讓字元可以說出的每個動畫上提供嘴影像，除非您的字元設計沒有動畫的嘴或表示說出的輸出。 一般而言，「嘴移動」非常重要。 如果某字元的嘴運動未與語音進行適當同步處理，則可能會出現較不聰明、likable 或誠實的字元。 嘴影像可讓您的字元與您的字元之間進行 lip 的同步處理。 您可以個別定義嘴映射，也可以做為 Windows 點陣圖檔案。 它們必須符合與動畫中其他影像相同的色調色板。

Microsoft Agent 動畫服務會在動畫的最後一個畫面格上方顯示嘴動畫框架，也稱為動畫的 *說話畫面* 格。 例如，當字元在 **GestureRight** 動畫中說話時，動畫服務會在 **GestureRight** 的最後一個畫面上重迭嘴動畫框架。 在建立動畫的過程中，字元無法說話，因此您只會針對動畫的最後一個畫面格提供嘴影像。 此外，說話框架必須是動畫的結束框架，因此字元無法在迴圈動畫中說話。

一般而言，您會提供與畫面格 (和基底影像) 相同大小的嘴影像，但僅包含在下移動的動畫區域，並以透明色彩呈現影像的其餘部分。 設計影像，使其符合說話框架中的影像（在其上重迭）。 若要正確地進行比對，您可能需要針對字元所說話的每個動畫，建立一組不同的嘴影像。

嘴影像可以包括嘴本身，例如在說話時的下巴或字元內文的其他部分。 但是，如果您移動手邊或邊邊，請注意，它可能看似隨機移動，因為所顯示的嘴重迭會以目前的語音片語音素為基礎。 此外，伺服器還會將嘴影像裁剪到說話框架影像的大綱。 設計您的嘴重迭影像以保持在其基底說話畫面格影像的外，因為伺服器會使用基底映射來建立字元的視窗界限。

「Microsoft 代理程式字元編輯器」可讓您定義七個對應至下表所示常見音素嘴圖形的基本嘴位置：

**嘴動畫影像**



| 嘴位置 | 範例影像                       | 表示法                                                                                                                     |
|----------------|------------------------------------|------------------------------------------------------------------------------------------------------------------------------------|
| 封閉式         | :::image type="icon" source="images/g07ci01.gif":::<br/> | 一般嘴封閉形狀。 也可用於像是 "音素" 的 "m"，如同 "mom" 中的 "m"，如同 "fife" 中的 "bob" "f"。<br/>           |
| 全企業開啟1    | :::image type="icon" source="images/g07ci02.gif":::<br/> | 嘴以全形稍微開啟。 用於像是 "音素" 的 "g"，例如 "gag" 中的 "g"，如同 "牢靠" 中的 ""，"ear"，如同「聆聽」。<br/> |
| 全企業開放2    | :::image type="icon" source="images/g07ci03.gif":::<br/> | 嘴是部分開啟的，全形。 用於音素，例如 ""，例如 "nun"、"d" （如同 "dad"），例如 "數總計"。<br/>    |
| 全企業開啟3    | :::image type="icon" source="images/g07ci04.gif":::<br/> | 嘴是以全形開啟。 用於像是 "音素" 的 "u"，例如 "hut"、"ea" （如同 "head"），如同「傷害」一樣。<br/>          |
| 全企業開啟4    | :::image type="icon" source="images/g07ci05.gif":::<br/> | 全形完全開啟嘴。 用於音素，例如 "a" as in "hat"，"允許"，如同 "how."<br/>                   |
| 開啟-中    | :::image type="icon" source="images/g07ci06.gif":::<br/> | 嘴以半形開啟。 用於音素，例如 "oy"，如同 "ahoy" 中的 ""，如同「經常性存取」一樣。<br/>                              |
| 開啟-縮小    | :::image type="icon" source="images/g07ci07.gif":::<br/> | 嘴以窄寬度開啟。 用於音素，例如 "o" （如同 "hoop"、"o"），例如 "w"，如同「濕」一樣。<br/>           |



 

 

 





