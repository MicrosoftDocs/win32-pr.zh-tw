---
description: 子視窗是具有 WS \_ 子系或 ws \_ CHILDWINDOW 樣式的視窗。
ms.assetid: d8110492-c1b9-4b49-9b34-587adb7c65c9
title: 子視窗更新區域
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3b92e6cba93c3be253b8ed8616bdcf9301e92494
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "103943813"
---
# <a name="child-window-update-region"></a>子視窗更新區域

子視窗是具有 WS \_ 子系或 ws \_ CHILDWINDOW 樣式的視窗。 子視窗和其他視窗樣式一樣，會接收 [**WM \_ 繪製**](wm-paint.md) 訊息以提示更新。 每個子視窗都有一個更新區域，也就是系統或應用程式可以設定來產生最終的 **WM \_ 油漆** 訊息。

子視窗的更新和可見區域會受子系的父視窗影響;其他樣式的 windows 則不適用。 系統通常會在設定父視窗的更新區域時，設定子視窗的更新區域，使子視窗在父視窗收到時接收 [**WM \_ 繪製**](wm-paint.md) 訊息。 系統會將子視窗可見區域的位置限制在父視窗的工作區中，並裁剪子視窗的任何部分移至父視窗之外。

當父視窗更新區域的一部分包含子視窗的一部分時，系統會設定子視窗的更新區域。 在這種情況下，系統會先將 [**WM \_ 油漆**](wm-paint.md) 訊息傳送至父視窗，然後將訊息傳送至子視窗，讓子系還原父系可能繪製過之視窗的任何部分。

設定子系時，系統不會設定父系的更新區域。 應用程式無法藉由將子視窗失效來產生父視窗的 [**WM \_ 油漆**](wm-paint.md) 訊息。 同樣地，應用程式無法藉由讓父系的部分工作區（完全位於子視窗下）失效，來為子系產生 **WM \_ 油漆** 訊息。 在這種情況下，這兩個視窗都不會收到 **WM \_ 油漆** 訊息。

當您在 \_ 建立父視窗時指定 WS CLIPCHILDREN 樣式來設定父視窗時，應用程式可能會防止設定子視窗的更新區域。 設定此樣式時，系統會從父系的可見區域排除子視窗，因此會忽略可能包含子視窗之更新區域的任何部分。 當應用程式在父視窗中繪製時，會裁剪任何涵蓋子視窗的繪圖，使後續的 [**WM \_ 繪製**](wm-paint.md) 訊息不需要子視窗。

子視窗的更新和可見區域也會受到子視窗的同級影響。 共通視窗是具有通用父視窗的任何視窗。 如果同級視窗重迭，則為其中一個設定更新區域會影響另一個的更新區域，導致將 [**WM \_ 油漆**](wm-paint.md) 訊息傳送至這兩個視窗。 如果父代鏈中的視窗是複合 (一個具有 WX 的 \_ 視窗 \_ （例如複合) ），則同級視窗會以其在 Z 順序中位置的相反順序來 **\_ 繪製** 訊息。 在此情況下，Z 順序中最高的視窗 (最高的) 會最後收到其 **WM \_ 油漆** 訊息，反之亦然。 如果父代鏈中的視窗不是複合的，則同輩視窗會以 Z 的順序接收 **WM \_ 繪製** 訊息。

不會自動裁剪同輩視窗。 即使繪製的視窗在 Z 順序中具有較低的位置，一個同級也可以在另一個重迭的同級上繪製。 應用程式可以 \_ 在建立視窗時指定 WS CLIPSIBLINGS 樣式來防止這種情況。 當設定此樣式時，如果重迭的同級視窗在 Z 順序中具有較高的位置，系統就會從視窗的可見區域排除重迭的同級視窗的所有部分。

> [!Note]  
> 具有 WS POPUP 或 WS POPUPWINDOW 樣式的 windows 更新和可見區域 \_ \_ 不會受其父視窗影響。

 

 

 



