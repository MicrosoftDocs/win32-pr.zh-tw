---
description: 列出安全性設定工具集所提供的支援功能。
ms.assetid: 5a771014-1706-490f-8540-ec516652cb83
title: 安全性管理功能
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9f5c17efd55b1dbb806295ac0a83763257ffcc97
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/08/2021
ms.locfileid: "103851523"
---
# <a name="security-management-functions"></a><span data-ttu-id="d1eb7-103">安全性管理功能</span><span class="sxs-lookup"><span data-stu-id="d1eb7-103">Security Management Functions</span></span>

<span data-ttu-id="d1eb7-104">本章節包含下列功能群組的主題：</span><span class="sxs-lookup"><span data-stu-id="d1eb7-104">This section contains topics for the following groups of functions:</span></span>

-   [<span data-ttu-id="d1eb7-105">附加函式回呼函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-105">Attachment Callback Functions</span></span>](#attachment-callback-functions)
-   [<span data-ttu-id="d1eb7-106">附件引擎函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-106">Attachment Engine Functions</span></span>](#attachment-engine-functions)
-   [<span data-ttu-id="d1eb7-107">LSA 原則函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-107">LSA Policy Functions</span></span>](#lsa-policy-functions)
    -   [<span data-ttu-id="d1eb7-108">原則函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-108">Policy Functions</span></span>](#lsa-policy-functions)
    -   [<span data-ttu-id="d1eb7-109">帳戶功能</span><span class="sxs-lookup"><span data-stu-id="d1eb7-109">Account Functions</span></span>](#account-functions)
    -   [<span data-ttu-id="d1eb7-110">受信任的網域函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-110">Trusted Domain Functions</span></span>](#trusted-domain-functions)
    -   [<span data-ttu-id="d1eb7-111">私用資料函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-111">Private Data Functions</span></span>](#private-data-functions)
    -   [<span data-ttu-id="d1eb7-112">雜項函式</span><span class="sxs-lookup"><span data-stu-id="d1eb7-112">Miscellaneous Functions</span></span>](#miscellaneous-functions)
-   [<span data-ttu-id="d1eb7-113">受管理的服務帳戶功能</span><span class="sxs-lookup"><span data-stu-id="d1eb7-113">Managed Service Account Functions</span></span>](#managed-service-account-functions)
-   [<span data-ttu-id="d1eb7-114">密碼篩選函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-114">Password Filter Functions</span></span>](#password-filter-functions)
-   [<span data-ttu-id="d1eb7-115">更安全的函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-115">Safer Functions</span></span>](#safer-functions)

## <a name="attachment-callback-functions"></a><span data-ttu-id="d1eb7-116">附加函式回呼函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-116">Attachment Callback Functions</span></span>

<span data-ttu-id="d1eb7-117">下列支援函式是由安全性設定工具集所提供，可供附件引擎和延伸嵌入式管理單元用來讀取和寫入設定資料。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-117">The following support functions are provided by the Security Configuration tool set and may be used by attachment engines and extension snap-ins to read and write configuration data.</span></span>



| <span data-ttu-id="d1eb7-118">回呼函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-118">Callback function</span></span>                                         | <span data-ttu-id="d1eb7-119">Description</span><span class="sxs-lookup"><span data-stu-id="d1eb7-119">Description</span></span>                                                                                 |
|-----------------------------------------------------------|---------------------------------------------------------------------------------------------|
| [<span data-ttu-id="d1eb7-120">**PFSCE \_ 免費 \_ 資訊**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-120">**PFSCE\_FREE\_INFO**</span></span>](/windows/win32/api/scesvc/nc-scesvc-pfsce_free_info)<br/>   | <span data-ttu-id="d1eb7-121">用來釋放這些支援函數所配置的記憶體。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-121">Used to free memory allocated by these support functions.</span></span><br/>                        |
| [<span data-ttu-id="d1eb7-122">**PFSCE \_ 記錄 \_ 資訊**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-122">**PFSCE\_LOG\_INFO**</span></span>](/windows/win32/api/scesvc/nc-scesvc-pfsce_log_info)<br/>     | <span data-ttu-id="d1eb7-123">用來將訊息記錄到設定檔或分析記錄檔。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-123">Used to log message to the configuration log file or analysis log file.</span></span><br/>          |
| [<span data-ttu-id="d1eb7-124">**PFSCE \_ 查詢 \_ 資訊**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-124">**PFSCE\_QUERY\_INFO**</span></span>](/windows/win32/api/scesvc/nc-scesvc-pfsce_query_info)<br/> | <span data-ttu-id="d1eb7-125">用來查詢特定服務的設定和分析資訊。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-125">Used to query the configuration and analysis information for a specific service.</span></span><br/> |
| [<span data-ttu-id="d1eb7-126">**PFSCE \_ 設定 \_ 資訊**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-126">**PFSCE\_SET\_INFO**</span></span>](/windows/win32/api/scesvc/nc-scesvc-pfsce_set_info)<br/>     | <span data-ttu-id="d1eb7-127">用來設定特定服務的設定和分析資訊。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-127">Used to set configuration and analysis information for a specific service.</span></span><br/>       |



 

## <a name="attachment-engine-functions"></a><span data-ttu-id="d1eb7-128">附件引擎函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-128">Attachment Engine Functions</span></span>



| <span data-ttu-id="d1eb7-129">函式</span><span class="sxs-lookup"><span data-stu-id="d1eb7-129">Function</span></span>                                                              | <span data-ttu-id="d1eb7-130">描述</span><span class="sxs-lookup"><span data-stu-id="d1eb7-130">Description</span></span>                                                                                                                                                                                       |
|-----------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="d1eb7-131">**SceSvcAttachmentAnalyze**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-131">**SceSvcAttachmentAnalyze**</span></span>](scesvcattachmentanalyze.md)<br/> | <span data-ttu-id="d1eb7-132">由附件引擎 DLL 所執行。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-132">Implemented by the attachment engine DLL.</span></span> <span data-ttu-id="d1eb7-133">當系統分析時，安全性設定引擎會呼叫此函式。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-133">The Security Configuration Engine calls this function when the system is analyzed.</span></span><br/>                                                           |
| [<span data-ttu-id="d1eb7-134">**SceSvcAttachmentConfig**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-134">**SceSvcAttachmentConfig**</span></span>](scesvcattachmentconfig.md)<br/>   | <span data-ttu-id="d1eb7-135">由附件引擎 DLL 所執行。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-135">Implemented by the attachment engine DLL.</span></span> <span data-ttu-id="d1eb7-136">當系統設定時，安全性設定引擎會呼叫此函式。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-136">The Security Configuration Engine calls this function when the system is configured.</span></span><br/>                                                         |
| [<span data-ttu-id="d1eb7-137">**SceSvcAttachmentUpdate**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-137">**SceSvcAttachmentUpdate**</span></span>](scesvcattachmentupdate.md)<br/>   | <span data-ttu-id="d1eb7-138">由附件引擎 DLL 所執行。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-138">Implemented by the attachment engine DLL.</span></span> <span data-ttu-id="d1eb7-139">當安全性設定引擎從附件嵌入式管理單元擴充功能收到設定更新要求時，就會呼叫此函式。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-139">The Security Configuration Engine calls this function when it receives a configuration update request from the attachment snap-in extension.</span></span><br/> |



 

## <a name="lsa-policy-functions"></a><span data-ttu-id="d1eb7-140">LSA 原則函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-140">LSA Policy Functions</span></span>

<span data-ttu-id="d1eb7-141">下列主題提供 [*本機安全機構*](/windows/desktop/SecGloss/l-gly) (LSA) 原則功能的參考資訊。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-141">The following topics provide reference information for the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) Policy functions.</span></span>



| <span data-ttu-id="d1eb7-142">主題</span><span class="sxs-lookup"><span data-stu-id="d1eb7-142">Topic</span></span>                               | <span data-ttu-id="d1eb7-143">描述</span><span class="sxs-lookup"><span data-stu-id="d1eb7-143">Description</span></span>                                                                                                                                                                                   |
|-------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="d1eb7-144">原則函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-144">Policy Functions</span></span><br/>         | <span data-ttu-id="d1eb7-145">詳細說明用來開啟本機 [**原則**](policy-object.md) 物件，以及設定或抓取全域原則資訊的函式。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-145">Details functions used to open the local [**Policy**](policy-object.md) object and to set or retrieve global policy information.</span></span><br/>                                                  |
| <span data-ttu-id="d1eb7-146">帳戶功能</span><span class="sxs-lookup"><span data-stu-id="d1eb7-146">Account Functions</span></span><br/>        | <span data-ttu-id="d1eb7-147">詳細說明用來管理帳戶許可權，以及建立和刪除使用者帳戶的功能。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-147">Details functions used to manage account permissions and to create and delete user accounts.</span></span><br/>                                                                                       |
| <span data-ttu-id="d1eb7-148">受信任的網域函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-148">Trusted Domain Functions</span></span><br/> | <span data-ttu-id="d1eb7-149">詳細說明用來建立和刪除受信任網域關聯性的函式，以及設定和取得這些受信任網域的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-149">Details functions used to create and delete trusted domain relationships and to set and retrieve information about those trusted domains.</span></span><br/>                                          |
| <span data-ttu-id="d1eb7-150">私用資料函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-150">Private Data Functions</span></span><br/>   | <span data-ttu-id="d1eb7-151">請勿使用 LSA 私用資料函數。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-151">Do not use the LSA private data functions.</span></span> <span data-ttu-id="d1eb7-152">相反地，請使用 [**CryptProtectData**](/windows/desktop/api/dpapi/nf-dpapi-cryptprotectdata) 和 [**CryptUnprotectData**](/windows/desktop/api/dpapi/nf-dpapi-cryptunprotectdata) 函數。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-152">Instead, use the [**CryptProtectData**](/windows/desktop/api/dpapi/nf-dpapi-cryptprotectdata) and [**CryptUnprotectData**](/windows/desktop/api/dpapi/nf-dpapi-cryptunprotectdata) functions.</span></span><br/> |
| <span data-ttu-id="d1eb7-153">雜項函式</span><span class="sxs-lookup"><span data-stu-id="d1eb7-153">Miscellaneous Functions</span></span><br/>  | <span data-ttu-id="d1eb7-154">詳細資料函式未在其他地方描述。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-154">Details functions not described elsewhere.</span></span><br/>                                                                                                                                         |



 

### <a name="policy-functions"></a><span data-ttu-id="d1eb7-155">原則函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-155">Policy Functions</span></span>

<span data-ttu-id="d1eb7-156">下列函式會列舉使用者帳戶和信任的網域、接收原則變更通知，以及查閱帳戶名稱和 Sid。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-156">The following functions enumerate user accounts and trusted domains, receive policy change notifications, and lookup account names and SIDs.</span></span>



| <span data-ttu-id="d1eb7-157">函式</span><span class="sxs-lookup"><span data-stu-id="d1eb7-157">Function</span></span>                                                                                          | <span data-ttu-id="d1eb7-158">描述</span><span class="sxs-lookup"><span data-stu-id="d1eb7-158">Description</span></span>                                                                                                                                                                                                                                                                                                                                           |
|---------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="d1eb7-159">**LsaEnumerateAccountsWithUserRight**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-159">**LsaEnumerateAccountsWithUserRight**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaenumerateaccountswithuserright)<br/>         | <span data-ttu-id="d1eb7-160">列舉具有指定使用者權限的所有帳戶。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-160">Enumerates all the accounts that have a specified user permission.</span></span><br/>                                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="d1eb7-161">**LsaEnumerateTrustedDomainsEx**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-161">**LsaEnumerateTrustedDomainsEx**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaenumeratetrusteddomainsex)<br/>                   | <span data-ttu-id="d1eb7-162">列舉受信任的網域。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-162">Enumerates the trusted domains.</span></span><br/>                                                                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="d1eb7-163">**LsaLookupNames**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-163">**LsaLookupNames**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsalookupnames)<br/>                                               | <span data-ttu-id="d1eb7-164">將指定的名稱對應至其 Sid。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-164">Maps the specified names to their SIDs.</span></span> <span data-ttu-id="d1eb7-165">傳回 SID 做為 RID/網域 SID 組。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-165">Returns the SID as an RID/Domain SID pair.</span></span><br/>                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="d1eb7-166">**LsaLookupNames2**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-166">**LsaLookupNames2**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsalookupnames2)<br/>                                             | <span data-ttu-id="d1eb7-167">將指定的名稱對應至其 Sid。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-167">Maps the specified names to their SIDs.</span></span> <span data-ttu-id="d1eb7-168">傳回做為單一元素的 SID。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-168">Returns the SID as a single element.</span></span><br/>                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="d1eb7-169">**LsaLookupPrivilegeValue**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-169">**LsaLookupPrivilegeValue**</span></span>](/windows/desktop/api/ntlsa/nf-ntlsa-lsalookupprivilegevalue)<br/>                             | <span data-ttu-id="d1eb7-170">抓取 [*本地安全機構*](/windows/desktop/SecGloss/l-gly) (LSA) 用來代表指定的許可權名稱 (LUID) 的 [*本機唯一識別碼*](/windows/desktop/SecGloss/l-gly)。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-170">Retrieves the [*locally unique identifier*](/windows/desktop/SecGloss/l-gly) (LUID) used by the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) to represent the specified privilege name.</span></span><br/> |
| [<span data-ttu-id="d1eb7-171">**LsaLookupSids**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-171">**LsaLookupSids**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsalookupsids)<br/>                                                 | <span data-ttu-id="d1eb7-172">將指定的帳號名稱對應至其 Sid。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-172">Maps the specified account names to their SIDs.</span></span><br/>                                                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="d1eb7-173">**LsaRegisterPolicyChangeNotification**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-173">**LsaRegisterPolicyChangeNotification**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaregisterpolicychangenotification)<br/>     | <span data-ttu-id="d1eb7-174">註冊事件物件，以在本機原則資訊變更時接收通知。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-174">Registers an event object to receive notifications when the local policy information changes.</span></span><br/>                                                                                                                                                                                                                                              |
| [<span data-ttu-id="d1eb7-175">**LsaUnregisterPolicyChangeNotification**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-175">**LsaUnregisterPolicyChangeNotification**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaunregisterpolicychangenotification)<br/> | <span data-ttu-id="d1eb7-176">取消註冊接收原則變更通知的事件物件。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-176">Unregisters an event object that is receiving policy change notifications.</span></span><br/>                                                                                                                                                                                                                                                                 |



 

### <a name="account-functions"></a><span data-ttu-id="d1eb7-177">帳戶功能</span><span class="sxs-lookup"><span data-stu-id="d1eb7-177">Account Functions</span></span>

<span data-ttu-id="d1eb7-178">下列函式會新增、列舉和刪除帳戶的許可權。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-178">The following functions add, enumerate, and delete permissions for an account.</span></span>



| <span data-ttu-id="d1eb7-179">函式</span><span class="sxs-lookup"><span data-stu-id="d1eb7-179">Function</span></span>                                                                  | <span data-ttu-id="d1eb7-180">描述</span><span class="sxs-lookup"><span data-stu-id="d1eb7-180">Description</span></span>                                                                                                  |
|---------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="d1eb7-181">**LsaAddAccountRights**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-181">**LsaAddAccountRights**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaaddaccountrights)<br/>             | <span data-ttu-id="d1eb7-182">將許可權新增至帳戶。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-182">Add permissions to an account.</span></span> <span data-ttu-id="d1eb7-183">如果帳戶不存在，就會建立該帳戶。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-183">If the account does not already exist, it is created.</span></span><br/>              |
| [<span data-ttu-id="d1eb7-184">**LsaEnumerateAccountRights**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-184">**LsaEnumerateAccountRights**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaenumerateaccountrights)<br/> | <span data-ttu-id="d1eb7-185">列舉授與帳戶的許可權。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-185">Enumerate the permissions granted to an account.</span></span><br/>                                                  |
| [<span data-ttu-id="d1eb7-186">**LsaRemoveAccountRights**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-186">**LsaRemoveAccountRights**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaremoveaccountrights)<br/>       | <span data-ttu-id="d1eb7-187">移除帳戶的許可權。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-187">Remove permissions from an account.</span></span> <span data-ttu-id="d1eb7-188">移除擁有權限後，就會刪除該帳戶。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-188">When all the permissions are removed, the account is deleted.</span></span><br/> |



 

### <a name="trusted-domain-functions"></a><span data-ttu-id="d1eb7-189">受信任的網域函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-189">Trusted Domain Functions</span></span>

<span data-ttu-id="d1eb7-190">下列函式會建立、列舉及刪除信任的網域，以及設定和抓取受信任的網域資訊。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-190">The following functions create, enumerate, and delete trusted domains and set and retrieve trusted domain information.</span></span>



| <span data-ttu-id="d1eb7-191">函式</span><span class="sxs-lookup"><span data-stu-id="d1eb7-191">Function</span></span>                                                                                                                                                    | <span data-ttu-id="d1eb7-192">描述</span><span class="sxs-lookup"><span data-stu-id="d1eb7-192">Description</span></span>                                                                               |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|
| [<span data-ttu-id="d1eb7-193">**LsaCreateTrustedDomainEx**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-193">**LsaCreateTrustedDomainEx**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacreatetrusteddomainex)<br/>                                                                                     | <span data-ttu-id="d1eb7-194">建立新的 [**TrustedDomain**](trusteddomain-object.md) 物件。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-194">Creates a new [**TrustedDomain**](trusteddomain-object.md) object.</span></span><br/>            |
| [<span data-ttu-id="d1eb7-195">**LsaDeleteTrustedDomain**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-195">**LsaDeleteTrustedDomain**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsadeletetrusteddomain)<br/>                                                                                         | <span data-ttu-id="d1eb7-196">移除 [**TrustedDomain**](trusteddomain-object.md) 物件。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-196">Removes a [**TrustedDomain**](trusteddomain-object.md) object.</span></span><br/>                |
| [<span data-ttu-id="d1eb7-197">**LsaEnumerateTrustedDomains**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-197">**LsaEnumerateTrustedDomains**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaenumeratetrusteddomains)<br/> [<span data-ttu-id="d1eb7-198">**LsaEnumerateTrustedDomainsEx**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-198">**LsaEnumerateTrustedDomainsEx**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaenumeratetrusteddomainsex)<br/> | <span data-ttu-id="d1eb7-199">列舉本機系統目前受信任的網域。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-199">Enumerates the domains currently trusted by the local system.</span></span><br/>                  |
| [<span data-ttu-id="d1eb7-200">**LsaOpenTrustedDomainByName**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-200">**LsaOpenTrustedDomainByName**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaopentrusteddomainbyname)<br/>                                                                                 | <span data-ttu-id="d1eb7-201">開啟 [**TrustedDomain**](trusteddomain-object.md) 物件的控制碼。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-201">Opens a handle to a [**TrustedDomain**](trusteddomain-object.md) object.</span></span><br/>      |
| [<span data-ttu-id="d1eb7-202">**LsaQueryTrustedDomainInfo**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-202">**LsaQueryTrustedDomainInfo**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaquerytrusteddomaininfo)<br/>                                                                                   | <span data-ttu-id="d1eb7-203">抓取受信任網域的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-203">Retrieves information about a trusted domain.</span></span> <span data-ttu-id="d1eb7-204">網域是由 SID 指定。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-204">The domain is specified by SID.</span></span><br/>  |
| [<span data-ttu-id="d1eb7-205">**>lsaquerytrusteddomaininfobyname**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-205">**LsaQueryTrustedDomainInfoByName**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaquerytrusteddomaininfobyname)<br/>                                                                       | <span data-ttu-id="d1eb7-206">抓取受信任網域的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-206">Retrieves information about a trusted domain.</span></span> <span data-ttu-id="d1eb7-207">網域是依名稱指定。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-207">The domain is specified by name.</span></span><br/> |
| [<span data-ttu-id="d1eb7-208">**LsaSetTrustedDomainInfoByName**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-208">**LsaSetTrustedDomainInfoByName**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsasettrusteddomaininfobyname)<br/>                                                                           | <span data-ttu-id="d1eb7-209">設定受信任網域的資訊。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-209">Sets information for a trusted domain.</span></span> <span data-ttu-id="d1eb7-210">網域是依名稱指定。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-210">The domain is specified by name.</span></span><br/>        |
| [<span data-ttu-id="d1eb7-211">**LsaSetTrustedDomainInformation**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-211">**LsaSetTrustedDomainInformation**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsasettrusteddomaininformation)<br/>                                                                         | <span data-ttu-id="d1eb7-212">設定受信任網域的資訊。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-212">Sets information for a trusted domain.</span></span> <span data-ttu-id="d1eb7-213">網域是由 SID 指定。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-213">The domain is specified by SID.</span></span><br/>         |



 

### <a name="private-data-functions"></a><span data-ttu-id="d1eb7-214">私用資料函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-214">Private Data Functions</span></span>

<span data-ttu-id="d1eb7-215">請勿使用 LSA 私用資料函數。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-215">Do not use the LSA private data functions.</span></span> <span data-ttu-id="d1eb7-216">相反地，請使用 [**CryptProtectData**](/windows/desktop/api/dpapi/nf-dpapi-cryptprotectdata) 和 [**CryptUnprotectData**](/windows/desktop/api/dpapi/nf-dpapi-cryptunprotectdata) 函數。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-216">Instead, use the [**CryptProtectData**](/windows/desktop/api/dpapi/nf-dpapi-cryptprotectdata) and [**CryptUnprotectData**](/windows/desktop/api/dpapi/nf-dpapi-cryptunprotectdata) functions.</span></span>



| <span data-ttu-id="d1eb7-217">函式</span><span class="sxs-lookup"><span data-stu-id="d1eb7-217">Function</span></span>                                                            | <span data-ttu-id="d1eb7-218">描述</span><span class="sxs-lookup"><span data-stu-id="d1eb7-218">Description</span></span>                                 |
|---------------------------------------------------------------------|---------------------------------------------|
| [<span data-ttu-id="d1eb7-219">**LsaRetrievePrivateData**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-219">**LsaRetrievePrivateData**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaretrieveprivatedata)<br/> | <span data-ttu-id="d1eb7-220">抓取和解密字串。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-220">Retrieves and decrypts a string.</span></span><br/> |
| [<span data-ttu-id="d1eb7-221">**LsaStorePrivateData**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-221">**LsaStorePrivateData**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsastoreprivatedata)<br/>       | <span data-ttu-id="d1eb7-222">加密並儲存字串。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-222">Encrypts and stores a string.</span></span><br/>    |



 

### <a name="miscellaneous-functions"></a><span data-ttu-id="d1eb7-223">雜項函式</span><span class="sxs-lookup"><span data-stu-id="d1eb7-223">Miscellaneous Functions</span></span>

<span data-ttu-id="d1eb7-224">LSA 原則 API 有下列三個函式，這些函式不符合任何其他 LSA 原則函數類別。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-224">The LSA Policy API has the following three functions that do not fit into any of the other LSA Policy function categories.</span></span>



| <span data-ttu-id="d1eb7-225">函式</span><span class="sxs-lookup"><span data-stu-id="d1eb7-225">Function</span></span>                                                          | <span data-ttu-id="d1eb7-226">描述</span><span class="sxs-lookup"><span data-stu-id="d1eb7-226">Description</span></span>                                                                                                                       |
|-------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="d1eb7-227">**LsaClose**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-227">**LsaClose**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaclose)<br/>                           | <span data-ttu-id="d1eb7-228">關閉 [**原則**](policy-object.md) 物件或 [**TrustedDomain**](trusteddomain-object.md) 物件的控制碼。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-228">Closes a handle to a [**Policy**](policy-object.md) object or a [**TrustedDomain**](trusteddomain-object.md) object.</span></span><br/> |
| [<span data-ttu-id="d1eb7-229">**LsaFreeMemory**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-229">**LsaFreeMemory**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsafreememory)<br/>                 | <span data-ttu-id="d1eb7-230">釋放 LSA 函數所配置的緩衝區。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-230">Frees a buffer allocated by an LSA function.</span></span><br/>                                                                           |
| [<span data-ttu-id="d1eb7-231">**LsaNtStatusToWinError**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-231">**LsaNtStatusToWinError**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsantstatustowinerror)<br/> | <span data-ttu-id="d1eb7-232">將 **NTSTATUS** 值轉換為 Windows 錯誤碼。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-232">Converts an **NTSTATUS** value to a Windows error code.</span></span><br/>                                                                |



 

## <a name="managed-service-account-functions"></a><span data-ttu-id="d1eb7-233">受管理的服務帳戶功能</span><span class="sxs-lookup"><span data-stu-id="d1eb7-233">Managed Service Account Functions</span></span>

<span data-ttu-id="d1eb7-234">下列函式可用來建立、列舉、尋找及刪除受管理的服務帳戶。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-234">The following functions are used to create, enumerate, find, and delete managed service accounts.</span></span>



| <span data-ttu-id="d1eb7-235">函式</span><span class="sxs-lookup"><span data-stu-id="d1eb7-235">Function</span></span>                                                                      | <span data-ttu-id="d1eb7-236">描述</span><span class="sxs-lookup"><span data-stu-id="d1eb7-236">Description</span></span>                                                                                                                 |
|-------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="d1eb7-237">**NetAddServiceAccount**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-237">**NetAddServiceAccount**</span></span>](/windows/desktop/api/Lmaccess/nf-lmaccess-netaddserviceaccount)<br/>               | <span data-ttu-id="d1eb7-238">建立受管理的服務帳戶。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-238">Creates a managed service account.</span></span><br/>                                                                               |
| [<span data-ttu-id="d1eb7-239">**NetEnumerateServiceAccounts**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-239">**NetEnumerateServiceAccounts**</span></span>](/windows/desktop/api/Lmaccess/nf-lmaccess-netenumerateserviceaccounts)<br/> | <span data-ttu-id="d1eb7-240">列舉指定伺服器上的伺服器帳戶。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-240">Enumerates the server accounts on the specified server.</span></span><br/>                                                          |
| [<span data-ttu-id="d1eb7-241">**NetIsServiceAccount**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-241">**NetIsServiceAccount**</span></span>](/windows/desktop/api/Lmaccess/nf-lmaccess-netisserviceaccount)<br/>                 | <span data-ttu-id="d1eb7-242">測試指定的服務帳戶是否存在於指定伺服器上的 Netlogon 存放區中。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-242">Tests whether the specified service account exists in the Netlogon store on the specified server.</span></span><br/>                |
| [<span data-ttu-id="d1eb7-243">**NetRemoveServiceAccount**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-243">**NetRemoveServiceAccount**</span></span>](/windows/desktop/api/Lmaccess/nf-lmaccess-netremoveserviceaccount)<br/>         | <span data-ttu-id="d1eb7-244">從 [Active Directory](/windows/desktop/AD/active-directory-domain-services) 資料庫中刪除指定的服務帳戶。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-244">Deletes the specified service account from the [Active Directory](/windows/desktop/AD/active-directory-domain-services) database.</span></span><br/> |



 

## <a name="password-filter-functions"></a><span data-ttu-id="d1eb7-245">密碼篩選函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-245">Password Filter Functions</span></span>

<span data-ttu-id="d1eb7-246">下列 [*密碼篩選*](/windows/desktop/SecGloss/p-gly) 函式是由自訂密碼篩選 dll 所執行，以提供密碼篩選和密碼變更通知。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-246">The following [*password filter*](/windows/desktop/SecGloss/p-gly) functions are implemented by custom password filter DLLs to provide password filtering and password change notification.</span></span>



| <span data-ttu-id="d1eb7-247">函式</span><span class="sxs-lookup"><span data-stu-id="d1eb7-247">Function</span></span>                                                            | <span data-ttu-id="d1eb7-248">描述</span><span class="sxs-lookup"><span data-stu-id="d1eb7-248">Description</span></span>                                                     |
|---------------------------------------------------------------------|-----------------------------------------------------------------|
| [<span data-ttu-id="d1eb7-249">**InitializeChangeNotify**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-249">**InitializeChangeNotify**</span></span>](/windows/desktop/api/Ntsecapi/nc-ntsecapi-psam_init_notification_routine)<br/> | <span data-ttu-id="d1eb7-250">指出密碼篩選 DLL 已初始化。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-250">Indicates that a password filter DLL is initialized.</span></span><br/> |
| [<span data-ttu-id="d1eb7-251">**PasswordChangeNotify**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-251">**PasswordChangeNotify**</span></span>](/windows/desktop/api/Ntsecapi/nc-ntsecapi-psam_password_notification_routine)<br/>     | <span data-ttu-id="d1eb7-252">指出密碼已變更。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-252">Indicates that a password has been changed.</span></span><br/>          |
| [<span data-ttu-id="d1eb7-253">**PasswordFilter**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-253">**PasswordFilter**</span></span>](/windows/desktop/api/Ntsecapi/nc-ntsecapi-psam_password_filter_routine)<br/>                 | <span data-ttu-id="d1eb7-254">根據密碼原則驗證新的密碼。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-254">Validates a new password based on password policy.</span></span><br/>   |



 

## <a name="safer-functions"></a><span data-ttu-id="d1eb7-255">更安全的函數</span><span class="sxs-lookup"><span data-stu-id="d1eb7-255">Safer Functions</span></span>

<span data-ttu-id="d1eb7-256">下列安全的函式可用來檢查任何可執行檔的安全性層級，以及記錄事件。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-256">The following Safer functions can be used to check the safer level of any executable and to log events.</span></span>



| <span data-ttu-id="d1eb7-257">函式</span><span class="sxs-lookup"><span data-stu-id="d1eb7-257">Function</span></span>                                                         | <span data-ttu-id="d1eb7-258">描述</span><span class="sxs-lookup"><span data-stu-id="d1eb7-258">Description</span></span>                                                                                                                                                                          |
|------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="d1eb7-259">**SaferCloseLevel**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-259">**SaferCloseLevel**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-safercloselevel)                       | <span data-ttu-id="d1eb7-260">\_ \_ 使用 [**SaferIdentifyLevel**](/windows/desktop/api/WinSafer/nf-winsafer-saferidentifylevel)函數或 [**SaferCreateLevel**](/windows/desktop/api/WinSafer/nf-winsafer-safercreatelevel)函數，關閉開啟的更安全層級控制碼。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-260">Closes a SAFER\_LEVEL\_HANDLE opened by using the [**SaferIdentifyLevel**](/windows/desktop/api/WinSafer/nf-winsafer-saferidentifylevel) function or the [**SaferCreateLevel**](/windows/desktop/api/WinSafer/nf-winsafer-safercreatelevel) function.</span></span><br/> |
| [<span data-ttu-id="d1eb7-261">**SaferComputeTokenFromLevel**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-261">**SaferComputeTokenFromLevel**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-safercomputetokenfromlevel) | <span data-ttu-id="d1eb7-262">使用更安全 \_ 層級控制碼所指定的限制來限制權杖 \_ 。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-262">Restricts a token using restrictions specified by a SAFER\_LEVEL\_HANDLE.</span></span><br/>                                                                                                 |
| [<span data-ttu-id="d1eb7-263">**SaferCreateLevel**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-263">**SaferCreateLevel**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-safercreatelevel)                     | <span data-ttu-id="d1eb7-264">開啟更安全的 \_ 層級 \_ 控制碼。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-264">Opens a SAFER\_LEVEL\_HANDLE.</span></span><br/>                                                                                                                                             |
| [<span data-ttu-id="d1eb7-265">**SaferGetLevelInformation**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-265">**SaferGetLevelInformation**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-safergetlevelinformation)     | <span data-ttu-id="d1eb7-266">捕獲原則層級的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-266">Retrieves information about a policy level.</span></span><br/>                                                                                                                               |
| [<span data-ttu-id="d1eb7-267">**SaferGetPolicyInformation**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-267">**SaferGetPolicyInformation**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-safergetpolicyinformation)   | <span data-ttu-id="d1eb7-268">捕獲原則的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-268">Retrieves information about a policy.</span></span><br/>                                                                                                                                     |
| [<span data-ttu-id="d1eb7-269">**SaferIdentifyLevel**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-269">**SaferIdentifyLevel**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-saferidentifylevel)                 | <span data-ttu-id="d1eb7-270">捕獲層級的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-270">Retrieves information about a level.</span></span><br/>                                                                                                                                      |
| [<span data-ttu-id="d1eb7-271">**SaferiIsExecutableFileType**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-271">**SaferiIsExecutableFileType**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-saferiisexecutablefiletype) | <span data-ttu-id="d1eb7-272">判斷指定的檔案是否為可執行檔。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-272">Determines whether a specified file is an executable file.</span></span><br/>                                                                                                                |
| [<span data-ttu-id="d1eb7-273">**SaferRecordEventLogEntry**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-273">**SaferRecordEventLogEntry**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-saferrecordeventlogentry)     | <span data-ttu-id="d1eb7-274">將訊息傳送至事件記錄檔。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-274">Sends a message to the event log.</span></span><br/>                                                                                                                                         |
| [<span data-ttu-id="d1eb7-275">**SaferSetLevelInformation**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-275">**SaferSetLevelInformation**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-safersetlevelinformation)     | <span data-ttu-id="d1eb7-276">設定原則層級的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-276">Sets the information about a policy level.</span></span><br/>                                                                                                                                |
| [<span data-ttu-id="d1eb7-277">**SaferSetPolicyInformation**</span><span class="sxs-lookup"><span data-stu-id="d1eb7-277">**SaferSetPolicyInformation**</span></span>](/windows/desktop/api/WinSafer/nf-winsafer-safergetlevelinformation)    | <span data-ttu-id="d1eb7-278">設定全域原則控制項。</span><span class="sxs-lookup"><span data-stu-id="d1eb7-278">Sets the global policy controls.</span></span><br/>                                                                                                                                          |



 

 

