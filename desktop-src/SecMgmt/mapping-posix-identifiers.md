---
description: Posix 子系統必須能夠將遇到的任何安全識別碼 () SID 轉譯為32位值（稱為 Posix ID）。
ms.assetid: cd6c89ef-c3f1-47fe-8183-320b5d24b0dd
title: 對應 Posix 識別碼
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dabb944b543fba65942eb89d526590a5aff2c26c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/08/2021
ms.locfileid: "103851519"
---
# <a name="mapping-posix-identifiers"></a><span data-ttu-id="7643f-103">對應 Posix 識別碼</span><span class="sxs-lookup"><span data-stu-id="7643f-103">Mapping Posix Identifiers</span></span>

<span data-ttu-id="7643f-104">Posix 子系統必須能夠將遇到的任何 [*安全識別碼*](/windows/desktop/SecGloss/s-gly) () SID 轉譯為32位值（稱為 *Posix ID*）。</span><span class="sxs-lookup"><span data-stu-id="7643f-104">The Posix subsystem must be able to translate any [*security identifier*](/windows/desktop/SecGloss/s-gly) (SID) it encounters into a 32-bit value, called a *Posix ID*.</span></span> <span data-ttu-id="7643f-105">此外，它還必須能夠將識別碼分類為使用者識別碼或群組識別碼。</span><span class="sxs-lookup"><span data-stu-id="7643f-105">Furthermore, it must be able to categorize the ID as either a user ID or a group ID.</span></span> <span data-ttu-id="7643f-106">若要瞭解此對應的完成方式，讓我們先看看必須對應的 Sid。</span><span class="sxs-lookup"><span data-stu-id="7643f-106">To understand how this mapping is accomplished, let's first look at the SIDs that must be mapped.</span></span>

<span data-ttu-id="7643f-107">Sid 有兩個元件：網域的 SID 和網域中帳戶的相對識別碼。</span><span class="sxs-lookup"><span data-stu-id="7643f-107">SIDs have two components, the SID of the domain and the relative ID of the account in the domain.</span></span> <span data-ttu-id="7643f-108">例如，在 SID S-1-518364-21-43-8 中，最後一個數位8是帳戶的相對識別碼 (RID) ，而 S-1-518364-21-43 是網域的 SID。</span><span class="sxs-lookup"><span data-stu-id="7643f-108">For example, in the SID S-1-518364-21-43-8, the last number, 8, is the account's relative ID (RID) and S-1-518364-21-43 is the SID of the domain.</span></span>

<span data-ttu-id="7643f-109">網域資訊儲存在 [**TrustedDomain**](trusteddomain-object.md) 物件中。</span><span class="sxs-lookup"><span data-stu-id="7643f-109">Domain information is stored in [**TrustedDomain**](trusteddomain-object.md) objects.</span></span> <span data-ttu-id="7643f-110">儲存在 **TrustedDomain** 物件中的部分資訊是要用於該網域內之 Sid 的 Posix 識別碼位移。</span><span class="sxs-lookup"><span data-stu-id="7643f-110">Part of the information stored in a **TrustedDomain** object is a Posix ID offset to be used for SIDs within that domain.</span></span> <span data-ttu-id="7643f-111">例如，假設 **TrustedDomain** 的定義如下：</span><span class="sxs-lookup"><span data-stu-id="7643f-111">For example, assume that a **TrustedDomain** is defined as follows:</span></span>

``` syntax
    Name:    NtPgm
    Sid:    S-1-518364-21-43
    Posix Offset:    0x130000
```

<span data-ttu-id="7643f-112">此網域中帳戶的 Posix 識別碼會透過將0x130000 新增至帳戶的相對識別碼來產生。</span><span class="sxs-lookup"><span data-stu-id="7643f-112">Posix IDs for accounts in this domain would be generated by adding 0x130000 to the relative ID of the account.</span></span> <span data-ttu-id="7643f-113">因此，對應至 SID S-1-518364-21-43-8 的 Posix 識別碼會是0x130008。</span><span class="sxs-lookup"><span data-stu-id="7643f-113">So, the Posix ID corresponding to the SID S-1-518364-21-43-8 would be 0x130008.</span></span>

<span data-ttu-id="7643f-114">並非所有 Posix 識別碼翻譯都使用 [**TrustedDomain**](trusteddomain-object.md) 物件。</span><span class="sxs-lookup"><span data-stu-id="7643f-114">Not all Posix ID translations make use of a [**TrustedDomain**](trusteddomain-object.md) object.</span></span> <span data-ttu-id="7643f-115">下表顯示使用已知的位移值所對應的 Sid。</span><span class="sxs-lookup"><span data-stu-id="7643f-115">The following table shows SIDs that are mapped using well-known offset values.</span></span>



| <span data-ttu-id="7643f-116">來源</span><span class="sxs-lookup"><span data-stu-id="7643f-116">Source</span></span>                                              | <span data-ttu-id="7643f-117">Posix 識別碼位移</span><span class="sxs-lookup"><span data-stu-id="7643f-117">Posix ID offset</span></span> |
|-----------------------------------------------------|-----------------|
| <span data-ttu-id="7643f-118">內建網域的 Sid</span><span class="sxs-lookup"><span data-stu-id="7643f-118">SIDs from the built-in domain</span></span>                       | <span data-ttu-id="7643f-119">0x20000</span><span class="sxs-lookup"><span data-stu-id="7643f-119">0x20000</span></span>         |
| <span data-ttu-id="7643f-120">帳戶網域中的 Sid</span><span class="sxs-lookup"><span data-stu-id="7643f-120">SIDs from the account domain</span></span>                        | <span data-ttu-id="7643f-121">0x30000</span><span class="sxs-lookup"><span data-stu-id="7643f-121">0x30000</span></span>         |
| <span data-ttu-id="7643f-122">從主域 (的 Sid 僅限工作站) </span><span class="sxs-lookup"><span data-stu-id="7643f-122">SIDs from the primary domain (on Workstations only)</span></span> | <span data-ttu-id="7643f-123">0x40000</span><span class="sxs-lookup"><span data-stu-id="7643f-123">0x40000</span></span>         |



 

<span data-ttu-id="7643f-124">最後，另一組 Sid （登入 Sid）需要進行特殊處理。</span><span class="sxs-lookup"><span data-stu-id="7643f-124">And finally, one other set of SIDs, logon SIDs, requires special processing.</span></span> <span data-ttu-id="7643f-125">這些值是由每個登入會話的 Windows 登入程式所指派，且格式為 S-1-5-5-X-Y，其中 X 和 Y 被視為單一大型 \_ 整數，每個登入會話都會遞增。</span><span class="sxs-lookup"><span data-stu-id="7643f-125">These values are assigned by the Windows logon process for each logon session and have the form S-1-5-5-X-Y, where X and Y are treated as a single LARGE\_INTEGER that is incremented for each logon session.</span></span> <span data-ttu-id="7643f-126">這些 Sid 會對應至常數 Posix 識別碼0xFFF。</span><span class="sxs-lookup"><span data-stu-id="7643f-126">These SIDs are mapped to the constant Posix ID 0xFFF.</span></span> <span data-ttu-id="7643f-127">若要對應 Posix ID 0xFFF，您可以轉譯任何最適合該情況的 [*登入識別碼*](/windows/desktop/SecGloss/l-gly) ，或者您可能會預設使用 S-1-5-5-0-0。</span><span class="sxs-lookup"><span data-stu-id="7643f-127">To map the Posix ID 0xFFF, you may translate whatever [*logon identifier*](/windows/desktop/SecGloss/l-gly) best suits the situation, or you may use S-1-5-5-0-0 by default.</span></span> <span data-ttu-id="7643f-128"> (例如，如果 posix 使用者將保護套用至物件，並指定 FFFx，則比起只指派 S-1-5-5-0-0 來取代該使用者的登入識別碼是最好的做法。 ) </span><span class="sxs-lookup"><span data-stu-id="7643f-128">(For example, if a posix user applies protection to an object and specifies FFFx, it is better to substitute that user's logon identifier than just assigning S-1-5-5-0-0.)</span></span>

 

 
