---
description: 描述 WsdCodeGen 設定檔。
ms.assetid: 6dc340db-221e-4389-ba76-9f189f91866b
title: WsdCodeGen 設定檔
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b8c252c5361fda411e2b7eca4f906ba92085a552
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "104114836"
---
# <a name="wsdcodegen-configuration-file"></a><span data-ttu-id="fa105-103">WsdCodeGen 設定檔</span><span class="sxs-lookup"><span data-stu-id="fa105-103">WsdCodeGen Configuration File</span></span>

<span data-ttu-id="fa105-104">WsdCodeGen 設定檔通常是由 WsdCodeGen 工具所產生。</span><span class="sxs-lookup"><span data-stu-id="fa105-104">A WsdCodeGen configuration file is usually generated by the WsdCodeGen tool.</span></span> <span data-ttu-id="fa105-105">您可以手動建立設定檔，但是檔案的複雜度和長度通常會無法手動編碼。</span><span class="sxs-lookup"><span data-stu-id="fa105-105">You can create configuration files manually, but the complexity and length of the file typically precludes hand-coding.</span></span> <span data-ttu-id="fa105-106">我們強烈建議使用 WsdCodeGen 來產生檔案。</span><span class="sxs-lookup"><span data-stu-id="fa105-106">We strongly recommend using WsdCodeGen to generate the file.</span></span> <span data-ttu-id="fa105-107">如需產生設定檔的詳細資訊，請參閱 [使用 WsdCodeGen](using-wsdcodegen.md) 和 [WsdCodeGen 命令列語法](wsdcodegen-command-line-syntax.md)。</span><span class="sxs-lookup"><span data-stu-id="fa105-107">For more information about generating configuration files, see [Using WsdCodeGen](using-wsdcodegen.md) and [WsdCodeGen Command Line Syntax](wsdcodegen-command-line-syntax.md).</span></span>

<span data-ttu-id="fa105-108">您應該檢查產生的設定檔，並視需要加以修改，然後再使用它來建立原始程式碼。</span><span class="sxs-lookup"><span data-stu-id="fa105-108">You should inspect the generated configuration file, and if necessary, modify it before using it to create source code.</span></span> <span data-ttu-id="fa105-109">WsdCodeGen 產生的設定檔通常已足以進行大部分的用戶端開發。</span><span class="sxs-lookup"><span data-stu-id="fa105-109">The configuration file generated by WsdCodeGen is typically sufficient for most client development.</span></span>

<span data-ttu-id="fa105-110">若要使用設定檔進行伺服器開發，需要進行一些修改。</span><span class="sxs-lookup"><span data-stu-id="fa105-110">To use the configuration file for server development, some modifications are required.</span></span> <span data-ttu-id="fa105-111">如果已啟用裝載 (亦即，如果選取了 [全部] 或 [主機] 模式) ，請視需要修改 [**ThisModelMetadata**](thismodelmetadata.md) 元素和其子項目的內容。</span><span class="sxs-lookup"><span data-stu-id="fa105-111">If hosting is enabled (i.e., if "all" or "host" mode is selected), modify the contents of the [**ThisModelMetadata**](thismodelmetadata.md) element and its child elements as necessary.</span></span> <span data-ttu-id="fa105-112">此外，請視需要 [**修改或移除 ThisModelMetadata 元素或裝載**](hosted.md)專案內的 [**PnPXDeviceCategory**](/windows/desktop/WsdApi/pnpxdevicecategory)、 [**PnPXHardwareId**](pnpxhardwareid.md)和 [**PnPXCompatibleId**](/windows/desktop/WsdApi/pnpxcompatibleid)元素。</span><span class="sxs-lookup"><span data-stu-id="fa105-112">Also, modify or remove the [**PnPXDeviceCategory**](/windows/desktop/WsdApi/pnpxdevicecategory), [**PnPXHardwareId**](pnpxhardwareid.md), and [**PnPXCompatibleId**](/windows/desktop/WsdApi/pnpxcompatibleid) elements inside the **ThisModelMetadata** element or [**Hosted**](hosted.md) elements as necessary.</span></span>

<span data-ttu-id="fa105-113">設定檔是由一系列的元素所組成，這些專案會提供產生程式碼的輸入資料，後面接著任意數量的 [**檔案元素，**](file.md) 以描述要產生的檔案。</span><span class="sxs-lookup"><span data-stu-id="fa105-113">A configuration file consists of a sequence of elements that provide input data for code generation followed by any number of [**file**](file.md) elements that describe the files to be generated.</span></span> <span data-ttu-id="fa105-114">輸入資料包含一些全域屬性，以及以 WSDL、XSD 和 managed 元件表示之類型的參考。</span><span class="sxs-lookup"><span data-stu-id="fa105-114">Input data includes a few global properties and references to types expressed in WSDL, XSD, and managed assemblies.</span></span> <span data-ttu-id="fa105-115">**File** 元素中的 TEXT 和 CDATA 會寫入產生的檔案，而不需要修改。</span><span class="sxs-lookup"><span data-stu-id="fa105-115">Text and CDATA in **file** elements are written to the generated files without modification.</span></span> <span data-ttu-id="fa105-116">在產生的 **檔案中，** 會使用產生的程式碼來取代檔案元素中的其他元素。</span><span class="sxs-lookup"><span data-stu-id="fa105-116">Other elements in **file** elements are replaced in the generated files with generated code.</span></span>

<span data-ttu-id="fa105-117">XML 設定檔必須遵循一些一般規則，才能正確地格式化以搭配程式碼產生器公用程式使用。</span><span class="sxs-lookup"><span data-stu-id="fa105-117">XML configuration files must follow a few general rules in order to be properly formatted for use with the code generator utility.</span></span> <span data-ttu-id="fa105-118">這些警告是：</span><span class="sxs-lookup"><span data-stu-id="fa105-118">These are:</span></span>

-   <span data-ttu-id="fa105-119">任何設定檔的根項目都是 [**wsdCodeGen**](wsdcodegen.md)。</span><span class="sxs-lookup"><span data-stu-id="fa105-119">The root element of any configuration file is [**wsdCodeGen**](wsdcodegen.md).</span></span>

-   <span data-ttu-id="fa105-120">包含單一資料型別的元素可與屬性交換。</span><span class="sxs-lookup"><span data-stu-id="fa105-120">Elements that contain simple data types are interchangeable with attributes.</span></span> <span data-ttu-id="fa105-121">例如：</span><span class="sxs-lookup"><span data-stu-id="fa105-121">For example:</span></span>

    ``` syntax
    <wsdCodeGen>
        <layerNumber>1</layerNumber>
    </wsdCodeGen>
    ```

    <span data-ttu-id="fa105-122">相當於：</span><span class="sxs-lookup"><span data-stu-id="fa105-122">is equivalent to:</span></span>

    ``` syntax
    <wsdCodeGen layerNumber="1"/>
    ```

-   <span data-ttu-id="fa105-123">一般情況下，專案的順序沒有限制。</span><span class="sxs-lookup"><span data-stu-id="fa105-123">In general, there is no constraint on the ordering of elements.</span></span> <span data-ttu-id="fa105-124">例如：</span><span class="sxs-lookup"><span data-stu-id="fa105-124">For example:</span></span>

    ``` syntax
    <wsdCodeGen>
        <layerNumber>1</layerNumber>
        <layerPrefix>MEDIA_</layerPrefix>
    </wsdCodeGen>
    ```

    <span data-ttu-id="fa105-125">相當於：</span><span class="sxs-lookup"><span data-stu-id="fa105-125">is equivalent to:</span></span>

    ``` syntax
    <wsdCodeGen>
        <layerPrefix>MEDIA_</layerPrefix>
        <layerNumber>1</layerNumber>
    </wsdCodeGen>
    ```

    <span data-ttu-id="fa105-126">不過，程式碼產生器會處理單一階段中的設定檔，而排序的確有一些相關性。</span><span class="sxs-lookup"><span data-stu-id="fa105-126">However, the code generator does process the configuration file in a single pass, and ordering does has some relevance.</span></span> <span data-ttu-id="fa105-127">例如，產生與特定埠類型相關之程式碼的檔案 [**元素，必須**](file.md) 出現在指示程式碼產生器讀取埠類型合約的元素之後。</span><span class="sxs-lookup"><span data-stu-id="fa105-127">For example, [**file**](file.md) elements that generate code relating to a particular port type must occur after the element that instructs the code generator to read the port type contract.</span></span>

<span data-ttu-id="fa105-128">如需 WsdCodeGen 設定檔中使用之元素的完整清單，請參閱 [WsdCodeGen 設定檔 XML 參考](wsdcodegen-configuration-file-xml-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="fa105-128">For a complete list of elements used in WsdCodeGen configuration files, see [WsdCodeGen Configuration File XML Reference](wsdcodegen-configuration-file-xml-reference.md).</span></span>

<span data-ttu-id="fa105-129">範例設定檔包含在 Windows SDK 中。</span><span class="sxs-lookup"><span data-stu-id="fa105-129">Sample configuration files are included with the Windows SDK.</span></span> <span data-ttu-id="fa105-130">如需詳細資訊，請參閱 [WSDAPI 範例](wsdapi-samples.md)。</span><span class="sxs-lookup"><span data-stu-id="fa105-130">For more information, see [WSDAPI Samples](wsdapi-samples.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="fa105-131">相關主題</span><span class="sxs-lookup"><span data-stu-id="fa105-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="fa105-132">關於 WsdCodeGen</span><span class="sxs-lookup"><span data-stu-id="fa105-132">About WsdCodeGen</span></span>](about-wsdcodegen.md)
</dt> <dt>

[<span data-ttu-id="fa105-133">WSDAPI 範例</span><span class="sxs-lookup"><span data-stu-id="fa105-133">WSDAPI Samples</span></span>](wsdapi-samples.md)
</dt> </dl>

 

 
