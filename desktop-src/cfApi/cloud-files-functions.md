---
description: 下列函式用於建立和維護預留位置檔案和目錄。
ms.assetid: 68B667E2-E8C6-41F9-A0E2-C8CDF60D6472
title: 雲端篩選函數
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: afc055b688339f2c7da231e6d2e91700aa3a35cf
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "103936540"
---
# <a name="cloud-filter-functions"></a><span data-ttu-id="aa179-103">雲端篩選函數</span><span class="sxs-lookup"><span data-stu-id="aa179-103">Cloud Filter Functions</span></span>

<span data-ttu-id="aa179-104">下列函式用於建立和維護預留位置檔案和目錄。</span><span class="sxs-lookup"><span data-stu-id="aa179-104">The following functions are used in creating and maintaining placeholder files and directories.</span></span>

## <a name="in-this-section"></a><span data-ttu-id="aa179-105">本節內容</span><span class="sxs-lookup"><span data-stu-id="aa179-105">In this section</span></span>



| <span data-ttu-id="aa179-106">主題</span><span class="sxs-lookup"><span data-stu-id="aa179-106">Topic</span></span>                                                                                                  | <span data-ttu-id="aa179-107">描述</span><span class="sxs-lookup"><span data-stu-id="aa179-107">Description</span></span>                                                                                                                                                                                                          |
|--------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="aa179-108">**CfCloseHandle**</span><span class="sxs-lookup"><span data-stu-id="aa179-108">**CfCloseHandle**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfclosehandle)<br/>                                                 | <span data-ttu-id="aa179-109">關閉 [**CfOpenFileWithOplock**](/windows/desktop/api/cfapi/nf-cfapi-cfopenfilewithoplock)所傳回的檔案或目錄控制碼。</span><span class="sxs-lookup"><span data-stu-id="aa179-109">Closes the file or directory handle returned by [**CfOpenFileWithOplock**](/windows/desktop/api/cfapi/nf-cfapi-cfopenfilewithoplock).</span></span> <span data-ttu-id="aa179-110">這不應該與標準 Win32 檔案控制代碼搭配使用，只能在 CfApi 中使用的控制碼上使用。</span><span class="sxs-lookup"><span data-stu-id="aa179-110">This should not be used with standard Win32 file handles, only on handles used within CfApi.h.</span></span><br/> |
| [<span data-ttu-id="aa179-111">**CfConnectSyncRoot**</span><span class="sxs-lookup"><span data-stu-id="aa179-111">**CfConnectSyncRoot**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfconnectsyncroot)<br/>                                         | <span data-ttu-id="aa179-112">起始同步處理提供者與同步篩選 API 之間的雙向通訊。</span><span class="sxs-lookup"><span data-stu-id="aa179-112">Initiates bi-directional communication between a sync provider and the sync filter API.</span></span><br/>                                                                                                                   |
| [<span data-ttu-id="aa179-113">**CfConvertToPlaceholder**</span><span class="sxs-lookup"><span data-stu-id="aa179-113">**CfConvertToPlaceholder**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfconverttoplaceholder)<br/>                               | <span data-ttu-id="aa179-114">將一般檔案/目錄轉換成預留位置檔案/目錄。</span><span class="sxs-lookup"><span data-stu-id="aa179-114">Converts a normal file/directory to a placeholder file/directory.</span></span><br/>                                                                                                                                         |
| [<span data-ttu-id="aa179-115">**CfCreatePlaceholders**</span><span class="sxs-lookup"><span data-stu-id="aa179-115">**CfCreatePlaceholders**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfcreateplaceholders)<br/>                                   | <span data-ttu-id="aa179-116">在同步根樹狀目錄下建立一或多個新的預留位置檔案或目錄。</span><span class="sxs-lookup"><span data-stu-id="aa179-116">Creates one or more new placeholder files or directories under a sync root tree.</span></span><br/>                                                                                                                          |
| [<span data-ttu-id="aa179-117">**CfDisconnectSyncRoot**</span><span class="sxs-lookup"><span data-stu-id="aa179-117">**CfDisconnectSyncRoot**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfdisconnectsyncroot)<br/>                                   | <span data-ttu-id="aa179-118">中斷 [**CfConnectSyncRoot**](/windows/desktop/api/cfapi/nf-cfapi-cfconnectsyncroot)所建立的通道連線。</span><span class="sxs-lookup"><span data-stu-id="aa179-118">Disconnects a communication channel created by [**CfConnectSyncRoot**](/windows/desktop/api/cfapi/nf-cfapi-cfconnectsyncroot).</span></span><br/>                                                                                                       |
| [<span data-ttu-id="aa179-119">**CfExecute**</span><span class="sxs-lookup"><span data-stu-id="aa179-119">**CfExecute**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfexecute)<br/>                                                         | <span data-ttu-id="aa179-120">所有以連接索引鍵為基礎的預留位置作業的主要進入點。</span><span class="sxs-lookup"><span data-stu-id="aa179-120">The main entry point for all connection key based placeholder operations.</span></span> <span data-ttu-id="aa179-121">它是供同步處理提供者用來回應平臺的各種回呼。</span><span class="sxs-lookup"><span data-stu-id="aa179-121">It is intended to be used by a sync provider to respond to various callbacks from the platform.</span></span><br/>                                 |
| [<span data-ttu-id="aa179-122">**CfGetCorrelationVector**</span><span class="sxs-lookup"><span data-stu-id="aa179-122">**CfGetCorrelationVector**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetcorrelationvector)<br/>                               | <span data-ttu-id="aa179-123">允許同步處理提供者針對指定的預留位置檔案查詢目前的相互關聯向量。</span><span class="sxs-lookup"><span data-stu-id="aa179-123">Allows the sync provider to query the current correlation vector for a given placeholder file.</span></span><br/>                                                                                                            |
| [<span data-ttu-id="aa179-124">**CfGetPlaceholderInfo**</span><span class="sxs-lookup"><span data-stu-id="aa179-124">**CfGetPlaceholderInfo**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetplaceholderinfo)<br/>                                   | <span data-ttu-id="aa179-125">取得預留位置檔案或資料夾的各種特性。</span><span class="sxs-lookup"><span data-stu-id="aa179-125">Gets various characteristics of a placeholder file or folder.</span></span><br/>                                                                                                                                             |
| [<span data-ttu-id="aa179-126">**CfGetPlaceholderRangeInfo**</span><span class="sxs-lookup"><span data-stu-id="aa179-126">**CfGetPlaceholderRangeInfo**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetplaceholderrangeinfo)<br/>                         | <span data-ttu-id="aa179-127">取得預留位置檔案或資料夾的範圍資訊。</span><span class="sxs-lookup"><span data-stu-id="aa179-127">Gets range information about a placeholder file or folder.</span></span><br/>                                                                                                                                                |
| [<span data-ttu-id="aa179-128">**CfGetPlaceholderStateFromAttributeTag**</span><span class="sxs-lookup"><span data-stu-id="aa179-128">**CfGetPlaceholderStateFromAttributeTag**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetplaceholderstatefromattributetag)<br/> | <span data-ttu-id="aa179-129">根據檔案的 *FileAttributes* 和 *ReparseTag* 值，取得一組預留位置狀態。</span><span class="sxs-lookup"><span data-stu-id="aa179-129">Gets a set of placeholder states based on the *FileAttributes* and *ReparseTag* values of the file.</span></span><br/>                                                                                                       |
| [<span data-ttu-id="aa179-130">**CfGetPlaceholderStateFromFileInfo**</span><span class="sxs-lookup"><span data-stu-id="aa179-130">**CfGetPlaceholderStateFromFileInfo**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetplaceholderstatefromfileinfo)<br/>         | <span data-ttu-id="aa179-131">根據檔案的各種資訊，取得一組預留位置狀態。</span><span class="sxs-lookup"><span data-stu-id="aa179-131">Gets a set of placeholder states based on the various information of the file.</span></span><br/>                                                                                                                            |
| [<span data-ttu-id="aa179-132">**CfGetPlaceholderStateFromFindData**</span><span class="sxs-lookup"><span data-stu-id="aa179-132">**CfGetPlaceholderStateFromFindData**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetplaceholderstatefromfinddata)<br/>         | <span data-ttu-id="aa179-133">根據 WIN32 \_ 尋找資料結構取得一組預留位置狀態 \_ 。</span><span class="sxs-lookup"><span data-stu-id="aa179-133">Gets a set of placeholder states based on the WIN32\_FIND\_DATA structure.</span></span><br/>                                                                                                                                |
| [<span data-ttu-id="aa179-134">**CfGetPlatformInfo**</span><span class="sxs-lookup"><span data-stu-id="aa179-134">**CfGetPlatformInfo**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetplatforminfo)<br/>                                         | <span data-ttu-id="aa179-135">取得平臺版本資訊。</span><span class="sxs-lookup"><span data-stu-id="aa179-135">Gets the platform version information.</span></span><br/>                                                                                                                                                                    |
| [<span data-ttu-id="aa179-136">**CfGetSyncRootInfoByHandle**</span><span class="sxs-lookup"><span data-stu-id="aa179-136">**CfGetSyncRootInfoByHandle**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetsyncrootinfobyhandle)<br/>                         | <span data-ttu-id="aa179-137">取得同步處理根的各種特性，其中包含檔案控制代碼所指定的指定檔案。</span><span class="sxs-lookup"><span data-stu-id="aa179-137">Gets various characteristics of the sync root containing a given file specified by a file handle.</span></span><br/>                                                                                                         |
| [<span data-ttu-id="aa179-138">**CfGetSyncRootInfoByPath**</span><span class="sxs-lookup"><span data-stu-id="aa179-138">**CfGetSyncRootInfoByPath**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetsyncrootinfobypath)<br/>                             | <span data-ttu-id="aa179-139">取得在同步根目錄下提供檔案的各種同步根資訊。</span><span class="sxs-lookup"><span data-stu-id="aa179-139">Gets various sync root information given a file under the sync root.</span></span><br/>                                                                                                                                      |
| [<span data-ttu-id="aa179-140">**CfGetTransferKey**</span><span class="sxs-lookup"><span data-stu-id="aa179-140">**CfGetTransferKey**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgettransferkey)<br/>                                           | <span data-ttu-id="aa179-141">起始將資料傳輸到預留位置檔案或資料夾。</span><span class="sxs-lookup"><span data-stu-id="aa179-141">Initiates a transfer of data into a placeholder file or folder.</span></span><br/>                                                                                                                                           |
| [<span data-ttu-id="aa179-142">**CfGetWin32HandleFromProtectedHandle**</span><span class="sxs-lookup"><span data-stu-id="aa179-142">**CfGetWin32HandleFromProtectedHandle**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfgetwin32handlefromprotectedhandle)<br/>     | <span data-ttu-id="aa179-143">將受保護的控制碼轉換成 Win32 控制碼，讓它可以與所有以控制碼為基礎的 Win32 Api 搭配使用。</span><span class="sxs-lookup"><span data-stu-id="aa179-143">Converts a protected handle to a Win32 handle so that it can be used with all handle-based Win32 APIs.</span></span> <br/>                                                                                                   |
| [<span data-ttu-id="aa179-144">**CfHydratePlaceholder**</span><span class="sxs-lookup"><span data-stu-id="aa179-144">**CfHydratePlaceholder**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfhydrateplaceholder)<br/>                                   | <span data-ttu-id="aa179-145">確定指定的位元組範圍是否存在於磁片上的預留位置中，以產生預留位置檔案。</span><span class="sxs-lookup"><span data-stu-id="aa179-145">Hydrates a placeholder file by ensuring that the specified byte range is present on-disk in the placeholder.</span></span> <span data-ttu-id="aa179-146">這僅適用于檔案。</span><span class="sxs-lookup"><span data-stu-id="aa179-146">This is valid for files only.</span></span><br/>                                                                |
| [<span data-ttu-id="aa179-147">**CfOpenFileWithOplock**</span><span class="sxs-lookup"><span data-stu-id="aa179-147">**CfOpenFileWithOplock**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfopenfilewithoplock)<br/>                                   | <span data-ttu-id="aa179-148">針對一般和預留位置檔案，開啟檔案或目錄 (的非同步不透明控制碼) 並根據開啟的旗標，在其上設定適當的 oplock。</span><span class="sxs-lookup"><span data-stu-id="aa179-148">Opens an asynchronous opaque handle to a file or directory (for both normal and placeholder files) and sets up a proper oplock on it based on the open flags.</span></span><br/>                                             |
| [<span data-ttu-id="aa179-149">**CfQuerySyncProviderStatus**</span><span class="sxs-lookup"><span data-stu-id="aa179-149">**CfQuerySyncProviderStatus**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfquerysyncproviderstatus)<br/>                         | <span data-ttu-id="aa179-150">查詢同步處理提供者，以取得提供者的狀態。</span><span class="sxs-lookup"><span data-stu-id="aa179-150">Queries a sync provider to get the status of the provider.</span></span><br/>                                                                                                                                                |
| [<span data-ttu-id="aa179-151">**CfReferenceProtectedHandle**</span><span class="sxs-lookup"><span data-stu-id="aa179-151">**CfReferenceProtectedHandle**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfreferenceprotectedhandle)<br/>                       | <span data-ttu-id="aa179-152">允許呼叫者參考受保護的 Win32 控制碼控制碼，該控制碼可搭配非 CfApi 的 Win32 Api 使用。</span><span class="sxs-lookup"><span data-stu-id="aa179-152">Allows the caller to reference a protected handle to a Win32 handle which can be used with non-CfApi Win32 APIs.</span></span> <br/>                                                                                         |
| [<span data-ttu-id="aa179-153">**CfRegisterSyncRoot**</span><span class="sxs-lookup"><span data-stu-id="aa179-153">**CfRegisterSyncRoot**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfregistersyncroot)<br/>                                       | <span data-ttu-id="aa179-154">執行單次同步根目錄註冊。</span><span class="sxs-lookup"><span data-stu-id="aa179-154">Performs a one time sync root registration.</span></span><br/>                                                                                                                                                               |
| [<span data-ttu-id="aa179-155">**CfReleaseProtectedHandle**</span><span class="sxs-lookup"><span data-stu-id="aa179-155">**CfReleaseProtectedHandle**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfreleaseprotectedhandle)<br/>                           | <span data-ttu-id="aa179-156">釋放 [**CfReferenceProtectedHandle**](/windows/desktop/api/cfapi/nf-cfapi-cfreferenceprotectedhandle)所參考的受保護控制碼。</span><span class="sxs-lookup"><span data-stu-id="aa179-156">Releases a protected handle referenced by [**CfReferenceProtectedHandle**](/windows/desktop/api/cfapi/nf-cfapi-cfreferenceprotectedhandle).</span></span><br/>                                                                                          |
| [<span data-ttu-id="aa179-157">**CfReleaseTransferKey**</span><span class="sxs-lookup"><span data-stu-id="aa179-157">**CfReleaseTransferKey**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfreleasetransferkey)<br/>                                   | <span data-ttu-id="aa179-158">釋放 [**CfGetTransferKey**](/windows/desktop/api/cfapi/nf-cfapi-cfgettransferkey)取得的傳輸金鑰。</span><span class="sxs-lookup"><span data-stu-id="aa179-158">Releases a transfer key obtained by [**CfGetTransferKey**](/windows/desktop/api/cfapi/nf-cfapi-cfgettransferkey).</span></span><br/>                                                                                                                    |
| [<span data-ttu-id="aa179-159">**CfReportProviderProgress**</span><span class="sxs-lookup"><span data-stu-id="aa179-159">**CfReportProviderProgress**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfreportproviderprogress)<br/>                           | <span data-ttu-id="aa179-160">允許同步處理提供者報告頻外的進度。</span><span class="sxs-lookup"><span data-stu-id="aa179-160">Allows a sync provider to report progress out-of-band.</span></span><br/>                                                                                                                                                    |
| [<span data-ttu-id="aa179-161">**CfReportSyncStatus**</span><span class="sxs-lookup"><span data-stu-id="aa179-161">**CfReportSyncStatus**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfreportsyncstatus)<br/>                                       | <span data-ttu-id="aa179-162">允許同步處理提供者在指定的同步根上通知其狀態的平臺，而不需要先與 [**CfConnectSyncRoot**](/windows/desktop/api/cfapi/nf-cfapi-cfconnectsyncroot) 的呼叫進行連接。</span><span class="sxs-lookup"><span data-stu-id="aa179-162">Allows a sync provider to notify the platform of its status on a specified sync root without having to connect with a call to [**CfConnectSyncRoot**](/windows/desktop/api/cfapi/nf-cfapi-cfconnectsyncroot) first.</span></span> <br/>                 |
| [<span data-ttu-id="aa179-163">**CfRevertPlaceholder**</span><span class="sxs-lookup"><span data-stu-id="aa179-163">**CfRevertPlaceholder**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfrevertplaceholder)<br/>                                     | <span data-ttu-id="aa179-164">將預留位置還原回一般檔案，去除所有的特殊特性，例如重新分析標記、檔案識別等等。</span><span class="sxs-lookup"><span data-stu-id="aa179-164">Reverts a placeholder back to a regular file, stripping away all special characteristics such as the reparse tag, the file identity, etc.</span></span><br/>                                                                 |
| [<span data-ttu-id="aa179-165">**CfSetCorrelationVector**</span><span class="sxs-lookup"><span data-stu-id="aa179-165">**CfSetCorrelationVector**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfsetcorrelationvector)<br/>                               | <span data-ttu-id="aa179-166">允許同步處理提供者在預留位置檔案上指示平臺針對遙測用途使用特定的相互關聯向量。</span><span class="sxs-lookup"><span data-stu-id="aa179-166">Allows a sync provider to instruct the platform to use a specific correlation vector for telemetry purposes on a placeholder file.</span></span> <span data-ttu-id="aa179-167">這是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="aa179-167">This is optional.</span></span><br/>                                                      |
| [<span data-ttu-id="aa179-168">**CfSetInSyncState**</span><span class="sxs-lookup"><span data-stu-id="aa179-168">**CfSetInSyncState**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfsetinsyncstate)<br/>                                           | <span data-ttu-id="aa179-169">設定預留位置檔案或資料夾的同步處理狀態。</span><span class="sxs-lookup"><span data-stu-id="aa179-169">Sets the in-sync state for a placeholder file or folder.</span></span><br/>                                                                                                                                                  |
| [<span data-ttu-id="aa179-170">**CfSetPinState**</span><span class="sxs-lookup"><span data-stu-id="aa179-170">**CfSetPinState**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfsetpinstate)<br/>                                                 | <span data-ttu-id="aa179-171">這會設定預留位置的釘選狀態，用來代表使用者的意圖。</span><span class="sxs-lookup"><span data-stu-id="aa179-171">This sets the pin state of a placeholder, used to represent a user s intent.</span></span> <span data-ttu-id="aa179-172">任何應用程式不只 (同步處理提供者) 都可以呼叫這個函數。</span><span class="sxs-lookup"><span data-stu-id="aa179-172">Any application (not just the sync provider) can call this function.</span></span><br/>                                                         |
| [<span data-ttu-id="aa179-173">**CfUnregisterSyncRoot**</span><span class="sxs-lookup"><span data-stu-id="aa179-173">**CfUnregisterSyncRoot**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfunregistersyncroot)<br/>                                   | <span data-ttu-id="aa179-174">取消註冊先前註冊的同步根。</span><span class="sxs-lookup"><span data-stu-id="aa179-174">Unregisters a previously registered sync root.</span></span><br/>                                                                                                                                                            |
| [<span data-ttu-id="aa179-175">**CfUpdatePlaceholder**</span><span class="sxs-lookup"><span data-stu-id="aa179-175">**CfUpdatePlaceholder**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfupdateplaceholder)<br/>                                     | <span data-ttu-id="aa179-176">更新預留位置檔案或目錄的特性。</span><span class="sxs-lookup"><span data-stu-id="aa179-176">Updates characteristics of the placeholder file or directory.</span></span><br/>                                                                                                                                             |
| [<span data-ttu-id="aa179-177">**CfUpdateSyncProviderStatus**</span><span class="sxs-lookup"><span data-stu-id="aa179-177">**CfUpdateSyncProviderStatus**</span></span>](/windows/desktop/api/cfapi/nf-cfapi-cfupdatesyncproviderstatus)<br/>                       | <span data-ttu-id="aa179-178">更新同步處理提供者的目前狀態。</span><span class="sxs-lookup"><span data-stu-id="aa179-178">Updates the current status of the sync provider.</span></span><br/>                                                                                                                                                          |



 

 

