---
title: 欄位屬性
description: 欄位屬性 (屬性（attribute）套用至陣列、結構、等位或字元陣列的欄位，) 和遠端程序呼叫 (RPC) 。
ms.assetid: 4508479d-ff0a-4698-94aa-588837032067
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 79b9421ddf4ea7e7bc4c70af0ecd826e2681875d
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/20/2020
ms.locfileid: "103933552"
---
# <a name="field-attributes"></a><span data-ttu-id="66528-103">欄位屬性</span><span class="sxs-lookup"><span data-stu-id="66528-103">Field Attributes</span></span>

<span data-ttu-id="66528-104">欄位屬性是可以套用至陣列、結構、等位或字元陣列之欄位的屬性：</span><span class="sxs-lookup"><span data-stu-id="66528-104">Field attributes are the attributes that can be applied to fields of an array, structure, union, or character array:</span></span>

-   <span data-ttu-id="66528-105">**\[**[**略**](/windows/desktop/Midl/ignore)過 **\]** ， **\[** [**大小 \_ 為**](/windows/desktop/Midl/size-is)**\]**</span><span class="sxs-lookup"><span data-stu-id="66528-105">**\[**[**ignore**](/windows/desktop/Midl/ignore)**\]**, **\[**[**size\_is**](/windows/desktop/Midl/size-is)**\]**</span></span>
-   <span data-ttu-id="66528-106">**\[**[**最大值 \_ 為**](/windows/desktop/Midl/max-is)**\]**</span><span class="sxs-lookup"><span data-stu-id="66528-106">**\[**[**max\_is**](/windows/desktop/Midl/max-is)**\]**</span></span>
-   <span data-ttu-id="66528-107">**\[**[**長度 \_ 為**](/windows/desktop/Midl/length-is)**\]**</span><span class="sxs-lookup"><span data-stu-id="66528-107">**\[**[**length\_is**](/windows/desktop/Midl/length-is)**\]**</span></span>
-   <span data-ttu-id="66528-108">**\[**[**第一個 \_ 是**](/windows/desktop/Midl/first-is)**\]**</span><span class="sxs-lookup"><span data-stu-id="66528-108">**\[**[**first\_is**](/windows/desktop/Midl/first-is)**\]**</span></span>
-   <span data-ttu-id="66528-109">**\[**[**last \_**](/windows/desktop/Midl/last-is)**\]**</span><span class="sxs-lookup"><span data-stu-id="66528-109">**\[**[**last\_is**](/windows/desktop/Midl/last-is)**\]**</span></span>
-   <span data-ttu-id="66528-110">**\[**[**切換 \_ 為**](/windows/desktop/Midl/switch-is)**\]**</span><span class="sxs-lookup"><span data-stu-id="66528-110">**\[**[**switch\_is**](/windows/desktop/Midl/switch-is)**\]**</span></span>
-   <span data-ttu-id="66528-111">**\[**[**字串**](/windows/desktop/Midl/string)**\]**</span><span class="sxs-lookup"><span data-stu-id="66528-111">**\[**[**string**](/windows/desktop/Midl/string)**\]**</span></span>
-   [<span data-ttu-id="66528-112">指標屬性</span><span class="sxs-lookup"><span data-stu-id="66528-112">pointer attributes</span></span>](three-pointer-types.md)

<span data-ttu-id="66528-113">例如，欄位屬性會與陣列宣告一起使用，以指定陣列的大小或包含有效資料之陣列的部分。</span><span class="sxs-lookup"><span data-stu-id="66528-113">For example, field attributes are used in conjunction with array declarations to specify either the size of the array or the portion of the array that contains valid data.</span></span> <span data-ttu-id="66528-114">這是藉由將另一個參數、結構欄位或常數運算式與陣列產生關聯來完成。</span><span class="sxs-lookup"><span data-stu-id="66528-114">This is done by associating another parameter, structure field, or a constant expression with the array.</span></span>

<span data-ttu-id="66528-115">**\[** [**Ignore**](/windows/desktop/Midl/ignore) **\]** 屬性會指定在封送處理過程中要忽略的指標欄位。</span><span class="sxs-lookup"><span data-stu-id="66528-115">The **\[**[**ignore**](/windows/desktop/Midl/ignore)**\]** attribute designates pointer fields to be ignored during the marshaling process.</span></span> <span data-ttu-id="66528-116">這種略過的欄位會在接收者端設定為 **Null** 。</span><span class="sxs-lookup"><span data-stu-id="66528-116">Such an ignored field is set to **NULL** on the receiver side.</span></span>

<span data-ttu-id="66528-117">MIDL 提供 *一致*、 *變化* 和 *開放式* 的陣列。</span><span class="sxs-lookup"><span data-stu-id="66528-117">MIDL provides *conformant*, *varying*, and *open* arrays.</span></span> <span data-ttu-id="66528-118">如果陣列的界限是在執行時間決定的，則會將其稱為一致。</span><span class="sxs-lookup"><span data-stu-id="66528-118">An array is called conformant if its bounds are determined at run time.</span></span> <span data-ttu-id="66528-119">**\[** [**Size \_ 為 attribute 會**](/windows/desktop/Midl/size-is) **\]** 指定陣列配置大小的上限，而 **\[** [**max \_ 為**](/windows/desktop/Midl/max-is)屬性則會 **\]** 指定有效陣列索引值的上限。</span><span class="sxs-lookup"><span data-stu-id="66528-119">The **\[**[**size\_is**](/windows/desktop/Midl/size-is)**\]** attribute designates the upper bound on the allocation size of the array and the **\[**[**max\_is**](/windows/desktop/Midl/max-is)**\]** attribute designates the upper bound on the value of a valid array index.</span></span> <span data-ttu-id="66528-120">如需詳細資訊，請參閱 **\[** [**陣列**](arrays.md) **\]** 。</span><span class="sxs-lookup"><span data-stu-id="66528-120">For more information, see **\[**[**arrays**](arrays.md)**\]**.</span></span>

<span data-ttu-id="66528-121">如果陣列的界限是在編譯時期決定的，則會將陣列稱為變動，但是會在執行時間決定傳送的元素範圍。</span><span class="sxs-lookup"><span data-stu-id="66528-121">An array is called varying if its bounds are determined at compile time, but the range of transmitted elements is determined at run time.</span></span> <span data-ttu-id="66528-122">開放式陣列 (也稱為一致的不同陣列) 是在執行時間決定其上限和傳送的元素範圍的陣列。</span><span class="sxs-lookup"><span data-stu-id="66528-122">An open array (also called a conformant varying array) is an array whose upper bound and range of transmitted elements are determined at run time.</span></span> <span data-ttu-id="66528-123">若要判斷陣列的已傳輸元素範圍，陣列宣告必須包含 **\[** [**長度 \_ 為**](/windows/desktop/Midl/length-is) **\]** 、 **\[** [**第一個 \_ 為**](/windows/desktop/Midl/first-is) **\]** ，或最後一個 **\[** [**\_ 是**](/windows/desktop/Midl/last-is) **\]** 屬性。</span><span class="sxs-lookup"><span data-stu-id="66528-123">To determine the range of transmitted elements of an array, the array declaration must include a **\[**[**length\_is**](/windows/desktop/Midl/length-is)**\]**, **\[**[**first\_is**](/windows/desktop/Midl/first-is)**\]**, or **\[**[**last\_is**](/windows/desktop/Midl/last-is)**\]** attribute.</span></span>

<span data-ttu-id="66528-124">[ **\[ 長度 \_ ] \] 是**[屬性] 指定要傳送的陣列元素數目， **\[ 第 \_ 一個 \] 是** 屬性指定要傳送之第一個陣列元素的索引。</span><span class="sxs-lookup"><span data-stu-id="66528-124">The **\[length\_is\]** attribute designates the number of array elements to be transmitted and the **\[first\_is\]** attribute designates the index of the first array element to be transmitted.</span></span> <span data-ttu-id="66528-125">**\[ 最後一個 \_ 是 \]** 屬性，它會指定要傳送之最後一個陣列元素的索引。</span><span class="sxs-lookup"><span data-stu-id="66528-125">The **\[last\_is\]** attribute designates the index of the last array element to be transmitted.</span></span>

<span data-ttu-id="66528-126">**\[**[**參數 \_ 是**](/windows/desktop/Midl/switch-is) **\]** 欄位屬性指定了聯集鑒別子。</span><span class="sxs-lookup"><span data-stu-id="66528-126">The **\[**[**switch\_is**](/windows/desktop/Midl/switch-is)**\]** field attribute designates a union discriminator.</span></span> <span data-ttu-id="66528-127">當 union 是程式參數時，聯集鑒別子必須是相同程式的另一個參數。</span><span class="sxs-lookup"><span data-stu-id="66528-127">When the union is a procedure parameter, the union discriminator must be another parameter of the same procedure.</span></span> <span data-ttu-id="66528-128">當聯集是結構的欄位時，鑒別子必須是結構與聯集欄位相同層級的另一個欄位。</span><span class="sxs-lookup"><span data-stu-id="66528-128">When the union is a field of a structure, the discriminator must be another field of the structure at the same level as the union field.</span></span> <span data-ttu-id="66528-129">鑒別子必須是 [**布林值**](/windows/desktop/Midl/boolean)、 [**char**](/windows/desktop/Midl/char-idl)、 [**int**](/windows/desktop/Midl/int)或 [**列舉**](/windows/desktop/Midl/enum) 型別，或是解析成其中一種類型的型別。</span><span class="sxs-lookup"><span data-stu-id="66528-129">The discriminator must be a [**Boolean**](/windows/desktop/Midl/boolean), [**char**](/windows/desktop/Midl/char-idl), [**int**](/windows/desktop/Midl/int), or [**enum**](/windows/desktop/Midl/enum) type, or a type that resolves to one of these types.</span></span> <span data-ttu-id="66528-130">如需詳細資訊，請參閱 [Nonencapsulated](/windows/desktop/Midl/nonencapsulated-unions)聯集和 **\[ 切換 \_ 為 \]**。</span><span class="sxs-lookup"><span data-stu-id="66528-130">For more information, see [Nonencapsulated Unions](/windows/desktop/Midl/nonencapsulated-unions) and **\[switch\_is\]**.</span></span>

<span data-ttu-id="66528-131">**\[**[**字串**](/windows/desktop/Midl/string) **\]** 欄位屬性會指定一維字元或位元組陣列，或以零終止的字元或位元組資料流程的指標，視為字串。</span><span class="sxs-lookup"><span data-stu-id="66528-131">The **\[**[**string**](/windows/desktop/Midl/string)**\]** field attribute designates that a one-dimensional character or byte array, or a pointer to a zero-terminated character or byte stream, is to be treated as a string.</span></span> <span data-ttu-id="66528-132">字串屬性只適用于一維陣列和指標。</span><span class="sxs-lookup"><span data-stu-id="66528-132">The string attribute applies only to one-dimensional arrays and pointers.</span></span> <span data-ttu-id="66528-133">元素類型受限於 [**char**](/windows/desktop/Midl/char-idl)、 [**byte**](/windows/desktop/Midl/byte)、 [**wchar \_ t**](/windows/desktop/Midl/wchar-t)或解析成其中一種類型的命名類型。</span><span class="sxs-lookup"><span data-stu-id="66528-133">The element type is limited to [**char**](/windows/desktop/Midl/char-idl), [**byte**](/windows/desktop/Midl/byte), [**wchar\_t**](/windows/desktop/Midl/wchar-t), or a named type that resolves to one of these types.</span></span>

<span data-ttu-id="66528-134">如需欄位屬性出現所在內容的相關資訊，請參閱 [Midl 陣列](/windows/desktop/Midl/midl-arrays)、 [Midl 結構](/windows/desktop/Midl/midl-structures)和 [midl](/windows/desktop/Midl/midl-unions)等位。</span><span class="sxs-lookup"><span data-stu-id="66528-134">For information about the context in which field attributes appear, see [MIDL Arrays](/windows/desktop/Midl/midl-arrays), [MIDL Structures](/windows/desktop/Midl/midl-structures), and [MIDL Unions](/windows/desktop/Midl/midl-unions).</span></span>

 

 