---
title: 瞭解延伸的錯誤資訊
description: 延伸的錯誤資訊是一組記錄，每個記錄都會指出如何透過系統或應用程式中的特定層傳遞錯誤碼。
ms.assetid: 1b112e49-bdb2-4014-b86d-3c6d8ebe4fcd
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1b2918caa446f7cee9c4eaa609a5713c9cb385e4
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/16/2019
ms.locfileid: "104021809"
---
# <a name="understanding-extended-error-information"></a>瞭解延伸的錯誤資訊

延伸的錯誤資訊是一組記錄，每個記錄都會指出如何透過系統或應用程式中的特定層傳遞錯誤碼。 如果電腦 C 中發生錯誤，則會從電腦 A 呼叫它，而電腦 C 上的 RPC 執行時間會產生一或多個描述錯誤的記錄，並將其傳遞給電腦 B。電腦 B 可以將一或多筆記錄新增至現有鏈的開頭，然後將完整鏈傳送至。可以加入一或多筆記錄，以及顯示或記錄資訊。 基本上，擴充的錯誤鏈表示錯誤的歷程記錄。

擴充的錯誤資訊不會取代 (RPC \_ S \_ \* 狀態碼) 的錯誤碼。 無論是否產生擴充錯誤資訊，錯誤碼都會保持不變。

每個擴充的錯誤資訊記錄都會包含下列內容。 如需詳細資訊，請參閱 [**RPC \_ 擴充 \_ 錯誤 \_ 資訊**](/windows/win32/api/rpcasync/ns-rpcasync-rpc_extended_error_info) ：

-   ComputerName —這是產生錯誤之電腦的非限定 DNS 名稱。 只有電腦界限上的記錄才有此資訊。 例如，在稍早和電腦 A、B 和 C 所述的案例中，會針對下欄欄位定義 ComputerName：

    | Record                            | ComputerName 欄位 |
    |-----------------------------------|--------------------|
    | \#電腦 C 產生的記錄1 | \-                 |
    | \#電腦 C 產生的記錄2 | \-                 |
    | \#電腦 C 產生的記錄3 | C                  |
    | \#電腦 B 所產生的記錄1 | \-                 |
    | \#電腦 B 所產生的記錄2 | \-                 |
    | \#電腦 B 所產生的記錄3 | B                  |
    | \#電腦 A 所產生的記錄1 | \-                 |
    | \#電腦 A 所產生的記錄2 | \-                 |
    | \#電腦 A 所產生的記錄3 | \-                 |
    | 連鎖店的標頭                 |                    |

    

     

<!-- -->

-   ProcessID-產生錯誤之進程的處理序識別碼。
-   時間戳記：發生錯誤的時間，以 UTC 格式表示。
-   產生元件-產生錯誤之邏輯元件的整數程式碼定義。 目前已定義下列元件：

    | 程式碼 | Name              | 描述                                                                                                                                                                           |
    |------|-------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | 1    | 應用程式       | 元件擁有特定 RPC 呼叫的管理員常式                                                                                                                  |
    | 2    | 執行階段           | RPC 執行時間                                                                                                                                                                      |
    | 3    | 安全性提供者 | 此呼叫的安全性提供者。                                                                                                                                                  |
    | 4    | NPFS              | NPFS 檔案系統                                                                                                                                                                  |
    | 5    | Rdr               | 重新導向程式                                                                                                                                                                        |
    | 6    | Nmp               | 具名管道系統。 這可以是 NPFS 或 RDR，但在許多情況下，RPC 執行時間並不知道誰執行了要求的作業，而且在這種情況下，會傳回 NMP。 |
    | 7    | IO                | Io 系統或 IO 系統所使用的驅動程式。 這可以是 NPFS、RDR 或 Winsock 提供者。                                                                                 |
    | 8    | Winsock           | Winsock 提供者                                                                                                                                                                  |
    | 9    | 授權碼        | 授權 Api。                                                                                                                                                               |
    | 10   | Lpc               | 本機程序呼叫工具。                                                                                                                                                    |

    

     

<!-- -->

-   狀態-圖層產生的錯誤碼或傳回的錯誤碼
-   DetectionLocation-識別偵測到錯誤之程式碼位置的唯一數位。 此欄位系結至程式碼，並將從版本變更為版本。 將會發佈最常遇到的偵測位置的個別清單。
-   旗標-指定記錄相關資訊的旗標。 目前定義的旗標為 EEInfoPreviousRecordsMissing 和 EEInfoNextRecordsMissing，分別對應至數值1和2。 如果設定了 EEInfoPreviousRecordsMissing，則在遺漏記錄之前，會有一或多筆記錄。 如果設定了 EEInfoNextRecordsMissing，就會遺漏該記錄之後的一或多筆記錄。 如需記錄可能遺失原因的說明，請參閱 [擴充錯誤資訊的可靠性](reliability-of-extended-error-information.md)。
-   最多四個錯誤參數。 錯誤參數是輕量變異結構，提供錯誤的其他相關資訊。 其他資訊會視錯誤和偵測位置而定。 這些參數可以是 ANSI 字串類型 (LPSTR) 、Unicode 字串 (LPWSTR) 、long 值 (long) 、short 值 (short) 、指標 (int64) 或 none。

 

 




