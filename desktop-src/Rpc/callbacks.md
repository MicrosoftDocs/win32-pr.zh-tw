---
title: '回呼 (RPC) '
description: 程式設計模型通常會透過遠端程序呼叫（ (RPC) ，或用戶端呼叫不受信任的伺服器，來要求用戶端的伺服器回呼。 這會帶來許多潛在的陷阱。
ms.assetid: a4f3ea26-ac4b-41e5-abde-96b4baedf2ae
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6260e2cff2cbaff86f210764e89d55859c4d33af
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/10/2020
ms.locfileid: "104024501"
---
# <a name="callbacks-rpc"></a>回呼 (RPC) 

程式設計模型通常會透過遠端程序呼叫（ (RPC) ，或用戶端呼叫不受信任的伺服器，來要求用戶端的伺服器回呼。 這會帶來許多潛在的陷阱。

首先，用戶端的回呼必須有足夠的低模擬層級。 如果伺服器是具有高度許可權的系統服務，則以模擬層級或更高版本回呼本機用戶端，可讓用戶端有足夠的許可權可以接管系統。 以比所需更高的模擬等級回呼遠端用戶端，也會導致非預期的結果。

其次，如果攻擊者引發您的服務來執行回呼，它可以啟動所謂的 *黑色漏洞*—阻絕服務攻擊。 這類攻擊並不是 RPC 特有的，在這些攻擊中，電腦會導致您將流量傳送給它，但不會回應您的要求。 您可以接收更多和更多資源來呼叫黑色孔，但永遠不會回來。 這類攻擊的一個一般範例是 TCP 層級的攻擊，稱為 TCP/IP SYN 洪水攻擊。

在 RPC 層級上，當攻擊者呼叫介面，並且要求伺服器回呼介面時，就會發生簡單的黑色漏洞攻擊。 介面符合，但是攻擊者永遠不會傳回呼叫：伺服器上的一個執行緒已系結。 攻擊者會執行此100次，並在伺服器上系結100執行緒。 伺服器最後會用盡記憶體。 伺服器的偵錯工具可能會顯示黑洞呼叫端的身分識別，但通常伺服器不會在可疑粗鄙 play 的情況下重新開機，或可能沒有足夠的專業知識可判斷攻擊者。

第三個缺陷是在用戶端上。 用戶端通常會呼叫伺服器，告知伺服器如何呼叫它 (通常是字串系結) ，然後等候伺服器的呼叫抵達，以盲目地接受該端點上的任何呼叫，而該端點上的宣告來自伺服器。 從伺服器到用戶端的回呼通訊協定應該包含一些驗證機制，以確保當回呼進入用戶端時，它實際上是源自伺服器。

 

 




