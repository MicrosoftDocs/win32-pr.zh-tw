---
description: CDrawImage 類別是管理影片轉譯器篩選器繪圖的 helper 類別。
ms.assetid: 7a6b3726-dbf5-4b60-8cf1-42034a321293
title: 'CDrawImage 類別 (Winutil) '
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CDrawImage
api_type:
- COM
api_location:
- Strmbase.lib
- Strmbase.dll
- Strmbasd.lib
- Strmbasd.dll
ms.openlocfilehash: 001b91338b2956f663d777cbc9597fa2d9a478f3
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/22/2021
ms.locfileid: "106993671"
---
# <a name="cdrawimage-class"></a><span data-ttu-id="e3960-103">CDrawImage 類別</span><span class="sxs-lookup"><span data-stu-id="e3960-103">CDrawImage class</span></span>

<span data-ttu-id="e3960-104">`CDrawImage`類別是管理影片轉譯器篩選器繪圖的 helper 類別。</span><span class="sxs-lookup"><span data-stu-id="e3960-104">The `CDrawImage` class is a helper class that manages drawing for a video renderer filter.</span></span> <span data-ttu-id="e3960-105">所有繪製作業都是使用 GDI 來執行。</span><span class="sxs-lookup"><span data-stu-id="e3960-105">All drawing operations are performed using GDI.</span></span> <span data-ttu-id="e3960-106">此類別不提供任何以 DirectDraw 轉譯的支援。</span><span class="sxs-lookup"><span data-stu-id="e3960-106">This class does not provide any support for rendering with DirectDraw.</span></span> <span data-ttu-id="e3960-107">`CDrawImage`類別需要擁有篩選器也會使用 [**CBaseWindow**](cbasewindow.md)類別，此類別會管理影片視窗。</span><span class="sxs-lookup"><span data-stu-id="e3960-107">The `CDrawImage` class requires that the owning filter also use the [**CBaseWindow**](cbasewindow.md) class, which manages the video window.</span></span> <span data-ttu-id="e3960-108">此函式 `CDrawImage` 會採用 **CBaseWindow** 物件的指標。</span><span class="sxs-lookup"><span data-stu-id="e3960-108">The `CDrawImage` constructor takes a pointer to the **CBaseWindow** object.</span></span>

<span data-ttu-id="e3960-109">下圖顯示在自訂影片轉譯器篩選中使用此類別的慣用方式。</span><span class="sxs-lookup"><span data-stu-id="e3960-109">The following diagram shows the preferred way to use this class in a custom video renderer filter.</span></span>

![使用 cdrawimage 的自訂影片轉譯器](images/videorenderer.png)

<span data-ttu-id="e3960-111">若要使用此類別，請執行下列動作：</span><span class="sxs-lookup"><span data-stu-id="e3960-111">To use this class, do the following:</span></span>

-   <span data-ttu-id="e3960-112">當 pin 連接時，請呼叫 [**CDrawImage：： NotifyMediaType**](cdrawimage-notifymediatype.md) 和 [**CDrawImage：： NotifyAllocator**](cdrawimage-notifyallocator.md) 方法。</span><span class="sxs-lookup"><span data-stu-id="e3960-112">When the pins connect, call the [**CDrawImage::NotifyMediaType**](cdrawimage-notifymediatype.md) and [**CDrawImage::NotifyAllocator**](cdrawimage-notifyallocator.md) methods.</span></span>
-   <span data-ttu-id="e3960-113">當媒體類型變更時，請再次呼叫 **NotifyMediaType** 。</span><span class="sxs-lookup"><span data-stu-id="e3960-113">Whenever the media type changes, call **NotifyMediaType** again.</span></span>
-   <span data-ttu-id="e3960-114">在任何轉譯發生之前，呼叫 [**CDrawImage：： SetDrawCoNtext**](cdrawimage-setdrawcontext.md)。</span><span class="sxs-lookup"><span data-stu-id="e3960-114">Before any rendering occurs, call [**CDrawImage::SetDrawContext**](cdrawimage-setdrawcontext.md).</span></span>
-   <span data-ttu-id="e3960-115">如果來源矩形變更，請呼叫 [**CDrawImage：： SetSourceRect**](cdrawimage-setsourcerect.md) ，如果目標矩形變更，則呼叫 [**CDrawImage：： SetTargetRect**](cdrawimage-settargetrect.md) 。</span><span class="sxs-lookup"><span data-stu-id="e3960-115">Call [**CDrawImage::SetSourceRect**](cdrawimage-setsourcerect.md) if the source rectangle changes, and [**CDrawImage::SetTargetRect**](cdrawimage-settargetrect.md) if the target rectangle changes.</span></span>
-   <span data-ttu-id="e3960-116">管理調色盤影像的選擇區，如接下來的調色板一節所述。</span><span class="sxs-lookup"><span data-stu-id="e3960-116">Manage the palette for palettized images, as described in the section on palettes that follows.</span></span>

## <a name="allocators"></a><span data-ttu-id="e3960-117">配置器</span><span class="sxs-lookup"><span data-stu-id="e3960-117">Allocators</span></span>

<span data-ttu-id="e3960-118">上圖所示的篩選器會使用自訂配置器類別 [**CImageAllocator**](cimageallocator.md)。</span><span class="sxs-lookup"><span data-stu-id="e3960-118">The filter shown in the previous diagram uses a custom allocator class, [**CImageAllocator**](cimageallocator.md).</span></span> <span data-ttu-id="e3960-119">此配置器會使用 GDI **CreateDIBSection** 函數，在共用記憶體中建立 dib。</span><span class="sxs-lookup"><span data-stu-id="e3960-119">This allocator creates DIBs in shared memory, using the GDI **CreateDIBSection** function.</span></span> <span data-ttu-id="e3960-120">配置器所建立的範例是 [**CImageSample**](cimagesample.md) 物件。</span><span class="sxs-lookup"><span data-stu-id="e3960-120">The samples created by the allocator are [**CImageSample**](cimagesample.md) objects.</span></span>

<span data-ttu-id="e3960-121">如果篩選準則擁有連接的配置器，則會保證媒體範例是 [**CImageSample**](cimagesample.md) 物件。</span><span class="sxs-lookup"><span data-stu-id="e3960-121">If the filter owns the allocator for the connection, then the media samples are guaranteed to be [**CImageSample**](cimagesample.md) objects.</span></span> <span data-ttu-id="e3960-122">在這種情況下， **CDrawImage** 物件可以使用 **BitBlt** 或 StretchBlt 來優化繪圖。</span><span class="sxs-lookup"><span data-stu-id="e3960-122">In that case, the **CDrawImage** object can optimize drawing by using **BitBlt** or StretchBlt.</span></span> <span data-ttu-id="e3960-123">否則，它必須使用較慢的 **SetDIBitsToDevice** 或 **StretchDIBits** 函數。</span><span class="sxs-lookup"><span data-stu-id="e3960-123">Otherwise, it must use the slower **SetDIBitsToDevice** or **StretchDIBits** functions.</span></span> <span data-ttu-id="e3960-124">更快的選項是由 [**CDrawImage：： FastRender**](cdrawimage-fastrender.md) 方法所執行，這是 [**CDrawImage：： SlowRender**](cdrawimage-slowrender.md) 方法的慢速選項。</span><span class="sxs-lookup"><span data-stu-id="e3960-124">The faster option is implemented by the [**CDrawImage::FastRender**](cdrawimage-fastrender.md) method, the slower option by the [**CDrawImage::SlowRender**](cdrawimage-slowrender.md) method.</span></span> <span data-ttu-id="e3960-125"> (儘管名稱一樣，您可能不會在 **SlowRender** 中看到較大的效能衝擊，尤其是在較新的硬體上。 ) </span><span class="sxs-lookup"><span data-stu-id="e3960-125">(Despite the name, you probably won't see a large performance hit in **SlowRender**, especially on newer hardware.)</span></span>

## <a name="palettes"></a><span data-ttu-id="e3960-126">調色板</span><span class="sxs-lookup"><span data-stu-id="e3960-126">Palettes</span></span>

<span data-ttu-id="e3960-127">如果 [**FastRender**](cdrawimage-fastrender.md) 方法用於繪圖，且影像是調色盤，則篩選器需要管理該調色板，如下所示：</span><span class="sxs-lookup"><span data-stu-id="e3960-127">If the [**FastRender**](cdrawimage-fastrender.md) method is used for drawing and the image is palettized, then the filter needs to manage the palette, as follows:</span></span>

-   <span data-ttu-id="e3960-128">[**CImageSample**](cimagesample.md)類別包含儲存在 [**DIBDATA**](dibdata.md)結構中的調色板版本號碼。</span><span class="sxs-lookup"><span data-stu-id="e3960-128">The [**CImageSample**](cimagesample.md) class contains a palette version number, stored in the [**DIBDATA**](dibdata.md) structure.</span></span> <span data-ttu-id="e3960-129">此值會在配置器建立範例時初始化。</span><span class="sxs-lookup"><span data-stu-id="e3960-129">The value is initialized when the allocator creates the sample.</span></span>
-   <span data-ttu-id="e3960-130">**CDrawImage** 類別也包含在建立時初始化的調色板版本號碼。</span><span class="sxs-lookup"><span data-stu-id="e3960-130">The **CDrawImage** class also contains a palette version number, which is initialized on creation.</span></span>
-   <span data-ttu-id="e3960-131">當媒體類型變更為新的調色盤格式時，請呼叫 [**CDrawImage：： IncrementPaletteVersion**](cdrawimage-incrementpaletteversion.md)。</span><span class="sxs-lookup"><span data-stu-id="e3960-131">Whenever the media type changes to a new palettized format, call [**CDrawImage::IncrementPaletteVersion**](cdrawimage-incrementpaletteversion.md).</span></span> <span data-ttu-id="e3960-132">這個方法會遞增 **CDrawImage** 物件的調色板版本號碼。</span><span class="sxs-lookup"><span data-stu-id="e3960-132">This method increments the **CDrawImage** object's palette version number.</span></span> <span data-ttu-id="e3960-133">如果篩選使用 [**CImagePalette**](cimagepalette.md) 類別來管理調色板資訊，只要媒體類型變更，您就可以直接呼叫 [**CImagePalette：:P reparepalette**](cimagepalette-preparepalette.md) 。</span><span class="sxs-lookup"><span data-stu-id="e3960-133">If the filter uses the [**CImagePalette**](cimagepalette.md) class to manage the palette information, you can simply call [**CImagePalette::PreparePalette**](cimagepalette-preparepalette.md) whenever the media type changes.</span></span> <span data-ttu-id="e3960-134">只有在必要時， **PreparePalette** 方法才會遞增元件的版本。</span><span class="sxs-lookup"><span data-stu-id="e3960-134">The **PreparePalette** method increments the palette version only when necessary.</span></span>
-   <span data-ttu-id="e3960-135">[**FastRender**](cdrawimage-fastrender.md)方法會比較 **CDrawImage** 調色板版本與範例的調色板版本。</span><span class="sxs-lookup"><span data-stu-id="e3960-135">The [**FastRender**](cdrawimage-fastrender.md) method compares the **CDrawImage** palette version against the sample's palette version.</span></span> <span data-ttu-id="e3960-136">如果範例的版本號碼晚于 **CDrawImage** 版本號碼之後， **FastRender** 方法就會呼叫 [**CDrawImage：： UpdateColourTable**](cdrawimage-updatecolourtable.md)。</span><span class="sxs-lookup"><span data-stu-id="e3960-136">If the sample's version number lags behind the **CDrawImage** version number, the **FastRender** method calls [**CDrawImage::UpdateColourTable**](cdrawimage-updatecolourtable.md).</span></span> <span data-ttu-id="e3960-137">**UpdateColourTable** 方法會使用 GDI **SetDIBColorTable** 函式來設定裝置內容中的色彩表。</span><span class="sxs-lookup"><span data-stu-id="e3960-137">The **UpdateColourTable** method sets the color table in the device context, using the GDI **SetDIBColorTable** function.</span></span> <span data-ttu-id="e3960-138">此外，範例上的調色板版本會更新為目前的版本號碼。</span><span class="sxs-lookup"><span data-stu-id="e3960-138">Also, the palette version on the sample is updated to the current version number.</span></span>
-   <span data-ttu-id="e3960-139">如果 pin 重新連接，則篩選準則應該呼叫 [**CDrawImage：： ResetPaletteVersion**](cdrawimage-resetpaletteversion.md) 來重設調色板版本。</span><span class="sxs-lookup"><span data-stu-id="e3960-139">If the pin reconnects, the filter should call [**CDrawImage::ResetPaletteVersion**](cdrawimage-resetpaletteversion.md) to reset the palette version.</span></span> <span data-ttu-id="e3960-140">在 pin 重新連接時，配置器會重新配置所有範例。</span><span class="sxs-lookup"><span data-stu-id="e3960-140">On pin reconnection, the allocator re-allocates all samples.</span></span>



| <span data-ttu-id="e3960-141">受保護的成員變數</span><span class="sxs-lookup"><span data-stu-id="e3960-141">Protected Member Variables</span></span>                                            | <span data-ttu-id="e3960-142">Description</span><span class="sxs-lookup"><span data-stu-id="e3960-142">Description</span></span>                                                                                                                     |
|-----------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="e3960-143">**m \_ bStretch**</span><span class="sxs-lookup"><span data-stu-id="e3960-143">**m\_bStretch**</span></span>](cdrawimage-m-bstretch.md)                          | <span data-ttu-id="e3960-144">指出是否必須延展影片影像以符合目的地視窗。</span><span class="sxs-lookup"><span data-stu-id="e3960-144">Indicates whether the video image must be stretched to fit the destination window.</span></span>                                              |
| [<span data-ttu-id="e3960-145">**m \_ bUsingImageAllocator**</span><span class="sxs-lookup"><span data-stu-id="e3960-145">**m\_bUsingImageAllocator**</span></span>](cdrawimage-m-busingimageallocator.md)  | <span data-ttu-id="e3960-146">指出釘選連接的配置器是否為 **CImageAllocator** 物件。</span><span class="sxs-lookup"><span data-stu-id="e3960-146">Indicates whether the allocator for the pin connection is a **CImageAllocator** object.</span></span>                                         |
| [<span data-ttu-id="e3960-147">**m \_ EndSample**</span><span class="sxs-lookup"><span data-stu-id="e3960-147">**m\_EndSample**</span></span>](cdrawimage-m-endsample.md)                        | <span data-ttu-id="e3960-148">指定最新範例的停止時間。</span><span class="sxs-lookup"><span data-stu-id="e3960-148">Specifies the stop time of the most recent sample.</span></span>                                                                              |
| [<span data-ttu-id="e3960-149">**m \_ hdc**</span><span class="sxs-lookup"><span data-stu-id="e3960-149">**m\_hdc**</span></span>](cdrawimage-m-hdc.md)                                    | <span data-ttu-id="e3960-150">主控視窗的裝置內容控制碼。</span><span class="sxs-lookup"><span data-stu-id="e3960-150">Handle to the device context of the owning window.</span></span>                                                                              |
| [<span data-ttu-id="e3960-151">**m \_ MemoryDC**</span><span class="sxs-lookup"><span data-stu-id="e3960-151">**m\_MemoryDC**</span></span>](cdrawimage-m-memorydc.md)                          | <span data-ttu-id="e3960-152">主控視窗的記憶體裝置內容控制碼。</span><span class="sxs-lookup"><span data-stu-id="e3960-152">Handle to the memory device context of the owning window.</span></span>                                                                       |
| [<span data-ttu-id="e3960-153">**m \_ PaletteVersion**</span><span class="sxs-lookup"><span data-stu-id="e3960-153">**m\_PaletteVersion**</span></span>](cdrawimage-m-paletteversion.md)              | <span data-ttu-id="e3960-154">用來追蹤調色板變更的時間。</span><span class="sxs-lookup"><span data-stu-id="e3960-154">Used to track when the palette changes.</span></span>                                                                                         |
| [<span data-ttu-id="e3960-155">**m \_ pBaseWindow**</span><span class="sxs-lookup"><span data-stu-id="e3960-155">**m\_pBaseWindow**</span></span>](cdrawimage-m-pbasewindow.md)                    | <span data-ttu-id="e3960-156">擁有 **CBaseWindow** 物件的指標。</span><span class="sxs-lookup"><span data-stu-id="e3960-156">Pointer to the owning **CBaseWindow** object.</span></span>                                                                                   |
| [<span data-ttu-id="e3960-157">**m \_ pMediaType**</span><span class="sxs-lookup"><span data-stu-id="e3960-157">**m\_pMediaType**</span></span>](cdrawimage-m-pmediatype.md)                      | <span data-ttu-id="e3960-158">目前媒體類型的指標。</span><span class="sxs-lookup"><span data-stu-id="e3960-158">Pointer to the current media type.</span></span>                                                                                              |
| [<span data-ttu-id="e3960-159">**m \_ SourceRect**</span><span class="sxs-lookup"><span data-stu-id="e3960-159">**m\_SourceRect**</span></span>](cdrawimage-m-sourcerect.md)                      | <span data-ttu-id="e3960-160">指定繪圖的來源矩形。</span><span class="sxs-lookup"><span data-stu-id="e3960-160">Specifies the source rectangle for drawing.</span></span>                                                                                     |
| [<span data-ttu-id="e3960-161">**m \_ StartSample**</span><span class="sxs-lookup"><span data-stu-id="e3960-161">**m\_StartSample**</span></span>](cdrawimage-m-startsample.md)                    | <span data-ttu-id="e3960-162">指定最新範例的開始時間。</span><span class="sxs-lookup"><span data-stu-id="e3960-162">Specifies the start time of the most recent sample.</span></span>                                                                             |
| [<span data-ttu-id="e3960-163">**m \_ TargetRect**</span><span class="sxs-lookup"><span data-stu-id="e3960-163">**m\_TargetRect**</span></span>](cdrawimage-m-targetrect.md)                      | <span data-ttu-id="e3960-164">指定繪圖的目標矩形。</span><span class="sxs-lookup"><span data-stu-id="e3960-164">Specifies the target rectangle for drawing.</span></span>                                                                                     |
| <span data-ttu-id="e3960-165">保護方法</span><span class="sxs-lookup"><span data-stu-id="e3960-165">Protected Methods</span></span>                                                     | <span data-ttu-id="e3960-166">Description</span><span class="sxs-lookup"><span data-stu-id="e3960-166">Description</span></span>                                                                                                                     |
| [<span data-ttu-id="e3960-167">**DisplaySampleTimes**</span><span class="sxs-lookup"><span data-stu-id="e3960-167">**DisplaySampleTimes**</span></span>](cdrawimage-displaysampletimes.md)           | <span data-ttu-id="e3960-168">在影片影像上方繪製媒體範例的時間戳記。</span><span class="sxs-lookup"><span data-stu-id="e3960-168">Draws the time stamps of a media sample on top of the video image.</span></span>                                                              |
| [<span data-ttu-id="e3960-169">**FastRender**</span><span class="sxs-lookup"><span data-stu-id="e3960-169">**FastRender**</span></span>](cdrawimage-fastrender.md)                           | <span data-ttu-id="e3960-170">使用 **BitBlt** 或 **StretchBlt** 函數繪製影片影像。</span><span class="sxs-lookup"><span data-stu-id="e3960-170">Draws the video image using the **BitBlt** or **StretchBlt** functions.</span></span>                                                         |
| [<span data-ttu-id="e3960-171">**SetStretchMode**</span><span class="sxs-lookup"><span data-stu-id="e3960-171">**SetStretchMode**</span></span>](cdrawimage-setstretchmode.md)                   | <span data-ttu-id="e3960-172">計算影片影像是否必須伸展。</span><span class="sxs-lookup"><span data-stu-id="e3960-172">Calculates whether the video image must be stretched.</span></span>                                                                           |
| [<span data-ttu-id="e3960-173">**SlowRender**</span><span class="sxs-lookup"><span data-stu-id="e3960-173">**SlowRender**</span></span>](cdrawimage-slowrender.md)                           | <span data-ttu-id="e3960-174">使用 **SetDIBitsToDevice** 或 **StretchDIBits** 函數繪製影片影像。</span><span class="sxs-lookup"><span data-stu-id="e3960-174">Draws the video image using the **SetDIBitsToDevice** or **StretchDIBits** functions.</span></span>                                           |
| [<span data-ttu-id="e3960-175">**UpdateColourTable**</span><span class="sxs-lookup"><span data-stu-id="e3960-175">**UpdateColourTable**</span></span>](cdrawimage-updatecolourtable.md)             | <span data-ttu-id="e3960-176">以新的調色板更新色彩表。</span><span class="sxs-lookup"><span data-stu-id="e3960-176">Updates the color table with a new palette.</span></span>                                                                                     |
| <span data-ttu-id="e3960-177">公用方法</span><span class="sxs-lookup"><span data-stu-id="e3960-177">Public Methods</span></span>                                                        | <span data-ttu-id="e3960-178">Description</span><span class="sxs-lookup"><span data-stu-id="e3960-178">Description</span></span>                                                                                                                     |
| [<span data-ttu-id="e3960-179">**CDrawImage**</span><span class="sxs-lookup"><span data-stu-id="e3960-179">**CDrawImage**</span></span>](cdrawimage-cdrawimage.md)                           | <span data-ttu-id="e3960-180">函式方法。</span><span class="sxs-lookup"><span data-stu-id="e3960-180">Constructor method.</span></span>                                                                                                             |
| [<span data-ttu-id="e3960-181">**DrawImage**</span><span class="sxs-lookup"><span data-stu-id="e3960-181">**DrawImage**</span></span>](cdrawimage-drawimage.md)                             | <span data-ttu-id="e3960-182">在影片視窗中繪製影片框架。</span><span class="sxs-lookup"><span data-stu-id="e3960-182">Draws a video frame on the video window.</span></span>                                                                                        |
| [<span data-ttu-id="e3960-183">**DrawVideoImageHere**</span><span class="sxs-lookup"><span data-stu-id="e3960-183">**DrawVideoImageHere**</span></span>](cdrawimage-drawvideoimagehere.md)           | <span data-ttu-id="e3960-184">從媒體範例將影像繪製到指定的裝置內容。</span><span class="sxs-lookup"><span data-stu-id="e3960-184">Draws an image from a media sample to a specified device context.</span></span>                                                               |
| [<span data-ttu-id="e3960-185">**GetPaletteVersion**</span><span class="sxs-lookup"><span data-stu-id="e3960-185">**GetPaletteVersion**</span></span>](cdrawimage-getpaletteversion.md)             | <span data-ttu-id="e3960-186">抓取元件的版本。</span><span class="sxs-lookup"><span data-stu-id="e3960-186">Retrieves the palette version.</span></span>                                                                                                  |
| [<span data-ttu-id="e3960-187">**GetSourceRect**</span><span class="sxs-lookup"><span data-stu-id="e3960-187">**GetSourceRect**</span></span>](cdrawimage-getsourcerect.md)                     | <span data-ttu-id="e3960-188">抓取目前的來源矩形。</span><span class="sxs-lookup"><span data-stu-id="e3960-188">Retrieves the current source rectangle.</span></span>                                                                                         |
| [<span data-ttu-id="e3960-189">**GetTargetRect**</span><span class="sxs-lookup"><span data-stu-id="e3960-189">**GetTargetRect**</span></span>](cdrawimage-gettargetrect.md)                     | <span data-ttu-id="e3960-190">抓取目前的目的地矩形。</span><span class="sxs-lookup"><span data-stu-id="e3960-190">Retrieves the current destination rectangle.</span></span>                                                                                    |
| [<span data-ttu-id="e3960-191">**IncrementPaletteVersion**</span><span class="sxs-lookup"><span data-stu-id="e3960-191">**IncrementPaletteVersion**</span></span>](cdrawimage-incrementpaletteversion.md) | <span data-ttu-id="e3960-192">遞增元件的版本。</span><span class="sxs-lookup"><span data-stu-id="e3960-192">Increments the palette version.</span></span>                                                                                                 |
| [<span data-ttu-id="e3960-193">**NotifyAllocator**</span><span class="sxs-lookup"><span data-stu-id="e3960-193">**NotifyAllocator**</span></span>](cdrawimage-notifyallocator.md)                 | <span data-ttu-id="e3960-194">通知物件，連接的配置器 `CDrawImage` 是否為 **CImageAllocator** 物件。</span><span class="sxs-lookup"><span data-stu-id="e3960-194">Informs the `CDrawImage` object whether the allocator for the connection is a **CImageAllocator** object.</span></span>                       |
| [<span data-ttu-id="e3960-195">**NotifyEndDraw**</span><span class="sxs-lookup"><span data-stu-id="e3960-195">**NotifyEndDraw**</span></span>](cdrawimage-notifyenddraw.md)                     | <span data-ttu-id="e3960-196">不支援。</span><span class="sxs-lookup"><span data-stu-id="e3960-196">Not supported.</span></span>                                                                                                                  |
| [<span data-ttu-id="e3960-197">**NotifyMediaType**</span><span class="sxs-lookup"><span data-stu-id="e3960-197">**NotifyMediaType**</span></span>](cdrawimage-notifymediatype.md)                 | <span data-ttu-id="e3960-198">通知目前媒體類型的物件。</span><span class="sxs-lookup"><span data-stu-id="e3960-198">Notifies the object of the current media type.</span></span>                                                                                  |
| [<span data-ttu-id="e3960-199">**NotifyStartDraw**</span><span class="sxs-lookup"><span data-stu-id="e3960-199">**NotifyStartDraw**</span></span>](cdrawimage-notifystartdraw.md)                 | <span data-ttu-id="e3960-200">不支援。</span><span class="sxs-lookup"><span data-stu-id="e3960-200">Not supported.</span></span>                                                                                                                  |
| [<span data-ttu-id="e3960-201">**ResetPaletteVersion**</span><span class="sxs-lookup"><span data-stu-id="e3960-201">**ResetPaletteVersion**</span></span>](cdrawimage-resetpaletteversion.md)         | <span data-ttu-id="e3960-202">重設調色板版本。</span><span class="sxs-lookup"><span data-stu-id="e3960-202">Resets the palette version.</span></span>                                                                                                     |
| [<span data-ttu-id="e3960-203">**ScaleSourceRect**</span><span class="sxs-lookup"><span data-stu-id="e3960-203">**ScaleSourceRect**</span></span>](cdrawimage-scalesourcerect.md)                 | <span data-ttu-id="e3960-204">如果原生影片大小和媒體類型格式之間有差異，則調整指定的來源矩形。</span><span class="sxs-lookup"><span data-stu-id="e3960-204">Scales a specified source rectangle, if there is a difference between the native video size and the media type format.</span></span> <span data-ttu-id="e3960-205">虛擬。</span><span class="sxs-lookup"><span data-stu-id="e3960-205">Virtual.</span></span> |
| [<span data-ttu-id="e3960-206">**SetDrawCoNtext**</span><span class="sxs-lookup"><span data-stu-id="e3960-206">**SetDrawContext**</span></span>](cdrawimage-setdrawcontext.md)                   | <span data-ttu-id="e3960-207">設定用於繪製的裝置內容。</span><span class="sxs-lookup"><span data-stu-id="e3960-207">Sets the device contexts used for drawing.</span></span>                                                                                      |
| [<span data-ttu-id="e3960-208">**SetSourceRect**</span><span class="sxs-lookup"><span data-stu-id="e3960-208">**SetSourceRect**</span></span>](cdrawimage-setsourcerect.md)                     | <span data-ttu-id="e3960-209">設定來源矩形。</span><span class="sxs-lookup"><span data-stu-id="e3960-209">Sets the source rectangle.</span></span>                                                                                                      |
| [<span data-ttu-id="e3960-210">**SetTargetRect**</span><span class="sxs-lookup"><span data-stu-id="e3960-210">**SetTargetRect**</span></span>](cdrawimage-settargetrect.md)                     | <span data-ttu-id="e3960-211">設定目標矩形。</span><span class="sxs-lookup"><span data-stu-id="e3960-211">Sets the target rectangle.</span></span>                                                                                                      |
| [<span data-ttu-id="e3960-212">**UsingImageAllocator**</span><span class="sxs-lookup"><span data-stu-id="e3960-212">**UsingImageAllocator**</span></span>](cdrawimage-usingimageallocator.md)         | <span data-ttu-id="e3960-213">指出目前的配置器是否為 [**CImageAllocator**](cimageallocator.md) 物件。</span><span class="sxs-lookup"><span data-stu-id="e3960-213">Indicates whether the current allocator is a [**CImageAllocator**](cimageallocator.md) object.</span></span>                                 |



 

## <a name="requirements"></a><span data-ttu-id="e3960-214">規格需求</span><span class="sxs-lookup"><span data-stu-id="e3960-214">Requirements</span></span>



| <span data-ttu-id="e3960-215">需求</span><span class="sxs-lookup"><span data-stu-id="e3960-215">Requirement</span></span> | <span data-ttu-id="e3960-216">值</span><span class="sxs-lookup"><span data-stu-id="e3960-216">Value</span></span> |
|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e3960-217">標頭</span><span class="sxs-lookup"><span data-stu-id="e3960-217">Header</span></span><br/>  | <dl> <span data-ttu-id="e3960-218"><dt>Winutil (包含： .h) </dt></span><span class="sxs-lookup"><span data-stu-id="e3960-218"><dt>Winutil.h (include Streams.h)</dt></span></span> </dl>                                                                                   |
| <span data-ttu-id="e3960-219">程式庫</span><span class="sxs-lookup"><span data-stu-id="e3960-219">Library</span></span><br/> | <dl> <span data-ttu-id="e3960-220"><dt> (零售組建的 Strmbase .lib) ;</dt><dt>Strmbasd (debug 組建) </dt></span><span class="sxs-lookup"><span data-stu-id="e3960-220"><dt>Strmbase.lib (retail builds); </dt> <dt>Strmbasd.lib (debug builds)</dt></span></span> </dl> |



 

 




