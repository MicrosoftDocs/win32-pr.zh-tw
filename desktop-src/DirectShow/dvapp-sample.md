---
description: DVApp 範例
ms.assetid: 80375170-d0d6-4371-abe3-078703e158b1
title: DVApp 範例
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 86653781d08921bf638e7798fb34f3a86e8d34a8
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/06/2021
ms.locfileid: "104109385"
---
# <a name="dvapp-sample"></a>DVApp 範例

## <a name="description"></a>Description

數位視訊 (DV) capture 應用程式。

這個範例示範如何建立各種類型的篩選圖形來控制 DV 攝影機。 它也會示範如何使用 DV 攝影機來執行捕捉、預覽、傳輸和裝置控制。

### <a name="usage"></a>使用方式

DVApp 應用程式支援下列模式：

-   預覽：將 DV 從攝影機轉譯成影片視窗。
-   DV 至類型1檔案：將 DV 資料從攝影機捕獲到類型 1 DV 檔案。
-   輸入-1 檔案至 DV：將資料從類型 1 DV 檔案傳送至攝影機。
-   DV 至類型2的檔案：從攝影機捕獲 DV 資料到類型2的 DV 檔案。
-   Type-2 file to DV：將資料從類型2的 DV 檔案傳送至攝像機。

「捕捉」和「傳輸」模式也會執行預覽。 這兩種模式也都 **沒有預覽** 選項，可停用預覽。 沒有預覽的捕獲會更有效率，而且可以減少捨棄的畫面格數。

應用程式會在預覽模式下啟動。 若要選取其他模式，請從 [ **圖形模式]** 功能表選擇模式。 針對每個模式，DVApp 會建立支援該模式功能的篩選圖形。 若要將圖形另存為 GraphEdit (. grf) 檔案，請 **從 [檔案**] 功能表中選取 [**將圖形儲存至檔案]** 。 在 GraphEdit 中開啟檔案之前，請先結束 DVApp。

若要捕捉至檔案：

1.  **在 [檔案] 功能表中**，選擇 [**設定輸出** 檔]，然後輸入檔案名。
2.  從 [ **圖形模式]** 功能表中，選取 [ *DV 至* 檔案模式] (類型1或 [類型 2]，不論是否有預覽) 。
3.  按一下 [ **記錄**]。
4.  如果攝像機處於 VTR 模式，請按一下 [ **播放**]。
5.  若要停止捕捉，請按一下 [ **停止**]。

若要從檔案傳輸至攝像機：

1.  **在 [檔案**] 功能表中，按一下 [**設定輸入** 檔]，然後選取一個 DV 檔案。 檔案必須符合選取的模式 (類型1或類型 2) 。
2.  從 [ **圖形模式]** 功能表中，選取 [ *DV* 模式] (類型1或 [類型 2]，不論是否有預覽) 。
3.  按一下 [播放]。
4.  若要將資料記錄到磁帶，請按一下 [ **記錄**]。
5.  若要停止傳輸，請按一下 [ **停止**]。

如果攝影機處於 VTR 模式，則使用者可以透過應用程式的 VCR 樣式按鈕來控制傳輸機制。 若要搜尋磁帶，請輸入目標時間碼，然後按一下 [搜尋] 按鈕。

若要限制應用程式所捕獲的資料量，請從 [檔案 **] 功能表中選擇 [** **捕捉大小**]。

若要檢查磁帶格式 (NTSC 或 PAL) ，請從 [**選項**] 功能表選擇 [**檢查磁帶**]。

若要變更預覽視窗的大小，請從 [**選項**] 功能表選擇 [**變更解碼大小**]。

### <a name="programming-notes"></a>程式設計附注

此應用程式的主要目的是要說明如何建立各種 DV 捕捉和傳輸圖形。

### <a name="device-arrival-and-removal"></a>裝置抵達和移除

應用程式會使用兩種不同的技術來處理裝置抵達和移除。 針對裝置抵達，應用程式的訊息迴圈會回應 WM \_ DEVICECHANGE 訊息。 移除裝置時，應用程式會從篩選圖形管理員回應 [**EC \_ 裝置 \_ 遺失**](ec-device-lost.md) 的事件。 這兩種方法都可以運作，但 EC \_ 裝置 \_ 遺失事件則取決於是否存在篩選圖形中的裝置。

應用程式一次只能處理一個裝置。 如果移除目前的裝置，應用程式會在系統上尋找另一個 DV 裝置。

在某些 DV 攝影機上，使用者必須在相機模式與 VTR 模式之間切換時，關閉裝置，以觸發裝置遺失的訊息。 應用程式會藉由啟用或停用適當的功能表命令來回應。 不過，如果使用者在模式之間快速切換，則此攝影機可能不會產生裝置遺失的訊息。 您可以從 [**選項**] 功能表選擇 [重新整理 **模式]** ，以強制更新功能表。 有些 DV 攝影機可以在不關閉的情況下切換模式，但只有在切換到 VTR 模式時，才會傳送裝置遺失的訊息。

### <a name="device-control"></a>裝置控制

[ **播放** 和 **錄製** ] 按鈕的功能取決於目前的模式：

-   預覽：篩選圖形會自動執行。 [ **播放** ] 按鈕會啟動傳輸。
-   捕捉至檔案： [ **記錄** ] 按鈕會執行圖形，而 [ **播放** ] 按鈕會啟動傳輸。
-   傳送至裝置： [ **播放** ] 按鈕會執行圖形，而 [ **記錄** ] 按鈕會啟動傳輸。

範例應用程式不會執行框架精確的捕獲。 在不同的點上，應用程式會呼叫 **Sleep** 函式來等候裝置回應。 較新的 DV 攝影機會在裝置狀態變更時傳送通知。 較舊的裝置可能不支援通知;基於範例的目的，呼叫 **睡眠** 是較簡單的解決方案。

## <a name="downloading-the-sample"></a>下載範例

若要下載 DirectShow SDK 範例，請安裝最新版本的 [Windows SDK](https://msdn.microsoft.com/windowsvista/bb980924.aspx)。

此範例安裝在下列路徑下： *\[ SDK \] 根* \\ 範例 \\ 多媒體 \\ DirectShow \\ 捕獲 \\ DVApp。

## <a name="related-topics"></a>相關主題

<dl> <dt>

[控制 DV 攝像機](controlling-a-dv-camcorder.md)
</dt> <dt>

[DirectShow 中的數位視訊](digital-video-in-directshow.md)
</dt> <dt>

[DirectShow 範例](directshow-samples.md)
</dt> </dl>

 

 



