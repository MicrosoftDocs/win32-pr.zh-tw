---
description: DirectShow 編輯服務的時間
ms.assetid: 4e8cc766-97f3-45d5-9c4a-5cd6e9ad9c09
title: DirectShow 編輯服務的時間
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: afc99ff2391ea7975daed7b4152e869741f9990561417131942c4d86e904fca8
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/11/2021
ms.locfileid: "120083614"
---
# <a name="time-in-directshow-editing-services"></a>DirectShow 編輯服務的時間

\[此 API 不受支援，而且可能會在未來變更或無法使用。\]

若要編輯影片，您必須使用一些重要的時間概念。 例如：

-   每個剪輯都有持續時間。
-   剪輯、轉換和效果都會出現在專案的特定時間。
-   影片具有畫面播放速率，以每秒的畫面格 (fps) 來表示。

[DirectShow 編輯服務](directshow-editing-services.md) (DES) 提供設定或抓取時間和畫面播放速率的各種方法。 這些值的意義取決於內容。

**時間值**

當參數表示時間時，有三種不同意義：

-   時間 *軸時間*：相對於時間軸開始的時間。 例如，剪輯可能會在時間軸中開始2秒，或在時間軸中有15秒的轉換。 時間軸會判斷最終呈現的專案，因此您也可以將時間軸時間視為「專案時間」。
-   *媒體時間*：相對於檔案開頭的原始程式檔中的點，如同正常播放期間所達到的位置。 例如，如果您有10秒的影片檔案，則檔案中間的點會出現在5秒（以媒體時程表示）。
-   *Parent time*：相對於時間軸中物件的時間。 例如，如果物件在時間軸上的8秒開始，且包含另一個在時間軸上從10秒開始的物件，則子物件會從相對於父系的2秒開始。 相對於時程表，虛擬追蹤的所有時間都是以零為起始。 因此針對虛擬軌中的任何物件，父時間等於時間軸時間。

媒體時間僅適用于來源物件。 每個來源物件都有媒體開始時間和媒體停止時間。 例如，假設您有10秒的影片剪輯，而且您只想要從剪輯中間使用5秒鐘，請從剪輯中修剪前2秒和最後3秒。 如果您想要讓剪輯在專案中顯示20秒 (並且假設正常播放速率) 您會指定下列開始和停止時間。

-   媒體啟動：2秒
-   媒體停止：7秒
-   時間軸開始：20秒
-   時間軸停止：25秒

    ![在時間軸上插入來源剪輯](images/des-time1.png)

**畫面播放速率**

畫面播放速率是媒體資料流程的「速度」，以每秒的畫面格數來測量。 如同時間值，畫面播放速率的意義取決於內容：

-   **輸出畫面播放速率：** 由群組定義之最終轉譯專案的畫面播放速率。 當您轉譯專案時，每個群組都會變成個別的媒體資料流程及其本身的畫面播放速率。
-   **來源畫面播放速率：** 原始程式檔最初撰寫的畫面播放速率。 撰寫的畫面播放速率不需要與群組的輸出畫面播放速率相符。 DES 會視需要自動 upsample 或縮減檔案。 針對大部分的媒體格式，DES 可以檢查格式來判斷畫面播放速率。 DIB 順序是例外狀況;您必須指定 DIB 順序的畫面播放速率。  (需詳細資訊，請參閱 [使用來源](working-with-sources.md)。 ) 

**播放速率：** 來源剪輯出現在專案中的明顯速度。 例如，10秒的影片可容納在時間軸上的5秒。 如此一來，剪輯的速度會以2的因數增加，如下圖所示。

![讓來源播放更快](images/des-time2.png)

 (使用音訊來源時，音調也會移動。 ) 下列公式會決定來源剪輯的播放速率：

-   播放速率 = (媒體停止-媒體啟動) / (時間軸停止–時程表開始) 

請注意，這三個費率與其他費率無關：

-   您可以藉由調整媒體時間來加速或減緩剪輯的速度;這不會影響最終輸出的畫面播放速率。
-   您可以增加或減少輸出畫面播放速率，而不會影響檔案播放的速度。
-   您可以在同一個群組中混用具有不同編寫畫面播放速率的原始程式檔，而 DES 將會 upsample 或縮減每個剪輯，以符合群組的畫面播放速率。

當您轉譯專案時，會將所有時間四捨五入到最接近的框架界限（由群組畫面播放速率判斷）。 例如，假設某個影片群組的畫面播放速率為 30 fps。 每個框架大約是33毫秒 (ms) 。 假設您將1.68 秒的來源剪輯新增至時間軸，從零開始。 來源不會完全以框架界限結束，因此 DES 會將停止時間四捨五入至1.6666 秒 (50 畫面格) 。 如果您在轉譯的專案中搜尋至1.68 秒，您實際上會在第51個畫面格的結尾處尋找超過來源的結尾。

不過，DES 不會覆寫來源的停止時間。 您稍後可能會變更群組框架速率，或將來源移至時間軸中以不同方式四捨五入的新位置。 因此，DES 會保留原始的停止時間，而且只會在必要時進行四捨五入。 如需詳細資訊，請參閱 [**IAMTimelineObj：： FixTimes**](iamtimelineobj-fixtimes.md)。

## <a name="related-topics"></a>相關主題

<dl> <dt>

[使用 DirectShow 編輯服務開始使用](getting-started-with-directshow-editing-services.md)
</dt> </dl>

 

 



