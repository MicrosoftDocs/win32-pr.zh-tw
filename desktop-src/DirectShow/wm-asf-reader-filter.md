---
description: WM ASF 讀取器篩選器
ms.assetid: 82b9f849-b9dc-439b-8ca7-9dcd992338ab
title: " (DirectShow) 的 WM ASF 讀取器篩選器"
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9a35cea4b6dbf8c720f3059e0317484fd2f34d10
ms.sourcegitcommit: 63753fcfb0afbbe5ec283fb8316e62c2dc950f66
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/22/2021
ms.locfileid: "107908866"
---
# <a name="wm-asf-reader-filter-directshow"></a><span data-ttu-id="a1371-103"> (DirectShow) 的 WM ASF 讀取器篩選器</span><span class="sxs-lookup"><span data-stu-id="a1371-103">WM ASF Reader Filter (DirectShow)</span></span>

<span data-ttu-id="a1371-104">「WM ASF 讀取器」是 Windows Media Format SDK 所提供之讀取器物件的包裝函式篩選器，也是建議用來播放 Windows Media 內容的檔案，以及使用任何 Microsoft MPEG 4 編碼器 DMOs 所建立內容的建議來源篩選器。</span><span class="sxs-lookup"><span data-stu-id="a1371-104">The WM ASF Reader is a wrapper filter for the reader object provided with the Windows Media Format SDK and is the recommended source filter for file playback of Windows Media-based content and content created with any of the Microsoft MPEG-4 Encoder DMOs.</span></span>



| <span data-ttu-id="a1371-105">標籤</span><span class="sxs-lookup"><span data-stu-id="a1371-105">Label</span></span> | <span data-ttu-id="a1371-106">值</span><span class="sxs-lookup"><span data-stu-id="a1371-106">Value</span></span> |
|------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a1371-107">篩選介面</span><span class="sxs-lookup"><span data-stu-id="a1371-107">Filter interfaces</span></span>                        | <span data-ttu-id="a1371-108">[**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter)、 [**IFileSourceFilter**](/windows/desktop/api/Strmif/nn-strmif-ifilesourcefilter)、 [**IAMExtendedSeeking**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iamextendedseeking)、 **IServiceProvider**，此外，此篩選器會公開下列 Windows Media 格式 SDK 介面： [**IWMHeaderInfo**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmheaderinfo)、 [**IWMReaderAdvanced**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced)、 [**IWMReaderAdvanced2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced2)、 [**IWMDRMReader**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmdrmreader) (到 **IServiceProvider**) </span><span class="sxs-lookup"><span data-stu-id="a1371-108">[**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IFileSourceFilter**](/windows/desktop/api/Strmif/nn-strmif-ifilesourcefilter), [**IAMExtendedSeeking**](/previous-versions/windows/desktop/api/Qnetwork/nn-qnetwork-iamextendedseeking), **IServiceProvider** In addition, the filter exposes the following Windows Media Format SDK interfaces: [**IWMHeaderInfo**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmheaderinfo), [**IWMReaderAdvanced**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced), [**IWMReaderAdvanced2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced2), [**IWMDRMReader**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmdrmreader) (through **IServiceProvider**)</span></span><br/> |
| <span data-ttu-id="a1371-109">輸入 pin 媒體類型</span><span class="sxs-lookup"><span data-stu-id="a1371-109">Input pin media types</span></span>                    | <span data-ttu-id="a1371-110">不適用。</span><span class="sxs-lookup"><span data-stu-id="a1371-110">Not applicable.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="a1371-111">輸入 pin 介面</span><span class="sxs-lookup"><span data-stu-id="a1371-111">Input pin interfaces</span></span>                     | <span data-ttu-id="a1371-112">不適用。</span><span class="sxs-lookup"><span data-stu-id="a1371-112">Not applicable.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="a1371-113">輸出 pin 媒體類型</span><span class="sxs-lookup"><span data-stu-id="a1371-113">Output pin media types</span></span>                   | <span data-ttu-id="a1371-114">媒體媒體、媒體媒體 \_ \_ 、媒體媒體 \_ SCRIPTCOMMAND、媒體媒體 \_ FileTransfer</span><span class="sxs-lookup"><span data-stu-id="a1371-114">MEDIATYPE\_Video, MEDIATYPE\_Audio, MEDIATYPE\_ScriptCommand, MEDIATYPE\_FileTransfer</span></span>                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="a1371-115">輸出 pin 介面</span><span class="sxs-lookup"><span data-stu-id="a1371-115">Output pin interfaces</span></span>                    | <span data-ttu-id="a1371-116">[**IMediaSeeking**](/windows/desktop/api/Strmif/nn-strmif-imediaseeking)、 [**IAMWMBufferPass**](/previous-versions/windows/desktop/api/Dshowasf/nn-dshowasf-iamwmbufferpass)、 **IServiceProvider**，此外，釘選會公開下列 Windows Media 格式 SDK 介面： **IWMStreamConfig2** (到 **IServiceProvider**) </span><span class="sxs-lookup"><span data-stu-id="a1371-116">[**IMediaSeeking**](/windows/desktop/api/Strmif/nn-strmif-imediaseeking), [**IAMWMBufferPass**](/previous-versions/windows/desktop/api/Dshowasf/nn-dshowasf-iamwmbufferpass), **IServiceProvider** In addition, the pins expose the following Windows Media Format SDK interfaces: **IWMStreamConfig2** (through **IServiceProvider**)</span></span><br/>                                                                                                                                                                                                                                    |
| <span data-ttu-id="a1371-117">篩選 CLSID</span><span class="sxs-lookup"><span data-stu-id="a1371-117">Filter CLSID</span></span>                             | <span data-ttu-id="a1371-118">CLSID \_ WMAsfReader</span><span class="sxs-lookup"><span data-stu-id="a1371-118">CLSID\_WMAsfReader</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="a1371-119">屬性頁 CLSID</span><span class="sxs-lookup"><span data-stu-id="a1371-119">Property Page CLSID</span></span>                      | <span data-ttu-id="a1371-120">沒有屬性頁。</span><span class="sxs-lookup"><span data-stu-id="a1371-120">No property page.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="a1371-121">可執行檔</span><span class="sxs-lookup"><span data-stu-id="a1371-121">Executable</span></span>                               | <span data-ttu-id="a1371-122">Qasf.dll</span><span class="sxs-lookup"><span data-stu-id="a1371-122">Qasf.dll</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="a1371-123">優點</span><span class="sxs-lookup"><span data-stu-id="a1371-123">Merit</span></span>](merit.md)                       | <span data-ttu-id="a1371-124">不 \_ 太可能</span><span class="sxs-lookup"><span data-stu-id="a1371-124">MERIT\_UNLIKELY</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [<span data-ttu-id="a1371-125">篩選準則分類</span><span class="sxs-lookup"><span data-stu-id="a1371-125">Filter Category</span></span>](filter-categories.md) | <span data-ttu-id="a1371-126">CLSID \_ LegacyAmFilterCategory</span><span class="sxs-lookup"><span data-stu-id="a1371-126">CLSID\_LegacyAmFilterCategory</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                             |



 

## <a name="remarks"></a><span data-ttu-id="a1371-127">備註</span><span class="sxs-lookup"><span data-stu-id="a1371-127">Remarks</span></span>

<span data-ttu-id="a1371-128">提供 ASF 檔案或 URL 的名稱時，WM ASF 讀取器會讀取壓縮的內容、剖析壓縮的資料流程，並公開每一個輸出的輸出圖釘。</span><span class="sxs-lookup"><span data-stu-id="a1371-128">When given the name of an ASF file or a URL, the WM ASF Reader reads the compressed content, parses the compressed streams, and exposes an output pin for each one.</span></span> <span data-ttu-id="a1371-129">此篩選器會將下游連接到音訊及/或影片編解碼器篩選器，以進行解壓縮。</span><span class="sxs-lookup"><span data-stu-id="a1371-129">This filter connects downstream to audio and/or video codecs filters, which do the decompression.</span></span> <span data-ttu-id="a1371-130">如果 ASF 檔案是可搜尋的，則支援搜尋。</span><span class="sxs-lookup"><span data-stu-id="a1371-130">Seeking is supported if the ASF file is seekable.</span></span> <span data-ttu-id="a1371-131">ASF 讀取器時間會在將範例傳送至下游之前將它們加上戳記，但不會以任何方式修改時間戳記。</span><span class="sxs-lookup"><span data-stu-id="a1371-131">The ASF Reader time stamps the samples before sending them downstream, but it does not modify the time stamps in any way.</span></span>

<span data-ttu-id="a1371-132">不支援以 [**IMediaSeeking：： SetRate**](/windows/desktop/api/Strmif/nf-strmif-imediaseeking-setrate)) 中所指定的 1.0 (速度來播放。</span><span class="sxs-lookup"><span data-stu-id="a1371-132">Playback at speeds other than 1.0 (as specified in [**IMediaSeeking::SetRate**](/windows/desktop/api/Strmif/nf-strmif-imediaseeking-setrate)) is not supported.</span></span>

<span data-ttu-id="a1371-133">當 Windows Media Format SDK 執行時間將 [**WMT \_ 狀態**](/previous-versions/windows/desktop/api/wmsdkidl/ne-wmsdkidl-wmt_status) 消息傳送至 WM ASF 寫入器篩選器時，篩選器會將任何與 DRM 授權取得相關的訊息轉送為 [**EC \_ WMT \_ 事件**](ec-wmt-event.md) 事件。</span><span class="sxs-lookup"><span data-stu-id="a1371-133">When the Windows Media Format SDK runtime sends [**WMT\_STATUS**](/previous-versions/windows/desktop/api/wmsdkidl/ne-wmsdkidl-wmt_status) messages to the WM ASF Writer filter, the filter forwards any messages related to DRM license acquisition as [**EC\_WMT\_EVENT**](ec-wmt-event.md) events.</span></span> <span data-ttu-id="a1371-134">如需詳細資訊，請參閱 [在 DirectShow 中讀取 DRM-Protected 的 ASF](reading-drm-protected-asf-files-in-directshow.md)檔案。</span><span class="sxs-lookup"><span data-stu-id="a1371-134">For more information, see [Reading DRM-Protected ASF Files in DirectShow](reading-drm-protected-asf-files-in-directshow.md).</span></span>

<span data-ttu-id="a1371-135">WM ASF 讀取器會部分執行 [**IWMReaderAdvanced**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced) 和 [**IWMReaderAdvanced2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced2) 介面，以便讓應用程式能夠存取 Reader 物件上的參考方法。</span><span class="sxs-lookup"><span data-stu-id="a1371-135">The WM ASF Reader partially implements the [**IWMReaderAdvanced**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced) and [**IWMReaderAdvanced2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreaderadvanced2) interfaces in order to give applications access to the informational methods on the reader object.</span></span> <span data-ttu-id="a1371-136">篩選準則的執行只會將呼叫傳遞至讀取器物件上的介面。</span><span class="sxs-lookup"><span data-stu-id="a1371-136">The filter's implementation simply passes the calls through to the interface on the reader object.</span></span> <span data-ttu-id="a1371-137">因為篩選準則必須具有串流處理常式的完整控制權，所以不會實作為串流方法。</span><span class="sxs-lookup"><span data-stu-id="a1371-137">The streaming methods are not implemented because the filter must have complete control over the streaming process.</span></span> <span data-ttu-id="a1371-138">下列方法會實作為：</span><span class="sxs-lookup"><span data-stu-id="a1371-138">The following methods are implemented:</span></span>

-   [<span data-ttu-id="a1371-139">**IWMReaderAdvanced::GetStatistics**</span><span class="sxs-lookup"><span data-stu-id="a1371-139">**IWMReaderAdvanced::GetStatistics**</span></span>](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmreaderadvanced-getstatistics)
-   [<span data-ttu-id="a1371-140">**IWMReaderAdvanced：： SetClientInfo**</span><span class="sxs-lookup"><span data-stu-id="a1371-140">**IWMReaderAdvanced::SetClientInfo**</span></span>](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmreaderadvanced-setclientinfo)
-   [<span data-ttu-id="a1371-141">**IWMReaderAdvanced2::GetBufferProgress**</span><span class="sxs-lookup"><span data-stu-id="a1371-141">**IWMReaderAdvanced2::GetBufferProgress**</span></span>](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getbufferprogress)
-   [<span data-ttu-id="a1371-142">**IWMReaderAdvanced2::GetDownloadProgress**</span><span class="sxs-lookup"><span data-stu-id="a1371-142">**IWMReaderAdvanced2::GetDownloadProgress**</span></span>](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getdownloadprogress)
-   [<span data-ttu-id="a1371-143">**IWMReaderAdvanced2::GetPlayMode**</span><span class="sxs-lookup"><span data-stu-id="a1371-143">**IWMReaderAdvanced2::GetPlayMode**</span></span>](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getplaymode)
-   [<span data-ttu-id="a1371-144">**IWMReaderAdvanced2::GetProtocolName**</span><span class="sxs-lookup"><span data-stu-id="a1371-144">**IWMReaderAdvanced2::GetProtocolName**</span></span>](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getprotocolname)
-   [<span data-ttu-id="a1371-145">**IWMReaderAdvanced2::SetLogClientID**</span><span class="sxs-lookup"><span data-stu-id="a1371-145">**IWMReaderAdvanced2::SetLogClientID**</span></span>](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-setlogclientid)
-   [<span data-ttu-id="a1371-146">**IWMReaderAdvanced2::SetPlayMode**</span><span class="sxs-lookup"><span data-stu-id="a1371-146">**IWMReaderAdvanced2::SetPlayMode**</span></span>](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-setplaymode)

## <a name="related-topics"></a><span data-ttu-id="a1371-147">相關主題</span><span class="sxs-lookup"><span data-stu-id="a1371-147">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a1371-148">DirectShow 篩選</span><span class="sxs-lookup"><span data-stu-id="a1371-148">DirectShow Filters</span></span>](directshow-filters.md)
</dt> <dt>

[<span data-ttu-id="a1371-149">在 DirectShow 中讀取 ASF 檔案</span><span class="sxs-lookup"><span data-stu-id="a1371-149">Reading ASF Files in DirectShow</span></span>](reading-asf-files-in-directshow.md)
</dt> </dl>

 

 
