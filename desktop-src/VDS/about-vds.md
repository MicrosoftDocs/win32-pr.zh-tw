---
description: 關於 VDS
ms.assetid: b2f7628c-b567-40a9-9ad7-6c47077af5fb
title: 關於 VDS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1215251bf86c3ac4ba9a7a342a483de19653d20a21978715261b87aa7bea31a3
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/11/2021
ms.locfileid: "118603710"
---
# <a name="about-vds"></a>關於 VDS

\[從 Windows 8 和 Windows Server 2012 開始， [Windows 儲存體管理 API](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal)會取代[虛擬磁碟服務](virtual-disk-service-portal.md)COM 介面。\]

虛擬磁碟服務是 Microsoft Windows 服務，可在要求使用者、腳本和應用程式時執行查詢和設定作業。 服務會以下列方式擴充 Windows Server 作業系統的現有儲存功能：

-   提供 API 給 Windows 中的現有磁片區和磁片管理功能。
-   整合磁片區管理和獨立磁片的硬體冗餘數組， (RAID) 管理單一 API。

VDS 不會執行下列儲存管理活動：

-   硬體子系統管理，例如溫度監視或監視磁碟陣列的效能統計資料。
-   儲存體區域網路 (SAN) 網狀架構管理，例如 Host-Based Adapter (HBA) 分區和安全性。

接下來的各節描述 VDS 的架構、VDS 提供者的角色，以及 API。

## <a name="service-architecture"></a>服務架構

VDS 定義三個介面：應用層和服務之間的單一介面，以及服務與資料層中提供者程式之間的兩個介面。 下圖顯示應用程式與服務的界限，以及服務對提供者的界限。

![顯示服務架構分成「應用程式」、「虛擬磁碟服務」和「VDS 提供者」區段的圖表。](images/vdsoverview.png)

多層式架構可讓 VDS 協調檔案系統功能、同步處理提供者活動，以及在應用程式之間進行仲裁。 在應用程式和提供者之間，VDS 會提供統一的功能給應用程式，即使某些基礎提供者可能缺乏這樣的一致性。

此服務會執行一般功能：格式化磁片區、新增和移除磁碟機號或掛接的資料夾，以及管理未配置的磁片—沒有磁碟分割資訊的磁片。 VDS 也會將事件通知傳回給已註冊的應用程式。 如需詳細資訊，請參閱 [VDS 通知](vds-notification-model.md)。

## <a name="role-of-providers"></a>提供者的角色

VDS 定義了兩個提供者介面，一個用於軟體提供者，另一個用於硬體提供者。 每個提供者都會執行 VDS 所定義之 API 的不同部分：

-   *軟體提供者* 是以主機為基礎的程式，由存放裝置 i/o 堆疊中的核心模式驅動程式支援。 提供者核心執行時間會在開機時與裝載管理員進行互動，或在探索期間隨插即用 (PnP) 管理員來索取每個磁片。 軟體提供者會在磁片區、磁片和磁碟分割上運作。

    VDS 包含兩種提供者類型。 基本軟體提供者會管理基本磁碟，而不提供容錯系結。 動態軟體提供者會管理動態磁碟，並在適用時提供錯誤管理。 軟體提供者行為與主機上的基本和動態磁碟的行為一致。 例如，如果指定主機的作業系統支援容錯動態磁碟，則 VDS 也支援主機上的這項行為。

-   *硬體提供者* 會執行用來管理儲存子系統的方法，這是硬體磁碟陣列或介面卡，可讓您建立邏輯磁片以增強效能、資料可用性或資料復原。 許多主要的 RAID 封包製造商都產生了專為與 VDS 搭配使用而設計的硬體提供者。 服務取用者必須從製造商取得硬體提供者和相關聯的硬體。

    硬體提供者的功能取決於基礎硬體的功能。 因此，每個製造商實施 API 的程度可能會有所不同。 例如，製造商可以包含其他方法來優化設定、監視及動態調整效能、將錯誤管理自動化，或提供其他有用的功能。

    硬體提供者提供數個無法供軟體提供者使用的設定選項。 最值得注意的是 automagic 設定模型，它會針對每個應用程式呈現以屬性為基礎的儲存體觀點。 系結提示（例如「大部分讀取」或「快速損毀復原」）取代將實體儲存體系結至虛擬儲存體的複雜性。 每個硬體提供者會根據應用程式所提交的提示，執行範圍對應、空間配置以及系結類型選取專案。 如需完整的硬體提供者描述，包括設定選項，請參閱子系統製造商提供的檔。

## <a name="application-programming-interface"></a>應用程式設計介面

應用程式可以叫用 VDS 方法來查詢及設定主機型磁片、RAID 存放裝置或兩者。 如需 API 的總覽，請參閱 [VDS 物件模型](vds-object-model.md)。

適用于 VDS 的一般應用程式可解決設定管理和監視問題，並將專用儲存體管理系統的範圍從專用的儲存管理系統移至後端應用程式，以更妥善掌控設定或錯誤管理。 下列應用程式現在會使用 VDS：

-   磁片管理嵌入式管理單元會設定及管理主機電腦所控制的磁片。 系統管理員和終端使用者可以使用此使用者介面 (UI) 工具來查詢及設定本機 (或遠端) 磁片和磁片區。
-   Diskpart.exe 是一種命令列公用程式，可設定及管理磁片、磁片區和磁碟分割。
-   Diskraid.exe 是一種命令列公用程式，可設定和管理硬體 RAID 子系統。 此公用程式可以與任何隨附于 VDS 硬體提供者的存放裝置硬體互動。

## <a name="related-topics"></a>相關主題

<dl> <dt>

[虛擬磁碟服務](virtual-disk-service-portal.md)
</dt> <dt>

[VDS 通知](vds-notification-model.md)
</dt> <dt>

[VDS 物件模型](vds-object-model.md)
</dt> </dl>

 

 
