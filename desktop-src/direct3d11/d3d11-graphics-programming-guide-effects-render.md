---
title: 轉譯 (Direct3D 11) 的效果
description: 瞭解如何呈現 Direct3D 11 的效果。 您可以使用效果來儲存資訊，或使用一組狀態來呈現。
ms.assetid: 7af239de-812d-4295-b599-b9deb371b01b
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7def8f7bbfb9f2c7a5102eb8e02fc848155e4bde
ms.sourcegitcommit: d0eb44d0a95f5e5efbfec3d3e9c143f5cba25bc3
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/17/2021
ms.locfileid: "112261830"
---
# <a name="rendering-an-effect-direct3d-11"></a><span data-ttu-id="88506-104">轉譯 (Direct3D 11) 的效果</span><span class="sxs-lookup"><span data-stu-id="88506-104">Rendering an Effect (Direct3D 11)</span></span>

<span data-ttu-id="88506-105">您可以使用效果來儲存資訊，或使用一組狀態來呈現。</span><span class="sxs-lookup"><span data-stu-id="88506-105">An effect can be used to store information, or to render using a group of state.</span></span> <span data-ttu-id="88506-106">每項技巧都會指定一組頂點著色器、輪廓著色器、網域著色器、幾何著色器、圖元著色器、計算著色器、著色器狀態、取樣器和材質狀態、未排序的存取檢視狀態和其他管線狀態。</span><span class="sxs-lookup"><span data-stu-id="88506-106">Each technique specifies some set of vertex shaders, hull shaders, domain shaders, geometry shaders, pixel shaders, compute shaders, shader state, sampler and texture state, unordered access view state and other pipeline state.</span></span> <span data-ttu-id="88506-107">因此，當您將狀態組織成某個效果之後，您可以藉由建立和轉譯效果，來封裝該狀態所產生的轉譯效果。</span><span class="sxs-lookup"><span data-stu-id="88506-107">So once you have organized state into an effect, you can encapsulate the rendering effect that results from that state by creating and rendering the effect.</span></span>

<span data-ttu-id="88506-108">有幾個步驟可準備轉譯的效果。</span><span class="sxs-lookup"><span data-stu-id="88506-108">There are a few steps for preparing an effect for rendering.</span></span> <span data-ttu-id="88506-109">第一個是編譯，它會根據 HLSL 語言語法和效果架構規則來檢查 HLSL，例如程式碼。</span><span class="sxs-lookup"><span data-stu-id="88506-109">The first is compiling, which checks the HLSL like code against the HLSL language syntax and the effect framework rules.</span></span> <span data-ttu-id="88506-110">您可以使用 API 呼叫來編譯應用程式的效果，也可以使用效果編譯器公用程式 [fxc.exe](/windows/desktop/direct3dtools/fxc)，離線編譯效果。</span><span class="sxs-lookup"><span data-stu-id="88506-110">You can compile an effect from your application using API calls or you can compile an effect offline using the effect compiler utility [fxc.exe](/windows/desktop/direct3dtools/fxc).</span></span> <span data-ttu-id="88506-111">成功編譯效果之後，請呼叫不同 (但非常類似的) 組 Api 來建立它。</span><span class="sxs-lookup"><span data-stu-id="88506-111">Once your effect has successfully compiled, create it by calling a different (but very similar) set of APIs.</span></span>

<span data-ttu-id="88506-112">建立效果之後，有兩個剩餘的步驟可以使用它。</span><span class="sxs-lookup"><span data-stu-id="88506-112">After the effect is created, there are two remaining steps for using it.</span></span> <span data-ttu-id="88506-113">首先，您必須使用數個方法來設定 HLSL 中未初始化之狀態的方法，以 (效果變數的值來初始化效果狀態值) 。</span><span class="sxs-lookup"><span data-stu-id="88506-113">First, you must initialize the effect state values (the values of the effect variables) using a number of methods for setting state if they are not initialized in HLSL.</span></span> <span data-ttu-id="88506-114">針對某些變數，您可以在建立效果時完成這項操作;每次您的應用程式呼叫轉譯迴圈時，都必須更新其他專案。</span><span class="sxs-lookup"><span data-stu-id="88506-114">For some variables this can be done once when an effect is created; others must be updated each time your application calls the render loop.</span></span> <span data-ttu-id="88506-115">設定效果變數後，您可以指示執行時間藉由套用技術來呈現效果。</span><span class="sxs-lookup"><span data-stu-id="88506-115">Once the effect variables are set, you tell the runtime to render the effect by applying a technique.</span></span> <span data-ttu-id="88506-116">以下將詳細討論這些主題。</span><span class="sxs-lookup"><span data-stu-id="88506-116">These topics are all discussed in further detail below.</span></span>

<span data-ttu-id="88506-117">當然，使用效果會有效能考慮。</span><span class="sxs-lookup"><span data-stu-id="88506-117">Naturally there are performance considerations for using effects.</span></span> <span data-ttu-id="88506-118">如果您不是使用效果，則這些考慮大致相同。</span><span class="sxs-lookup"><span data-stu-id="88506-118">These considerations are largely the same if you are not using an effect.</span></span> <span data-ttu-id="88506-119">例如，將狀態變更的數量降到最低，並依更新頻率來組織變數。</span><span class="sxs-lookup"><span data-stu-id="88506-119">Things like minimizing the amount of state changes and organizing the variables by frequency of update.</span></span> <span data-ttu-id="88506-120">這些策略可用來將需要從 CPU 傳送到 GPU 的資料量降到最低，因此可將可能的同步處理問題降至最低。</span><span class="sxs-lookup"><span data-stu-id="88506-120">These tactics are used to minimize the amount of data that needs to be sent from the CPU to the GPU, and therefore minimize potential synchronization problems.</span></span>

## <a name="in-this-section"></a><span data-ttu-id="88506-121">本節內容</span><span class="sxs-lookup"><span data-stu-id="88506-121">In this section</span></span>



| <span data-ttu-id="88506-122">主題</span><span class="sxs-lookup"><span data-stu-id="88506-122">Topic</span></span>                                                                                        | <span data-ttu-id="88506-123">描述</span><span class="sxs-lookup"><span data-stu-id="88506-123">Description</span></span>                                                                                                                                                                                                                                                                                                               |
|----------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="88506-124">編譯效果</span><span class="sxs-lookup"><span data-stu-id="88506-124">Compile an Effect</span></span>](d3d11-graphics-programming-guide-effects-compile.md)<br/>         | <span data-ttu-id="88506-125">在撰寫效果之後，下一步是要編譯器代碼以檢查語法問題。</span><span class="sxs-lookup"><span data-stu-id="88506-125">After an effect has been authored, the next step is to compile the code to check for syntax problems.</span></span><br/>                                                                                                                                                                                                          |
| [<span data-ttu-id="88506-126">建立效果</span><span class="sxs-lookup"><span data-stu-id="88506-126">Create an Effect</span></span>](d3d11-graphics-programming-guide-effects-create.md)<br/>           | <span data-ttu-id="88506-127">效果是藉由將編譯的效果位元組程式碼載入效果架構來建立。</span><span class="sxs-lookup"><span data-stu-id="88506-127">An effect is created by loading the compiled effect bytecode into the effects framework.</span></span> <span data-ttu-id="88506-128">不同于效果10，必須先編譯效果，才能建立效果。</span><span class="sxs-lookup"><span data-stu-id="88506-128">Unlike Effects 10, the effect must be compiled before creating the effect.</span></span> <span data-ttu-id="88506-129">您可以藉由呼叫 [**D3DX11CreateEffectFromMemory**](d3dx11createeffectfrommemory.md)來建立載入記憶體的效果。</span><span class="sxs-lookup"><span data-stu-id="88506-129">Effects loaded into memory can be created by calling [**D3DX11CreateEffectFromMemory**](d3dx11createeffectfrommemory.md).</span></span><br/>                 |
| [<span data-ttu-id="88506-130">設定效果狀態</span><span class="sxs-lookup"><span data-stu-id="88506-130">Set Effect State</span></span>](d3d11-graphics-programming-guide-effects-set-state.md)<br/>        | <span data-ttu-id="88506-131">某些效果常數只需要初始化。</span><span class="sxs-lookup"><span data-stu-id="88506-131">Some effect constants only need to be initialized.</span></span> <span data-ttu-id="88506-132">一旦初始化之後，效果狀態就會設定為整個轉譯迴圈的裝置。</span><span class="sxs-lookup"><span data-stu-id="88506-132">Once initialized, the effect state is set to the device for the entire render loop.</span></span> <span data-ttu-id="88506-133">每次呼叫轉譯迴圈時，都需要更新其他變數。</span><span class="sxs-lookup"><span data-stu-id="88506-133">Other variables need to be updated each time the render loop is called.</span></span> <span data-ttu-id="88506-134">以下顯示每個變數類型的設定效果變數的基本程式碼。</span><span class="sxs-lookup"><span data-stu-id="88506-134">The basic code for setting effect variables is shown below, for each of the types of variables.</span></span><br/> |
| [<span data-ttu-id="88506-135">套用技術</span><span class="sxs-lookup"><span data-stu-id="88506-135">Apply a Technique</span></span>](d3d11-graphics-programming-guide-effects-apply-technique.md)<br/> | <span data-ttu-id="88506-136">宣告並初始化常數、紋理和著色器狀態之後，唯一要做的事就是在裝置中設定效果狀態。</span><span class="sxs-lookup"><span data-stu-id="88506-136">With the constants, textures, and shader state declared and initialized, the only thing left to do is to set the effect state in the device.</span></span><br/>                                                                                                                                                                   |



 

## <a name="related-topics"></a><span data-ttu-id="88506-137">相關主題</span><span class="sxs-lookup"><span data-stu-id="88506-137">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="88506-138"> (Direct3D 11) 的效果 </span><span class="sxs-lookup"><span data-stu-id="88506-138">Effects (Direct3D 11)</span></span>](d3d11-graphics-programming-guide-effects.md)
</dt> </dl>

 

