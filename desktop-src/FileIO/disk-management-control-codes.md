---
description: 在 [磁片管理] 中使用的控制代碼。
ms.assetid: 488a7d32-cbb5-4f32-9655-0aca8ac69640
title: 磁片管理控制碼
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d4e2fb268931b0fd206f95f360a8b0c5a7718d6bd3b9085fed12e9370b553c69
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/11/2021
ms.locfileid: "119015346"
---
# <a name="disk-management-control-codes"></a>磁片管理控制碼

下表將識別磁片管理中使用的控制碼。

## <a name="in-this-section"></a>本節內容



| 控制程式代碼                                                                                              | 描述                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|-----------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**IOCTL \_ 磁片 \_ 已 \_ \_ 準備就緒**](ioctl-disk-are-volumes-ready.md)<br/>                       | 等候指定磁片上的所有磁片區都可供使用。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [**IOCTL \_ 磁片 \_ 建立 \_ 磁片**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_create_disk)<br/>                                    | 使用 [**建立 \_ 磁片**](/windows/desktop/api/WinIoCtl/ns-winioctl-create_disk) 結構中的資訊，初始化指定的磁片和磁碟分割資料表。<br/>                                                                                                                                                                                                                                                                                                                                                                                        |
| [**IOCTL \_ 磁片 \_ 刪除磁片 \_ 磁碟機 \_ 版面配置**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_delete_drive_layout)<br/>                   | 從主開機記錄中移除開機簽章，以便將磁片從磁區0格式化到磁片的結尾。<br/>                                                                                                                                                                                                                                                                                                                                                                                            |
| [**IOCTL \_ 磁片 \_ 格式 \_ 追蹤**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_format_tracks)<br/>                                | 格式化磁片上指定的連續一組曲目。 若要提供其他參數，請改用 [**IOCTL \_ 磁片 \_ 格式 \_ 追蹤（ \_ 例如**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_format_tracks_ex) ）。<br/>                                                                                                                                                                                                                                                                                                                                          |
| [**IOCTL \_ 磁片 \_ 格式 \_ 追蹤 \_ 例如**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_format_tracks_ex)<br/>                         | 格式化磁片上指定的連續一組曲目。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| [**IOCTL \_ 磁片 \_ 取得快取 \_ \_ 資訊**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_cache_information)<br/>               | 抓取磁碟快取設定資料。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**IOCTL \_ 磁片 \_ 取得 \_ 叢集 \_ 資訊**](ioctl-disk-get-cluster-info.md)<br/>                         | 抓取指定磁片裝置的屬性。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**IOCTL \_ 磁片 \_ 取得 \_ 磁片 \_ 屬性**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_disk_attributes)<br/>                   | 抓取指定磁片裝置的屬性。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**IOCTL \_ 磁片 \_ 取得磁片 \_ 磁碟機 \_ 幾何**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_drive_geometry)<br/>                     | 抓取實體磁片幾何的相關資訊：類型、圓柱數目、每個圓柱的曲目、每一曲目的磁區，以及每個磁區的位元組。<br/>                                                                                                                                                                                                                                                                                                                                                                             |
| [**IOCTL \_ 磁片 \_ 取得磁片 \_ 磁碟機 \_ 幾何 \_ 例如**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_drive_geometry_ex)<br/>              | 抓取實體磁片幾何的擴充資訊：類型、圓柱數目、每個圓柱的曲目、每一曲目的磁區，以及每個磁區的位元組。<br/>                                                                                                                                                                                                                                                                                                                                                                    |
| [**IOCTL \_ 磁片 \_ 取得磁片 \_ 磁碟機 \_ 版面配置**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_drive_layout)<br/>                         | 抓取磁碟分割資料表中每個專案的資訊。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [**IOCTL \_ 磁片 \_ 取得磁片 \_ 磁碟機配置 \_ \_ 例如**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_drive_layout_ex)<br/>                  | 針對磁片分割資料表中的每個專案，抓取擴充的資訊。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**IOCTL \_ 磁片 \_ 取得 \_ 長度 \_ 資訊**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_length_info)<br/>                           | 抓取指定磁片、磁片區或磁碟分割的長度。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**IOCTL \_ 磁片 \_ 取得 \_ 分割區 \_ 資訊**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_partition_info)<br/>                     | 抓取磁碟分割的類型、大小和性質的相關資訊。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [**IOCTL \_ 磁片 \_ 取得 \_ 分割區 \_ 資訊 \_ 例如**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_partition_info_ex)<br/>              | 抓取有關磁碟分割類型、大小和本質的延伸資訊。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [**IOCTL \_ 磁片 \_ 成長磁片 \_ 分區**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_grow_partition)<br/>                              | 放大指定的資料分割。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**IOCTL \_ 磁片 \_ \_ 可寫入**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_is_writable)<br/>                                    | 判斷指定的磁片是否可寫入。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [**IOCTL \_ 磁片 \_ 效能**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_performance)<br/>                                     | 啟用提供磁片效能資訊的效能計數器。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| [**將 IOCTL \_ 磁片 \_ 效能 \_ 關閉**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_performance_off)<br/>                            | 停用提供磁片效能資訊的效能計數器。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**IOCTL \_ 磁片 \_ 重新指派 \_ 區塊**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_reassign_blocks)<br/>                            | 指示磁片裝置將一個或多個區塊對應到其備用區塊集區。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [**IOCTL \_ 磁片 \_ 重新指派 \_ 區塊， \_ 例如**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_reassign_blocks_ex)<br/>                     | 指示磁片裝置將一個或多個區塊對應到其備用區塊集區。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [**IOCTL \_ 磁片 \_ 重設 \_ 快照集 \_ 資訊**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_reset_snapshot_info)<br/>                   | 清除所有磁碟區陰影複製服務 (VSS) 以硬體為基礎的陰影複製 (也稱為「快照集」 ) 磁片中的資訊。<br/> 若要執行這項作業，請使用下列參數呼叫 [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) 函數。<br/>                                                                                                                                                                                                                                                                  |
| [**IOCTL \_ 磁片 \_ 集快取 \_ \_ 資訊**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_set_cache_information)<br/>               | 設定磁片配置資料。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**IOCTL \_ 磁片 \_ 集 \_ 叢集 \_ 資訊**](ioctl-disk-set-cluster-info.md)<br/>                         | 設定磁片上的叢集資訊。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| [**IOCTL \_ 磁片 \_ 設定 \_ 磁片 \_ 屬性**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_set_disk_attributes)<br/>                   | 設定指定之磁片裝置的屬性。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**IOCTL \_ 磁片 \_ 集磁片 \_ 磁碟機 \_ 配置**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_set_drive_layout)<br/>                         | 依磁片磁碟機配置和分割區資訊資料的指定磁碟分割磁片。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [**IOCTL \_ 磁片 \_ 集磁片 \_ 磁碟機配置 \_ \_ 例如**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_set_drive_layout_ex)<br/>                  | 根據指定的磁片磁碟機配置和分割區資訊資料分割磁片。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [**IOCTL \_ 磁片 \_ 集磁片 \_ 分區 \_ 資訊**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_set_partition_info)<br/>                     | 設定指定磁碟分割的資料分割資訊。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**IOCTL \_ 磁片 \_ 集磁片 \_ 分區 \_ 資訊（ \_ 例如**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_set_partition_info_ex)<br/>              | 設定指定磁碟分割的磁碟分割資訊，包括 AT 和 EFI (可延伸固件介面) 分割區的版面配置資訊。<br/>                                                                                                                                                                                                                                                                                                                                                                           |
| [**IOCTL \_ 磁片 \_ 更新 \_ 屬性**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_update_properties)<br/>                        | 使快取的資料分割資料表失效，並重新列舉裝置。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [**IOCTL \_ 磁片 \_ 驗證**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_verify)<br/>                                               | 驗證固定磁片上指定的範圍。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [**IOCTL \_ 儲存 \_ 裝置 \_ 電源 \_ 上限**](/windows/desktop/api/WinIoctl/ni-winioctl-ioctl_storage_device_power_cap)<br/>                   | Windows 的應用程式可以使用此控制程式代碼來指定儲存裝置的最大操作耗電量等級。 作業系統最好將裝置轉換為不超過指定上限的電源狀態。 不過，這取決於裝置所支援的功能。 實際的最大值可能小於或大於所需的最大值。<br/> 若要執行這項作業，請使用下列參數呼叫 [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) 函數。<br/>                        |
| [**\_啟用 IOCTL 儲存體 \_ 固件 \_**](/windows/desktop/api/WinIoctl/ni-winioctl-ioctl_storage_firmware_activate)<br/>                  | Windows 的應用程式可以使用此控制項程式碼，在指定的裝置上啟動固件映射。<br/> 若要執行這項作業，請使用下列參數呼叫 [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) 函數。<br/>                                                                                                                                                                                                                                                                                          |
| [**IOCTL \_ 儲存體 \_ 固件 \_ 下載**](/windows/desktop/api/WinIoctl/ni-winioctl-ioctl_storage_firmware_download)<br/>                  | Windows 的應用程式可以使用此控制項程式碼將固件映射下載至目標裝置，但不能加以啟用。 如果要下載的影像大於控制器 s 的資料傳輸大小上限，則必須多次呼叫此 IOCTL，直到下載整個映射為止。<br/> 若要執行這項作業，請使用下列參數呼叫 [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) 函數。<br/>                                                                                     |
| [**IOCTL \_ 儲存體 \_ 固件 \_ 取得 \_ 資訊**](/windows/desktop/api/WinIoctl/ni-winioctl-ioctl_storage_firmware_get_info)<br/>                 | Windows 的應用程式可以使用此控制程式代碼來查詢儲存體裝置，以取得詳細的固件資訊。 成功的呼叫會傳回有關固件修訂、活動狀態，以及每個位置之讀取/寫入屬性的資訊。 傳回的資料量會根據儲存體通訊協定而有所不同。<br/> 若要執行這項作業，請使用下列參數呼叫 [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) 函數。<br/>                                                                         |
| [**IOCTL \_ 儲存體 \_ 通訊協定 \_ 命令**](/windows/desktop/api/winioctl/ni-winioctl-ioctl_storage_protocol_command)<br/>                    | Windows 的應用程式可以使用此控制程式代碼來傳回存放裝置或介面卡的屬性。 要求會指出要取出的資訊類型，例如，查詢裝置的資料，或介面卡的功能和限制。 <br/>                                                                                                                                                                                                                                                                               |
| [**IOCTL \_ 儲存體 \_ 查詢 \_ 屬性**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_storage_query_property)<br/>                        | Windows 的應用程式可以使用此控制程式代碼來傳回存放裝置或介面卡的屬性。 要求會指出要取出的資訊類型，例如裝置的查詢資料或介面卡的功能和限制。 [**IOCTL \_您 \_ \_**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_storage_query_property) 也可以使用「儲存體查詢」屬性來判斷埠驅動程式是否支援特定屬性，或可以使用後續的變更屬性要求來修改屬性描述項中的哪些欄位。<br/> |
| [**IOCTL \_ 儲存 \_ 設定 \_ 溫度 \_ 閾值**](/windows/desktop/api/WinIoctl/ni-winioctl-ioctl_storage_set_temperature_threshold)<br/> | Windows 的應用程式可以使用此控制程式代碼來設定裝置) 支援裝置 (的溫度閾值。 <br/>                                                                                                                                                                                                                                                                                                                                                                                              |



 

下列控制碼已淘汰：

**IOCTL \_ 磁片 \_ 控制器 \_ 編號**  
[**IOCTL \_ 磁片 \_ 取得磁片 \_ 磁碟機 \_ 幾何**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_drive_geometry)  
[**IOCTL \_ 磁片 \_ 取得磁片 \_ 磁碟機 \_ 版面配置**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_drive_layout)  
[**IOCTL \_ 磁片 \_ 取得 \_ 分割區 \_ 資訊**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_get_partition_info)  
**IOCTL \_ 磁片 \_ 長條圖 \_ 資料**  
**IOCTL \_ 磁片 \_ 長條圖 \_ 重設**  
**IOCTL \_ 磁片 \_ 長條圖 \_ 結構**  
**IOCTL \_ 磁片 \_ 記錄**  
**IOCTL \_ 磁片 \_ 要求 \_ 資料**  
**IOCTL \_ 磁片 \_ 要求 \_ 結構**  
[**IOCTL \_ 磁片 \_ 集磁片 \_ 磁碟機 \_ 配置**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_set_drive_layout)  
[**IOCTL \_ 磁片 \_ 集磁片 \_ 分區 \_ 資訊**](/windows/desktop/api/WinIoCtl/ni-winioctl-ioctl_disk_set_partition_info)

 

