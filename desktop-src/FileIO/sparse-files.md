---
description: 檔案壓縮大部分的檔案，可有效率地使用磁碟空間。
ms.assetid: 7326041d-f11e-4b80-ac4e-07173e418ce7
title: 疏鬆檔案
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: eb89a8fd3e8c067d5328756e57d511d4c38d615f2bb19c579208462c3f5bdbf3
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/11/2021
ms.locfileid: "118951047"
---
# <a name="sparse-files"></a>疏鬆檔案

其中許多資料都是零的檔案，稱為包含 *稀疏資料集*。 這類檔案通常很大，例如，包含要處理之影像資料的檔案，或高速資料庫中的矩陣。 包含稀疏資料集的檔案有個問題，那就是大部分的檔案都不包含有用的資料，因此因為這樣，磁碟空間的使用效率不佳。

NTFS 檔案系統中的檔案壓縮是問題的部分解決方案。 未明確寫入之檔案中的所有資料都會明確設定為零。 檔案壓縮會壓縮這些範圍的零。 不過，檔案壓縮的缺點是因為資料壓縮和解壓縮，存取時間可能會增加。

NTFS 檔案系統中導入了稀疏檔案的支援，做為讓磁碟空間使用量更有效率的另一種方式。 啟用稀疏檔案功能時，系統不會將硬碟空間配置給檔案，但包含非零資料的區域除外。 當嘗試寫入作業時，如果緩衝區中有大量資料為零，則不會將零寫入至檔案。 相反地，檔案系統會建立包含檔案中零位置的內部清單，而這份清單會在所有讀取作業期間進行參考。 在檔案所在區域內執行讀取作業時，檔案系統會在為讀取作業配置的緩衝區中傳回適當的零數目。 如此一來，在存取它的所有程式中，就不會對稀疏檔案進行維護，而且比壓縮用於此特定案例更有效率。

稀疏檔案的預設資料值為零。不過，它可以設定為其他值。

如需有關稀疏檔案的詳細資訊，請參閱下列主題。

## <a name="in-this-section"></a>本節內容



| 主題                                                                                     | 描述                                                                                                                                                                                   |
|-------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [稀疏檔案作業](sparse-file-operations.md)<br/>                           | 藉由呼叫 GetVolumeInformation 函數，判斷檔案系統是否支援稀疏檔案。<br/>                                                                                |
| [取得稀疏檔案的大小](obtaining-the-size-of-a-sparse-file.md)<br/> | 使用 [**GetCompressedFileSize**](/windows/desktop/api/fileapi/nf-fileapi-getcompressedfilesizea) 或 [**GetFileSize**](/windows/desktop/api/FileAPI/nf-fileapi-getfilesize) 函式，取得設定檔案大小或檔案的大小總計。<br/> |
| [稀疏檔案和磁片配額](sparse-files-and-disk-quota.md)<br/>                | 稀疏檔案會依檔案的名義大小來影響使用者配額，而不是實際配置的磁碟空間量。<br/>                                                                  |



 

 

 




