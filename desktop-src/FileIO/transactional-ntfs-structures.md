---
description: 交易式 NTFS (TxF) 結構。
ms.assetid: 85b3cf8e-bff3-4693-b00e-64bf5d1f5065
title: TxF 結構
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d490f608ef9ebfa6906d1acffa374a0c9327489b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "106983342"
---
# <a name="txf-structures"></a><span data-ttu-id="ab42a-103">TxF 結構</span><span class="sxs-lookup"><span data-stu-id="ab42a-103">TxF Structures</span></span>

<span data-ttu-id="ab42a-104">交易式 NTFS (TxF) 提供下列結構。</span><span class="sxs-lookup"><span data-stu-id="ab42a-104">Transactional NTFS (TxF) provides the following structures.</span></span>

## <a name="in-this-section"></a><span data-ttu-id="ab42a-105">本節內容</span><span class="sxs-lookup"><span data-stu-id="ab42a-105">In this section</span></span>



| <span data-ttu-id="ab42a-106">結構</span><span class="sxs-lookup"><span data-stu-id="ab42a-106">Structure</span></span>                                                                                                    | <span data-ttu-id="ab42a-107">Description</span><span class="sxs-lookup"><span data-stu-id="ab42a-107">Description</span></span>                                                                                                                                                                                        |
|--------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="ab42a-108">**TXFS \_ 建立 \_ 迷你迷你 \_ 資訊**</span><span class="sxs-lookup"><span data-stu-id="ab42a-108">**TXFS\_CREATE\_MINIVERSION\_INFO**</span></span>](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_create_miniversion_info)<br/>                           | <span data-ttu-id="ab42a-109">包含 [**FSCTL \_ TXFS \_ CREATE \_ 迷你**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_create_miniversion)版所建立之迷你版的相關版本資訊。</span><span class="sxs-lookup"><span data-stu-id="ab42a-109">Contains the version information about the miniversion created by [**FSCTL\_TXFS\_CREATE\_MINIVERSION**](/windows/win32/api/winioctl/ni-winioctl-fsctl_txfs_create_miniversion).</span></span><br/>                                            |
| [<span data-ttu-id="ab42a-110">**TXFS \_ 取得 \_ 中繼資料 \_ 資訊 \_**</span><span class="sxs-lookup"><span data-stu-id="ab42a-110">**TXFS\_GET\_METADATA\_INFO\_OUT**</span></span>](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_get_metadata_info_out)<br/>                              | <span data-ttu-id="ab42a-111">包含有關所建立之迷你版的版本資訊。</span><span class="sxs-lookup"><span data-stu-id="ab42a-111">Contains the version information about the miniversion that is created.</span></span><br/>                                                                                                                 |
| [<span data-ttu-id="ab42a-112">**TXF \_ 識別碼**</span><span class="sxs-lookup"><span data-stu-id="ab42a-112">**TXF\_ID**</span></span>](/windows/desktop/api/TxfW32/ns-txfw32-txf_id)<br/>                                                                         | <span data-ttu-id="ab42a-113">代表 Resource Manager 內容中的唯一識別碼。</span><span class="sxs-lookup"><span data-stu-id="ab42a-113">Represents a unique identifier within the context of the Resource Manager.</span></span><br/>                                                                                                              |
| [<span data-ttu-id="ab42a-114">**TXFS \_ 取得 \_ 交易 \_ 版本**</span><span class="sxs-lookup"><span data-stu-id="ab42a-114">**TXFS\_GET\_TRANSACTED\_VERSION**</span></span>](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_get_transacted_version)<br/>                             | <span data-ttu-id="ab42a-115">包含指定檔案之基底和最新版本的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="ab42a-115">Contains the information about the base and latest versions of the specified file.</span></span><br/>                                                                                                      |
| [<span data-ttu-id="ab42a-116">**TXFS \_ 列出 \_ 交易 \_ 鎖定 \_ 的檔案**</span><span class="sxs-lookup"><span data-stu-id="ab42a-116">**TXFS\_LIST\_TRANSACTION\_LOCKED\_FILES**</span></span>](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_list_transaction_locked_files)<br/>              | <span data-ttu-id="ab42a-117">包含由交易寫入器鎖定的檔案清單。</span><span class="sxs-lookup"><span data-stu-id="ab42a-117">Contains a list of files locked by a transacted writer.</span></span><br/>                                                                                                                                 |
| [<span data-ttu-id="ab42a-118">**TXFS \_ 列出 \_ 交易 \_ 鎖定 \_ 檔案 \_ 專案**</span><span class="sxs-lookup"><span data-stu-id="ab42a-118">**TXFS\_LIST\_TRANSACTION\_LOCKED\_FILES\_ENTRY**</span></span>](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_list_transaction_locked_files_entry)<br/> | <span data-ttu-id="ab42a-119">包含鎖定交易的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="ab42a-119">Contains information about a locked transaction.</span></span><br/>                                                                                                                                        |
| [<span data-ttu-id="ab42a-120">**TXFS \_ 列出 \_ 交易**</span><span class="sxs-lookup"><span data-stu-id="ab42a-120">**TXFS\_LIST\_TRANSACTIONS**</span></span>](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_list_transactions)<br/>                                        | <span data-ttu-id="ab42a-121">包含交易清單。</span><span class="sxs-lookup"><span data-stu-id="ab42a-121">Contains a list of transactions.</span></span><br/>                                                                                                                                                        |
| [<span data-ttu-id="ab42a-122">**TXFS \_ 列出 \_ 交易 \_ 專案**</span><span class="sxs-lookup"><span data-stu-id="ab42a-122">**TXFS\_LIST\_TRANSACTIONS\_ENTRY**</span></span>](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_list_transactions_entry)<br/>                           | <span data-ttu-id="ab42a-123">包含交易的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="ab42a-123">Contains information about a transaction.</span></span><br/>                                                                                                                                               |
| [<span data-ttu-id="ab42a-124">**TXF \_ \_ 記錄檔記錄 \_ 受影響 \_ 的檔案**</span><span class="sxs-lookup"><span data-stu-id="ab42a-124">**TXF\_LOG\_RECORD\_AFFECTED\_FILE**</span></span>](/windows/desktop/api/TxfW32/ns-txfw32-txf_log_record_affected_file)<br/>                          | <span data-ttu-id="ab42a-125">包含受交易影響之檔案的資訊。</span><span class="sxs-lookup"><span data-stu-id="ab42a-125">Contains information for a file that was affected by a transaction.</span></span><br/>                                                                                                                     |
| [<span data-ttu-id="ab42a-126">**TXF 記錄檔 \_ \_ 記錄 \_ 基底**</span><span class="sxs-lookup"><span data-stu-id="ab42a-126">**TXF\_LOG\_RECORD\_BASE**</span></span>](/windows/desktop/api/TxfW32/ns-txfw32-txf_log_record_base)<br/>                                             | <span data-ttu-id="ab42a-127">包含基本記錄資訊。</span><span class="sxs-lookup"><span data-stu-id="ab42a-127">Contains the basic record information.</span></span><br/>                                                                                                                                                  |
| [<span data-ttu-id="ab42a-128">**TXF \_ \_ 記錄 \_ 截斷**</span><span class="sxs-lookup"><span data-stu-id="ab42a-128">**TXF\_LOG\_RECORD\_TRUNCATE**</span></span>](/windows/desktop/api/TxfW32/ns-txfw32-txf_log_record_truncate)<br/>                                     | <span data-ttu-id="ab42a-129">包含截斷作業的記錄。</span><span class="sxs-lookup"><span data-stu-id="ab42a-129">Contains the record for a truncate operation.</span></span><br/>                                                                                                                                           |
| [<span data-ttu-id="ab42a-130">**TXF \_ \_ 記錄檔記錄 \_ 寫入**</span><span class="sxs-lookup"><span data-stu-id="ab42a-130">**TXF\_LOG\_RECORD\_WRITE**</span></span>](/windows/desktop/api/TxfW32/ns-txfw32-txf_log_record_write)<br/>                                           | <span data-ttu-id="ab42a-131">包含寫入作業的記錄。</span><span class="sxs-lookup"><span data-stu-id="ab42a-131">Contains the record for a write operation.</span></span><br/>                                                                                                                                              |
| [<span data-ttu-id="ab42a-132">**TXFS \_ 修改 \_ RM**</span><span class="sxs-lookup"><span data-stu-id="ab42a-132">**TXFS\_MODIFY\_RM**</span></span>](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_modify_rm)<br/>                                                        | <span data-ttu-id="ab42a-133">包含修改次要資源管理員的記錄參數和記錄模式時所需的資訊。</span><span class="sxs-lookup"><span data-stu-id="ab42a-133">Contains the information required when modifying log parameters and logging mode for a secondary resource manager.</span></span><br/>                                                                      |
| [<span data-ttu-id="ab42a-134">**TXFS \_ 查詢 \_ RM \_ 資訊**</span><span class="sxs-lookup"><span data-stu-id="ab42a-134">**TXFS\_QUERY\_RM\_INFORMATION**</span></span>](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_query_rm_information)<br/>                                 | <span data-ttu-id="ab42a-135">包含 resource manager (RM) 的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="ab42a-135">Contains information about the resource manager (RM).</span></span><br/>                                                                                                                                   |
| [<span data-ttu-id="ab42a-136">**TXFS \_ 讀取 \_ 備份 \_ 資訊 \_**</span><span class="sxs-lookup"><span data-stu-id="ab42a-136">**TXFS\_READ\_BACKUP\_INFORMATION\_OUT**</span></span>](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_read_backup_information_out)<br/>                  | <span data-ttu-id="ab42a-137">包含交易式 NTFS (TxF) 特定結構。</span><span class="sxs-lookup"><span data-stu-id="ab42a-137">Contains a Transactional NTFS (TxF) specific structure.</span></span> <span data-ttu-id="ab42a-138">只有在呼叫 [**TXFS \_ 寫入 \_ 備份 \_ 資訊**](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_write_backup_information)時，才應該使用這種資訊。</span><span class="sxs-lookup"><span data-stu-id="ab42a-138">This information should only be used when calling [**TXFS\_WRITE\_BACKUP\_INFORMATION**](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_write_backup_information).</span></span><br/>    |
| [<span data-ttu-id="ab42a-139">**TXFS 儲存 \_ 點 \_ 資訊**</span><span class="sxs-lookup"><span data-stu-id="ab42a-139">**TXFS\_SAVEPOINT\_INFORMATION**</span></span>](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_savepoint_information)<br/>                                | <span data-ttu-id="ab42a-140">[**FSCTL \_ TXFS 儲存 \_ 點 \_ 資訊**](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_savepoint_information)結構會指定要執行的動作，以及在哪個交易上執行的動作。</span><span class="sxs-lookup"><span data-stu-id="ab42a-140">The [**FSCTL\_TXFS\_SAVEPOINT\_INFORMATION**](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_savepoint_information) structure specifies the action to perform, and on which transaction.</span></span><br/>                                      |
| [<span data-ttu-id="ab42a-141">**TXFS \_ 交易使用中 \_ \_ 資訊**</span><span class="sxs-lookup"><span data-stu-id="ab42a-141">**TXFS\_TRANSACTION\_ACTIVE\_INFO**</span></span>](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_transaction_active_info)<br/>                           | <span data-ttu-id="ab42a-142">包含旗標，這個旗標會指出交易是否在使用中，或在取得快照集時不是作用中。</span><span class="sxs-lookup"><span data-stu-id="ab42a-142">Contains the flag that indicates whether transactions were active or not when a snapshot was taken.</span></span><br/>                                                                                     |
| [<span data-ttu-id="ab42a-143">**TXFS \_ 寫入 \_ 備份 \_ 資訊**</span><span class="sxs-lookup"><span data-stu-id="ab42a-143">**TXFS\_WRITE\_BACKUP\_INFORMATION**</span></span>](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_write_backup_information)<br/>                         | <span data-ttu-id="ab42a-144">包含交易式 NTFS (TxF) 特定結構。</span><span class="sxs-lookup"><span data-stu-id="ab42a-144">Contains a Transactional NTFS (TxF) specific structure.</span></span> <span data-ttu-id="ab42a-145">只有在呼叫 [**TXFS \_ 寫入 \_ 備份 \_ 資訊**](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_read_backup_information_out)時，才應該使用這種資訊。</span><span class="sxs-lookup"><span data-stu-id="ab42a-145">This information should only be used when calling [**TXFS\_WRITE\_BACKUP\_INFORMATION**](/windows/desktop/api/WinIoCtl/ns-winioctl-txfs_read_backup_information_out).</span></span><br/> |



 

 

