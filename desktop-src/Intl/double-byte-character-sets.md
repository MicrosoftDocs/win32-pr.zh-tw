---
description: 雙位元組字集 (DBCS) ，也稱為 &\# 0034; 展開的8位字元集&\# 0034;，是實作為字碼頁的擴充單一位元組字元集 (SBCS) 。
ms.assetid: df049d22-02e2-48b2-8b74-52f71c00c549
title: 雙位元組字集
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 431b762b19f5531644e4bbaace548f34245c9d5c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/08/2021
ms.locfileid: "106990414"
---
# <a name="double-byte-character-sets"></a><span data-ttu-id="f30e2-103">雙位元組字集</span><span class="sxs-lookup"><span data-stu-id="f30e2-103">Double-byte Character Sets</span></span>

<span data-ttu-id="f30e2-104">雙位元組字元集 (DBCS) （也稱為「擴充的8位字元集」）是一組擴充的 [單一位元組字元集](single-byte-character-sets.md) (SBCS) ，會實作為字碼頁。</span><span class="sxs-lookup"><span data-stu-id="f30e2-104">A double-byte character set (DBCS), also known as an "expanded 8-bit character set", is an extended [single-byte character set](single-byte-character-sets.md) (SBCS), implemented as a code page.</span></span> <span data-ttu-id="f30e2-105">Dbcs 最初是為了擴充 SBCS 設計來處理日文和中文等語言而開發的。</span><span class="sxs-lookup"><span data-stu-id="f30e2-105">DBCSs were originally developed to extend the SBCS design to handle languages such as Japanese and Chinese.</span></span> <span data-ttu-id="f30e2-106">DBCS 中的某些字元（包括用來撰寫英文的數位和字母）具有單一位元組的程式碼值。</span><span class="sxs-lookup"><span data-stu-id="f30e2-106">Some characters in a DBCS, including the digits and letters used for writing English, have single-byte code values.</span></span> <span data-ttu-id="f30e2-107">其他字元（例如中文表意文字或日文漢字）有雙位元組代碼值。</span><span class="sxs-lookup"><span data-stu-id="f30e2-107">Other characters, such as Chinese ideographs or Japanese kanji, have double-byte code values.</span></span> <span data-ttu-id="f30e2-108">DBCS 可以對應至 Windows 字碼頁或 OEM 字碼頁。</span><span class="sxs-lookup"><span data-stu-id="f30e2-108">A DBCS can correspond either to a Windows code page or an OEM code page.</span></span> <span data-ttu-id="f30e2-109">DBCS 字碼頁也可以包含非原生字碼頁，例如，EBCDIC 字碼頁。</span><span class="sxs-lookup"><span data-stu-id="f30e2-109">A DBCS code page can also include a non-native code page, for example, an EBCDIC code page.</span></span> <span data-ttu-id="f30e2-110">如需這些字碼頁的定義，請參閱 [字碼頁](code-pages.md)。</span><span class="sxs-lookup"><span data-stu-id="f30e2-110">For definitions of these code pages, see [Code Pages](code-pages.md).</span></span>

> [!Note]  
> <span data-ttu-id="f30e2-111">新的 Windows 應用程式應該使用 [Unicode](unicode.md) 來避免不同的程式字碼頁不一致，並方便當地語系化。</span><span class="sxs-lookup"><span data-stu-id="f30e2-111">New Windows applications should use [Unicode](unicode.md) to avoid the inconsistencies of varied code pages and for ease of localization.</span></span> <span data-ttu-id="f30e2-112">不過，某些舊版通訊協定可能需要使用 DBCS 字碼頁。</span><span class="sxs-lookup"><span data-stu-id="f30e2-112">However, some legacy protocols might require the use of DBCS code pages.</span></span> <span data-ttu-id="f30e2-113">每個 DBCS 字碼頁支援不同的字元，但沒有任何頁面支援 Unicode 提供的完整字元範圍。</span><span class="sxs-lookup"><span data-stu-id="f30e2-113">Each DBCS code page supports different characters, but no page supports the full breadth of characters provided by Unicode.</span></span> <span data-ttu-id="f30e2-114">每個 DBCS 字碼頁支援不同的子集，以不同方式編碼。</span><span class="sxs-lookup"><span data-stu-id="f30e2-114">Each DBCS code page supports a different subset, differently encoded.</span></span> <span data-ttu-id="f30e2-115">從某個 DBCS 字碼頁轉換成另一個的資料會受到損毀，因為不同字碼頁上的相同資料值可以編碼不同的字元。</span><span class="sxs-lookup"><span data-stu-id="f30e2-115">Data converted from one DBCS code page to another is subject to corruption because the same data value on different code pages can encode a different character.</span></span> <span data-ttu-id="f30e2-116">從 Unicode 轉換為 DBCS 的資料會受到資料遺失的影響，因為指定的字碼頁可能無法表示該特定 Unicode 資料中使用的每個字元。</span><span class="sxs-lookup"><span data-stu-id="f30e2-116">Data converted from Unicode to DBCS is subject to data loss, because a given code page might not be able to represent every character used in that particular Unicode data.</span></span>

 

<span data-ttu-id="f30e2-117">若要解讀 DBCS 字串，應用程式必須從字串的開頭開始並向前掃描。</span><span class="sxs-lookup"><span data-stu-id="f30e2-117">To interpret a DBCS string, an application must start at the beginning of the string and scan forward.</span></span> <span data-ttu-id="f30e2-118">它會追蹤其在字串中遇到前導位元組的時間，並將下一個位元組視為相同字元的尾端部分。</span><span class="sxs-lookup"><span data-stu-id="f30e2-118">It keeps track when it encounters a lead byte in the string, and treats the next byte as the trailing part of the same character.</span></span> <span data-ttu-id="f30e2-119">如果應用程式一次只掃描一個位元組的字串，並遇到表示反斜線 ( "" ) 的位元組，則 \\ 該位元組可能只是兩個位元組字元的後隨位元組。</span><span class="sxs-lookup"><span data-stu-id="f30e2-119">If the application simply scans the string one byte at a time and encounters a byte that appears to be the code value representing a backslash ("\\"), that byte might simply be the trail byte of a two-byte character.</span></span> <span data-ttu-id="f30e2-120">應用程式不能只備份一個位元組來查看上述位元組是否為前導位元組，因為該位元組值可能有資格同時當做前導位元組和後隨位元組使用。</span><span class="sxs-lookup"><span data-stu-id="f30e2-120">The application cannot just back up one byte to see if the preceding byte is a lead byte, as that byte value might be eligible to be used as both a lead byte and a trail byte.</span></span> <span data-ttu-id="f30e2-121">因此，應用程式基本上與可能的反斜線有相同的問題。</span><span class="sxs-lookup"><span data-stu-id="f30e2-121">Thus the application has essentially the same problem with it as with the possible backslash.</span></span> <span data-ttu-id="f30e2-122">換句話說，使用 DBCS 比 SBCSs 或 Unicode 更複雜的子字串搜尋。</span><span class="sxs-lookup"><span data-stu-id="f30e2-122">In other words, substring searches are much more complicated with a DBCS than with either SBCSs or Unicode.</span></span> <span data-ttu-id="f30e2-123">因此，支援 DBCS 的應用程式必須使用特殊的函式，例如 [ \_ mbsstr](/cpp/c-runtime-library/reference/strstr-wcsstr-mbsstr-mbsstr-l)，而不是 [**StrStr**](https://msdn.microsoft.com/library/z9da80kz(v=VS.71).aspx)函數。</span><span class="sxs-lookup"><span data-stu-id="f30e2-123">Accordingly, applications that support a DBCS must use special functions, such as [\_mbsstr](/cpp/c-runtime-library/reference/strstr-wcsstr-mbsstr-mbsstr-l), instead of the [**StrStr**](https://msdn.microsoft.com/library/z9da80kz(v=VS.71).aspx) function.</span></span>

<span data-ttu-id="f30e2-124">您的應用程式會使用 DBCS Windows 字碼頁搭配「A」版本的 Windows 函式。</span><span class="sxs-lookup"><span data-stu-id="f30e2-124">Your applications use DBCS Windows code pages with the "A" versions of Windows functions.</span></span> <span data-ttu-id="f30e2-125">請參閱函數原型和[字碼頁](code-pages.md)[的慣例](conventions-for-function-prototypes.md)。</span><span class="sxs-lookup"><span data-stu-id="f30e2-125">See [Conventions for Function Prototypes](conventions-for-function-prototypes.md) and [Code Pages](code-pages.md).</span></span> <span data-ttu-id="f30e2-126">為了協助識別 DBCS 字碼頁，應用程式可以使用 [**GetCPInfo**](/windows/desktop/api/Winnls/nf-winnls-getcpinfo) 或 [**GetCPInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getcpinfoexa) 函數。</span><span class="sxs-lookup"><span data-stu-id="f30e2-126">To help identify a DBCS code page, an application can use the [**GetCPInfo**](/windows/desktop/api/Winnls/nf-winnls-getcpinfo) or [**GetCPInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getcpinfoexa) function.</span></span> <span data-ttu-id="f30e2-127">應用程式可以使用 [**IsDBCSLeadByte**](/windows/desktop/api/Winnls/nf-winnls-isdbcsleadbyte) 函式來判斷指定的值是否可以當做2位元組字元的前導位元組使用。</span><span class="sxs-lookup"><span data-stu-id="f30e2-127">An application can use the [**IsDBCSLeadByte**](/windows/desktop/api/Winnls/nf-winnls-isdbcsleadbyte) function to determine if a given value can be used as the lead byte of a 2-byte character.</span></span> <span data-ttu-id="f30e2-128">此外，應用程式可以使用 [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) 和 [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) 函式，在 Unicode 和 DBCS 字串之間進行對應。</span><span class="sxs-lookup"><span data-stu-id="f30e2-128">In addition, an application can use the [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) and [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) functions to map between Unicode and DBCS strings.</span></span>

## <a name="related-topics"></a><span data-ttu-id="f30e2-129">相關主題</span><span class="sxs-lookup"><span data-stu-id="f30e2-129">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f30e2-130">字元集</span><span class="sxs-lookup"><span data-stu-id="f30e2-130">Character Sets</span></span>](character-sets.md)
</dt> <dt>

[<span data-ttu-id="f30e2-131">單一位元組字元集</span><span class="sxs-lookup"><span data-stu-id="f30e2-131">Single-byte Character Sets</span></span>](single-byte-character-sets.md)
</dt> </dl>

 

 
