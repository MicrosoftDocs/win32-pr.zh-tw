---
description: 準備資源設定檔
ms.assetid: 292b57ea-1c7e-49b6-876c-4ad307a2ec43
title: 準備資源設定檔
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ac162ad7f6d20148e0ef60cb9dc15da41cc27186
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "104112809"
---
# <a name="preparing-a-resource-configuration-file"></a>準備資源設定檔

[資源公用程式](resource-utilities.md)中所述的 MUIRCT 和 RC 編譯器公用程式都會提供命令列選項，可讓您指定基礎語言資源的資源設定檔。 使用這個公開、人類可讀取的 XML 檔案，可讓您更充分掌控資源的分割，而不是使用公用程式的一般命令列參數來取得。 但是，即使您未提供資源設定檔做為輸入，但 LN 和特定語言的資源檔將包含資源設定資料。

Win32 應用程式的所有資源設定檔都會以相同的方式開始和結束：


```C++
<?xml version="1.0" encoding="utf-8"?> 
<localization>

<resources>
        
        <!-- a single win32Resources element goes here -->

</resources>
</localization>
```



本主題著重于在 Windows Vista 和更新版本上建立非受控碼時，適用于 XML 架構的各個層面。 尤其是，它只關心 win32Resources 元素的行為。

## <a name="win32resources-element"></a>win32Resources 元素

Win32Resources 元素具有下表所述的屬性。



| 屬性名稱           | 強制性 | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|--------------------------|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| fileType                 | No        | 檔案類型。 應一律為 "Application"。                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 總和檢查碼                 | No        | 要出現在 LN 檔案的資源設定資料和特定語言資源檔的總和檢查碼值。 例如，這個屬性可讓您從單一語言專屬的資源檔中複製總和檢查碼，方法是使用英文 (美國) 的慣例，並將總和檢查碼放在不同的語言特定資源檔中。 總和檢查碼可指定為不超過32個字元的十六進位數位字串。 數值必須 containable 在128位的數位中。 |
| 語言                 | No        | 使用符合 RFC 4646 的名稱格式指定的語言 (Windows Vista 和更新版本的) ，例如 en-us （ (英文）) 。                                                                                                                                                                                                                                                                                                                                                                             |
| ultimateFallbackLanguage | No        | 要插入 LN 檔案之資源設定資料中的語言，代表要在搜尋對應語言專屬資源檔時使用的最終回溯語言。 如果資源載入器無法從執行緒慣用 UI 語言載入要求的資源檔，它會使用最終的回溯語言做為最後一次嘗試。 語言的指定方式是使用與 RFC 4646 相容的名稱格式 (Windows Vista 和更新版本) ，例如 en-us （ (英文）) 。       |
| ultimateFallbackLocation | No        | Fallback 位置。 如果最終的回復資源編譯成 LN 檔，請指定「內部」。 如果 LN 檔案要參考特定語言的資源檔，以取得其最終的回溯資源，請指定 "external" (預設) 。                                                                                                                                                                                                                                                                                |



 

在資源設定檔中，win32Resources 元素具有下表所述的子項目。



| 元素名稱       | Description                                                                                                                              |
|--------------------|------------------------------------------------------------------------------------------------------------------------------------------|
| localizedResources | 封裝資源類型和個別資源（包含在特定語言的資源檔中）相關資訊的資源。 |
| neutralResources   | 封裝包含在 LN 檔案中之資源類型相關資訊的資源。                                                 |



 

## <a name="localizedresources-element"></a>localizedResources 元素

當地語系化的資源元素。 根據預設，這個元素沒有任何屬性，而且只有一個子項目類型。 它只是 resourceType 元素的容器。



| 屬性名稱 | 描述                                                                    |
|----------------|--------------------------------------------------------------------------------|
| resourceType   | 特定語言的資源檔中包含的個別資源類型。 |



 

## <a name="neutralresources-element"></a>neutralResources 元素

中立的資源元素。 此元素只是 resourceType 元素的容器。



| 屬性名稱 | 描述                                        |
|----------------|----------------------------------------------------|
| resourceType   | 包含在 LN 檔中的單一資源類型。 |



 

## <a name="resourcetype-element"></a>resourceType 元素

ResourceType 元素會封裝單一資源類型或個別資源的相關資訊。 它具有下列屬性。

> [!Caution]  
> 某些資源設定瑕疵僅由 RC 編譯器或 MUIRCT 捕捉，視輸入資源檔或二進位檔內容而定。 資源設定檔中不存在於輸入檔中的 resourceType 錯誤不會被攔截，而導致非預期的行為。 使用者可以使用有缺陷的資源設定檔，而且在導入使用資源設定檔的損毀部分的二進位檔之前，並不知道，這會從目前的二進位檔建立中斷的外觀。

 



| 屬性名稱 | 強制性 | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|----------------|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| typeNameId     | Yes       | 資源的類型名稱或識別碼。 指定字串名稱或數位。 如果使用數位，請在字串前面加上 " \# "，表示它代表一個數位。 每個 resourceType 元素都只能有一個 *typeNameId* 屬性。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| itemName       | No        | 資源的專案名稱字串，要放在特定語言的資源檔中。 您可以指定多個名稱，並以空格分隔，例如 "HTML MOFDATA"。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| itemId         | No        | 個別資源專案的識別碼，要放在特定語言的資源檔中。 您可以將此專案指定為範圍 (例如 "1-12" ) 或個別識別碼以空白字元分隔 (例如 "1 3 4" ) 。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Stringid 指定       | No        | 個別資源專案的字串識別碼，要放在特定語言的資源檔中。 字串可以指定為範圍 (例如 "1-12" ) 或個別識別碼以空白字元分隔 (例如 "1 3 4" ) 。這個屬性可讓您指定可當地語系化和 nonlocalizable 的字串資料表專案。 它必須與 "6" 的 *typeNameId* 值搭配使用，以表示字串資料表專案的資源類型。<br/> 字串會儲存在字串資料表中的16區塊內。 例如，字串0到15會儲存在單一資源專案區塊中，而且可以在資源設定檔中作為 *itemId* 1 或 *stringid 指定* "0-15" 來參考。 例如，如果有五個可當地語系化的字串和三個 nonlocalizable 字串，您應該針對可當地語系化的字串指派字串識別碼0-4，並為 nonlocalizable 字串指派字串識別碼16-18。 如果您未以這種方式組織字串，則會將受影響的字串區塊放在 LN 檔和特定語言的資源檔中。<br/> |



 

如果您在 localizedResource 元素下指定特定資源類型的專案類型、 *itemId* 和/或 *stringid 指定* 屬性，則只有指定之資源 *類型的這些* 指定專案或字串會放置在特定語言的資源檔中。 如果指定 resourceType 元素時未指定任何明確的專案名稱、專案識別碼或字串識別碼，則會將指定之資源類型的所有專案都放在特定語言的資源檔中。 未列在任何 localizedResource 專案中的專案或類型都會放置在 LN 檔案中。

以下是標準資源類型和其數值識別碼：

-   資料指標 (1) 
-   點陣圖 (2) 
-   圖示 (3) 
-   功能表 (4) 
-   對話方塊 (5) 
-   字串 (6) 
-   FONTDIR (7) 
-   字型 (8) 
-   加速器 (9) 
-   RCDATA (10) 
-   MESSAGETABLE (11) 
-   群組資料 \_ 指標 (12) 
-   群組 \_ 圖示 (14) 
-   版本 (16) 
-   HTML (23) 

## <a name="example"></a>範例


```C++
<?xml version="1.0" encoding="utf-8"?> 
<localization>
  <resources>
    <win32Resources fileType="Application">
      <neutralResources>
        <resourceType
           typeNameId="#16"
        />
      </neutralResources>
      <localizedResources> 
         <resourceType
                typeNameId="#2"
                itemId="5 6 7 8 9 10 11 12"
                itemName="HTML PRI"
         />
         <resourceType
                typeNameId="#4"
         />
         <resourceType
                typeNameId="#5"
         />
         <resourceType
                typeNameId="#6"
         />
         <resourceType
                typeNameId="#9"
         />
         <resourceType
                typeNameId="#11"
         />
         <resourceType
                typeNameId="#16"
         />
         <resourceType
                typeNameId="HTML"
         />
         <resourceType
                typeNameId="#23"
         />
         <resourceType
                typeNameId="#240"
         />
         <resourceType
                typeNameId="#1024"
         />
         <resourceType
                typeNameId="MY_TYPE"
         />
      </localizedResources> 
    </win32Resources>
  </resources>
</localization>
```



## <a name="remarks"></a>備註

如果您在 neutralResources 元素中包含任何圖示 (3) 、對話方塊 (5) 、字串 (6) 或版本 (16) 資源類型，則必須在 localizedResources 元素中複製該專案。 您可以看到上述範例中所示的範例，其中資源類型16出現在 [中性] 和 [當地語系化的資源] 區段中。

## <a name="related-topics"></a>相關主題

<dl> <dt>

[準備資源](preparing-resources.md)
</dt> </dl>

 

 




