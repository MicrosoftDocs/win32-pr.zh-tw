---
description: Unicode 是全球字元編碼標準。 系統會專門針對字元和字串操作使用 Unicode。 如需 Unicode 所有方面的詳細說明，請參閱 Unicode 標準。
ms.assetid: ca5bcdee-ea13-4745-a565-5426c462892d
title: Unicode
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 88facae63fbb365fd6f38cb09464de735e0759b3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/08/2021
ms.locfileid: "106982762"
---
# <a name="unicode"></a><span data-ttu-id="c56e2-105">Unicode</span><span class="sxs-lookup"><span data-stu-id="c56e2-105">Unicode</span></span>

<span data-ttu-id="c56e2-106">Unicode 是全球字元編碼標準。</span><span class="sxs-lookup"><span data-stu-id="c56e2-106">Unicode is a worldwide character-encoding standard.</span></span> <span data-ttu-id="c56e2-107">系統會專門針對字元和字串操作使用 Unicode。</span><span class="sxs-lookup"><span data-stu-id="c56e2-107">The system uses Unicode exclusively for character and string manipulation.</span></span> <span data-ttu-id="c56e2-108">如需 Unicode 所有方面的詳細說明，請參閱 [Unicode 標準](https://www.unicode.org/standard/standard.html)。</span><span class="sxs-lookup"><span data-stu-id="c56e2-108">For a detailed description of all aspects of Unicode, refer to [The Unicode Standard](https://www.unicode.org/standard/standard.html).</span></span>

<span data-ttu-id="c56e2-109">相較于處理字元和字串資料的舊版機制，Unicode 可簡化軟體當地語系化並改善多語系文字處理。</span><span class="sxs-lookup"><span data-stu-id="c56e2-109">Compared to older mechanisms for handling character and string data, Unicode simplifies software localization and improves multilingual text processing.</span></span> <span data-ttu-id="c56e2-110">藉由使用 Unicode 來表示應用程式中的字元和字串資料，您可以為全域行銷啟用通用資料交換功能，並針對每個可能的字元碼使用單一二進位檔案。</span><span class="sxs-lookup"><span data-stu-id="c56e2-110">By using Unicode to represent character and string data in your applications, you can enable universal data exchange capabilities for global marketing, using a single binary file for every possible character code.</span></span> <span data-ttu-id="c56e2-111">Unicode 會執行下列動作：</span><span class="sxs-lookup"><span data-stu-id="c56e2-111">Unicode does the following:</span></span>

-   <span data-ttu-id="c56e2-112">允許任意組合的字元（從腳本和語言的任何組合所繪製），以並存存在於單一檔中。</span><span class="sxs-lookup"><span data-stu-id="c56e2-112">Allows any combination of characters, drawn from any combination of scripts and languages, to co-exist in a single document.</span></span>
-   <span data-ttu-id="c56e2-113">定義每個字元的語法。</span><span class="sxs-lookup"><span data-stu-id="c56e2-113">Defines semantics for each character.</span></span>
-   <span data-ttu-id="c56e2-114">將腳本行為標準化。</span><span class="sxs-lookup"><span data-stu-id="c56e2-114">Standardizes script behavior.</span></span>
-   <span data-ttu-id="c56e2-115">提供雙向文字的標準演算法。</span><span class="sxs-lookup"><span data-stu-id="c56e2-115">Provides a standard algorithm for bidirectional text.</span></span>
-   <span data-ttu-id="c56e2-116">定義其他標準的跨對應。</span><span class="sxs-lookup"><span data-stu-id="c56e2-116">Defines cross-mappings to other standards.</span></span>
-   <span data-ttu-id="c56e2-117">定義單一字元集的多個編碼： UTF-7、UTF-8、UTF-16 和 UTF-32。</span><span class="sxs-lookup"><span data-stu-id="c56e2-117">Defines multiple encodings of its single character set: UTF-7, UTF-8, UTF-16, and UTF-32.</span></span> <span data-ttu-id="c56e2-118">這些編碼之間的資料轉換不會失真。</span><span class="sxs-lookup"><span data-stu-id="c56e2-118">Conversion of data among these encodings is lossless.</span></span>

<span data-ttu-id="c56e2-119">Unicode 支援許多語言所使用的腳本，以及用於發佈的許多技術符號和特殊字元。</span><span class="sxs-lookup"><span data-stu-id="c56e2-119">Unicode supports numerous scripts used by languages around the world, and also a large number of technical symbols and special characters used in publishing.</span></span> <span data-ttu-id="c56e2-120">支援的腳本包括（但不限於）拉丁文、希臘文、斯拉夫文、希伯來文、阿拉伯文、梵文、泰文、漢字、韓文、平假名和片假名。</span><span class="sxs-lookup"><span data-stu-id="c56e2-120">The supported scripts include, but are not limited to, Latin, Greek, Cyrillic, Hebrew, Arabic, Devanagari, Thai, Han, Hangul, Hiragana, and Katakana.</span></span> <span data-ttu-id="c56e2-121">支援的語言包括（但不限於）德文、法文、英文、希臘文、俄文、希伯來文、阿拉伯文、印度文、泰文、繁體中文、韓文及日文。</span><span class="sxs-lookup"><span data-stu-id="c56e2-121">Supported languages include, but are not limited to, German, French, English, Greek, Russian, Hebrew, Arabic, Hindi, Thai, Chinese, Korean, and Japanese.</span></span> <span data-ttu-id="c56e2-122">Unicode 目前可代表現代電腦在世界各地使用的大部分字元，並持續更新以使其更完整。</span><span class="sxs-lookup"><span data-stu-id="c56e2-122">Unicode currently can represent the vast majority of characters in modern computer use around the world, and continues to be updated to make it even more complete.</span></span>

<span data-ttu-id="c56e2-123">[函數原型的慣例](conventions-for-function-prototypes.md)中描述了啟用 Unicode 的函式。</span><span class="sxs-lookup"><span data-stu-id="c56e2-123">Unicode-enabled functions are described in [Conventions for Function Prototypes](conventions-for-function-prototypes.md).</span></span> <span data-ttu-id="c56e2-124">這些函式使用 UTF-16 (寬字元) 編碼，這是最常見的 Unicode 編碼方式，也是在 Windows 作業系統上用於原生 Unicode 編碼的編碼方式。</span><span class="sxs-lookup"><span data-stu-id="c56e2-124">These functions use UTF-16 (wide character) encoding, which is the most common encoding of Unicode and the one used for native Unicode encoding on Windows operating systems.</span></span> <span data-ttu-id="c56e2-125">每個程式碼值都是16位寬，相較于較舊的 [字碼頁](code-pages.md) 方法和字元和字串資料，其使用8位的程式碼值。</span><span class="sxs-lookup"><span data-stu-id="c56e2-125">Each code value is 16 bits wide, in contrast to the older [code page](code-pages.md) approach to character and string data, which uses 8-bit code values.</span></span> <span data-ttu-id="c56e2-126">使用16位可允許65536個字元的直接編碼。</span><span class="sxs-lookup"><span data-stu-id="c56e2-126">The use of 16 bits allows the direct encoding of 65,536 characters.</span></span> <span data-ttu-id="c56e2-127">事實上，用來轉譯人類語言的符號 universe 甚至更大，而範圍 U + D800 到 U + DFFF 的 UTF-16 程式碼點則是用來形成代理程式配對，其中構成了32位的補充字元編碼。</span><span class="sxs-lookup"><span data-stu-id="c56e2-127">In fact, the universe of symbols used to transcribe human languages is even larger than that, and UTF-16 code points in the range U+D800 through U+DFFF are used to form surrogate pairs, which constitute 32-bit encodings of supplementary characters.</span></span> <span data-ttu-id="c56e2-128">如需進一步討論，請參閱 [代理程式和補充字元](surrogates-and-supplementary-characters.md) 。</span><span class="sxs-lookup"><span data-stu-id="c56e2-128">See [Surrogates and Supplementary Characters](surrogates-and-supplementary-characters.md) for further discussion.</span></span>

<span data-ttu-id="c56e2-129">Unicode 字元集包含許多合併字元，例如 U + 0308 ( "$" ) ，結合分字元或變音符號。</span><span class="sxs-lookup"><span data-stu-id="c56e2-129">The Unicode character set includes numerous combining characters, such as U+0308 ("¨"), a combining dieresis or umlaut.</span></span> <span data-ttu-id="c56e2-130">Unicode 通常可以在「組成」或「已分解的」表單中代表相同的圖像：例如，「Ä」組成的形式是單一 Unicode 代碼點 "Ä" (U + 00C4) ，而其分解形式為 "A" + "？" (U + 0041 U + 0308) 。</span><span class="sxs-lookup"><span data-stu-id="c56e2-130">Unicode can often represent the same glyph in either a ''composed'' or a ''decomposed'' form: for example, the composed form of "Ä" is the single Unicode code point "Ä" (U+00C4), while its decomposed form is "A" + "¨" (U+0041 U+0308).</span></span> <span data-ttu-id="c56e2-131">Unicode 不會為每個圖像定義組成的表單。</span><span class="sxs-lookup"><span data-stu-id="c56e2-131">Unicode does not define a composed form for every glyph.</span></span> <span data-ttu-id="c56e2-132">例如，以標點符號和波狀符號 ( "ỗ" ) 的越南小寫 "o" 是由 U + 006f U + 0302 U + 0303 (o + 揚揚號 + 波狀符號) 來表示。</span><span class="sxs-lookup"><span data-stu-id="c56e2-132">For example, the Vietnamese lowercase "o" with circumflex and tilde ("ỗ") is represented by U+006f U+0302 U+0303 (o + Circumflex + Tilde).</span></span> <span data-ttu-id="c56e2-133">如需合併字元和相關問題的進一步討論，請參閱 [使用 Unicode 正規化來代表字串](using-unicode-normalization-to-represent-strings.md)。</span><span class="sxs-lookup"><span data-stu-id="c56e2-133">For further discussion of combining characters and related issues, see [Using Unicode Normalization to Represent Strings](using-unicode-normalization-to-represent-strings.md).</span></span>

<span data-ttu-id="c56e2-134">為了與8位和7位環境相容，Unicode 也可以分別編碼為 UTF-8 和 UTF-7。</span><span class="sxs-lookup"><span data-stu-id="c56e2-134">For compatibility with 8-bit and 7-bit environments, Unicode can also be encoded as UTF-8 and UTF-7, respectively.</span></span> <span data-ttu-id="c56e2-135">當 Windows 中啟用 Unicode 功能的函式使用 UTF-16 時，也可以使用以 UTF-8 或 UTF-7 編碼的資料，這些資料在 Windows 中是多位元組字元集 [字碼頁](code-pages.md)所支援的。</span><span class="sxs-lookup"><span data-stu-id="c56e2-135">While Unicode-enabled functions in Windows use UTF-16, it is also possible to work with data encoded in UTF-8 or UTF-7, which are supported in Windows as multibyte character set [code pages](code-pages.md).</span></span>

<span data-ttu-id="c56e2-136">新的 Windows 應用程式應該使用 UTF-16 作為其內部資料表示。</span><span class="sxs-lookup"><span data-stu-id="c56e2-136">New Windows applications should use UTF-16 as their internal data representation.</span></span> <span data-ttu-id="c56e2-137">Windows 也提供對字碼頁的廣泛支援，而且可以在相同的應用程式中使用混合用途。</span><span class="sxs-lookup"><span data-stu-id="c56e2-137">Windows also provides extensive support for code pages, and mixed use in the same application is possible.</span></span> <span data-ttu-id="c56e2-138">即使是新的 Unicode 應用程式，有時還是必須使用字碼頁。</span><span class="sxs-lookup"><span data-stu-id="c56e2-138">Even new Unicode-based applications sometimes have to work with code pages.</span></span> <span data-ttu-id="c56e2-139">這種情況的原因將在 [字碼頁](code-pages.md)中討論。</span><span class="sxs-lookup"><span data-stu-id="c56e2-139">Reasons for this are discussed in [Code Pages](code-pages.md).</span></span>

<span data-ttu-id="c56e2-140">應用程式可以使用 [**MultiByteToWideChar**](/windows/win32/api/Stringapiset/nf-stringapiset-multibytetowidechar) 和 [**WideCharToMultiByte**](/windows/win32/api/Stringapiset/nf-stringapiset-widechartomultibyte) 函式，根據字碼頁和 Unicode 字串在字串之間進行轉換。</span><span class="sxs-lookup"><span data-stu-id="c56e2-140">An application can use the [**MultiByteToWideChar**](/windows/win32/api/Stringapiset/nf-stringapiset-multibytetowidechar) and [**WideCharToMultiByte**](/windows/win32/api/Stringapiset/nf-stringapiset-widechartomultibyte) functions to convert between strings based on code pages and Unicode strings.</span></span> <span data-ttu-id="c56e2-141">雖然它們的名稱是指「多位元組」，但這些函式同樣適用于 [單一位元組字元集](single-byte-character-sets.md) (SBCS) 、 [雙位元組字元集](double-byte-character-sets.md) (DBCS) 和多位元組字元集 (MBCS) 字碼頁。</span><span class="sxs-lookup"><span data-stu-id="c56e2-141">Although their names refer to "MultiByte", these functions work equally well with [single-byte character set](single-byte-character-sets.md) (SBCS), [double-byte character set](double-byte-character-sets.md) (DBCS), and multibyte character set (MBCS) code pages.</span></span>

<span data-ttu-id="c56e2-142">一般來說，Windows 應用程式應該在內部使用 UTF-16，只在必須使用其他格式的介面上，轉換成「精簡層」的一部分。</span><span class="sxs-lookup"><span data-stu-id="c56e2-142">Typically, a Windows application should use UTF-16 internally, converting only as part of a "thin layer" over the interface that must use another format.</span></span> <span data-ttu-id="c56e2-143">這項技術會防範資料遺失和損毀。</span><span class="sxs-lookup"><span data-stu-id="c56e2-143">This technique defends against loss and corruption of data.</span></span> <span data-ttu-id="c56e2-144">每個字碼頁都支援不同的字元，但不支援 Unicode 提供的完整字元範圍。</span><span class="sxs-lookup"><span data-stu-id="c56e2-144">Each code page supports different characters, but none of them supports the full spectrum of characters provided by Unicode.</span></span> <span data-ttu-id="c56e2-145">大部分的字碼頁支援不同的子集，以不同方式編碼。</span><span class="sxs-lookup"><span data-stu-id="c56e2-145">Most of the code pages support different subsets, differently encoded.</span></span> <span data-ttu-id="c56e2-146">UTF-8 和 UTF-7 的字碼頁是例外狀況，因為它們支援完整的 Unicode 字元集，而且這些編碼和 UTF-16 之間的轉換不會失真。</span><span class="sxs-lookup"><span data-stu-id="c56e2-146">The code pages for UTF-8 and UTF-7 are an exception, since they support the complete Unicode character set, and conversion between these encodings and UTF-16 is lossless.</span></span>

<span data-ttu-id="c56e2-147">直接從某個字碼頁使用的編碼轉換成另一個字碼頁所使用的編碼的資料會受到損毀，因為不同字碼頁上的相同資料值可以編碼不同的字元。</span><span class="sxs-lookup"><span data-stu-id="c56e2-147">Data converted directly from the encoding used by one code page to the encoding used by another is subject to corruption, because the same data value on different code pages can encode a different character.</span></span> <span data-ttu-id="c56e2-148">即使您的應用程式盡可能地轉換為靠近介面，您也應該仔細考慮要處理的資料範圍。</span><span class="sxs-lookup"><span data-stu-id="c56e2-148">Even when your application is converting as close to the interface as possible, you should think carefully about the range of data to handle.</span></span>

<span data-ttu-id="c56e2-149">從 Unicode 轉換成字碼頁的資料會受到資料遺失的影響，因為指定的字碼頁可能無法表示該特定 Unicode 資料中使用的每個字元。</span><span class="sxs-lookup"><span data-stu-id="c56e2-149">Data converted from Unicode to a code page is subject to data loss, because a given code page might not be able to represent every character used in that particular Unicode data.</span></span> <span data-ttu-id="c56e2-150">因此，請注意，如果目標字碼頁無法代表 Unicode 字串中的所有字元， [**WideCharToMultiByte**](/windows/win32/api/Stringapiset/nf-stringapiset-widechartomultibyte) 可能會遺失一些資料。</span><span class="sxs-lookup"><span data-stu-id="c56e2-150">Therefore, note that [**WideCharToMultiByte**](/windows/win32/api/Stringapiset/nf-stringapiset-widechartomultibyte) might lose some data if the target code page cannot represent all of the characters in the Unicode string.</span></span>

<span data-ttu-id="c56e2-151">現代化以字碼頁為基礎的繼承應用程式使用 Unicode 時，您可以使用泛型函式和 [**文字**](/windows/win32/api/Winnt/nf-winnt-text) 宏來維護一組來源，以從中編譯應用程式的兩個版本。</span><span class="sxs-lookup"><span data-stu-id="c56e2-151">When modernizing code page-based legacy applications to use Unicode, you can use generic functions and the [**TEXT**](/windows/win32/api/Winnt/nf-winnt-text) macro to maintain a single set of sources from which to compile two versions of your application.</span></span> <span data-ttu-id="c56e2-152">其中一個版本支援 Unicode，另一個版本則適用于 Windows 字碼頁。</span><span class="sxs-lookup"><span data-stu-id="c56e2-152">One version supports Unicode and the other one works with Windows code pages.</span></span> <span data-ttu-id="c56e2-153">您可以使用這項機制，將大型的應用程式從 Windows 字碼頁轉換成 Unicode，同時維護可在轉換的所有階段進行編譯、建立和測試的應用程式來源。</span><span class="sxs-lookup"><span data-stu-id="c56e2-153">Using this mechanism, you can convert even very large applications from Windows code pages to Unicode while maintaining application sources that can be compiled, built, and tested at all phases of the conversion.</span></span> <span data-ttu-id="c56e2-154">如需詳細資訊，請參閱 [函數原型的慣例](conventions-for-function-prototypes.md)。</span><span class="sxs-lookup"><span data-stu-id="c56e2-154">For more information, see [Conventions for Function Prototypes](conventions-for-function-prototypes.md).</span></span>

<span data-ttu-id="c56e2-155">Unicode 字元和字串會使用與以字碼頁為基礎的字元和字串不同的資料類型。</span><span class="sxs-lookup"><span data-stu-id="c56e2-155">Unicode characters and strings use data types that are distinct from those for code page-based characters and strings.</span></span> <span data-ttu-id="c56e2-156">除了一系列的宏和命名慣例之外，這項區別也可將不小心混用兩種字元資料類型的機率降到最低。</span><span class="sxs-lookup"><span data-stu-id="c56e2-156">Along with a series of macros and naming conventions, this distinction minimizes the chance of accidentally mixing the two types of character data.</span></span> <span data-ttu-id="c56e2-157">它會協助編譯器類型檢查，以確保只有 Unicode 參數值會搭配需要 Unicode 字串的函式使用。</span><span class="sxs-lookup"><span data-stu-id="c56e2-157">It facilitates compiler type checking to ensure that only Unicode parameter values are used with functions expecting Unicode strings.</span></span>

## <a name="related-topics"></a><span data-ttu-id="c56e2-158">相關主題</span><span class="sxs-lookup"><span data-stu-id="c56e2-158">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c56e2-159">字元集</span><span class="sxs-lookup"><span data-stu-id="c56e2-159">Character Sets</span></span>](character-sets.md)
</dt> <dt>

[<span data-ttu-id="c56e2-160">排序</span><span class="sxs-lookup"><span data-stu-id="c56e2-160">Sorting</span></span>](sorting.md)
</dt> <dt>

[<span data-ttu-id="c56e2-161">代理和補充字元</span><span class="sxs-lookup"><span data-stu-id="c56e2-161">Surrogates and Supplementary Characters</span></span>](surrogates-and-supplementary-characters.md)
</dt> <dt>

[<span data-ttu-id="c56e2-162">使用 Unicode 正規化來代表字串</span><span class="sxs-lookup"><span data-stu-id="c56e2-162">Using Unicode Normalization to Represent Strings</span></span>](using-unicode-normalization-to-represent-strings.md)
</dt> </dl>

 

 



