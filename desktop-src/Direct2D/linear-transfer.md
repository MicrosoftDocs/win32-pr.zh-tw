---
title: 線性傳送效果
description: 使用線性傳送效果，利用從您為每個通道提供的值清單建立的線性函式，來對應影像的色彩濃度。
ms.assetid: 22DC496E-2958-4726-A74D-B3DE934F507C
keywords:
- 線性傳送效果
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cfedbb79f057ee871ce23cc086034afc3e6cdda0
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/12/2020
ms.locfileid: "103686651"
---
# <a name="linear-transfer-effect"></a><span data-ttu-id="39080-104">線性傳送效果</span><span class="sxs-lookup"><span data-stu-id="39080-104">Linear transfer effect</span></span>

<span data-ttu-id="39080-105">使用線性傳送效果，利用從您為每個通道提供的值清單建立的線性函式，來對應影像的色彩濃度。</span><span class="sxs-lookup"><span data-stu-id="39080-105">Use the linear transfer effect to map the color intensities of an image using a linear function created from a list of values you provide for each channel.</span></span>

<span data-ttu-id="39080-106">這項效果的 CLSID 是 CLSID \_ D2D1LinearTransfer。</span><span class="sxs-lookup"><span data-stu-id="39080-106">The CLSID for this effect is CLSID\_D2D1LinearTransfer.</span></span>

-   [<span data-ttu-id="39080-107">範例影像</span><span class="sxs-lookup"><span data-stu-id="39080-107">Example image</span></span>](#example-image)
-   [<span data-ttu-id="39080-108">效果屬性</span><span class="sxs-lookup"><span data-stu-id="39080-108">Effect properties</span></span>](#effect-properties)
-   [<span data-ttu-id="39080-109">需求</span><span class="sxs-lookup"><span data-stu-id="39080-109">Requirements</span></span>](#requirements)
-   [<span data-ttu-id="39080-110">相關主題</span><span class="sxs-lookup"><span data-stu-id="39080-110">Related topics</span></span>](#related-topics)

## <a name="example-image"></a><span data-ttu-id="39080-111">範例影像</span><span class="sxs-lookup"><span data-stu-id="39080-111">Example image</span></span>



| <span data-ttu-id="39080-112">之前</span><span class="sxs-lookup"><span data-stu-id="39080-112">Before</span></span>                                                          |
|-----------------------------------------------------------------|
| ![效果之前的影像。](images/default-before.jpg)      |
| <span data-ttu-id="39080-114">After</span><span class="sxs-lookup"><span data-stu-id="39080-114">After</span></span>                                                           |
| ![轉換後的影像。](images/13-lineartransfer.png) |



 


```C++
ComPtr<ID2D1Effect> linearTransferEffect;
m_d2dContext->CreateEffect(CLSID_D2D1LinearTransfer, &linearTransferEffect);

linearTransferEffect->SetInput(0, bitmap);

linearTransferEffect->SetValue(D2D1_LINEARTRANSFER_PROP_RED_Y_INTERCEPT, -1.0f);
linearTransferEffect->SetValue(D2D1_LINEARTRANSFER_PROP_RED_SLOPE, 2.5f);
linearTransferEffect->SetValue(D2D1_LINEARTRANSFER_PROP_GREEN_Y_INTERCEPT, -1.0f);
linearTransferEffect->SetValue(D2D1_LINEARTRANSFER_PROP_GREEN_SLOPE, 5.0f);

m_d2dContext->BeginDraw();
m_d2dContext->DrawImage(linearTransferEffect.Get());
m_d2dContext->EndDraw();
```



<span data-ttu-id="39080-116">線性傳送函式是根據您指定的每個通道的斜率和 y 攔截來建立。</span><span class="sxs-lookup"><span data-stu-id="39080-116">The linear transfer function is created based on the slope and y-intercept for each channel that you specify.</span></span> <span data-ttu-id="39080-117">輸出圖元濃度 C 的計算方式是使用方程式： C ' = mC + B，其中 m 是線性函式的斜率，而 B 是線性函式的 Y 攔截。</span><span class="sxs-lookup"><span data-stu-id="39080-117">The output pixel intensity C  is calculated with the equation: C' = mC + B, where m is the slope of the linear function and B is the Y-intercept of the linear function.</span></span>

<span data-ttu-id="39080-118">此效果適用于直接和預乘的 Alpha 影像。</span><span class="sxs-lookup"><span data-stu-id="39080-118">This effect works on straight and premultiplied alpha images.</span></span> <span data-ttu-id="39080-119">效果會輸出預乘的 Alpha 點陣圖。</span><span class="sxs-lookup"><span data-stu-id="39080-119">The effect outputs premultiplied alpha bitmaps.</span></span>

## <a name="effect-properties"></a><span data-ttu-id="39080-120">效果屬性</span><span class="sxs-lookup"><span data-stu-id="39080-120">Effect properties</span></span>

> [!Note]  
> <span data-ttu-id="39080-121">針對線性傳送屬性的所有通道：</span><span class="sxs-lookup"><span data-stu-id="39080-121">For all channels of the linear transfer properties:</span></span>
>
> -   <span data-ttu-id="39080-122">Y 攔截未系結，而且沒有用。</span><span class="sxs-lookup"><span data-stu-id="39080-122">The Y-intercept is not bounded and is unitless.</span></span>
> -   <span data-ttu-id="39080-123">斜率未系結，而且沒有用。</span><span class="sxs-lookup"><span data-stu-id="39080-123">The slope is not bounded and is unitless.</span></span>

 



| <span data-ttu-id="39080-124">顯示名稱和索引列舉</span><span class="sxs-lookup"><span data-stu-id="39080-124">Display name and index enumeration</span></span>                                                    | <span data-ttu-id="39080-125">類型和預設值</span><span class="sxs-lookup"><span data-stu-id="39080-125">Type and default value</span></span>           | <span data-ttu-id="39080-126">Description</span><span class="sxs-lookup"><span data-stu-id="39080-126">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|---------------------------------------------------------------------------------------|----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="39080-127">RedYIntercept</span><span class="sxs-lookup"><span data-stu-id="39080-127">RedYIntercept</span></span><br/> <span data-ttu-id="39080-128">D2D1 \_ LINEARTRANSFER \_ 的 \_ RED \_ Y \_ 截距</span><span class="sxs-lookup"><span data-stu-id="39080-128">D2D1\_LINEARTRANSFER\_PROP\_RED\_Y\_INTERCEPT</span></span><br/>     | <span data-ttu-id="39080-129">FLOAT</span><span class="sxs-lookup"><span data-stu-id="39080-129">FLOAT</span></span><br/> <span data-ttu-id="39080-130">0.0f</span><span class="sxs-lookup"><span data-stu-id="39080-130">0.0f</span></span><br/> | <span data-ttu-id="39080-131">紅色通道之線性函式的 Y 截距。</span><span class="sxs-lookup"><span data-stu-id="39080-131">The Y-intercept of the linear function for the Red channel.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="39080-132">RedSlope</span><span class="sxs-lookup"><span data-stu-id="39080-132">RedSlope</span></span><br/> <span data-ttu-id="39080-133">D2D1 \_ LINEARTRANSFER \_ 的 \_ 紅色 \_ 斜率</span><span class="sxs-lookup"><span data-stu-id="39080-133">D2D1\_LINEARTRANSFER\_PROP\_RED\_SLOPE</span></span><br/>                 | <span data-ttu-id="39080-134">FLOAT</span><span class="sxs-lookup"><span data-stu-id="39080-134">FLOAT</span></span><br/> <span data-ttu-id="39080-135">1.0f</span><span class="sxs-lookup"><span data-stu-id="39080-135">1.0f</span></span><br/> | <span data-ttu-id="39080-136">紅色通道之線性函式的斜率。</span><span class="sxs-lookup"><span data-stu-id="39080-136">The slope of the linear function for the Red channel.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="39080-137">RedDisable</span><span class="sxs-lookup"><span data-stu-id="39080-137">RedDisable</span></span><br/> <span data-ttu-id="39080-138">D2D1 \_ LINEARTRANSFER \_ 的 \_ RED \_ DISABLE</span><span class="sxs-lookup"><span data-stu-id="39080-138">D2D1\_LINEARTRANSFER\_PROP\_RED\_DISABLE</span></span><br/>             | <span data-ttu-id="39080-139">BOOL</span><span class="sxs-lookup"><span data-stu-id="39080-139">BOOL</span></span><br/> <span data-ttu-id="39080-140">FALSE</span><span class="sxs-lookup"><span data-stu-id="39080-140">FALSE</span></span><br/> | <span data-ttu-id="39080-141">如果您將此設定為 TRUE，則效果不會將傳送函式套用至紅色通道。</span><span class="sxs-lookup"><span data-stu-id="39080-141">If you set this to TRUE the effect does not apply the transfer function to the Red channel.</span></span> <span data-ttu-id="39080-142">如果您將此設定為 FALSE，效果會將 RedLinearTransfer 函式套用至紅色通道。</span><span class="sxs-lookup"><span data-stu-id="39080-142">If you set this to FALSE the effect applies the RedLinearTransfer function to the Red channel.</span></span>                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="39080-143">GreenYIntercept</span><span class="sxs-lookup"><span data-stu-id="39080-143">GreenYIntercept</span></span><br/> <span data-ttu-id="39080-144">D2D1 \_ LINEARTRANSFER \_ 為 \_ 綠色的 \_ Y \_ 攔截</span><span class="sxs-lookup"><span data-stu-id="39080-144">D2D1\_LINEARTRANSFER\_PROP\_GREEN\_Y\_INTERCEPT</span></span><br/> | <span data-ttu-id="39080-145">FLOAT</span><span class="sxs-lookup"><span data-stu-id="39080-145">FLOAT</span></span><br/> <span data-ttu-id="39080-146">0.0f</span><span class="sxs-lookup"><span data-stu-id="39080-146">0.0f</span></span><br/> | <span data-ttu-id="39080-147">綠色通道的線性函式的 Y 攔截。</span><span class="sxs-lookup"><span data-stu-id="39080-147">The Y-intercept of the linear function for the Green channel.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="39080-148">GreenSlope</span><span class="sxs-lookup"><span data-stu-id="39080-148">GreenSlope</span></span><br/> <span data-ttu-id="39080-149">D2D1 \_ LINEARTRANSFER \_ 的 \_ 環保 \_ 斜率</span><span class="sxs-lookup"><span data-stu-id="39080-149">D2D1\_LINEARTRANSFER\_PROP\_GREEN\_SLOPE</span></span><br/>             | <span data-ttu-id="39080-150">FLOAT</span><span class="sxs-lookup"><span data-stu-id="39080-150">FLOAT</span></span><br/> <span data-ttu-id="39080-151">1.0f</span><span class="sxs-lookup"><span data-stu-id="39080-151">1.0f</span></span><br/> | <span data-ttu-id="39080-152">綠色通道線性函式的斜率。</span><span class="sxs-lookup"><span data-stu-id="39080-152">The slope of the linear function for the Green channel.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="39080-153">GreenDisable</span><span class="sxs-lookup"><span data-stu-id="39080-153">GreenDisable</span></span><br/> <span data-ttu-id="39080-154">D2D1 \_ LINEARTRANSFER，a \_ \_ 綠 \_ DISABLE</span><span class="sxs-lookup"><span data-stu-id="39080-154">D2D1\_LINEARTRANSFER\_PROP\_GREEN\_DISABLE</span></span><br/>         | <span data-ttu-id="39080-155">BOOL</span><span class="sxs-lookup"><span data-stu-id="39080-155">BOOL</span></span><br/> <span data-ttu-id="39080-156">FALSE</span><span class="sxs-lookup"><span data-stu-id="39080-156">FALSE</span></span><br/> | <span data-ttu-id="39080-157">如果您將此設定為 TRUE，則效果不會將傳送函式套用至綠色通道。</span><span class="sxs-lookup"><span data-stu-id="39080-157">If you set this to TRUE the effect does not apply the transfer function to the Green channel.</span></span> <span data-ttu-id="39080-158">如果您將此設定為 FALSE，則會將 GreenLinearTransfer 函式套用至綠色通道。</span><span class="sxs-lookup"><span data-stu-id="39080-158">If you set this to FALSE it applies the GreenLinearTransfer function to the Green channel.</span></span>                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="39080-159">BlueYIntercept</span><span class="sxs-lookup"><span data-stu-id="39080-159">BlueYIntercept</span></span><br/> <span data-ttu-id="39080-160">D2D1 \_ LINEARTRANSFER \_ 的 \_ 藍色 \_ Y \_ 截距</span><span class="sxs-lookup"><span data-stu-id="39080-160">D2D1\_LINEARTRANSFER\_PROP\_BLUE\_Y\_INTERCEPT</span></span><br/>   | <span data-ttu-id="39080-161">FLOAT</span><span class="sxs-lookup"><span data-stu-id="39080-161">FLOAT</span></span><br/> <span data-ttu-id="39080-162">0.0f</span><span class="sxs-lookup"><span data-stu-id="39080-162">0.0f</span></span><br/> | <span data-ttu-id="39080-163">藍色色板線性函式的 Y 攔截。</span><span class="sxs-lookup"><span data-stu-id="39080-163">The Y-intercept of the linear function for the Blue channel.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="39080-164">BlueSlope</span><span class="sxs-lookup"><span data-stu-id="39080-164">BlueSlope</span></span><br/> <span data-ttu-id="39080-165">D2D1 \_ LINEARTRANSFER \_ 的 \_ 藍色 \_ 斜率</span><span class="sxs-lookup"><span data-stu-id="39080-165">D2D1\_LINEARTRANSFER\_PROP\_BLUE\_SLOPE</span></span><br/>               | <span data-ttu-id="39080-166">FLOAT</span><span class="sxs-lookup"><span data-stu-id="39080-166">FLOAT</span></span><br/> <span data-ttu-id="39080-167">1.0f</span><span class="sxs-lookup"><span data-stu-id="39080-167">1.0f</span></span><br/> | <span data-ttu-id="39080-168">藍色色板的線性函數斜率。</span><span class="sxs-lookup"><span data-stu-id="39080-168">The slope of the linear function for the Blue channel.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="39080-169">BlueDisable</span><span class="sxs-lookup"><span data-stu-id="39080-169">BlueDisable</span></span><br/> <span data-ttu-id="39080-170">D2D1 \_ LINEARTRANSFER \_ 的 \_ BLUE \_ DISABLE</span><span class="sxs-lookup"><span data-stu-id="39080-170">D2D1\_LINEARTRANSFER\_PROP\_BLUE\_DISABLE</span></span><br/>           | <span data-ttu-id="39080-171">BOOL</span><span class="sxs-lookup"><span data-stu-id="39080-171">BOOL</span></span><br/> <span data-ttu-id="39080-172">FALSE</span><span class="sxs-lookup"><span data-stu-id="39080-172">FALSE</span></span><br/> | <span data-ttu-id="39080-173">如果您將此設定為 TRUE，則效果不會將傳送函式套用至藍色通道。</span><span class="sxs-lookup"><span data-stu-id="39080-173">If you set this to TRUE the effect does not apply the transfer function to the Blue channel.</span></span> <span data-ttu-id="39080-174">如果您將此設定為 FALSE，則會將 BlueLinearTransfer 函式套用至藍色通道。</span><span class="sxs-lookup"><span data-stu-id="39080-174">If you set this to FALSE it applies the BlueLinearTransfer function to the Blue channel.</span></span>                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="39080-175">AlphaYIntercept</span><span class="sxs-lookup"><span data-stu-id="39080-175">AlphaYIntercept</span></span><br/> <span data-ttu-id="39080-176">D2D1 \_ LINEARTRANSFER \_ 的 \_ ALPHA \_ Y \_ 截距</span><span class="sxs-lookup"><span data-stu-id="39080-176">D2D1\_LINEARTRANSFER\_PROP\_ALPHA\_Y\_INTERCEPT</span></span><br/> | <span data-ttu-id="39080-177">FLOAT</span><span class="sxs-lookup"><span data-stu-id="39080-177">FLOAT</span></span><br/> <span data-ttu-id="39080-178">0.0f</span><span class="sxs-lookup"><span data-stu-id="39080-178">0.0f</span></span><br/> | <span data-ttu-id="39080-179">Alpha 色板線性函式的 Y 攔截。</span><span class="sxs-lookup"><span data-stu-id="39080-179">The Y-intercept of the linear function for the Alpha channel.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="39080-180">AlphaSlope</span><span class="sxs-lookup"><span data-stu-id="39080-180">AlphaSlope</span></span><br/> <span data-ttu-id="39080-181">D2D1 \_ LINEARTRANSFER \_ 的 \_ ALPHA \_ 斜率</span><span class="sxs-lookup"><span data-stu-id="39080-181">D2D1\_LINEARTRANSFER\_PROP\_ALPHA\_SLOPE</span></span><br/>             | <span data-ttu-id="39080-182">FLOAT</span><span class="sxs-lookup"><span data-stu-id="39080-182">FLOAT</span></span><br/> <span data-ttu-id="39080-183">0.0f</span><span class="sxs-lookup"><span data-stu-id="39080-183">0.0f</span></span><br/> | <span data-ttu-id="39080-184">Alpha 色板線性函數的斜率。</span><span class="sxs-lookup"><span data-stu-id="39080-184">The slope of the linear function for the Alpha channel.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="39080-185">AlphaDisable</span><span class="sxs-lookup"><span data-stu-id="39080-185">AlphaDisable</span></span><br/> <span data-ttu-id="39080-186">D2D1 \_ LINEARTRANSFER \_ 的 \_ ALPHA \_ 停用</span><span class="sxs-lookup"><span data-stu-id="39080-186">D2D1\_LINEARTRANSFER\_PROP\_ALPHA\_DISABLE</span></span><br/>         | <span data-ttu-id="39080-187">BOOL</span><span class="sxs-lookup"><span data-stu-id="39080-187">BOOL</span></span><br/> <span data-ttu-id="39080-188">FALSE</span><span class="sxs-lookup"><span data-stu-id="39080-188">FALSE</span></span><br/> | <span data-ttu-id="39080-189">如果您將此設定為 TRUE，則效果不會將傳送函式套用至 Alpha 通道。</span><span class="sxs-lookup"><span data-stu-id="39080-189">If you set this to TRUE the effect does not apply the transfer function to the Alpha channel.</span></span> <span data-ttu-id="39080-190">如果您將此設定為 FALSE，則會將 AlphaLinearTransfer 函式套用至 Alpha 色板。</span><span class="sxs-lookup"><span data-stu-id="39080-190">If you set this to FALSE it applies the AlphaLinearTransfer function to the Alpha channel.</span></span>                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="39080-191">ClampOutput</span><span class="sxs-lookup"><span data-stu-id="39080-191">ClampOutput</span></span><br/> <span data-ttu-id="39080-192">D2D1 LINEARTRANSFER 的一種 \_ \_ \_ 夾具 \_ 輸出</span><span class="sxs-lookup"><span data-stu-id="39080-192">D2D1\_LINEARTRANSFER\_PROP\_CLAMP\_OUTPUT</span></span><br/>           | <span data-ttu-id="39080-193">BOOL</span><span class="sxs-lookup"><span data-stu-id="39080-193">BOOL</span></span><br/> <span data-ttu-id="39080-194">FALSE</span><span class="sxs-lookup"><span data-stu-id="39080-194">FALSE</span></span><br/> | <span data-ttu-id="39080-195">效果在效果之前個色彩值是否會將值傳遞給圖形中的下一個效果。</span><span class="sxs-lookup"><span data-stu-id="39080-195">Whether the effect clamps color values to between 0 and 1 before the effect passes the values to the next effect in the graph.</span></span> <span data-ttu-id="39080-196">效果會在 premultiplies Alpha 之前個值。</span><span class="sxs-lookup"><span data-stu-id="39080-196">The effect clamps the values before it premultiplies the alpha .</span></span><br/> <span data-ttu-id="39080-197">如果您將此設定為 TRUE，效果會將值設為夾具。</span><span class="sxs-lookup"><span data-stu-id="39080-197">If you set this to TRUE the effect will clamp the values.</span></span> <span data-ttu-id="39080-198">如果您將此值設定為 FALSE，效果將不會顯示色彩值，但其他效果和輸出介面可能會在這些值的精確度不夠高時，將這些值設定為夾具。</span><span class="sxs-lookup"><span data-stu-id="39080-198">If you set this to FALSE, the effect will not clamp the color values, but other effects and the output surface may clamp the values if they are not of high enough precision.</span></span><br/> |



 

## <a name="requirements"></a><span data-ttu-id="39080-199">規格需求</span><span class="sxs-lookup"><span data-stu-id="39080-199">Requirements</span></span>



| <span data-ttu-id="39080-200">需求</span><span class="sxs-lookup"><span data-stu-id="39080-200">Requirement</span></span> | <span data-ttu-id="39080-201">值</span><span class="sxs-lookup"><span data-stu-id="39080-201">Value</span></span> |
|--------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="39080-202">最低支援的用戶端</span><span class="sxs-lookup"><span data-stu-id="39080-202">Minimum supported client</span></span> | <span data-ttu-id="39080-203">適用于 Windows 7 desktop app 的 Windows 8 和平臺更新 \[ \| windows Store 應用程式\]</span><span class="sxs-lookup"><span data-stu-id="39080-203">Windows 8 and Platform Update for Windows 7 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="39080-204">最低支援的伺服器</span><span class="sxs-lookup"><span data-stu-id="39080-204">Minimum supported server</span></span> | <span data-ttu-id="39080-205">適用于 Windows 7 desktop app 的 Windows 8 和平臺更新 \[ \| windows Store 應用程式\]</span><span class="sxs-lookup"><span data-stu-id="39080-205">Windows 8 and Platform Update for Windows 7 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="39080-206">標頭</span><span class="sxs-lookup"><span data-stu-id="39080-206">Header</span></span>                   | <span data-ttu-id="39080-207">d2d1effects。h</span><span class="sxs-lookup"><span data-stu-id="39080-207">d2d1effects.h</span></span>                                                                      |
| <span data-ttu-id="39080-208">程式庫</span><span class="sxs-lookup"><span data-stu-id="39080-208">Library</span></span>                  | <span data-ttu-id="39080-209">d2d1 .lib，dxguid .lib</span><span class="sxs-lookup"><span data-stu-id="39080-209">d2d1.lib, dxguid.lib</span></span>                                                               |



 

## <a name="related-topics"></a><span data-ttu-id="39080-210">相關主題</span><span class="sxs-lookup"><span data-stu-id="39080-210">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="39080-211">**ID2D1Effect**</span><span class="sxs-lookup"><span data-stu-id="39080-211">**ID2D1Effect**</span></span>](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1effect)
</dt> </dl>

 

