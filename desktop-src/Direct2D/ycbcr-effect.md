---
title: YCbCr 效果
description: 將平面和色度 subsampled JPEG YCbCr 資料轉換為 RGB。
ms.assetid: E4492996-54DA-4C5F-B44C-8FBE97C8DD7D
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c581effbadecc19c39161d2a2ec4af051d4195d6
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/12/2020
ms.locfileid: "104025313"
---
# <a name="ycbcr-effect"></a><span data-ttu-id="6d634-103">YCbCr 效果</span><span class="sxs-lookup"><span data-stu-id="6d634-103">YCbCr Effect</span></span>

<span data-ttu-id="6d634-104">將平面和色度 subsampled JPEG YC<sub>b</sub>C<sub>r</sub> 資料轉換為 RGB。</span><span class="sxs-lookup"><span data-stu-id="6d634-104">Converts planar and chroma subsampled JPEG YC<sub>b</sub>C<sub>r</sub> data to RGB.</span></span> <span data-ttu-id="6d634-105">這項效果假設 YC<sub>b</sub>C<sub>r</sub> 資料的格式符合 JPEG 標準。</span><span class="sxs-lookup"><span data-stu-id="6d634-105">This effect assumes that the YC<sub>b</sub>C<sub>r</sub> data is formatted in compliance with the JPEG standard.</span></span> <span data-ttu-id="6d634-106">您可以從 IWICPlanarBitmapSourceTransform 取得輸入的資料。</span><span class="sxs-lookup"><span data-stu-id="6d634-106">Data for the inputs may be obtained from IWICPlanarBitmapSourceTransform.</span></span> <span data-ttu-id="6d634-107">YC<sub>b</sub>C<sub>r</sub> 效果需要兩個輸入;第一個必須是 \_ \_ 包含 luma 資料的 dxgi 格式 R8 點陣圖，而第二個必須是 \_ \_ 包含 SUBSAMPLED 色度資料的 dxgi 格式 R8G8 點陣圖。</span><span class="sxs-lookup"><span data-stu-id="6d634-107">The YC<sub>b</sub>C<sub>r</sub> effect requires two inputs; the first must be a DXGI\_FORMAT\_R8 bitmap containing luma data, and the second must be a DXGI\_FORMAT\_R8G8 bitmap containing subsampled chroma data.</span></span> <span data-ttu-id="6d634-108">如需使用此效果的詳細資訊，請參閱 [JPEG YCbCr 支援](/windows/desktop/wic/jpeg-ycbcr-support)。</span><span class="sxs-lookup"><span data-stu-id="6d634-108">For more information about using this effect, see [JPEG YCbCr Support](/windows/desktop/wic/jpeg-ycbcr-support).</span></span>

<span data-ttu-id="6d634-109">這項效果的 CLSID 是 CLSID \_ D2D1YCbCr。</span><span class="sxs-lookup"><span data-stu-id="6d634-109">The CLSID for this effect is CLSID\_D2D1YCbCr.</span></span>

-   [<span data-ttu-id="6d634-110">效果屬性</span><span class="sxs-lookup"><span data-stu-id="6d634-110">Effect properties</span></span>](#effect-properties)
-   [<span data-ttu-id="6d634-111">取樣模式</span><span class="sxs-lookup"><span data-stu-id="6d634-111">Subsampling modes</span></span>](#subsampling-modes)
-   [<span data-ttu-id="6d634-112">插補模式</span><span class="sxs-lookup"><span data-stu-id="6d634-112">Interpolation modes</span></span>](#interpolation-modes)
-   [<span data-ttu-id="6d634-113">輸出點陣圖</span><span class="sxs-lookup"><span data-stu-id="6d634-113">Output bitmap</span></span>](#output-bitmap)
-   [<span data-ttu-id="6d634-114">需求</span><span class="sxs-lookup"><span data-stu-id="6d634-114">Requirements</span></span>](#requirements)
-   [<span data-ttu-id="6d634-115">相關主題</span><span class="sxs-lookup"><span data-stu-id="6d634-115">Related topics</span></span>](#related-topics)

## <a name="effect-properties"></a><span data-ttu-id="6d634-116">效果屬性</span><span class="sxs-lookup"><span data-stu-id="6d634-116">Effect properties</span></span>



| <span data-ttu-id="6d634-117">顯示名稱和索引列舉</span><span class="sxs-lookup"><span data-stu-id="6d634-117">Display name and index enumeration</span></span>                                          | <span data-ttu-id="6d634-118">Description</span><span class="sxs-lookup"><span data-stu-id="6d634-118">Description</span></span>                                                                                                                                                                                                                                                                                             |
|-----------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="6d634-119">ChromaSubsampling</span><span class="sxs-lookup"><span data-stu-id="6d634-119">ChromaSubsampling</span></span><br/> <span data-ttu-id="6d634-120">D2D1 \_ YCBCR \_ 色度次 \_ 取樣</span><span class="sxs-lookup"><span data-stu-id="6d634-120">D2D1\_YCBCR\_CHROMA\_SUBSAMPLING</span></span><br/>    | <span data-ttu-id="6d634-121">指定輸入色度影像的色度次取樣。</span><span class="sxs-lookup"><span data-stu-id="6d634-121">Specifies the chroma subsampling of the input chroma image.</span></span> <br/> <span data-ttu-id="6d634-122">此類型為 D2D1 \_ YCBCR \_ 色度次 \_ 取樣。</span><span class="sxs-lookup"><span data-stu-id="6d634-122">The type is D2D1\_YCBCR\_CHROMA\_SUBSAMPLING.</span></span><br/> <span data-ttu-id="6d634-123">預設值為 D2D1 \_ YCBCR \_ 色度 \_ 自動取樣 \_ 。</span><span class="sxs-lookup"><span data-stu-id="6d634-123">The default value is D2D1\_YCBCR\_CHROMA\_SUBSAMPLING\_AUTO.</span></span><br/>                                                                                                |
| <span data-ttu-id="6d634-124">TransformMatrix</span><span class="sxs-lookup"><span data-stu-id="6d634-124">TransformMatrix</span></span> <br/> <span data-ttu-id="6d634-125">D2D1 \_ YCBCR \_ 的 \_ \_ 樣板轉換矩陣</span><span class="sxs-lookup"><span data-stu-id="6d634-125">D2D1\_YCBCR\_PROP\_TRANSFORM\_MATRIX</span></span><br/> | <span data-ttu-id="6d634-126">[3X2 矩陣](/previous-versions/dotnet/netframework-3.0/ms750596(v=vs.85))，指定影像的軸對齊仿射轉換。</span><span class="sxs-lookup"><span data-stu-id="6d634-126">A [3x2 Matrix](/previous-versions/dotnet/netframework-3.0/ms750596(v=vs.85)) specifying the axis-aligned affine transform of the image.</span></span> <span data-ttu-id="6d634-127">以軸對齊的轉換包括縮放、翻轉和90度旋轉。</span><span class="sxs-lookup"><span data-stu-id="6d634-127">Axis aligned transforms include Scale, Flips, and 90 degree rotations.</span></span> <br/> <span data-ttu-id="6d634-128">此類型為 D2D1 \_ 矩陣 \_ 3X2 \_ F。</span><span class="sxs-lookup"><span data-stu-id="6d634-128">The type is D2D1\_MATRIX\_3X2\_F.</span></span><br/> <span data-ttu-id="6d634-129">預設值為 Matrix3x2F：： Identity () 。</span><span class="sxs-lookup"><span data-stu-id="6d634-129">The default value is Matrix3x2F::Identity().</span></span><br/> |
| <span data-ttu-id="6d634-130">InterpolationMode</span><span class="sxs-lookup"><span data-stu-id="6d634-130">InterpolationMode</span></span><br/> <span data-ttu-id="6d634-131">D2D1 \_ YCBCR \_ 插補 \_ 模式</span><span class="sxs-lookup"><span data-stu-id="6d634-131">D2D1\_YCBCR\_INTERPOLATION\_MODE</span></span><br/>    | <span data-ttu-id="6d634-132">插補模式。</span><span class="sxs-lookup"><span data-stu-id="6d634-132">The interpolation mode.</span></span><br/> <span data-ttu-id="6d634-133">此類型為 D2D1 \_ YCBCR \_ 插補 \_ 模式。</span><span class="sxs-lookup"><span data-stu-id="6d634-133">The type is D2D1\_YCBCR\_INTERPOLATION\_MODE.</span></span><br/>                                                                                                                                                                                                             |



 

## <a name="subsampling-modes"></a><span data-ttu-id="6d634-134">取樣模式</span><span class="sxs-lookup"><span data-stu-id="6d634-134">Subsampling modes</span></span>



| <span data-ttu-id="6d634-135">列舉型別</span><span class="sxs-lookup"><span data-stu-id="6d634-135">Enumeration</span></span>                                       | <span data-ttu-id="6d634-136">描述</span><span class="sxs-lookup"><span data-stu-id="6d634-136">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|---------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="6d634-137">\_自動 D2D1 YCBCR \_ 色度 \_ \_ 自動取樣</span><span class="sxs-lookup"><span data-stu-id="6d634-137">D2D1\_YCBCR\_CHROMA\_SUBSAMPLING\_AUTO</span></span><br/> | <span data-ttu-id="6d634-138">此模式會嘗試從輸入影像的界限推斷色度次取樣。</span><span class="sxs-lookup"><span data-stu-id="6d634-138">This mode attempts to infer the chroma subsampling from the bounds of the input images.</span></span> <span data-ttu-id="6d634-139">選取此選項時，會將較小的平面 upsampled 至較大平面的大小，而此效果 s 輸出矩形是兩個平面的交集。</span><span class="sxs-lookup"><span data-stu-id="6d634-139">When this option is selected, the smaller plane is upsampled to the size of the larger plane and this effect s output rectangle is the intersection of the two planes.</span></span> <span data-ttu-id="6d634-140">使用這個模式時，請小心將效果套用至變更影像界限的輸入平面，例如框線轉換，以便維持平面之間所需的大小比例。</span><span class="sxs-lookup"><span data-stu-id="6d634-140">When using this mode, care should be taken when applying effects to the input planes that change the image bounds, such as the border transform, so that the desired size ratio between the planes is maintained.</span></span> <br/> |
| <span data-ttu-id="6d634-141">D2D1 \_ YCBCR \_ 色度次 \_ 取樣 \_ 420</span><span class="sxs-lookup"><span data-stu-id="6d634-141">D2D1\_YCBCR\_CHROMA\_SUBSAMPLING\_420</span></span><br/>  | <span data-ttu-id="6d634-142">色度平面會依水準 subsampled 和垂直 subsampled。</span><span class="sxs-lookup"><span data-stu-id="6d634-142">The chroma plane is horizontally subsampled by   and vertically subsampled by  .</span></span> <span data-ttu-id="6d634-143">選取此選項時，會以2x 水準和垂直方式 upsampled 色度平面，而此效果 s 輸出矩形是兩個平面的交集。</span><span class="sxs-lookup"><span data-stu-id="6d634-143">When this option is selected, the chroma plane is horizontally and vertically upsampled by 2x and this effect s output rectangle is the intersection of the two planes.</span></span><br/>                                                                                                                                                                                                                          |
| <span data-ttu-id="6d634-144">D2D1 \_ YCBCR \_ 色度次 \_ 取樣 \_ 422</span><span class="sxs-lookup"><span data-stu-id="6d634-144">D2D1\_YCBCR\_CHROMA\_SUBSAMPLING\_422</span></span><br/>  | <span data-ttu-id="6d634-145">色度平面是由水準 subsampled。</span><span class="sxs-lookup"><span data-stu-id="6d634-145">The chroma plane is horizontally subsampled by  .</span></span> <span data-ttu-id="6d634-146">選取此選項時，會以2x 水準 upsampled 色度平面，而此效果 s 輸出矩形是兩個平面的交集。</span><span class="sxs-lookup"><span data-stu-id="6d634-146">When this option is selected, the chroma plane is horizontally upsampled by 2x and this effect s output rectangle is the intersection of the two planes.</span></span><br/>                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="6d634-147">D2D1 \_ YCBCR \_ 色度次 \_ 取樣 \_ 444</span><span class="sxs-lookup"><span data-stu-id="6d634-147">D2D1\_YCBCR\_CHROMA\_SUBSAMPLING\_444</span></span><br/>  | <span data-ttu-id="6d634-148">未 subsampled 色度平面。</span><span class="sxs-lookup"><span data-stu-id="6d634-148">The chroma plane is not subsampled.</span></span> <span data-ttu-id="6d634-149">選取此選項時，此效果 s 輸出矩形是兩個平面的交集。</span><span class="sxs-lookup"><span data-stu-id="6d634-149">When this option is selected this effect s output rectangle is the intersection of the two planes.</span></span><br/>                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="6d634-150">D2D1 \_ YCBCR \_ 色度次 \_ 取樣 \_ 440</span><span class="sxs-lookup"><span data-stu-id="6d634-150">D2D1\_YCBCR\_CHROMA\_SUBSAMPLING\_440</span></span><br/>  | <span data-ttu-id="6d634-151">色度平面是由垂直 subsampled。</span><span class="sxs-lookup"><span data-stu-id="6d634-151">The chroma plane is vertically subsampled by  .</span></span> <span data-ttu-id="6d634-152">選取此選項時，會以2x 垂直 upsampled 色度平面，而此效果 s 輸出矩形是兩個平面的交集。</span><span class="sxs-lookup"><span data-stu-id="6d634-152">When this option is selected, the chroma plane is vertically upsampled by 2x and this effect s output rectangle is the intersection of the two planes.</span></span><br/>                                                                                                                                                                                                                                                                            |



 

## <a name="interpolation-modes"></a><span data-ttu-id="6d634-153">插補模式</span><span class="sxs-lookup"><span data-stu-id="6d634-153">Interpolation modes</span></span>



| <span data-ttu-id="6d634-154">列舉型別</span><span class="sxs-lookup"><span data-stu-id="6d634-154">Enumeration</span></span>                                             | <span data-ttu-id="6d634-155">描述</span><span class="sxs-lookup"><span data-stu-id="6d634-155">Description</span></span>                                                                                                                                                                                          |
|---------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="6d634-156">\_ \_ \_ \_ 最接近 \_ 鄰近的 D2D1 YCBCR 插補模式</span><span class="sxs-lookup"><span data-stu-id="6d634-156">D2D1\_YCBCR\_INTERPOLATION\_MODE\_NEAREST\_NEIGHBOR</span></span>     | <span data-ttu-id="6d634-157">範例最接近的單一點，並使用該點。</span><span class="sxs-lookup"><span data-stu-id="6d634-157">Samples the nearest single point and uses that.</span></span> <span data-ttu-id="6d634-158">這個模式會使用較少的處理時間，但會輸出最低品質的影像。</span><span class="sxs-lookup"><span data-stu-id="6d634-158">This mode uses less processing time, but outputs the lowest quality image.</span></span>                                                                           |
| <span data-ttu-id="6d634-159">D2D1 \_ YCBCR \_ 插補 \_ 模式 \_ 線性</span><span class="sxs-lookup"><span data-stu-id="6d634-159">D2D1\_YCBCR\_INTERPOLATION\_MODE\_LINEAR</span></span>                | <span data-ttu-id="6d634-160">使用四個點取樣和線性插補。</span><span class="sxs-lookup"><span data-stu-id="6d634-160">Uses a four point sample and linear interpolation.</span></span> <span data-ttu-id="6d634-161">這個模式所使用的處理時間比最近的鄰近模式更多，但會輸出較高品質的影像。</span><span class="sxs-lookup"><span data-stu-id="6d634-161">This mode uses more processing time than the nearest neighbor mode, but outputs a higher quality image.</span></span>                                           |
| <span data-ttu-id="6d634-162">D2D1 \_ YCBCR \_ 插補 \_ 模式 \_ 立方</span><span class="sxs-lookup"><span data-stu-id="6d634-162">D2D1\_YCBCR\_INTERPOLATION\_MODE\_CUBIC</span></span>                 | <span data-ttu-id="6d634-163">使用16個範例三核心來進行插補。</span><span class="sxs-lookup"><span data-stu-id="6d634-163">Uses a 16 sample cubic kernel for interpolation.</span></span> <span data-ttu-id="6d634-164">這個模式會使用大部分的處理時間，但會輸出較高品質的影像。</span><span class="sxs-lookup"><span data-stu-id="6d634-164">This mode uses the most processing time, but outputs a higher quality image.</span></span>                                                                        |
| <span data-ttu-id="6d634-165">D2D1 \_ YCBCR \_ 插補 \_ 模式 \_ 多 \_ 樣本 \_ 線性</span><span class="sxs-lookup"><span data-stu-id="6d634-165">D2D1\_YCBCR\_INTERPOLATION\_MODE\_MULTI\_SAMPLE\_LINEAR</span></span> | <span data-ttu-id="6d634-166">使用單一圖元內的4個線性樣本來取得良好的邊緣消除鋸齒。</span><span class="sxs-lookup"><span data-stu-id="6d634-166">Uses 4 linear samples within a single pixel for good edge anti-aliasing.</span></span> <span data-ttu-id="6d634-167">這種模式適合用來在具有少量圖元的影像上相應減少量。</span><span class="sxs-lookup"><span data-stu-id="6d634-167">This mode is good for scaling down by small amounts on images with few pixels.</span></span>                                              |
| <span data-ttu-id="6d634-168">D2D1 \_ YCBCR \_ 插補 \_ 模式 \_ 各向異性</span><span class="sxs-lookup"><span data-stu-id="6d634-168">D2D1\_YCBCR\_INTERPOLATION\_MODE\_ANISOTROPIC</span></span>           | <span data-ttu-id="6d634-169">根據點陣圖的轉換圖形，使用非等向篩選來取樣模式。</span><span class="sxs-lookup"><span data-stu-id="6d634-169">Uses anisotropic filtering to sample a pattern according to the transformed shape of the bitmap.</span></span>                                                                                                     |
| <span data-ttu-id="6d634-170">D2D1 \_ YCBCR \_ 插補 \_ 模式 \_ 高 \_ 品質 \_ 三次</span><span class="sxs-lookup"><span data-stu-id="6d634-170">D2D1\_YCBCR\_INTERPOLATION\_MODE\_HIGH\_QUALITY\_CUBIC</span></span>  | <span data-ttu-id="6d634-171">如果 downscaling 與轉換矩陣有關，則使用可變大小的高品質三核心來執行預先縮小的影像。</span><span class="sxs-lookup"><span data-stu-id="6d634-171">Uses a variable size high quality cubic kernel to perform a pre-downscale the image if downscaling is involved in the transform matrix.</span></span> <span data-ttu-id="6d634-172">然後使用三次插補模式來進行最終輸出。</span><span class="sxs-lookup"><span data-stu-id="6d634-172">Then uses the cubic interpolation mode for the final output.</span></span> |



 

## <a name="output-bitmap"></a><span data-ttu-id="6d634-173">輸出點陣圖</span><span class="sxs-lookup"><span data-stu-id="6d634-173">Output bitmap</span></span>

<span data-ttu-id="6d634-174">輸出點陣圖的大小取決於套用至影像的轉換矩陣。</span><span class="sxs-lookup"><span data-stu-id="6d634-174">The size of the output bitmap depends on the transform matrix that is applied to the image.</span></span>

<span data-ttu-id="6d634-175">效果會執行轉換作業，然後在結果周圍套用周框方塊。</span><span class="sxs-lookup"><span data-stu-id="6d634-175">The effect performs the transform operation and then applies a bounding box around the result.</span></span> <span data-ttu-id="6d634-176">輸出點陣圖是周框方塊的大小。</span><span class="sxs-lookup"><span data-stu-id="6d634-176">The output bitmap is the size of the bounding box.</span></span>

## <a name="requirements"></a><span data-ttu-id="6d634-177">規格需求</span><span class="sxs-lookup"><span data-stu-id="6d634-177">Requirements</span></span>



| <span data-ttu-id="6d634-178">需求</span><span class="sxs-lookup"><span data-stu-id="6d634-178">Requirement</span></span> | <span data-ttu-id="6d634-179">值</span><span class="sxs-lookup"><span data-stu-id="6d634-179">Value</span></span> |
|--------------------------|---------------------------------------------------------------|
| <span data-ttu-id="6d634-180">最低支援的用戶端</span><span class="sxs-lookup"><span data-stu-id="6d634-180">Minimum supported client</span></span> | <span data-ttu-id="6d634-181">Windows 8.1 \[ 桌面應用程式 \| Windows Store 應用程式\]</span><span class="sxs-lookup"><span data-stu-id="6d634-181">Windows 8.1 \[desktop apps \| Windows Store apps\]</span></span>            |
| <span data-ttu-id="6d634-182">最低支援的伺服器</span><span class="sxs-lookup"><span data-stu-id="6d634-182">Minimum supported server</span></span> | <span data-ttu-id="6d634-183">Windows Server 2012 R2 \[ desktop app \| windows Store 應用程式\]</span><span class="sxs-lookup"><span data-stu-id="6d634-183">Windows Server 2012 R2 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="6d634-184">標頭</span><span class="sxs-lookup"><span data-stu-id="6d634-184">Header</span></span>                   | <span data-ttu-id="6d634-185">d2d1effects \_ 1. h</span><span class="sxs-lookup"><span data-stu-id="6d634-185">d2d1effects\_1.h</span></span>                                              |
| <span data-ttu-id="6d634-186">程式庫</span><span class="sxs-lookup"><span data-stu-id="6d634-186">Library</span></span>                  | <span data-ttu-id="6d634-187">d2d1 .lib，dxguid .lib</span><span class="sxs-lookup"><span data-stu-id="6d634-187">d2d1.lib, dxguid.lib</span></span>                                          |



 

## <a name="related-topics"></a><span data-ttu-id="6d634-188">相關主題</span><span class="sxs-lookup"><span data-stu-id="6d634-188">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6d634-189">**ID2D1Effect**</span><span class="sxs-lookup"><span data-stu-id="6d634-189">**ID2D1Effect**</span></span>](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1effect)
</dt> <dt>

[<span data-ttu-id="6d634-190">JPEG YCbCr 支援</span><span class="sxs-lookup"><span data-stu-id="6d634-190">JPEG YCbCr Support</span></span>](/windows/desktop/wic/jpeg-ycbcr-support)
</dt> <dt>

[<span data-ttu-id="6d634-191">**IWICPlanarBitmapSourceTransform**</span><span class="sxs-lookup"><span data-stu-id="6d634-191">**IWICPlanarBitmapSourceTransform**</span></span>](/windows/desktop/api/wincodec/nn-wincodec-iwicplanarbitmapsourcetransform)
</dt> </dl>

 

