---
title: YCbCr 效果
description: 將平面和色度 subsampled JPEG YCbCr 資料轉換為 RGB。
ms.assetid: E4492996-54DA-4C5F-B44C-8FBE97C8DD7D
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c581effbadecc19c39161d2a2ec4af051d4195d6
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/12/2020
ms.locfileid: "104025313"
---
# <a name="ycbcr-effect"></a>YCbCr 效果

將平面和色度 subsampled JPEG YC<sub>b</sub>C<sub>r</sub> 資料轉換為 RGB。 這項效果假設 YC<sub>b</sub>C<sub>r</sub> 資料的格式符合 JPEG 標準。 您可以從 IWICPlanarBitmapSourceTransform 取得輸入的資料。 YC<sub>b</sub>C<sub>r</sub> 效果需要兩個輸入;第一個必須是 \_ \_ 包含 luma 資料的 dxgi 格式 R8 點陣圖，而第二個必須是 \_ \_ 包含 SUBSAMPLED 色度資料的 dxgi 格式 R8G8 點陣圖。 如需使用此效果的詳細資訊，請參閱 [JPEG YCbCr 支援](/windows/desktop/wic/jpeg-ycbcr-support)。

這項效果的 CLSID 是 CLSID \_ D2D1YCbCr。

-   [效果屬性](#effect-properties)
-   [取樣模式](#subsampling-modes)
-   [插補模式](#interpolation-modes)
-   [輸出點陣圖](#output-bitmap)
-   [需求](#requirements)
-   [相關主題](#related-topics)

## <a name="effect-properties"></a>效果屬性



| 顯示名稱和索引列舉                                          | Description                                                                                                                                                                                                                                                                                             |
|-----------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ChromaSubsampling<br/> D2D1 \_ YCBCR \_ 色度次 \_ 取樣<br/>    | 指定輸入色度影像的色度次取樣。 <br/> 此類型為 D2D1 \_ YCBCR \_ 色度次 \_ 取樣。<br/> 預設值為 D2D1 \_ YCBCR \_ 色度 \_ 自動取樣 \_ 。<br/>                                                                                                |
| TransformMatrix <br/> D2D1 \_ YCBCR \_ 的 \_ \_ 樣板轉換矩陣<br/> | [3X2 矩陣](/previous-versions/dotnet/netframework-3.0/ms750596(v=vs.85))，指定影像的軸對齊仿射轉換。 以軸對齊的轉換包括縮放、翻轉和90度旋轉。 <br/> 此類型為 D2D1 \_ 矩陣 \_ 3X2 \_ F。<br/> 預設值為 Matrix3x2F：： Identity () 。<br/> |
| InterpolationMode<br/> D2D1 \_ YCBCR \_ 插補 \_ 模式<br/>    | 插補模式。<br/> 此類型為 D2D1 \_ YCBCR \_ 插補 \_ 模式。<br/>                                                                                                                                                                                                             |



 

## <a name="subsampling-modes"></a>取樣模式



| 列舉型別                                       | 描述                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|---------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| \_自動 D2D1 YCBCR \_ 色度 \_ \_ 自動取樣<br/> | 此模式會嘗試從輸入影像的界限推斷色度次取樣。 選取此選項時，會將較小的平面 upsampled 至較大平面的大小，而此效果 s 輸出矩形是兩個平面的交集。 使用這個模式時，請小心將效果套用至變更影像界限的輸入平面，例如框線轉換，以便維持平面之間所需的大小比例。 <br/> |
| D2D1 \_ YCBCR \_ 色度次 \_ 取樣 \_ 420<br/>  | 色度平面會依水準 subsampled 和垂直 subsampled。 選取此選項時，會以2x 水準和垂直方式 upsampled 色度平面，而此效果 s 輸出矩形是兩個平面的交集。<br/>                                                                                                                                                                                                                          |
| D2D1 \_ YCBCR \_ 色度次 \_ 取樣 \_ 422<br/>  | 色度平面是由水準 subsampled。 選取此選項時，會以2x 水準 upsampled 色度平面，而此效果 s 輸出矩形是兩個平面的交集。<br/>                                                                                                                                                                                                                                                                        |
| D2D1 \_ YCBCR \_ 色度次 \_ 取樣 \_ 444<br/>  | 未 subsampled 色度平面。 選取此選項時，此效果 s 輸出矩形是兩個平面的交集。<br/>                                                                                                                                                                                                                                                                                                                                            |
| D2D1 \_ YCBCR \_ 色度次 \_ 取樣 \_ 440<br/>  | 色度平面是由垂直 subsampled。 選取此選項時，會以2x 垂直 upsampled 色度平面，而此效果 s 輸出矩形是兩個平面的交集。<br/>                                                                                                                                                                                                                                                                            |



 

## <a name="interpolation-modes"></a>插補模式



| 列舉型別                                             | 描述                                                                                                                                                                                          |
|---------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| \_ \_ \_ \_ 最接近 \_ 鄰近的 D2D1 YCBCR 插補模式     | 範例最接近的單一點，並使用該點。 這個模式會使用較少的處理時間，但會輸出最低品質的影像。                                                                           |
| D2D1 \_ YCBCR \_ 插補 \_ 模式 \_ 線性                | 使用四個點取樣和線性插補。 這個模式所使用的處理時間比最近的鄰近模式更多，但會輸出較高品質的影像。                                           |
| D2D1 \_ YCBCR \_ 插補 \_ 模式 \_ 立方                 | 使用16個範例三核心來進行插補。 這個模式會使用大部分的處理時間，但會輸出較高品質的影像。                                                                        |
| D2D1 \_ YCBCR \_ 插補 \_ 模式 \_ 多 \_ 樣本 \_ 線性 | 使用單一圖元內的4個線性樣本來取得良好的邊緣消除鋸齒。 這種模式適合用來在具有少量圖元的影像上相應減少量。                                              |
| D2D1 \_ YCBCR \_ 插補 \_ 模式 \_ 各向異性           | 根據點陣圖的轉換圖形，使用非等向篩選來取樣模式。                                                                                                     |
| D2D1 \_ YCBCR \_ 插補 \_ 模式 \_ 高 \_ 品質 \_ 三次  | 如果 downscaling 與轉換矩陣有關，則使用可變大小的高品質三核心來執行預先縮小的影像。 然後使用三次插補模式來進行最終輸出。 |



 

## <a name="output-bitmap"></a>輸出點陣圖

輸出點陣圖的大小取決於套用至影像的轉換矩陣。

效果會執行轉換作業，然後在結果周圍套用周框方塊。 輸出點陣圖是周框方塊的大小。

## <a name="requirements"></a>規格需求



| 需求 | 值 |
|--------------------------|---------------------------------------------------------------|
| 最低支援的用戶端 | Windows 8.1 \[ 桌面應用程式 \| Windows Store 應用程式\]            |
| 最低支援的伺服器 | Windows Server 2012 R2 \[ desktop app \| windows Store 應用程式\] |
| 標頭                   | d2d1effects \_ 1. h                                              |
| 程式庫                  | d2d1 .lib，dxguid .lib                                          |



 

## <a name="related-topics"></a>相關主題

<dl> <dt>

[**ID2D1Effect**](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1effect)
</dt> <dt>

[JPEG YCbCr 支援](/windows/desktop/wic/jpeg-ycbcr-support)
</dt> <dt>

[**IWICPlanarBitmapSourceTransform**](/windows/desktop/api/wincodec/nn-wincodec-iwicplanarbitmapsourcetransform)
</dt> </dl>

 

