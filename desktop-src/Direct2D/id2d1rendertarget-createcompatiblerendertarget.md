---
title: 'ID2D1RenderTarget CreateCompatibleRenderTarget 方法 (D2d1 .h) '
description: 建立新的點陣圖呈現目標，以便在與目前轉譯目標相容的中繼螢幕外繪圖期間使用。
ms.assetid: 4a799a7c-0d2f-460f-99f9-24c6cf7c4537
keywords:
- CreateCompatibleRenderTarget 方法 Direct2D
topic_type:
- apiref
api_location:
- D2d1.dll
api_type:
- DllExport
ms.date: 07/02/2019
ms.topic: reference
ms.openlocfilehash: 0f0de8478d2ab3ee2e7142bd0e197053dc58ac2a
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/22/2021
ms.locfileid: "106995988"
---
# <a name="id2d1rendertargetcreatecompatiblerendertarget-methods"></a><span data-ttu-id="7c3d6-104">ID2D1RenderTarget：： CreateCompatibleRenderTarget 方法</span><span class="sxs-lookup"><span data-stu-id="7c3d6-104">ID2D1RenderTarget::CreateCompatibleRenderTarget methods</span></span>

<span data-ttu-id="7c3d6-105">建立新的點陣圖呈現目標，以便在與目前轉譯目標相容的中繼螢幕外繪圖期間使用。</span><span class="sxs-lookup"><span data-stu-id="7c3d6-105">Creates a new bitmap render target for use during intermediate offscreen drawing that is compatible with the current render target .</span></span>

### <a name="overload-list"></a><span data-ttu-id="7c3d6-106">多載清單</span><span class="sxs-lookup"><span data-stu-id="7c3d6-106">Overload list</span></span>



| <span data-ttu-id="7c3d6-107">方法</span><span class="sxs-lookup"><span data-stu-id="7c3d6-107">Method</span></span>                                                                                                                                                                                                                        | <span data-ttu-id="7c3d6-108">描述</span><span class="sxs-lookup"><span data-stu-id="7c3d6-108">Description</span></span>                                                                                                                                                                                                                                            |
|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="7c3d6-109">[**CreateCompatibleRenderTarget (D2D1 \_ size \_ F、D2D1 \_ SIZE \_ U、D2D1 \_ 圖元 \_ FORMAT、D2D1 \_ 相容 \_ 轉譯 \_ 目標 \_ 選項、ID2D1BitmapRenderTarget \* \*)**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(d2d1_size_f_d2d1_size_u_d2d1_pixel_format_d2d1_compatible_render_target_options_id2d1bitmaprendertarget))</span><span class="sxs-lookup"><span data-stu-id="7c3d6-109">[**CreateCompatibleRenderTarget(D2D1\_SIZE\_F,D2D1\_SIZE\_U,D2D1\_PIXEL\_FORMAT,D2D1\_COMPATIBLE\_RENDER\_TARGET\_OPTIONS,ID2D1BitmapRenderTarget\*\*)**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(d2d1_size_f_d2d1_size_u_d2d1_pixel_format_d2d1_compatible_render_target_options_id2d1bitmaprendertarget))</span></span>       | <span data-ttu-id="7c3d6-110">建立點陣圖呈現目標，以便在與目前轉譯目標相容的中繼螢幕外繪圖期間使用。</span><span class="sxs-lookup"><span data-stu-id="7c3d6-110">Creates a bitmap render target for use during intermediate offscreen drawing that is compatible with the current render target.</span></span><br/>                                                                                                             |
| <span data-ttu-id="7c3d6-111">[**CreateCompatibleRenderTarget (D2D1 \_ size \_ F \* 、D2D1 \_ SIZE \_ U \* 、D2D1 \_ 圖元 \_ FORMAT \* 、D2D1 \_ 相容 \_ 轉譯 \_ 目標 \_ 選項、ID2D1BitmapRenderTarget \* \*)**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(d2d1_size_f_d2d1_size_u_d2d1_pixel_format_d2d1_compatible_render_target_options_id2d1bitmaprendertarget))</span><span class="sxs-lookup"><span data-stu-id="7c3d6-111">[**CreateCompatibleRenderTarget(D2D1\_SIZE\_F\*,D2D1\_SIZE\_U\*,D2D1\_PIXEL\_FORMAT\*,D2D1\_COMPATIBLE\_RENDER\_TARGET\_OPTIONS,ID2D1BitmapRenderTarget\*\*)**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(d2d1_size_f_d2d1_size_u_d2d1_pixel_format_d2d1_compatible_render_target_options_id2d1bitmaprendertarget))</span></span> | <span data-ttu-id="7c3d6-112">建立點陣圖呈現目標，以便在與目前轉譯目標相容的中繼螢幕外繪圖期間使用。</span><span class="sxs-lookup"><span data-stu-id="7c3d6-112">Creates a bitmap render target for use during intermediate offscreen drawing that is compatible with the current render target.</span></span> <br/>                                                                                                            |
| <span data-ttu-id="7c3d6-113">[**CreateCompatibleRenderTarget (ID2D1BitmapRenderTarget \* \*)**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(id2d1bitmaprendertarget))</span><span class="sxs-lookup"><span data-stu-id="7c3d6-113">[**CreateCompatibleRenderTarget(ID2D1BitmapRenderTarget\*\*)**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(id2d1bitmaprendertarget))</span></span>                                                                                                 | <span data-ttu-id="7c3d6-114">建立新的點陣圖呈現目標，以在與目前轉譯目標相容的中繼螢幕外繪圖期間使用，而且具有相同的大小、DPI 和像素格式 (但非 Alpha 模式) 為目前的轉譯目標。</span><span class="sxs-lookup"><span data-stu-id="7c3d6-114">Creates a new bitmap render target for use during intermediate offscreen drawing that is compatible with the current render target and has the same size, DPI, and pixel format (but not alpha mode) as the current render target.</span></span> <br/>         |
| <span data-ttu-id="7c3d6-115">[**CreateCompatibleRenderTarget (D2D1 \_ SIZE \_ F，ID2D1BitmapRenderTarget \* \*)**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(d2d1_size_f_id2d1bitmaprendertarget))</span><span class="sxs-lookup"><span data-stu-id="7c3d6-115">[**CreateCompatibleRenderTarget(D2D1\_SIZE\_F,ID2D1BitmapRenderTarget\*\*)**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(d2d1_size_f_id2d1bitmaprendertarget))</span></span>                                                                                   | <span data-ttu-id="7c3d6-116">建立新的點陣圖呈現目標，以便在與目前轉譯目標相容的中繼螢幕外繪圖期間使用，而且具有相同的像素格式 (但 Alpha 模式) 為目前的轉譯目標。</span><span class="sxs-lookup"><span data-stu-id="7c3d6-116">Creates a new bitmap render target for use during intermediate offscreen drawing that is compatible with the current render target and has the same pixel format (but not alpha mode) as the current render target.</span></span> <br/>                        |
| <span data-ttu-id="7c3d6-117">[**CreateCompatibleRenderTarget (D2D1 \_ 大小 \_ F、D2D1 \_ 大小 \_ U、ID2D1BitmapRenderTarget \* \*)**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(d2d1_size_f_d2d1_size_u_id2d1bitmaprendertarget))</span><span class="sxs-lookup"><span data-stu-id="7c3d6-117">[**CreateCompatibleRenderTarget(D2D1\_SIZE\_F,D2D1\_SIZE\_U,ID2D1BitmapRenderTarget\*\*)**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(d2d1_size_f_d2d1_size_u_id2d1bitmaprendertarget))</span></span>                                                                     | <span data-ttu-id="7c3d6-118">建立點陣圖呈現目標，以在與目前轉譯目標相容的中繼離螢幕繪圖期間使用。</span><span class="sxs-lookup"><span data-stu-id="7c3d6-118">Creates a bitmap render target for use during intermediate off-screen drawing that is compatible with the current render target.</span></span> <span data-ttu-id="7c3d6-119">新的點陣圖轉譯目標具有相同的像素格式 (但非 Alpha 模式) 為目前的轉譯目標。</span><span class="sxs-lookup"><span data-stu-id="7c3d6-119">The new bitmap render target has the same pixel format (but not alpha mode) as the current render target.</span></span> <br/> |
| <span data-ttu-id="7c3d6-120">[**CreateCompatibleRenderTarget (D2D1 \_ size \_ F、D2D1 \_ SIZE \_ U、D2D1 \_ 圖元 \_ FORMAT、ID2D1BitmapRenderTarget \* \*)**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(d2d1_size_f_d2d1_size_u_d2d1_pixel_format_id2d1bitmaprendertarget))</span><span class="sxs-lookup"><span data-stu-id="7c3d6-120">[**CreateCompatibleRenderTarget(D2D1\_SIZE\_F,D2D1\_SIZE\_U,D2D1\_PIXEL\_FORMAT,ID2D1BitmapRenderTarget\*\*)**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(d2d1_size_f_d2d1_size_u_d2d1_pixel_format_id2d1bitmaprendertarget))</span></span>                                                 | <span data-ttu-id="7c3d6-121">建立點陣圖呈現目標，以便在與目前轉譯目標相容的中繼螢幕外繪圖期間使用。</span><span class="sxs-lookup"><span data-stu-id="7c3d6-121">Creates a bitmap render target for use during intermediate offscreen drawing that is compatible with the current render target.</span></span> <br/>                                                                                                            |



## <a name="examples"></a><span data-ttu-id="7c3d6-122">範例</span><span class="sxs-lookup"><span data-stu-id="7c3d6-122">Examples</span></span>

<span data-ttu-id="7c3d6-123">下列範例會使用 **CreateCompatibleRenderTarget** 方法來建立 [**ID2D1BitmapRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmaprendertarget) ，並使用它來繪製方格模式。</span><span class="sxs-lookup"><span data-stu-id="7c3d6-123">The following example uses the **CreateCompatibleRenderTarget** method to create an [**ID2D1BitmapRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmaprendertarget) and uses it to draw a grid pattern.</span></span> <span data-ttu-id="7c3d6-124">格線模式會用來做為 [**ID2D1BitmapBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmapbrush)的來源。</span><span class="sxs-lookup"><span data-stu-id="7c3d6-124">The grid pattern is used as the source of an [**ID2D1BitmapBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmapbrush).</span></span>


```C++
HRESULT DemoApp::CreateGridPatternBrush(
    ID2D1RenderTarget *pRenderTarget,
    ID2D1BitmapBrush **ppBitmapBrush
    )
{
    // Create a compatible render target.
    ID2D1BitmapRenderTarget *pCompatibleRenderTarget = NULL;
    HRESULT hr = pRenderTarget->CreateCompatibleRenderTarget(
        D2D1::SizeF(10.0f, 10.0f),
        &amp;pCompatibleRenderTarget
        );
    if (SUCCEEDED(hr))
    {
        // Draw a pattern.
        ID2D1SolidColorBrush *pGridBrush = NULL;
        hr = pCompatibleRenderTarget->CreateSolidColorBrush(
            D2D1::ColorF(D2D1::ColorF(0.93f, 0.94f, 0.96f, 1.0f)),
            &amp;pGridBrush
            );
        if (SUCCEEDED(hr))
        {
            pCompatibleRenderTarget->BeginDraw();
            pCompatibleRenderTarget->FillRectangle(D2D1::RectF(0.0f, 0.0f, 10.0f, 1.0f), pGridBrush);
            pCompatibleRenderTarget->FillRectangle(D2D1::RectF(0.0f, 0.1f, 1.0f, 10.0f), pGridBrush);
            pCompatibleRenderTarget->EndDraw();

            // Retrieve the bitmap from the render target.
            ID2D1Bitmap *pGridBitmap = NULL;
            hr = pCompatibleRenderTarget->GetBitmap(&amp;pGridBitmap);
            if (SUCCEEDED(hr))
            {
                // Choose the tiling mode for the bitmap brush.
                D2D1_BITMAP_BRUSH_PROPERTIES brushProperties =
                    D2D1::BitmapBrushProperties(D2D1_EXTEND_MODE_WRAP, D2D1_EXTEND_MODE_WRAP);

                // Create the bitmap brush.
                hr = m_pRenderTarget->CreateBitmapBrush(pGridBitmap, brushProperties, ppBitmapBrush);

                pGridBitmap->Release();
            }

            pGridBrush->Release();
        }

        pCompatibleRenderTarget->Release();
    }

    return hr;
}
```



<span data-ttu-id="7c3d6-125">下列程式碼範例會使用筆刷來繪製模式。</span><span class="sxs-lookup"><span data-stu-id="7c3d6-125">The following code example uses the brush to paint a pattern.</span></span>


```C++
// Paint a grid background.
m_pRenderTarget->FillRectangle(
    D2D1::RectF(0.0f, 0.0f, renderTargetSize.width, renderTargetSize.height),
    m_pGridPatternBitmapBrush
    );
```



<span data-ttu-id="7c3d6-126">此範例中省略了程式碼。</span><span class="sxs-lookup"><span data-stu-id="7c3d6-126">Code has been omitted from this example.</span></span>

## <a name="requirements"></a><span data-ttu-id="7c3d6-127">規格需求</span><span class="sxs-lookup"><span data-stu-id="7c3d6-127">Requirements</span></span>



| <span data-ttu-id="7c3d6-128">需求</span><span class="sxs-lookup"><span data-stu-id="7c3d6-128">Requirement</span></span> | <span data-ttu-id="7c3d6-129">值</span><span class="sxs-lookup"><span data-stu-id="7c3d6-129">Value</span></span> |
|--------------------|-------------------------------------------------------------------------------------|
| <span data-ttu-id="7c3d6-130">標頭</span><span class="sxs-lookup"><span data-stu-id="7c3d6-130">Header</span></span><br/>  | <dl> <span data-ttu-id="7c3d6-131"><dt>D2d1。h</dt></span><span class="sxs-lookup"><span data-stu-id="7c3d6-131"><dt>D2d1.h</dt></span></span> </dl>   |
| <span data-ttu-id="7c3d6-132">程式庫</span><span class="sxs-lookup"><span data-stu-id="7c3d6-132">Library</span></span><br/> | <dl> <span data-ttu-id="7c3d6-133"><dt>D2d1 .lib</dt></span><span class="sxs-lookup"><span data-stu-id="7c3d6-133"><dt>D2d1.lib</dt></span></span> </dl> |
| <span data-ttu-id="7c3d6-134">DLL</span><span class="sxs-lookup"><span data-stu-id="7c3d6-134">DLL</span></span><br/>     | <dl> <span data-ttu-id="7c3d6-135"><dt>D2d1.dll</dt></span><span class="sxs-lookup"><span data-stu-id="7c3d6-135"><dt>D2d1.dll</dt></span></span> </dl> |



## <a name="see-also"></a><span data-ttu-id="7c3d6-136">另請參閱</span><span class="sxs-lookup"><span data-stu-id="7c3d6-136">See also</span></span>

<dl> <dt>

[<span data-ttu-id="7c3d6-137">**ID2D1RenderTarget**</span><span class="sxs-lookup"><span data-stu-id="7c3d6-137">**ID2D1RenderTarget**</span></span>](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget)
</dt> </dl>

<span data-ttu-id="7c3d6-138">�</span><span class="sxs-lookup"><span data-stu-id="7c3d6-138">�</span></span>

<span data-ttu-id="7c3d6-139">�</span><span class="sxs-lookup"><span data-stu-id="7c3d6-139">�</span></span>
