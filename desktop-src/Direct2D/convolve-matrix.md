---
title: 卷積矩陣效果
description: 使用 >convolve 矩陣效果將任意2D 核心套用至影像。 您可以使用此效果來模糊、偵測邊緣、浮凸或對影像進行銳化。
ms.assetid: D9C23AC4-0090-4F16-AC59-B952FB616FA9
keywords:
- '>convolve 矩陣效果'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 27951f5b9145dc46188e6b3112892d1a61856236
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/12/2020
ms.locfileid: "104552586"
---
# <a name="convolve-matrix-effect"></a><span data-ttu-id="f94fb-105">卷積矩陣效果</span><span class="sxs-lookup"><span data-stu-id="f94fb-105">Convolve matrix effect</span></span>

<span data-ttu-id="f94fb-106">使用 >convolve 矩陣效果將任意2D 核心套用至影像。</span><span class="sxs-lookup"><span data-stu-id="f94fb-106">Use the convolve matrix effect to apply an arbitrary 2D kernel to an image.</span></span> <span data-ttu-id="f94fb-107">您可以使用此效果來模糊、偵測邊緣、浮凸或對影像進行銳化。</span><span class="sxs-lookup"><span data-stu-id="f94fb-107">You can use this effect to blur, detect edges, emboss, or sharpen an image.</span></span>

<span data-ttu-id="f94fb-108">這項效果的 CLSID 是 CLSID \_ D2D1ConvolveMatrix。</span><span class="sxs-lookup"><span data-stu-id="f94fb-108">The CLSID for this effect is CLSID\_D2D1ConvolveMatrix.</span></span>

-   [<span data-ttu-id="f94fb-109">範例影像</span><span class="sxs-lookup"><span data-stu-id="f94fb-109">Example image</span></span>](#example-image)
-   [<span data-ttu-id="f94fb-110">效果屬性</span><span class="sxs-lookup"><span data-stu-id="f94fb-110">Effect properties</span></span>](#effect-properties)
-   [<span data-ttu-id="f94fb-111">調整模式</span><span class="sxs-lookup"><span data-stu-id="f94fb-111">Scale modes</span></span>](#scale-modes)
-   [<span data-ttu-id="f94fb-112">框線模式</span><span class="sxs-lookup"><span data-stu-id="f94fb-112">Border modes</span></span>](#border-modes)
-   [<span data-ttu-id="f94fb-113">輸出點陣圖</span><span class="sxs-lookup"><span data-stu-id="f94fb-113">Output bitmap</span></span>](#output-bitmap)
-   [<span data-ttu-id="f94fb-114">需求</span><span class="sxs-lookup"><span data-stu-id="f94fb-114">Requirements</span></span>](#requirements)
-   [<span data-ttu-id="f94fb-115">相關主題</span><span class="sxs-lookup"><span data-stu-id="f94fb-115">Related topics</span></span>](#related-topics)

## <a name="example-image"></a><span data-ttu-id="f94fb-116">範例影像</span><span class="sxs-lookup"><span data-stu-id="f94fb-116">Example image</span></span>

<span data-ttu-id="f94fb-117">此處的範例顯示具有 3 x 3 核心的 >convolve 矩陣效果的輸入和輸出。</span><span class="sxs-lookup"><span data-stu-id="f94fb-117">The example here shows the input and output of the convolve matrix effect with a 3 x 3 kernel.</span></span>



| <span data-ttu-id="f94fb-118">之前</span><span class="sxs-lookup"><span data-stu-id="f94fb-118">Before</span></span>                                                         |
|----------------------------------------------------------------|
| ![效果之前的影像。](images/default-before.jpg)     |
| <span data-ttu-id="f94fb-120">After</span><span class="sxs-lookup"><span data-stu-id="f94fb-120">After</span></span>                                                          |
| ![轉換後的影像。](images/6-convolvematrix.png) |



 


```C++
ComPtr<ID2D1Effect> convolveMatrixEffect;
m_d2dContext->CreateEffect(CLSID_D2D1ConvolveMatrix, &convolveMatrixEffect);

convolveMatrixEffect->SetInput(0, bitmap);
float matrix[9] = {-1, -1, -1, -1, 9, -1, -1, -1, -1};
convolveMatrixEffect->SetValue(D2D1_CONVOLVEMATRIX_PROP_KERNEL_MATRIX, matrix);

m_d2dContext->BeginDraw();
m_d2dContext->DrawImage(convolveMatrixEffect.Get());
m_d2dContext->EndDraw();
```



## <a name="effect-properties"></a><span data-ttu-id="f94fb-122">效果屬性</span><span class="sxs-lookup"><span data-stu-id="f94fb-122">Effect properties</span></span>



| <span data-ttu-id="f94fb-123">顯示名稱和索引列舉</span><span class="sxs-lookup"><span data-stu-id="f94fb-123">Display name and index enumeration</span></span>                                                      | <span data-ttu-id="f94fb-124">Description</span><span class="sxs-lookup"><span data-stu-id="f94fb-124">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-----------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f94fb-125">KernelUnitLength</span><span class="sxs-lookup"><span data-stu-id="f94fb-125">KernelUnitLength</span></span><br/> <span data-ttu-id="f94fb-126">D2D1 \_ CONVOLVEMATRIX \_ 的 \_ 核心 \_ 單位 \_ 長度</span><span class="sxs-lookup"><span data-stu-id="f94fb-126">D2D1\_CONVOLVEMATRIX\_PROP\_KERNEL\_UNIT\_LENGTH</span></span><br/> | <span data-ttu-id="f94fb-127">核心中一個單位的大小。</span><span class="sxs-lookup"><span data-stu-id="f94fb-127">The size of one unit in the kernel.</span></span> <span data-ttu-id="f94fb-128">單位位於 (Dip/核心單位) ，其中核心單位是卷積核心中的元素大小。</span><span class="sxs-lookup"><span data-stu-id="f94fb-128">The units are in (DIPs/kernel unit), where a kernel unit is the size of the element in the convolution kernel.</span></span> <span data-ttu-id="f94fb-129">值 1 (DIP/核心單位) 對應至影像中的一個圖元（96 DPI）。</span><span class="sxs-lookup"><span data-stu-id="f94fb-129">A value of 1 (DIP/kernel unit) corresponds to one pixel in a image at 96 DPI.</span></span><br/> <span data-ttu-id="f94fb-130">此類型為 FLOAT。</span><span class="sxs-lookup"><span data-stu-id="f94fb-130">The type is FLOAT.</span></span><br/> <span data-ttu-id="f94fb-131">預設值為 1.0 f。</span><span class="sxs-lookup"><span data-stu-id="f94fb-131">The default value is 1.0f.</span></span><br/>                                                                                                                                                                                                                   |
| <span data-ttu-id="f94fb-132">ScaleMode</span><span class="sxs-lookup"><span data-stu-id="f94fb-132">ScaleMode</span></span><br/> <span data-ttu-id="f94fb-133">D2D1 \_ CONVOLVEMATRIX \_ 的 \_ 範圍調整 \_ 模式</span><span class="sxs-lookup"><span data-stu-id="f94fb-133">D2D1\_CONVOLVEMATRIX\_PROP\_SCALE\_MODE</span></span><br/>                 | <span data-ttu-id="f94fb-134">效果用來將影像調整為對應核心單位長度的插補模式。</span><span class="sxs-lookup"><span data-stu-id="f94fb-134">The interpolation mode the effect uses to scale the image to the corresponding kernel unit length.</span></span> <span data-ttu-id="f94fb-135">有六個調整模式的品質和速度。</span><span class="sxs-lookup"><span data-stu-id="f94fb-135">There are six scale modes that range in quality and speed.</span></span><br/> <span data-ttu-id="f94fb-136">此類型為 D2D1 \_ CONVOLVEMATRIX \_ SCALE \_ 模式。</span><span class="sxs-lookup"><span data-stu-id="f94fb-136">The type is D2D1\_CONVOLVEMATRIX\_SCALE\_MODE.</span></span><br/> <span data-ttu-id="f94fb-137">預設值為 D2D1 \_ CONVOLVEMATRIX \_ SCALE \_ MODE \_ 線性。</span><span class="sxs-lookup"><span data-stu-id="f94fb-137">The default value is D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_LINEAR.</span></span><br/>                                                                                                                                                                                                                     |
| <span data-ttu-id="f94fb-138">KernelSizeX</span><span class="sxs-lookup"><span data-stu-id="f94fb-138">KernelSizeX</span></span><br/> <span data-ttu-id="f94fb-139">D2D1 \_ CONVOLVEMATRIX \_ 的 \_ 核心 \_ 大小 \_ X</span><span class="sxs-lookup"><span data-stu-id="f94fb-139">D2D1\_CONVOLVEMATRIX\_PROP\_KERNEL\_SIZE\_X</span></span><br/>           | <span data-ttu-id="f94fb-140">核心矩陣的寬度。</span><span class="sxs-lookup"><span data-stu-id="f94fb-140">The width of the kernel matrix.</span></span> <span data-ttu-id="f94fb-141">單位是以核心單位來指定。</span><span class="sxs-lookup"><span data-stu-id="f94fb-141">The units are specified in kernel units.</span></span> <span data-ttu-id="f94fb-142">此類型為 UINT32。</span><span class="sxs-lookup"><span data-stu-id="f94fb-142">The type is UINT32.</span></span><br/> <span data-ttu-id="f94fb-143">預設值是 3。</span><span class="sxs-lookup"><span data-stu-id="f94fb-143">The default value is 3.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="f94fb-144">KernelSizeY</span><span class="sxs-lookup"><span data-stu-id="f94fb-144">KernelSizeY</span></span><br/> <span data-ttu-id="f94fb-145">D2D1 \_ CONVOLVEMATRIX \_ 的 \_ 核心 \_ 大小 \_ Y</span><span class="sxs-lookup"><span data-stu-id="f94fb-145">D2D1\_CONVOLVEMATRIX\_PROP\_KERNEL\_SIZE\_Y</span></span><br/>           | <span data-ttu-id="f94fb-146">核心矩陣的高度。</span><span class="sxs-lookup"><span data-stu-id="f94fb-146">The height of the kernel matrix.</span></span> <span data-ttu-id="f94fb-147">單位是以核心單位來指定。</span><span class="sxs-lookup"><span data-stu-id="f94fb-147">The units are specified in kernel units.</span></span> <span data-ttu-id="f94fb-148">此類型為 UINT32。</span><span class="sxs-lookup"><span data-stu-id="f94fb-148">The type is UINT32.</span></span><br/> <span data-ttu-id="f94fb-149">預設值是 3。</span><span class="sxs-lookup"><span data-stu-id="f94fb-149">The default value is 3.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="f94fb-150">KernelMatrix</span><span class="sxs-lookup"><span data-stu-id="f94fb-150">KernelMatrix</span></span><br/> <span data-ttu-id="f94fb-151">D2D1 \_ CONVOLVEMATRIX \_ 的 \_ 核心 \_ 矩陣</span><span class="sxs-lookup"><span data-stu-id="f94fb-151">D2D1\_CONVOLVEMATRIX\_PROP\_KERNEL\_MATRIX</span></span><br/>           | <span data-ttu-id="f94fb-152">要套用至映射的核心矩陣。</span><span class="sxs-lookup"><span data-stu-id="f94fb-152">The kernel matrix to be applied to the image.</span></span> <span data-ttu-id="f94fb-153">核心元素未系結，並指定為浮動。</span><span class="sxs-lookup"><span data-stu-id="f94fb-153">The kernel elements aren't bounded and are specified as floats.</span></span><br/> <span data-ttu-id="f94fb-154">浮點數中的第一組 *KernelSizeX* 數位會 \[ \] 對應至核心中的第一個資料列。</span><span class="sxs-lookup"><span data-stu-id="f94fb-154">The first set of *KernelSizeX* numbers in the FLOAT\[\] corresponds to the first row in the kernel.</span></span> <span data-ttu-id="f94fb-155">第二組 *KernelSizeX* 號碼會對應到第二個數據列，依此類推，直到 *KernelSizeY* 資料列為止。</span><span class="sxs-lookup"><span data-stu-id="f94fb-155">The second set of *KernelSizeX* numbers correspond to the second row, and so on up to *KernelSizeY* rows.</span></span><br/> <span data-ttu-id="f94fb-156">此類型為 FLOAT \[ \] 。</span><span class="sxs-lookup"><span data-stu-id="f94fb-156">The type is FLOAT\[\].</span></span><br/> <span data-ttu-id="f94fb-157">預設值為 {0.0 f、0.0 f、0.0 f、0.0 f、1.0 f、0.0 f、0.0 f、0.0 f、0.0 f}。</span><span class="sxs-lookup"><span data-stu-id="f94fb-157">The default value is {0.0f, 0.0f, 0.0f, 0.0f, 1.0f, 0.0f, 0.0f, 0.0f, 0.0f}.</span></span><br/>                                                       |
| <span data-ttu-id="f94fb-158">除數</span><span class="sxs-lookup"><span data-stu-id="f94fb-158">Divisor</span></span><br/> <span data-ttu-id="f94fb-159">D2D1 \_ CONVOLVEMATRIX 的 \_ \_</span><span class="sxs-lookup"><span data-stu-id="f94fb-159">D2D1\_CONVOLVEMATRIX\_PROP\_DIVISOR</span></span><br/>                       | <span data-ttu-id="f94fb-160">核心矩陣會套用至圖元，然後結果會除以此值。</span><span class="sxs-lookup"><span data-stu-id="f94fb-160">The kernel matrix is applied to a pixel and then the result is divided by this value.</span></span> <br/> <span data-ttu-id="f94fb-161">0的行為是 float epsilon 的值。</span><span class="sxs-lookup"><span data-stu-id="f94fb-161">0 behaves as a value of float epsilon.</span></span><br/> <span data-ttu-id="f94fb-162">此類型為 FLOAT。</span><span class="sxs-lookup"><span data-stu-id="f94fb-162">The type is FLOAT.</span></span><br/> <span data-ttu-id="f94fb-163">預設值為 1.0 f。</span><span class="sxs-lookup"><span data-stu-id="f94fb-163">The default value is 1.0f.</span></span><br/>                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="f94fb-164">偏差</span><span class="sxs-lookup"><span data-stu-id="f94fb-164">Bias</span></span><br/> <span data-ttu-id="f94fb-165">D2D1 \_ CONVOLVEMATRIX 的情況 \_ \_ 偏差</span><span class="sxs-lookup"><span data-stu-id="f94fb-165">D2D1\_CONVOLVEMATRIX\_PROP\_BIAS</span></span><br/>                             | <span data-ttu-id="f94fb-166">效果會套用核心矩陣、除數，然後將偏差新增至結果。</span><span class="sxs-lookup"><span data-stu-id="f94fb-166">The effect applies the kernel matrix, the divisor, and then the bias is added to the result.</span></span> <span data-ttu-id="f94fb-167">偏差未系結且沒有用。</span><span class="sxs-lookup"><span data-stu-id="f94fb-167">The bias is unbounded and unitless.</span></span> <span data-ttu-id="f94fb-168">此類型為 FLOAT。</span><span class="sxs-lookup"><span data-stu-id="f94fb-168">The type is FLOAT.</span></span><br/> <span data-ttu-id="f94fb-169">預設值為 0.0 f。</span><span class="sxs-lookup"><span data-stu-id="f94fb-169">The default value is 0.0f.</span></span><br/>                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="f94fb-170">KernelOffset</span><span class="sxs-lookup"><span data-stu-id="f94fb-170">KernelOffset</span></span><br/> <span data-ttu-id="f94fb-171">D2D1 \_ CONVOLVEMATRIX \_ 的 \_ 核心 \_ 位移</span><span class="sxs-lookup"><span data-stu-id="f94fb-171">D2D1\_CONVOLVEMATRIX\_PROP\_KERNEL\_OFFSET</span></span><br/>           | <span data-ttu-id="f94fb-172">將卷積核心從輸出圖元上的置中位置移至您指定的左/右和向上/向下位置。</span><span class="sxs-lookup"><span data-stu-id="f94fb-172">Shifts the convolution kernel from a centered position on the output pixel to a position you specify left/right and up/down.</span></span> <span data-ttu-id="f94fb-173">位移是以核心單位來定義。</span><span class="sxs-lookup"><span data-stu-id="f94fb-173">The offset is defined in kernel units.</span></span><br/> <span data-ttu-id="f94fb-174">有一些位移和核心大小，硬碟上的核心樣本不會落在圖元影像中心。</span><span class="sxs-lookup"><span data-stu-id="f94fb-174">With some offsets and kernel sizes, the convolution kernel s samples won't land on a pixel image center.</span></span> <span data-ttu-id="f94fb-175">核心樣本的圖元值是透過雙線性插補來計算。</span><span class="sxs-lookup"><span data-stu-id="f94fb-175">The pixel values for the kernel sample are computed by bilinear interpolation.</span></span><br/> <span data-ttu-id="f94fb-176">此類型為 D2D1 \_ VECTOR \_ 2f。</span><span class="sxs-lookup"><span data-stu-id="f94fb-176">The type is D2D1\_VECTOR\_2F.</span></span><br/> <span data-ttu-id="f94fb-177">預設值為 {0.0 f，0.0 f}。</span><span class="sxs-lookup"><span data-stu-id="f94fb-177">The default value is {0.0f, 0.0f}.</span></span><br/>                                                          |
| <span data-ttu-id="f94fb-178">PreserveAlpha</span><span class="sxs-lookup"><span data-stu-id="f94fb-178">PreserveAlpha</span></span><br/> <span data-ttu-id="f94fb-179">D2D1 \_ CONVOLVEMATRIX \_ 的 \_ \_ 分量保留 ALPHA</span><span class="sxs-lookup"><span data-stu-id="f94fb-179">D2D1\_CONVOLVEMATRIX\_PROP\_PRESERVE\_ALPHA</span></span><br/>         | <span data-ttu-id="f94fb-180">指定是否要將卷積核心套用至 Alpha 色板或只套用色頻。</span><span class="sxs-lookup"><span data-stu-id="f94fb-180">Specifies whether the convolution kernel is applied to the alpha channel or only the color channels.</span></span><br/> <span data-ttu-id="f94fb-181">如果您將此設定為 **TRUE** ，則只會將卷積核心套用至色彩通道。</span><span class="sxs-lookup"><span data-stu-id="f94fb-181">If you set this to **TRUE** the convolution kernel is applied only to the color channels.</span></span><br/> <span data-ttu-id="f94fb-182">如果您將此設定為 **FALSE** ，則會將卷積核心套用至所有通道。</span><span class="sxs-lookup"><span data-stu-id="f94fb-182">If you set this to **FALSE** the convolution kernel is applied to all channels.</span></span><br/> <span data-ttu-id="f94fb-183">此類型為 BOOL。</span><span class="sxs-lookup"><span data-stu-id="f94fb-183">The type is BOOL.</span></span><br/> <span data-ttu-id="f94fb-184">預設值為 FALSE。</span><span class="sxs-lookup"><span data-stu-id="f94fb-184">The default value is FALSE.</span></span><br/>                                                                                                                                               |
| <span data-ttu-id="f94fb-185">BorderMode</span><span class="sxs-lookup"><span data-stu-id="f94fb-185">BorderMode</span></span><br/> <span data-ttu-id="f94fb-186">D2D1 \_ CONVOLVEMATRIX \_ 的 \_ 樣式框線 \_ 模式</span><span class="sxs-lookup"><span data-stu-id="f94fb-186">D2D1\_CONVOLVEMATRIX\_PROP\_BORDER\_MODE</span></span><br/>               | <span data-ttu-id="f94fb-187">用來計算影像（軟或硬）框線的模式。</span><span class="sxs-lookup"><span data-stu-id="f94fb-187">The mode used to calculate the border of the image, soft or hard.</span></span> <span data-ttu-id="f94fb-188">如需詳細資訊，請參閱 [框線模式](https://www.bing.com/search?q=Border+modes) 。</span><span class="sxs-lookup"><span data-stu-id="f94fb-188">See [Border modes](https://www.bing.com/search?q=Border+modes) for more info.</span></span><br/> <span data-ttu-id="f94fb-189">此類型為 D2D1 \_ 框線 \_ 模式。</span><span class="sxs-lookup"><span data-stu-id="f94fb-189">The type is D2D1\_BORDER\_MODE.</span></span><br/> <span data-ttu-id="f94fb-190">預設值為 [D2D1 \_ 框線 \_ 模式] \_ 。</span><span class="sxs-lookup"><span data-stu-id="f94fb-190">The default value is D2D1\_BORDER\_MODE\_SOFT.</span></span><br/>                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="f94fb-191">ClampOutput</span><span class="sxs-lookup"><span data-stu-id="f94fb-191">ClampOutput</span></span><br/> <span data-ttu-id="f94fb-192">D2D1 CONVOLVEMATRIX 的一種 \_ \_ \_ 夾具 \_ 輸出</span><span class="sxs-lookup"><span data-stu-id="f94fb-192">D2D1\_CONVOLVEMATRIX\_PROP\_CLAMP\_OUTPUT</span></span><br/>             | <span data-ttu-id="f94fb-193">效果在效果之前個色彩值是否會將值傳遞給圖形中的下一個效果。</span><span class="sxs-lookup"><span data-stu-id="f94fb-193">Whether the effect clamps color values to between 0 and 1 before the effect passes the values to the next effect in the graph.</span></span> <span data-ttu-id="f94fb-194">效果會在 premultiplies Alpha 之前個值。</span><span class="sxs-lookup"><span data-stu-id="f94fb-194">The effect clamps the values before it premultiplies the alpha .</span></span><br/> <span data-ttu-id="f94fb-195">如果您將此設定為 TRUE，效果會將值設為夾具。</span><span class="sxs-lookup"><span data-stu-id="f94fb-195">If you set this to TRUE the effect will clamp the values.</span></span> <span data-ttu-id="f94fb-196">如果您將此值設定為 FALSE，效果將不會顯示色彩值，但其他效果和輸出介面可能會在這些值的精確度不夠高時，將這些值設定為夾具。</span><span class="sxs-lookup"><span data-stu-id="f94fb-196">If you set this to FALSE, the effect will not clamp the color values, but other effects and the output surface may clamp the values if they are not of high enough precision.</span></span><br/> <span data-ttu-id="f94fb-197">此類型為 BOOL。</span><span class="sxs-lookup"><span data-stu-id="f94fb-197">The type is BOOL.</span></span><br/> <span data-ttu-id="f94fb-198">預設值為 FALSE。</span><span class="sxs-lookup"><span data-stu-id="f94fb-198">The default value is FALSE.</span></span><br/> |



 

## <a name="scale-modes"></a><span data-ttu-id="f94fb-199">調整模式</span><span class="sxs-lookup"><span data-stu-id="f94fb-199">Scale modes</span></span>



| <span data-ttu-id="f94fb-200">列舉型別</span><span class="sxs-lookup"><span data-stu-id="f94fb-200">Enumeration</span></span>                                              | <span data-ttu-id="f94fb-201">描述</span><span class="sxs-lookup"><span data-stu-id="f94fb-201">Description</span></span>                                                                                                                                                                                          |
|----------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f94fb-202">\_ \_ \_ \_ 最接近 \_ 鄰近的 D2D1 CONVOLVEMATRIX 調整模式</span><span class="sxs-lookup"><span data-stu-id="f94fb-202">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_NEAREST\_NEIGHBOR</span></span>     | <span data-ttu-id="f94fb-203">範例最接近的單一點，並使用該點。</span><span class="sxs-lookup"><span data-stu-id="f94fb-203">Samples the nearest single point and uses that.</span></span> <span data-ttu-id="f94fb-204">這個模式會使用較少的處理時間，但會輸出最低品質的影像。</span><span class="sxs-lookup"><span data-stu-id="f94fb-204">This mode uses less processing time, but outputs the lowest quality image.</span></span>                                                                           |
| <span data-ttu-id="f94fb-205">D2D1 \_ CONVOLVEMATRIX \_ SCALE \_ 模式 \_ 線性</span><span class="sxs-lookup"><span data-stu-id="f94fb-205">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_LINEAR</span></span>                | <span data-ttu-id="f94fb-206">使用四個點取樣和線性插補。</span><span class="sxs-lookup"><span data-stu-id="f94fb-206">Uses a four point sample and linear interpolation.</span></span> <span data-ttu-id="f94fb-207">此模式會輸出比最近的鄰近模式更高的品質影像。</span><span class="sxs-lookup"><span data-stu-id="f94fb-207">This mode outputs a higher quality image than nearest neighbor mode.</span></span>                                                                              |
| <span data-ttu-id="f94fb-208">D2D1 \_ CONVOLVEMATRIX \_ SCALE \_ 模式 \_ 立方</span><span class="sxs-lookup"><span data-stu-id="f94fb-208">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_CUBIC</span></span>                 | <span data-ttu-id="f94fb-209">使用16個範例三核心來進行插補。</span><span class="sxs-lookup"><span data-stu-id="f94fb-209">Uses a 16 sample cubic kernel for interpolation.</span></span> <span data-ttu-id="f94fb-210">這個模式會使用大部分的處理時間，但會輸出較高品質的影像。</span><span class="sxs-lookup"><span data-stu-id="f94fb-210">This mode uses the most processing time, but outputs a higher quality image.</span></span>                                                                        |
| <span data-ttu-id="f94fb-211">D2D1 \_ CONVOLVEMATRIX \_ SCALE \_ MODE \_ 多重 \_ 範例 \_ 線性</span><span class="sxs-lookup"><span data-stu-id="f94fb-211">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_MULTI\_SAMPLE\_LINEAR</span></span> | <span data-ttu-id="f94fb-212">使用單一圖元內的4個線性樣本來取得良好的邊緣消除鋸齒。</span><span class="sxs-lookup"><span data-stu-id="f94fb-212">Uses 4 linear samples within a single pixel for good edge anti-aliasing.</span></span> <span data-ttu-id="f94fb-213">這種模式適合用來在具有少量圖元的影像上相應減少量。</span><span class="sxs-lookup"><span data-stu-id="f94fb-213">This mode is good for scaling down by small amounts on images with few pixels.</span></span>                                              |
| <span data-ttu-id="f94fb-214">D2D1 \_ CONVOLVEMATRIX \_ SCALE \_ 模式 \_ 非等</span><span class="sxs-lookup"><span data-stu-id="f94fb-214">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_ANISOTROPIC</span></span>           | <span data-ttu-id="f94fb-215">根據點陣圖的轉換圖形，使用非等向篩選來取樣模式。</span><span class="sxs-lookup"><span data-stu-id="f94fb-215">Uses anisotropic filtering to sample a pattern according to the transformed shape of the bitmap.</span></span>                                                                                                     |
| <span data-ttu-id="f94fb-216">D2D1 \_ CONVOLVEMATRIX \_ 調整 \_ 模式 \_ 高 \_ 品質 \_ 三階</span><span class="sxs-lookup"><span data-stu-id="f94fb-216">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_HIGH\_QUALITY\_CUBIC</span></span>  | <span data-ttu-id="f94fb-217">如果 downscaling 與轉換矩陣有關，則使用可變大小的高品質三核心來執行預先縮小的影像。</span><span class="sxs-lookup"><span data-stu-id="f94fb-217">Uses a variable size high quality cubic kernel to perform a pre-downscale the image if downscaling is involved in the transform matrix.</span></span> <span data-ttu-id="f94fb-218">然後使用三次插補模式來進行最終輸出。</span><span class="sxs-lookup"><span data-stu-id="f94fb-218">Then uses the cubic interpolation mode for the final output.</span></span> |



 

> [!Note]  
> <span data-ttu-id="f94fb-219">如果您未選取模式，效果會預設為 D2D1 \_ CONVOLVEMATRIX \_ 縮放 \_ 模式 \_ 線性。</span><span class="sxs-lookup"><span data-stu-id="f94fb-219">If you don't select a mode, the effect defaults to D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_LINEAR.</span></span>

 

## <a name="border-modes"></a><span data-ttu-id="f94fb-220">框線模式</span><span class="sxs-lookup"><span data-stu-id="f94fb-220">Border modes</span></span>



| <span data-ttu-id="f94fb-221">Name</span><span class="sxs-lookup"><span data-stu-id="f94fb-221">Name</span></span>                     | <span data-ttu-id="f94fb-222">描述</span><span class="sxs-lookup"><span data-stu-id="f94fb-222">Description</span></span>                                                                                                                                                                                                                                                              |
|--------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f94fb-223">D2D1 \_ 框線 \_ 模式 \_ 軟</span><span class="sxs-lookup"><span data-stu-id="f94fb-223">D2D1\_BORDER\_MODE\_SOFT</span></span> | <span data-ttu-id="f94fb-224">此效果會在輸入影像套用卷積核心時，以透明的黑色圖元為單位，以透明的方式在輸入界限之外取得樣本。</span><span class="sxs-lookup"><span data-stu-id="f94fb-224">The effect pads the input image with transparent black pixels for samples outside of the input bounds when it applies the convolution kernel.</span></span> <span data-ttu-id="f94fb-225">這會建立影像的軟邊緣，並且在進程中依核心的大小展開輸出點陣圖。</span><span class="sxs-lookup"><span data-stu-id="f94fb-225">This creates a soft edge for the image, and in the process expands the output bitmap by the size of the kernel.</span></span><br/> |
| <span data-ttu-id="f94fb-226">D2D1 \_ 框線 \_ 模式 \_ 硬性</span><span class="sxs-lookup"><span data-stu-id="f94fb-226">D2D1\_BORDER\_MODE\_HARD</span></span> | <span data-ttu-id="f94fb-227">效果會使用鏡像類型的框線轉換來擴充輸入界限之外樣本的輸入影像。</span><span class="sxs-lookup"><span data-stu-id="f94fb-227">The effect extends the input image with a mirror-type border transform for samples outside of the input bounds.</span></span> <span data-ttu-id="f94fb-228">輸出點陣圖的大小等於輸入點陣圖的大小。</span><span class="sxs-lookup"><span data-stu-id="f94fb-228">The size of the output bitmap is equal to the size of the input bitmap.</span></span><br/>                                                                       |



 

## <a name="output-bitmap"></a><span data-ttu-id="f94fb-229">輸出點陣圖</span><span class="sxs-lookup"><span data-stu-id="f94fb-229">Output bitmap</span></span>

<span data-ttu-id="f94fb-230">效果的輸出大小取決於卷積核心的大小、核心位移、核心單位長度和框線模式設定。</span><span class="sxs-lookup"><span data-stu-id="f94fb-230">The size of the effect's output depends on the size of the convolution kernel, the kernel offset, the kernel unit length, and the border mode setting.</span></span>

## <a name="requirements"></a><span data-ttu-id="f94fb-231">規格需求</span><span class="sxs-lookup"><span data-stu-id="f94fb-231">Requirements</span></span>



| <span data-ttu-id="f94fb-232">需求</span><span class="sxs-lookup"><span data-stu-id="f94fb-232">Requirement</span></span> | <span data-ttu-id="f94fb-233">值</span><span class="sxs-lookup"><span data-stu-id="f94fb-233">Value</span></span> |
|--------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="f94fb-234">最低支援的用戶端</span><span class="sxs-lookup"><span data-stu-id="f94fb-234">Minimum supported client</span></span> | <span data-ttu-id="f94fb-235">適用于 Windows 7 desktop app 的 Windows 8 和平臺更新 \[ \| windows Store 應用程式\]</span><span class="sxs-lookup"><span data-stu-id="f94fb-235">Windows 8 and Platform Update for Windows 7 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="f94fb-236">最低支援的伺服器</span><span class="sxs-lookup"><span data-stu-id="f94fb-236">Minimum supported server</span></span> | <span data-ttu-id="f94fb-237">適用于 Windows 7 desktop app 的 Windows 8 和平臺更新 \[ \| windows Store 應用程式\]</span><span class="sxs-lookup"><span data-stu-id="f94fb-237">Windows 8 and Platform Update for Windows 7 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="f94fb-238">標頭</span><span class="sxs-lookup"><span data-stu-id="f94fb-238">Header</span></span>                   | <span data-ttu-id="f94fb-239">d2d1effects。h</span><span class="sxs-lookup"><span data-stu-id="f94fb-239">d2d1effects.h</span></span>                                                                      |
| <span data-ttu-id="f94fb-240">程式庫</span><span class="sxs-lookup"><span data-stu-id="f94fb-240">Library</span></span>                  | <span data-ttu-id="f94fb-241">d2d1 .lib，dxguid .lib</span><span class="sxs-lookup"><span data-stu-id="f94fb-241">d2d1.lib, dxguid.lib</span></span>                                                               |



 

## <a name="related-topics"></a><span data-ttu-id="f94fb-242">相關主題</span><span class="sxs-lookup"><span data-stu-id="f94fb-242">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f94fb-243">**ID2D1Effect**</span><span class="sxs-lookup"><span data-stu-id="f94fb-243">**ID2D1Effect**</span></span>](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1effect)
</dt> </dl>

 

