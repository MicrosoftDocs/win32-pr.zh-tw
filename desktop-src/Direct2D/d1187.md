---
title: 在未處理的 Dc 上呼叫 D1187 SetTarget
ms.assetid: ac015b87-3645-4633-9f20-b87b265c0617
description: 在 GetDC 和 ReleaseDC 之間呼叫 SetTarget
keywords:
- 在未處理的 Dc Direct2D 上呼叫 D1187 SetTarget
topic_type:
- apiref
api_name:
- D1187 SetTarget Called on Outstanding Dc
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.custom: seodec18
ms.openlocfilehash: 7060b7deb2e0aada3f4ab54f3cd12f637d14de945dbe5b25eed4f6497a41e301
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/11/2021
ms.locfileid: "119641878"
---
# <a name="d1187-settarget-called-on-outstanding-dc"></a>D1187：在未處理的 Dc 上呼叫 SetTarget

[](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1devicecontext-settarget)在 [**GetDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-getdc) / [**ReleaseDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-releasedc)配對之間呼叫 SetTarget。






 

## <a name="possible-causes"></a>可能的原因

應用程式取得了 [**ID2D1GdiInteropRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1gdiinteroprendertarget) ，並呼叫 [**其 GetDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-getdc)方法，然後在呼叫 [**ReleaseDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-releasedc)之前呼叫 [**Flush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-flush)或 [**EndDraw**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1commandsink-enddraw) 。

## <a name="possible-fixes"></a>可能的修正

請確定應用程式在呼叫 [**Flush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-flush)或 [**EndDraw**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1commandsink-enddraw)之前呼叫 [**ReleaseDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-releasedc) ，而且每次對 **ReleaseDC** 的呼叫都與先前的 [**GetDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-getdc)呼叫相符。 如果應用程式目前正在使用 GDI 裝置內容，Direct2D 將不會嘗試在 GDI 目標資源上操作。

 

 
