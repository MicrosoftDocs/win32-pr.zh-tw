---
Description: 以下是視窗類別樣式。
ms.assetid: BE908D51-25DD-45d0-B6AA-28B4C627715B
title: '視窗類別樣式 (Winuser .h) '
ms.topic: reference
ms.custom: snippet-project
ms.date: 07/29/2020
ms.openlocfilehash: ceaa4b83b52f269a61ef8efbf8c0b335d5bd94e7
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/22/2021
ms.locfileid: "106999510"
---
# <a name="window-class-styles"></a><span data-ttu-id="8fa54-103">視窗類別樣式</span><span class="sxs-lookup"><span data-stu-id="8fa54-103">Window Class Styles</span></span>

<span data-ttu-id="8fa54-104">類別樣式定義視窗類別的其他元素。</span><span class="sxs-lookup"><span data-stu-id="8fa54-104">The class styles define additional elements of the window class.</span></span> <span data-ttu-id="8fa54-105">您可以使用位 OR () 運算子來結合兩個或多個樣式 \| 。</span><span class="sxs-lookup"><span data-stu-id="8fa54-105">Two or more styles can be combined by using the bitwise OR (\|) operator.</span></span> <span data-ttu-id="8fa54-106">若要將樣式指派給視窗類別，請將樣式指派給 [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa)結構的 **樣式** 成員。</span><span class="sxs-lookup"><span data-stu-id="8fa54-106">To assign a style to a window class, assign the style to the **style** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span>

## <a name="example"></a><span data-ttu-id="8fa54-107">範例</span><span class="sxs-lookup"><span data-stu-id="8fa54-107">Example</span></span>

```cpp
    WNDCLASS wc = {};
    wc.lpfnWndProc = s_DropDownWndProc;
    wc.cbWndExtra = sizeof(CTipACDialog *);
    wc.hInstance = g_hInstance;
    wc.hCursor = LoadCursor(NULL, IDC_ARROW);
    wc.hbrBackground = (HBRUSH)(COLOR_WINDOW + 1);
    wc.style = CS_SAVEBITS | CS_DROPSHADOW;
    wc.lpszClassName = s_wzClassName;
    RegisterClass(&wc);
```

<span data-ttu-id="8fa54-108">從 GitHub 上的 [Windows 傳統範例](https://github.com/microsoft/Windows-classic-samples/blob/1d363ff4bd17d8e20415b92e2ee989d615cc0d91/Samples/Win7Samples/tabletpc/TipAutoComplete/TIPAutoCompleteSDKSample.cpp) 取得的範例。</span><span class="sxs-lookup"><span data-stu-id="8fa54-108">Example from [Windows Classic Samples](https://github.com/microsoft/Windows-classic-samples/blob/1d363ff4bd17d8e20415b92e2ee989d615cc0d91/Samples/Win7Samples/tabletpc/TipAutoComplete/TIPAutoCompleteSDKSample.cpp) on GitHub.</span></span>

## <a name="constants"></a><span data-ttu-id="8fa54-109">常數</span><span class="sxs-lookup"><span data-stu-id="8fa54-109">Constants</span></span>


<span data-ttu-id="8fa54-110">以下是視窗類別樣式。</span><span class="sxs-lookup"><span data-stu-id="8fa54-110">The following are the window class styles.</span></span>



| <span data-ttu-id="8fa54-111">常數/值</span><span class="sxs-lookup"><span data-stu-id="8fa54-111">Constant/value</span></span>                                                                                                                                                                                                                           | <span data-ttu-id="8fa54-112">Description</span><span class="sxs-lookup"><span data-stu-id="8fa54-112">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="CS_BYTEALIGNCLIENT"></span><span id="cs_bytealignclient"></span><dl> <span data-ttu-id="8fa54-113"><dt>**CS \_BYTEALIGNCLIENT**</dt> <dt>0x1000</dt></span><span class="sxs-lookup"><span data-stu-id="8fa54-113"><dt>**CS\_BYTEALIGNCLIENT**</dt> <dt>0x1000</dt></span></span> </dl> | <span data-ttu-id="8fa54-114">將位元組界限上視窗的工作區對齊 (x 方向) 。</span><span class="sxs-lookup"><span data-stu-id="8fa54-114">Aligns the window's client area on a byte boundary (in the x direction).</span></span> <span data-ttu-id="8fa54-115">此樣式會影響視窗的寬度及其在顯示器上的水準位置。</span><span class="sxs-lookup"><span data-stu-id="8fa54-115">This style affects the width of the window and its horizontal placement on the display.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CS_BYTEALIGNWINDOW"></span><span id="cs_bytealignwindow"></span><dl> <span data-ttu-id="8fa54-116"><dt>**CS \_BYTEALIGNWINDOW**</dt> <dt>0x2000</dt></span><span class="sxs-lookup"><span data-stu-id="8fa54-116"><dt>**CS\_BYTEALIGNWINDOW**</dt> <dt>0x2000</dt></span></span> </dl> | <span data-ttu-id="8fa54-117">將位元組界限上的視窗對齊 (x 方向) 。</span><span class="sxs-lookup"><span data-stu-id="8fa54-117">Aligns the window on a byte boundary (in the x direction).</span></span> <span data-ttu-id="8fa54-118">此樣式會影響視窗的寬度及其在顯示器上的水準位置。</span><span class="sxs-lookup"><span data-stu-id="8fa54-118">This style affects the width of the window and its horizontal placement on the display.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span id="CS_CLASSDC"></span><span id="cs_classdc"></span><dl> <span data-ttu-id="8fa54-119"><dt>**CS \_CLASSDC**</dt> <dt>0x0040</dt></span><span class="sxs-lookup"><span data-stu-id="8fa54-119"><dt>**CS\_CLASSDC**</dt> <dt>0x0040</dt></span></span> </dl>                         | <span data-ttu-id="8fa54-120">配置一個要由類別中的所有視窗共用的裝置內容。</span><span class="sxs-lookup"><span data-stu-id="8fa54-120">Allocates one device context to be shared by all windows in the class.</span></span> <span data-ttu-id="8fa54-121">由於視窗類別是進程特定的，因此應用程式的多個執行緒可能會建立相同類別的視窗。</span><span class="sxs-lookup"><span data-stu-id="8fa54-121">Because window classes are process specific, it is possible for multiple threads of an application to create a window of the same class.</span></span> <span data-ttu-id="8fa54-122">執行緒也可能會同時嘗試使用裝置內容。</span><span class="sxs-lookup"><span data-stu-id="8fa54-122">It is also possible for the threads to attempt to use the device context simultaneously.</span></span> <span data-ttu-id="8fa54-123">發生這種情況時，系統只允許一個執行緒順利完成其繪製作業。</span><span class="sxs-lookup"><span data-stu-id="8fa54-123">When this happens, the system allows only one thread to successfully finish its drawing operation.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                     |
| <span id="CS_DBLCLKS"></span><span id="cs_dblclks"></span><dl> <span data-ttu-id="8fa54-124"><dt>**CS \_DBLCLKS**</dt> <dt>0x0008</dt></span><span class="sxs-lookup"><span data-stu-id="8fa54-124"><dt>**CS\_DBLCLKS**</dt> <dt>0x0008</dt></span></span> </dl>                         | <span data-ttu-id="8fa54-125">當使用者按兩下滑鼠，而游標位於屬於類別的視窗內時，會將按兩下訊息傳送至視窗程式。</span><span class="sxs-lookup"><span data-stu-id="8fa54-125">Sends a double-click message to the window procedure when the user double-clicks the mouse while the cursor is within a window belonging to the class.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="CS_DROPSHADOW"></span><span id="cs_dropshadow"></span><dl> <span data-ttu-id="8fa54-126"><dt>**CS \_DROPSHADOW**</dt> <dt>0x00020000</dt></span><span class="sxs-lookup"><span data-stu-id="8fa54-126"><dt>**CS\_DROPSHADOW**</dt> <dt>0x00020000</dt></span></span> </dl>            | <span data-ttu-id="8fa54-127">在視窗上啟用投影效果。</span><span class="sxs-lookup"><span data-stu-id="8fa54-127">Enables the drop shadow effect on a window.</span></span> <span data-ttu-id="8fa54-128">此效果會透過 **SPI \_ SETDROPSHADOW** 開啟和關閉。</span><span class="sxs-lookup"><span data-stu-id="8fa54-128">The effect is turned on and off through **SPI\_SETDROPSHADOW**.</span></span> <span data-ttu-id="8fa54-129">一般來說，這會針對小型、短期的視窗（例如功能表）強調其與其他視窗的迭置順序關聯性而啟用。</span><span class="sxs-lookup"><span data-stu-id="8fa54-129">Typically, this is enabled for small, short-lived windows such as menus to emphasize their Z-order relationship to other windows.</span></span> <span data-ttu-id="8fa54-130">使用此樣式從類別建立的 windows 必須是最上層視窗;它們可能不是子視窗。</span><span class="sxs-lookup"><span data-stu-id="8fa54-130">Windows created from a class with this style must be top-level windows; they may not be child windows.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span id="CS_GLOBALCLASS"></span><span id="cs_globalclass"></span><dl> <span data-ttu-id="8fa54-131"><dt>**CS \_GLOBALCLASS**</dt> <dt>0x4000</dt></span><span class="sxs-lookup"><span data-stu-id="8fa54-131"><dt>**CS\_GLOBALCLASS**</dt> <dt>0x4000</dt></span></span> </dl>             | <span data-ttu-id="8fa54-132">表示視窗類別是應用程式全域類別。</span><span class="sxs-lookup"><span data-stu-id="8fa54-132">Indicates that the window class is an application global class.</span></span> <span data-ttu-id="8fa54-133">如需詳細資訊，請參閱 [關於視窗類別](about-window-classes.md)的「應用程式全域類別」一節。</span><span class="sxs-lookup"><span data-stu-id="8fa54-133">For more information, see the "Application Global Classes" section of [About Window Classes](about-window-classes.md).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="CS_HREDRAW"></span><span id="cs_hredraw"></span><dl> <span data-ttu-id="8fa54-134"><dt>**CS \_HREDRAW**</dt> <dt>0x0002</dt></span><span class="sxs-lookup"><span data-stu-id="8fa54-134"><dt>**CS\_HREDRAW**</dt> <dt>0x0002</dt></span></span> </dl>                         | <span data-ttu-id="8fa54-135">如果移動或大小調整變更工作區的寬度，則會重新繪製整個視窗。</span><span class="sxs-lookup"><span data-stu-id="8fa54-135">Redraws the entire window if a movement or size adjustment changes the width of the client area.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CS_NOCLOSE"></span><span id="cs_noclose"></span><dl> <span data-ttu-id="8fa54-136"><dt>**CS \_NOCLOSE**</dt> <dt>0x0200</dt></span><span class="sxs-lookup"><span data-stu-id="8fa54-136"><dt>**CS\_NOCLOSE**</dt> <dt>0x0200</dt></span></span> </dl>                         | <span data-ttu-id="8fa54-137">停用 [視窗] 功能表上的 [ **關閉** ]。</span><span class="sxs-lookup"><span data-stu-id="8fa54-137">Disables **Close** on the window menu.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="CS_OWNDC"></span><span id="cs_owndc"></span><dl> <span data-ttu-id="8fa54-138"><dt>**CS \_OWNDC**</dt> <dt>0x0020</dt></span><span class="sxs-lookup"><span data-stu-id="8fa54-138"><dt>**CS\_OWNDC**</dt> <dt>0x0020</dt></span></span> </dl>                               | <span data-ttu-id="8fa54-139">為類別中的每個視窗配置唯一的裝置內容。</span><span class="sxs-lookup"><span data-stu-id="8fa54-139">Allocates a unique device context for each window in the class.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CS_PARENTDC"></span><span id="cs_parentdc"></span><dl> <span data-ttu-id="8fa54-140"><dt>**CS \_PARENTDC**</dt> <dt>0x0080</dt></span><span class="sxs-lookup"><span data-stu-id="8fa54-140"><dt>**CS\_PARENTDC**</dt> <dt>0x0080</dt></span></span> </dl>                      | <span data-ttu-id="8fa54-141">將子視窗的裁剪矩形設定為父視窗的剪切矩形，讓子視窗可以在父系上繪製。</span><span class="sxs-lookup"><span data-stu-id="8fa54-141">Sets the clipping rectangle of the child window to that of the parent window so that the child can draw on the parent.</span></span> <span data-ttu-id="8fa54-142">具有 **CS \_ PARENTDC** 樣式位的視窗，會從系統的裝置內容快取接收一般裝置內容。</span><span class="sxs-lookup"><span data-stu-id="8fa54-142">A window with the **CS\_PARENTDC** style bit receives a regular device context from the system's cache of device contexts.</span></span> <span data-ttu-id="8fa54-143">它不會將父系的裝置內容或裝置內容設定提供給子系。</span><span class="sxs-lookup"><span data-stu-id="8fa54-143">It does not give the child the parent's device context or device context settings.</span></span> <span data-ttu-id="8fa54-144">指定 **CS \_ PARENTDC** 可增強應用程式的效能。</span><span class="sxs-lookup"><span data-stu-id="8fa54-144">Specifying **CS\_PARENTDC** enhances an application's performance.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="CS_SAVEBITS"></span><span id="cs_savebits"></span><dl> <span data-ttu-id="8fa54-145"><dt>**CS \_SAVEBITS**</dt> <dt>0x0800</dt></span><span class="sxs-lookup"><span data-stu-id="8fa54-145"><dt>**CS\_SAVEBITS**</dt> <dt>0x0800</dt></span></span> </dl>                      | <span data-ttu-id="8fa54-146">以點陣圖形式儲存螢幕影像的部分，並以這個類別的視窗遮蔽。</span><span class="sxs-lookup"><span data-stu-id="8fa54-146">Saves, as a bitmap, the portion of the screen image obscured by a window of this class.</span></span> <span data-ttu-id="8fa54-147">移除視窗時，系統會使用已儲存的點陣圖來還原螢幕影像，包括其他隱藏的視窗。</span><span class="sxs-lookup"><span data-stu-id="8fa54-147">When the window is removed, the system uses the saved bitmap to restore the screen image, including other windows that were obscured.</span></span> <span data-ttu-id="8fa54-148">因此，如果點陣圖使用的記憶體尚未被捨棄，且其他螢幕動作尚未使儲存的影像失效，系統就不會將 [**WM \_ 油漆**](../gdi/wm-paint.md) 訊息傳送至隱藏的視窗。</span><span class="sxs-lookup"><span data-stu-id="8fa54-148">Therefore, the system does not send [**WM\_PAINT**](../gdi/wm-paint.md) messages to windows that were obscured if the memory used by the bitmap has not been discarded and if other screen actions have not invalidated the stored image.</span></span> <br/> <span data-ttu-id="8fa54-149">這種樣式適用于小型 windows (例如，會短暫顯示的功能表或對話方塊) ，然後在其他螢幕活動發生之前移除。</span><span class="sxs-lookup"><span data-stu-id="8fa54-149">This style is useful for small windows (for example, menus or dialog boxes) that are displayed briefly and then removed before other screen activity takes place.</span></span> <span data-ttu-id="8fa54-150">此樣式會增加顯示視窗所需的時間，因為系統必須先配置記憶體來儲存點陣圖。</span><span class="sxs-lookup"><span data-stu-id="8fa54-150">This style increases the time required to display the window, because the system must first allocate memory to store the bitmap.</span></span><br/> |
| <span id="CS_VREDRAW"></span><span id="cs_vredraw"></span><dl> <span data-ttu-id="8fa54-151"><dt>**CS \_VREDRAW**</dt> <dt>0x0001</dt></span><span class="sxs-lookup"><span data-stu-id="8fa54-151"><dt>**CS\_VREDRAW**</dt> <dt>0x0001</dt></span></span> </dl>                         | <span data-ttu-id="8fa54-152">如果移動或大小調整變更工作區的高度，則會重新繪製整個視窗。</span><span class="sxs-lookup"><span data-stu-id="8fa54-152">Redraws the entire window if a movement or size adjustment changes the height of the client area.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |



## <a name="requirements"></a><span data-ttu-id="8fa54-153">規格需求</span><span class="sxs-lookup"><span data-stu-id="8fa54-153">Requirements</span></span>



| <span data-ttu-id="8fa54-154">需求</span><span class="sxs-lookup"><span data-stu-id="8fa54-154">Requirement</span></span> | <span data-ttu-id="8fa54-155">值</span><span class="sxs-lookup"><span data-stu-id="8fa54-155">Value</span></span> |
|-------------------------------------|----------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="8fa54-156">最低支援的用戶端</span><span class="sxs-lookup"><span data-stu-id="8fa54-156">Minimum supported client</span></span><br/> | <span data-ttu-id="8fa54-157">Windows 2000 Professional \[僅限傳統型應用程式\]</span><span class="sxs-lookup"><span data-stu-id="8fa54-157">Windows 2000 Professional \[desktop apps only\]</span></span><br/>                                               |
| <span data-ttu-id="8fa54-158">最低支援的伺服器</span><span class="sxs-lookup"><span data-stu-id="8fa54-158">Minimum supported server</span></span><br/> | <span data-ttu-id="8fa54-159">Windows 2000 Server \[僅限傳統型應用程式\]</span><span class="sxs-lookup"><span data-stu-id="8fa54-159">Windows 2000 Server \[desktop apps only\]</span></span><br/>                                                     |
| <span data-ttu-id="8fa54-160">標頭</span><span class="sxs-lookup"><span data-stu-id="8fa54-160">Header</span></span><br/>                   | <dl> <span data-ttu-id="8fa54-161"><dt>Winuser (包含) 的 Windows。h </dt></span><span class="sxs-lookup"><span data-stu-id="8fa54-161"><dt>Winuser.h (include Windows.h)</dt></span></span> </dl> |



 

 
