---
title: NAP 用戶端架構
description: NAP 用戶端是執行 Windows XP （含 Service Pack 3） (SP3) 、Windows Vista 或 Windows Server 2008 的電腦，其中包含 NAP 平臺。
ms.assetid: 163c33c9-b18b-49f9-a2a1-fd90a1dc0826
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 15862eaa6ae4f4c1f79c53cf9d540aedec295e8a
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/16/2019
ms.locfileid: "104301828"
---
# <a name="nap-client-architecture"></a><span data-ttu-id="3b98f-103">NAP 用戶端架構</span><span class="sxs-lookup"><span data-stu-id="3b98f-103">NAP Client Architecture</span></span>

> [!Note]  
> <span data-ttu-id="3b98f-104">從 Windows 10 開始，無法使用網路存取保護平臺</span><span class="sxs-lookup"><span data-stu-id="3b98f-104">The Network Access Protection platform is not available starting with Windows 10</span></span>

 

<span data-ttu-id="3b98f-105">NAP 用戶端是執行 Windows XP （含 Service Pack 3） (SP3) 、Windows Vista 或 Windows Server 2008 的電腦，其中包含 NAP 平臺。</span><span class="sxs-lookup"><span data-stu-id="3b98f-105">A NAP client is a computer running Windows XP with Service Pack 3 (SP3), Windows Vista, or Windows Server 2008 that includes the NAP platform.</span></span>

<span data-ttu-id="3b98f-106">下圖顯示 nap 用戶端上 NAP 平臺的架構。</span><span class="sxs-lookup"><span data-stu-id="3b98f-106">This figure shows the architecture of the NAP platform on a NAP client.</span></span>

![nap 用戶端上 nap 平臺的架構](images/nap-client-side-arch.png)

<span data-ttu-id="3b98f-108">NAP 用戶端架構包含下列各項：</span><span class="sxs-lookup"><span data-stu-id="3b98f-108">The NAP client architecture consists of the following:</span></span>

-   <span data-ttu-id="3b98f-109"> (EC) 元件的強制用戶端層</span><span class="sxs-lookup"><span data-stu-id="3b98f-109">A layer of Enforcement Client (EC) components</span></span>

    <span data-ttu-id="3b98f-110">每個 NAP EC 都是針對不同類型的網路存取而定義。</span><span class="sxs-lookup"><span data-stu-id="3b98f-110">Each NAP EC is defined for a different type of network access.</span></span> <span data-ttu-id="3b98f-111">例如，DHCP 設定有 NAP EC，以及遠端存取 VPN 連線的 NAP EC。</span><span class="sxs-lookup"><span data-stu-id="3b98f-111">For example, there is a NAP EC for DHCP configuration and a NAP EC for remote access VPN connections.</span></span> <span data-ttu-id="3b98f-112">NAP EC 可以與特定類型的 NAP 強制端點比對。</span><span class="sxs-lookup"><span data-stu-id="3b98f-112">The NAP EC can be matched to a specific type of NAP enforcement point.</span></span> <span data-ttu-id="3b98f-113">例如，DHCP NAP EC 的設計目的是要與以 DHCP 為基礎的 NAP 強制端點搭配使用。</span><span class="sxs-lookup"><span data-stu-id="3b98f-113">For example, the DHCP NAP EC is designed to work with a DHCP-based NAP enforcement point.</span></span> <span data-ttu-id="3b98f-114">NAP 平臺和協力廠商軟體廠商會提供部分 NAP ECs，或 Microsoft 可提供他人。</span><span class="sxs-lookup"><span data-stu-id="3b98f-114">Some NAP ECs are provided with the NAP platform and third-party software vendors or Microsoft can provide others.</span></span>

-   <span data-ttu-id="3b98f-115"> (SHA) 元件的系統健康情況代理程式層級</span><span class="sxs-lookup"><span data-stu-id="3b98f-115">A layer of System Health Agent (SHA) components</span></span>

    <span data-ttu-id="3b98f-116">SHA 元件會維護和報告系統健康情況的一或多個元素。</span><span class="sxs-lookup"><span data-stu-id="3b98f-116">An SHA component maintains and reports one or multiple elements of system health.</span></span> <span data-ttu-id="3b98f-117">例如，可能會有適用于防毒軟體的 SHA，以及用於作業系統更新的 SHA。</span><span class="sxs-lookup"><span data-stu-id="3b98f-117">For example, there might be an SHA for antivirus signatures and an SHA for operating system updates.</span></span> <span data-ttu-id="3b98f-118">SHA 可以與補救伺服器比對，這是一部電腦，其中包含 NAP 用戶端可以存取的健康狀態更新資源，可補救其不符合規範的狀態。</span><span class="sxs-lookup"><span data-stu-id="3b98f-118">An SHA can be matched to a remediation server, which is a computer that contains health update resources that NAP clients can access to remediate their noncompliant state.</span></span> <span data-ttu-id="3b98f-119">例如，檢查防毒軟體簽章的 SHA 與包含最新防毒軟體簽章檔案的伺服器相符。</span><span class="sxs-lookup"><span data-stu-id="3b98f-119">For example, an SHA for checking antivirus signatures is matched to the server that contains the latest antivirus signature file.</span></span> <span data-ttu-id="3b98f-120">Sha 不需要有對應的補救伺服器。</span><span class="sxs-lookup"><span data-stu-id="3b98f-120">SHAs do not have to have a corresponding remediation server.</span></span> <span data-ttu-id="3b98f-121">例如，SHA 可以直接檢查本機系統設定，以確保已啟用主機型防火牆。</span><span class="sxs-lookup"><span data-stu-id="3b98f-121">For example, an SHA can just check local system settings to ensure that a host-based firewall is enabled.</span></span> <span data-ttu-id="3b98f-122">Windows Vista 和 Windows XP Service Pack 3 包含 Windows 安全性健康情況代理程式 (的 WSHA) ，可監視 Windows 安全性 Center 的設定。</span><span class="sxs-lookup"><span data-stu-id="3b98f-122">Windows Vista and Windows XP Service Pack 3 include the Windows Security Health Agent (WSHA) that monitors the settings of the Windows Security Center.</span></span> <span data-ttu-id="3b98f-123">協力廠商軟體廠商或 Microsoft 可以提供其他 Sha 給 NAP 平臺。</span><span class="sxs-lookup"><span data-stu-id="3b98f-123">Third-party software vendors or Microsoft can provide additional SHAs to the NAP platform.</span></span>

-   <span data-ttu-id="3b98f-124">NAP 代理程式</span><span class="sxs-lookup"><span data-stu-id="3b98f-124">NAP Agent</span></span>

    <span data-ttu-id="3b98f-125">會維護 NAP 用戶端的目前健全狀況狀態資訊，並促進 NAP EC 和 SHA 層之間的通訊。</span><span class="sxs-lookup"><span data-stu-id="3b98f-125">Maintains the current health state information of the NAP client and facilitates communication between the NAP EC and SHA layers.</span></span> <span data-ttu-id="3b98f-126">Nap 代理程式隨附于 NAP 平臺。</span><span class="sxs-lookup"><span data-stu-id="3b98f-126">The NAP Agent is provided with the NAP platform.</span></span>

-   <span data-ttu-id="3b98f-127">系統健康狀態代理程式 API</span><span class="sxs-lookup"><span data-stu-id="3b98f-127">System Health Agent API</span></span>

    <span data-ttu-id="3b98f-128">提供一組功能，可讓 Sha 向 NAP 代理程式註冊、指出系統健康狀態、回應 NAP 代理程式系統健康狀態的查詢，以及讓 NAP 代理程式將系統健康情況補救資訊傳遞給 SHA。</span><span class="sxs-lookup"><span data-stu-id="3b98f-128">Provides a set of functions that allow SHAs to register with the NAP Agent, to indicate system health status, respond to queries for system health status from the NAP Agent, and for the NAP Agent to pass system health remediation information to an SHA.</span></span> <span data-ttu-id="3b98f-129">SHA API 可讓廠商建立和安裝其他 Sha。</span><span class="sxs-lookup"><span data-stu-id="3b98f-129">The SHA API allows vendors to create and install additional SHAs.</span></span> <span data-ttu-id="3b98f-130">SHA API 隨附于 NAP 平臺。</span><span class="sxs-lookup"><span data-stu-id="3b98f-130">The SHA API is provided with the NAP platform.</span></span> <span data-ttu-id="3b98f-131">請參閱下列 NAP 介面： [**INapSystemHealthAgentBinding2**](inapsystemhealthagentbinding2.md)、 [**INapSystemHealthAgentCallback**](inapsystemhealthagentcallback.md)和 [**INapSystemHealthAgentRequest**](inapsystemhealthagentrequest.md)。</span><span class="sxs-lookup"><span data-stu-id="3b98f-131">See the following NAP interfaces: [**INapSystemHealthAgentBinding2**](inapsystemhealthagentbinding2.md), [**INapSystemHealthAgentCallback**](inapsystemhealthagentcallback.md), and [**INapSystemHealthAgentRequest**](inapsystemhealthagentrequest.md).</span></span>

<span data-ttu-id="3b98f-132">為了指出特定 SHA 的健全狀況狀態，SHA 會建立 ([**SoH**](/windows/win32/api/naptypes/ns-naptypes-soh)) 的健全狀況聲明，並將其傳遞至 NAP 代理程式。</span><span class="sxs-lookup"><span data-stu-id="3b98f-132">To indicate the health state of a specific SHA, an SHA creates a statement of health ([**SoH**](/windows/win32/api/naptypes/ns-naptypes-soh)) and passes it to the NAP Agent.</span></span> <span data-ttu-id="3b98f-133">SoH 可包含一或多個系統健康狀態元素。</span><span class="sxs-lookup"><span data-stu-id="3b98f-133">An SoH can contain one or multiple elements of system health.</span></span> <span data-ttu-id="3b98f-134">例如，防毒程式的 SHA 可以建立 SoH，其中包含電腦上執行的防毒軟體的狀態、其版本，以及最後收到的防毒軟體簽章更新。</span><span class="sxs-lookup"><span data-stu-id="3b98f-134">For example, the SHA for an antivirus program can create an SoH containing the state of the antivirus software running on the computer, its version, and the last antivirus signature update received.</span></span> <span data-ttu-id="3b98f-135">每當 SHA 更新其狀態時，就會建立新的 SoH，並將其傳遞至 NAP 代理程式。</span><span class="sxs-lookup"><span data-stu-id="3b98f-135">Whenever an SHA updates its status, it creates a new SoH and passes it to the NAP Agent.</span></span> <span data-ttu-id="3b98f-136">為了指出 NAP 用戶端的整體健全狀況狀態，NAP 代理程式會使用系統健康狀態聲明 (SSoH) ，其中包含 NAP 用戶端的版本資訊，以及所安裝 Sha 的 Soh 集。</span><span class="sxs-lookup"><span data-stu-id="3b98f-136">To indicate the overall health state of a NAP client, the NAP Agent uses a system statement of health (SSoH), which includes version information for the NAP client and the set of SoHs for the installed SHAs.</span></span>

<span data-ttu-id="3b98f-137">下列各節將進一步詳細說明 NAP 用戶端架構的元件。</span><span class="sxs-lookup"><span data-stu-id="3b98f-137">The following sections describe the components of the NAP client architecture in further detail.</span></span>

## <a name="nap-enforcement-client"></a><span data-ttu-id="3b98f-138">NAP 強制用戶端</span><span class="sxs-lookup"><span data-stu-id="3b98f-138">NAP Enforcement Client</span></span>

<span data-ttu-id="3b98f-139">NAP 強制用戶端 (EC) 要求某個網路存取層級，會將電腦的健康狀態傳遞到提供網路存取的 NAP 強制端點。</span><span class="sxs-lookup"><span data-stu-id="3b98f-139">A NAP Enforcement Client (EC) requests some level of access to a network, passes the computer's health status to a NAP enforcement point that is providing the network access.</span></span> <span data-ttu-id="3b98f-140">NAP 強制端點是使用 NAP 或可搭配 NAP 使用的電腦或網路存取裝置，需要評估 NAP 用戶端的健康狀態，並提供受限的網路存取或通訊。</span><span class="sxs-lookup"><span data-stu-id="3b98f-140">NAP enforcement points are computers or network access devices that use NAP or can be used with NAP to require the evaluation of a NAP client’s health state and provide restricted network access or communication.</span></span> <span data-ttu-id="3b98f-141">如果電腦的健全狀況不符合規範，則 NAP EC 會指出 nap 用戶端對 NAP 用戶端架構的其他元件有何限制的狀態。</span><span class="sxs-lookup"><span data-stu-id="3b98f-141">If the computer’s health is not compliant, the NAP EC indicates the restricted status of the NAP client to other components of the NAP client architecture.</span></span>

<span data-ttu-id="3b98f-142">在 Windows XP 含 SP3、Windows Vista 和 Windows Server 2008 中提供之 NAP 平臺的 NAP ECs 如下：</span><span class="sxs-lookup"><span data-stu-id="3b98f-142">The NAP ECs for the NAP platform supplied in Windows XP with SP3, Windows Vista, and Windows Server 2008 are the following:</span></span>

-   <span data-ttu-id="3b98f-143">Ipsec 受 IPsec 保護的通訊 NAP EC。</span><span class="sxs-lookup"><span data-stu-id="3b98f-143">An IPsec NAP EC for IPsec-protected communications.</span></span>
-   <span data-ttu-id="3b98f-144">802.1 X 驗證連接的 EAPHost NAP EC。</span><span class="sxs-lookup"><span data-stu-id="3b98f-144">An EAPHost NAP EC for 802.1X-authenticated connections.</span></span>
-   <span data-ttu-id="3b98f-145">遠端存取 VPN 連線的 VPN NAP EC。</span><span class="sxs-lookup"><span data-stu-id="3b98f-145">A VPN NAP EC for remote access VPN connections.</span></span>
-   <span data-ttu-id="3b98f-146">Dhcp NAP EC 用於以 DHCP 為基礎的 IPv4 位址設定。</span><span class="sxs-lookup"><span data-stu-id="3b98f-146">A DHCP NAP EC for DHCP-based IPv4 address configuration.</span></span>
-   <span data-ttu-id="3b98f-147">Ts 閘道連接的 TS 閘道 NAP EC。</span><span class="sxs-lookup"><span data-stu-id="3b98f-147">A TS Gateway NAP EC for TS Gateway connections.</span></span>

<span data-ttu-id="3b98f-148">若是 Windows XP SP3，802.1 X 驗證的有線和無線連線有個別的 NAP ECs。</span><span class="sxs-lookup"><span data-stu-id="3b98f-148">For Windows XP with SP3, there are separate NAP ECs for 802.1X-authenticated wired and wireless connections.</span></span>

### <a name="ipsec-nap-ec"></a><span data-ttu-id="3b98f-149">IPsec NAP EC</span><span class="sxs-lookup"><span data-stu-id="3b98f-149">IPsec NAP EC</span></span>

<span data-ttu-id="3b98f-150">IPsec NAP EC 是從 NAP 代理程式取得 SSoH 的元件，並將其傳送至健康情況登錄授權單位 (HRA) 、執行 Windows Server 2008 的電腦，以及 Internet Information Services (IIS) ，以從憑證授權單位單位取得符合規範之電腦 (CA) 的健康情況憑證。</span><span class="sxs-lookup"><span data-stu-id="3b98f-150">The IPsec NAP EC is a component that obtains the SSoH from the NAP Agent and sends it to a Health Registration Authority (HRA), a computer running Windows Server 2008 and Internet Information Services (IIS) that obtains health certificates from a certification authority (CA) for compliant computers.</span></span> <span data-ttu-id="3b98f-151">IPsec NAP EC 在 [NAP 用戶端設定] 嵌入式管理單元中也稱為 IPsec 信賴憑證者 EC。</span><span class="sxs-lookup"><span data-stu-id="3b98f-151">The IPsec NAP EC is known as the IPsec Relying Party EC in the NAP Client Configuration snap-in.</span></span> <span data-ttu-id="3b98f-152">IPsec NAP EC 也會與下列互動：</span><span class="sxs-lookup"><span data-stu-id="3b98f-152">The IPsec NAP EC also interacts with the following:</span></span>

-   <span data-ttu-id="3b98f-153">用來儲存健康情況憑證的憑證存放區。</span><span class="sxs-lookup"><span data-stu-id="3b98f-153">The certificate store to store the health certificate.</span></span>
-   <span data-ttu-id="3b98f-154">Windows 中的 IPsec 元件，可確保健全狀況憑證用於受 IPsec 保護的通訊。</span><span class="sxs-lookup"><span data-stu-id="3b98f-154">The IPsec components in Windows to ensure that the health certificate is used for IPsec-protected communication.</span></span>
-   <span data-ttu-id="3b98f-155">以主機為基礎的防火牆 (例如 Windows 防火牆) ，因此防火牆允許受 IPsec 保護的流量。</span><span class="sxs-lookup"><span data-stu-id="3b98f-155">The host-based firewall (such as Windows Firewall) so that IPsec-protected traffic is allowed by the firewall.</span></span>

### <a name="eaphost-nap-ec"></a><span data-ttu-id="3b98f-156">EAPHost NAP EC</span><span class="sxs-lookup"><span data-stu-id="3b98f-156">EAPHost NAP EC</span></span>

<span data-ttu-id="3b98f-157">EAPHost NAP EC 是從 NAP 代理程式取得 SSoH 的元件，並將其傳送為 802.1 X 驗證連接的 PEAP 型別長度值 (TLV) 訊息。</span><span class="sxs-lookup"><span data-stu-id="3b98f-157">The EAPHost NAP EC is a component that obtains the SSoH from the NAP Agent and sends it as a PEAP-Type-Length-Value (TLV) message for 802.1X-authenticated connections.</span></span> <span data-ttu-id="3b98f-158">EAPHost NAP EC 在 [NAP 用戶端設定] 嵌入式管理單元中稱為 EAP 隔離 EC。</span><span class="sxs-lookup"><span data-stu-id="3b98f-158">The EAPHost NAP EC is known as the EAP Quarantine EC in the NAP Client Configuration snap-in.</span></span>

### <a name="vpn-nap-ec"></a><span data-ttu-id="3b98f-159">VPN NAP EC</span><span class="sxs-lookup"><span data-stu-id="3b98f-159">VPN NAP EC</span></span>

<span data-ttu-id="3b98f-160">VPN NAP EC 是遠端存取連線管理員服務中的功能，可從 NAP 代理程式取得 SSoH，並將其作為遠端存取 VPN 連線的 PEAP-TLS 訊息傳送。</span><span class="sxs-lookup"><span data-stu-id="3b98f-160">The VPN NAP EC is functionality in the Remote Access Connection Manager service that obtains the SSoH from the NAP Agent and sends it as a PEAP-TLV message for remote access VPN connections.</span></span> <span data-ttu-id="3b98f-161">在 [NAP 用戶端設定] 嵌入式管理單元中，VPN NAP EC 稱為「遠端存取隔離 EC」。</span><span class="sxs-lookup"><span data-stu-id="3b98f-161">The VPN NAP EC is known as the Remote Access Quarantine EC in the NAP Client Configuration snap-in.</span></span>

### <a name="dhcp-nap-ec"></a><span data-ttu-id="3b98f-162">DHCP NAP EC</span><span class="sxs-lookup"><span data-stu-id="3b98f-162">DHCP NAP EC</span></span>

<span data-ttu-id="3b98f-163">DHCP NAP EC 是 DHCP 用戶端服務中的功能，使用業界標準 DHCP 訊息來交換系統健康情況訊息和有限的網路存取訊號。</span><span class="sxs-lookup"><span data-stu-id="3b98f-163">The DHCP NAP EC is functionality in the DHCP Client service that uses industry standard DHCP messages to exchange system health messages and limited network access information.</span></span> <span data-ttu-id="3b98f-164">在 [NAP 用戶端設定] 嵌入式管理單元中，IPsec DHCP EC 稱為 DHCP 隔離 EC。</span><span class="sxs-lookup"><span data-stu-id="3b98f-164">The IPsec DHCP EC is known as the DHCP Quarantine EC in the NAP Client Configuration snap-in.</span></span> <span data-ttu-id="3b98f-165">DHCP NAP EC 從 NAP 代理程式取得 SSoH。</span><span class="sxs-lookup"><span data-stu-id="3b98f-165">The DHCP NAP EC obtains the SSoH from the NAP Agent.</span></span> <span data-ttu-id="3b98f-166">DHCP 用戶端服務會在必要時將 SSoH 片段化，並將每個片段放入在 DHCPDiscover、DHCPRequest 或 DHCPInform 訊息中傳送的 Microsoft 廠商特定 DHCP 選項。</span><span class="sxs-lookup"><span data-stu-id="3b98f-166">The DHCP Client service fragments the SSoH, if required, and puts each fragment into a Microsoft vendor-specific DHCP option that is sent in DHCPDiscover, DHCPRequest or DHCPInform messages.</span></span> <span data-ttu-id="3b98f-167">DHCPDecline 和 DHCPRelease 訊息不包含 SSoH。</span><span class="sxs-lookup"><span data-stu-id="3b98f-167">DHCPDecline and DHCPRelease messages do not contain the SSoH.</span></span>

## <a name="system-health-agent"></a><span data-ttu-id="3b98f-168">系統健康狀態代理程式</span><span class="sxs-lookup"><span data-stu-id="3b98f-168">System Health Agent</span></span>

<span data-ttu-id="3b98f-169">系統健康狀態代理程式 (SHA) 會執行系統健康狀態更新，並以 SoH 的形式將其狀態發佈至 NAP 代理程式。</span><span class="sxs-lookup"><span data-stu-id="3b98f-169">A System Health Agent (SHA) performs system health updates and publishes its status in the form of an SoH to the NAP Agent.</span></span> <span data-ttu-id="3b98f-170">SoH 包含 NAP 健全狀況原則伺服器可用來確認用戶端電腦是否處於健全狀況的必要狀態的資訊。</span><span class="sxs-lookup"><span data-stu-id="3b98f-170">The SoH contains information that the NAP health policy server can use to verify that the client computer is in the required state of health.</span></span> <span data-ttu-id="3b98f-171">SHA 會與系統健康狀態驗證（ (SHV) 在 NAP 平臺架構的伺服器端上）進行比對。</span><span class="sxs-lookup"><span data-stu-id="3b98f-171">An SHA is matched to a System Health Validator (SHV) on the server-side of the NAP platform architecture.</span></span> <span data-ttu-id="3b98f-172">相對應的 SHV 會將 SoH 回應 (SoHR) 傳送給 NAP 用戶端，而 NAP 用戶端是由 NAP EC 和 NAP 代理程式傳遞至 SHA，告知它在 SHA 不是處於健康狀態的必要狀態時該怎麼辦。</span><span class="sxs-lookup"><span data-stu-id="3b98f-172">The corresponding SHV can return an SoH Response (SoHR) to the NAP client, which is passed by the NAP EC and the NAP Agent to the SHA, informing it of what to do if the SHA is not in a required state of health.</span></span> <span data-ttu-id="3b98f-173">例如，防毒軟體 SHV 傳送的 SoHR 可以指示對應的防毒軟體 SHA 查詢防毒軟體簽章伺服器，以取得最新版本的防毒軟體簽章檔案。</span><span class="sxs-lookup"><span data-stu-id="3b98f-173">For example, the SoHR sent by an antivirus SHV could instruct the corresponding antivirus SHA to query an antivirus signature server to obtain the latest version of the antivirus signature file.</span></span> <span data-ttu-id="3b98f-174">SoHR 也可以包含要查詢的防毒軟體簽章伺服器的名稱或 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="3b98f-174">The SoHR can also include the name or IP address of the antivirus signature server to query.</span></span>

<span data-ttu-id="3b98f-175">SHA 可以使用本機安裝的原則用戶端，協助系統健康管理功能與原則伺服器搭配使用。</span><span class="sxs-lookup"><span data-stu-id="3b98f-175">An SHA can use a locally installed policy client to assist in system health management functions in conjunction with a policy server.</span></span> <span data-ttu-id="3b98f-176">例如，軟體更新 SHA 可以使用本機安裝的軟體用戶端軟體 (原則用戶端) ，以 (原則伺服器) 的軟體補救伺服器執行版本檢查和安裝和更新功能。</span><span class="sxs-lookup"><span data-stu-id="3b98f-176">For example, a software update SHA can use the locally installed software client software (the policy client) to perform version checking and installation and update functions with the software update server (the policy server).</span></span>

## <a name="nap-agent"></a><span data-ttu-id="3b98f-177">NAP 代理程式</span><span class="sxs-lookup"><span data-stu-id="3b98f-177">NAP Agent</span></span>

<span data-ttu-id="3b98f-178">NAP 代理程式提供下列服務：</span><span class="sxs-lookup"><span data-stu-id="3b98f-178">The NAP Agent provides the following services:</span></span>

-   <span data-ttu-id="3b98f-179">收集每個 SHA 的 Soh 並加以快取。</span><span class="sxs-lookup"><span data-stu-id="3b98f-179">Collects the SoHs from each SHA and caches them.</span></span> <span data-ttu-id="3b98f-180">每當 SHA 提供新的或更新的 SoH 時，就會更新 SoH 快取。</span><span class="sxs-lookup"><span data-stu-id="3b98f-180">The SoH cache is updated whenever an SHA supplies a new or updated SoH.</span></span>
-   <span data-ttu-id="3b98f-181">會儲存 SSoH，並在要求時將其提供給 NAP ECs。</span><span class="sxs-lookup"><span data-stu-id="3b98f-181">Stores the SSoH and supplies it to the NAP ECs upon request.</span></span>
-   <span data-ttu-id="3b98f-182">當受限制的狀態變更時，將通知傳遞至 Sha。</span><span class="sxs-lookup"><span data-stu-id="3b98f-182">Passes notifications to SHAs when the restricted state changes.</span></span>
-   <span data-ttu-id="3b98f-183">會維護系統限制的狀態，並收集每個 SHA 的狀態資訊。</span><span class="sxs-lookup"><span data-stu-id="3b98f-183">Maintains the system restricted state and collects status information from each SHA.</span></span>
-   <span data-ttu-id="3b98f-184">將 Sohr 傳遞給適當的 SHA。</span><span class="sxs-lookup"><span data-stu-id="3b98f-184">Passes SoHRs to the appropriate SHA.</span></span>

 

 




