---
title: 外掛程式架構
description: 生物識別單位會透過由感應器、引擎和存放裝置介面卡組成的標準介面，將裝置的功能公開至架構。
ms.assetid: d2835413-70a3-45fa-93e2-3fe78097554f
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 33a82f85387698f7fb80c65525004ac541a1108635ca3d929adda7b0cbb932cc
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/11/2021
ms.locfileid: "119411060"
---
# <a name="plug-in-architecture"></a>外掛程式架構

生物識別單元會以各種不同的類型和設定制造。 Windows 生物特徵辨識架構提供可延伸的架構，讓協力廠商開發人員建立自訂外掛程式元件，藉此解決這種情況。 主要元件是稱為生物特徵辨識單位的軟體物件。 生物識別單位會透過由感應器、引擎和存放裝置介面卡組成的標準介面，將裝置的功能公開至架構。 下列主題將討論生物特徵辨識單位及其組成元件。

## <a name="biometric-unit"></a>生物識別單位

Windows 生物特徵辨識架構外掛程式架構的核心元件是生物特徵辨識單位，這是一個軟體物件，可透過標準介面，將生物特徵辨識裝置的功能公開至架構。

單一實體感應器會與每個生物特徵辨識單位相關聯。 感應器會捕獲生物特徵辨識資料，也可能根據其硬體功能，執行其他生物特徵辨識作業，例如範本比對和儲存。 不支援上架比對或儲存體的感應器，需要額外的軟體模組來執行這些功能。 如需詳細資訊，請參閱 [介面卡](/previous-versions//dd401508(v=vs.85))。

下圖顯示資料如何流經生物特徵辨識單位。 基本上，資料流程會形成一種管線。 管線的初始輸入是實體感應器所捕獲的生物特徵辨識範例。 引擎會嘗試比對範例與範本存放區中已存在的範本，或者，如果找不到相符的，則會從重複的實體範例建立新的範本，並將範本儲存在存放區中。

![透過生物特徵辨識單位流動的資料](images/biometricunit-dataflow.png)

## <a name="biometric-unit-life-cycle"></a>生物識別單位生命週期

### <a name="creation"></a>建立

當 Windows 生物特徵辨識服務啟動時，或收到來自隨插即用 manager 的硬體通知時，它會掃描是否有任何支援知名介面 GUID \_ DEVINTERFACE \_ 生物特徵辨識 \_ 讀取器 (E2B5183A-99EA-4cc3-AD6B-80CA8D715B80) 的硬體。 針對每個生物特徵辨識裝置，請執行下列動作：

-   開啟裝置的控制碼。
-   使用 Windows 生物特徵辨識驅動程式控制介面來查詢裝置功能。
-   開啟裝置登錄機碼，並嘗試尋找任何相關聯的介面卡外掛程式的相關資訊。
-   開啟 Windows 生物特徵辨識服務登錄機碼，並搜尋任何應覆寫上一個步驟中所找到之裝置特定值的全域外掛程式的相關資訊。
-   建立代表裝置的生物識別單位，並將單位傳遞給生物特徵辨識服務提供者。

### <a name="configuration"></a>組態

在生物識別服務提供者 (BSP) 接受生物識別單位後，它會設定單位並將其指派給感應器集區。 如需詳細資訊，請參閱 [感應器](sensor-pools.md)集區。 單位是透過載入適當的介面卡、連接到範本存放區，以及可能變更作業模式來設定。 您可以設定生物特徵辨識單位，以下列兩種模式的其中一種方式運作：

-   在基本模式中，單位會作為簡單的捕獲裝置。 它不會使用上架處理或儲存體，但完全依賴軟體配接器來取得額外支援。 它應該能夠以標準格式產生範例。 例如，指紋辨識器應該會產生符合 ANSI INCITS 381-2004 的範例。 基本模式的目的是要支援來自不同廠商的元件之間的互通性。
-   在 advanced 模式中，生物特徵辨識單位會使用上架處理和儲存功能。 它必須公開標準介面，但可以產生和處理任何所需格式的範例。

當生物識別單位從某個感應器集區移至另一個感應器集區時，會卸載其介面卡，並重新設定新感應器集區的介面卡。 生物識別單位的身分識別會維持不變;只有硬體設定和介面卡外掛程式會變更。

### <a name="shut-down"></a>關閉

當 Windows 生物特徵辨識服務關閉，或當隨插即用管理員通知已移除某個單位時，服務會刪除所有生物特徵辨識單位。

## <a name="adapters"></a>配接器

稱為介面卡的外掛程式軟體元件會將生物特徵辨識單位連接至其基礎硬體，並提供感應器硬體可能遺失的任何功能。 您可以建立三種類型的介面卡：

-   感應器介面卡會包裝生物特徵辨識裝置，並提供標準介面來設定感應器、捕獲範例，以及控制生物特徵辨識資料流程向處理引擎的流程。
-   引擎介面卡會從已捕捉的範例產生生物特徵辨識範本、比對現有範本的範例和索引範本。
-   儲存體介面卡會管理範本資料庫。

介面卡可以在執行時間載入和卸載。 這可讓 Windows 生物特徵辨識服務將生物識別單位連接到不同的介面卡集，以動態方式重新設定。

最後，每個感應器、引擎和儲存體介面卡介面都會公開兩種方法： **ControlUnit** 和 **ControlUnitPrivileged**，可讓用戶端應用程式存取廠商所定義的自訂介面卡功能。 這可讓廠商針對裝置定義一組幾乎不受限制的控制作業。 此外，藉由選擇要執行的函式，廠商可以選擇讓非特殊許可權的使用者可以使用一些控制作業，同時將其他作業限制為具有特殊許可權的使用者。

如需有關如何建立介面卡的詳細資訊，請參閱 [建立介面卡外掛程式](creating-adapter-plug-ins.md)。

## <a name="adapter-performance-requirements"></a>介面卡效能需求

因為目標是整體的回應速度，所以不會根據特定常式的時間限制來指定介面卡的效能。 相反地，會將效能指定為整體使用者體驗的一組需求。

有兩個需求：

-   使用者與需要生物識別之作業系統之間的任何互動都必須在兩秒鐘內完成。 該間隔會測量使用者從觸控或滑動感應器的時間開始到完成的時間，直到裝置螢幕上出現的時間發生為止。  (比方說，在解除鎖定期間，使用者觸及或輕觸指紋感應器和鎖定畫面，並確認使用者的身分識別時，必須不超過兩秒的延遲。 ) 
-   在登入或鎖定畫面上，針對認證磚的初始外觀，我們允許更多時間 (三秒、最大) ，但我們還是偏好較早的時間。 具體而言，在鎖定或登入面板的三秒內，螢幕上必須可以看到 [簡歷] 磚。

這些數位不是任意的。 有許多研究顯示，人類傾向于在 "now" 時間內，經歷兩秒間隔內發生的一切。 如果事件 A 和事件 B 在彼此的兩秒內發生，人們會同時察覺這些事件。 如果事件以超過三秒的時間分隔，人們認為會有延遲的現象，也就是「花太多時間」。 這是寫死人為心理學的問題。

 

 