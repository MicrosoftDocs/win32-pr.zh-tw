---
description: 秘密金鑰驗證技術並不會說明用戶端和伺服器如何取得秘密工作階段金鑰，以在會話中使用。
ms.assetid: 90ab0359-5079-49e9-809c-0c0005cc61bf
title: 金鑰散發
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9f04a2968e8b7b978bc7b325d65b4a2acf08e1f6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/08/2021
ms.locfileid: "103693315"
---
# <a name="key-distribution"></a>金鑰散發

秘密金鑰驗證技術並不會說明用戶端和伺服器如何取得秘密 [*工作階段金鑰*](../secgloss/s-gly.md) ，以在會話中使用。 如果它們是人員，他們可能會在秘密中符合，並同意金鑰。 但是，如果用戶端是在工作站上執行的程式，而伺服器是在網路伺服器上執行的服務，則該方法將無法運作。

用戶端會想要與許多伺服器通訊，而且每個伺服器都需要不同的金鑰。 伺服器會與許多用戶端通訊，而且每個用戶端也需要不同的金鑰。 如果每個用戶端的每一部伺服器都需要不同的金鑰，且每部伺服器的每個用戶端都需要不同的金鑰，則金鑰散發會變成問題。 此外，在許多電腦上儲存和保護許多金鑰的需求會產生巨大的安全性風險。

[*Kerberos 通訊協定*](../secgloss/k-gly.md)的名稱會建議其解決方案，以解決金鑰散發的問題。 Kerberos (或 Cerberus) 是傳統希臘文神話中的一個圖表，這是一種強力的三向狗，可讓即時入侵者進入 Underworld。 如同測防護，Kerberos 通訊協定有三個標頭：用戶端、伺服器和受信任的協力廠商，可協調它們之間的協調。 此通訊協定中受信任的媒介是金鑰發佈中心 (KDC) 。

KDC 是在實際安全的伺服器上執行的服務。 它會維護資料庫，其中包含其領域中所有 [*安全性主體*](../secgloss/s-gly.md) 的帳戶資訊。 領域是 Windows 中網域的 Kerberos 對等專案。

除了每個安全性主體的其他資訊，KDC 也會儲存僅已知于主體和 KDC 的密碼編譯金鑰。 這是在每個安全性主體與 KDC 之間的交換中使用的 [*主要金鑰*](../secgloss/m-gly.md) 。 在 Kerberos 通訊協定的大部分執行中，此主要金鑰是使用來自安全性主體密碼的 [*雜湊*](../secgloss/h-gly.md) 函式所衍生。

當用戶端想要建立與伺服器的安全連線時，用戶端一開始會將要求傳送至 KDC，而不是傳送至它想要連線的伺服器。 KDC 會為用戶端建立唯一的 [*工作階段金鑰*](../secgloss/s-gly.md) ，並將其傳送給用戶端，並使用伺服器來彼此驗證。 KDC 可以存取用戶端的主要金鑰和伺服器的主要金鑰。 KDC 會使用伺服器的主要金鑰來加密伺服器的工作階段金鑰複本，並使用用戶端的主要金鑰來加密用戶端的複本。

KDC 可以將工作階段金鑰直接傳送給相關的每個安全性主體，以將其角色視為受信任的媒介，但實際上，此程式將無法運作，原因有很多。 相反地，KDC 會將加密的工作階段金鑰傳送給用戶端。 伺服器的工作階段金鑰包含在 [會話票證](session-tickets.md)中。

 

 
