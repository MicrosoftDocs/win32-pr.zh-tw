---
description: 列出驗證 Api 中使用的函數。
ms.assetid: 946ab34a-f52a-4720-8516-cdcae2883d9b
title: 驗證函式
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c3634996aa7217e88dab81dd65e5f61cbd8c015a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/08/2021
ms.locfileid: "103693511"
---
# <a name="authentication-functions"></a><span data-ttu-id="38081-103">驗證函式</span><span class="sxs-lookup"><span data-stu-id="38081-103">Authentication Functions</span></span>

<span data-ttu-id="38081-104">驗證函式會根據使用方式分類，如下所示：</span><span class="sxs-lookup"><span data-stu-id="38081-104">Authentication functions are categorized according to usage as follows:</span></span>

-   [<span data-ttu-id="38081-105">SSPI 函數</span><span class="sxs-lookup"><span data-stu-id="38081-105">SSPI Functions</span></span>](#sspi-functions)
    -   [<span data-ttu-id="38081-106">封裝管理</span><span class="sxs-lookup"><span data-stu-id="38081-106">Package Management</span></span>](#package-management)
    -   [<span data-ttu-id="38081-107">認證管理</span><span class="sxs-lookup"><span data-stu-id="38081-107">Credential Management</span></span>](#credential-management)
    -   [<span data-ttu-id="38081-108">內容管理</span><span class="sxs-lookup"><span data-stu-id="38081-108">Context Management</span></span>](#context-management)
    -   [<span data-ttu-id="38081-109">訊息支援</span><span class="sxs-lookup"><span data-stu-id="38081-109">Message Support</span></span>](#message-support)
-   [<span data-ttu-id="38081-110">由 SSP/Ap 所執行的函式</span><span class="sxs-lookup"><span data-stu-id="38081-110">Functions Implemented by SSP/APs</span></span>](#functions-implemented-by-sspaps)
-   [<span data-ttu-id="38081-111">使用者模式 SSP/Ap 所執行的函式</span><span class="sxs-lookup"><span data-stu-id="38081-111">Functions Implemented by User-mode SSP/APs</span></span>](#functions-implemented-by-user-mode-sspaps)
-   [<span data-ttu-id="38081-112">由 SSP/Ap 呼叫的 LSA 函數</span><span class="sxs-lookup"><span data-stu-id="38081-112">LSA Functions Called by SSP/APs</span></span>](#lsa-functions-called-by-sspaps)
-   [<span data-ttu-id="38081-113">使用者模式 SSP/Ap 所呼叫的 LSA 函數</span><span class="sxs-lookup"><span data-stu-id="38081-113">LSA Functions Called By User-mode SSP/APs</span></span>](#lsa-functions-called-by-user-mode-sspaps)
-   [<span data-ttu-id="38081-114">GINA 匯出函數</span><span class="sxs-lookup"><span data-stu-id="38081-114">GINA Export Functions</span></span>](#gina-export-functions)
-   [<span data-ttu-id="38081-115">登入使用者功能</span><span class="sxs-lookup"><span data-stu-id="38081-115">Logon User Functions</span></span>](#logon-user-functions)
-   [<span data-ttu-id="38081-116">Winlogon 支援函式</span><span class="sxs-lookup"><span data-stu-id="38081-116">Winlogon Support Functions</span></span>](#winlogon-support-functions)
-   [<span data-ttu-id="38081-117">網路提供者函式</span><span class="sxs-lookup"><span data-stu-id="38081-117">Network Provider Functions</span></span>](#network-provider-functions)
    -   [<span data-ttu-id="38081-118">網路提供者所執行的函式</span><span class="sxs-lookup"><span data-stu-id="38081-118">Functions Implemented by Network Providers</span></span>](#functions-implemented-by-network-providers)
    -   [<span data-ttu-id="38081-119">支援函式</span><span class="sxs-lookup"><span data-stu-id="38081-119">Support Functions</span></span>](#winlogon-support-functions)
    -   [<span data-ttu-id="38081-120">連接通知函數</span><span class="sxs-lookup"><span data-stu-id="38081-120">Connection Notification Functions</span></span>](#connection-notification-functions)
-   [<span data-ttu-id="38081-121">LSA 登入功能</span><span class="sxs-lookup"><span data-stu-id="38081-121">LSA Logon Functions</span></span>](#lsa-logon-functions)
-   [<span data-ttu-id="38081-122">由驗證封裝所執行的函式</span><span class="sxs-lookup"><span data-stu-id="38081-122">Functions Implemented by Authentication Packages</span></span>](#functions-implemented-by-authentication-packages)
-   [<span data-ttu-id="38081-123">由驗證套件呼叫的 LSA 函數</span><span class="sxs-lookup"><span data-stu-id="38081-123">LSA Functions Called by Authentication Packages</span></span>](#lsa-functions-called-by-authentication-packages)
-   [<span data-ttu-id="38081-124">子驗證函式</span><span class="sxs-lookup"><span data-stu-id="38081-124">Subauthentication Functions</span></span>](#subauthentication-functions)
-   [<span data-ttu-id="38081-125">認證管理功能</span><span class="sxs-lookup"><span data-stu-id="38081-125">Credentials Management Functions</span></span>](#credentials-management-functions)
    -   [<span data-ttu-id="38081-126">認證管理 UI 函數</span><span class="sxs-lookup"><span data-stu-id="38081-126">Credentials Management UI Functions</span></span>](#credentials-management-ui-functions)
    -   [<span data-ttu-id="38081-127">低層級認證管理功能</span><span class="sxs-lookup"><span data-stu-id="38081-127">Low-level Credentials Management Functions</span></span>](#low-level-credentials-management-functions)
    -   [<span data-ttu-id="38081-128">認證管理通知函式</span><span class="sxs-lookup"><span data-stu-id="38081-128">Credential Management Notification Functions</span></span>](#credential-management-notification-functions)
-   [<span data-ttu-id="38081-129">智慧卡功能</span><span class="sxs-lookup"><span data-stu-id="38081-129">Smart Card Functions</span></span>](#smart-card-functions)
-   [<span data-ttu-id="38081-130">SASL 函數</span><span class="sxs-lookup"><span data-stu-id="38081-130">SASL Functions</span></span>](#sasl-functions)
-   [<span data-ttu-id="38081-131">其他函式</span><span class="sxs-lookup"><span data-stu-id="38081-131">Other Functions</span></span>](#other-functions)

## <a name="sspi-functions"></a><span data-ttu-id="38081-132">SSPI 函數</span><span class="sxs-lookup"><span data-stu-id="38081-132">SSPI Functions</span></span>

<span data-ttu-id="38081-133">安全性支援提供者介面 (SSPI) 函式屬於下列主要類別。</span><span class="sxs-lookup"><span data-stu-id="38081-133">Security Support Provider Interface (SSPI) functions fall into the following major categories.</span></span>

-   [<span data-ttu-id="38081-134">套件管理</span><span class="sxs-lookup"><span data-stu-id="38081-134">Package management</span></span>](#package-management)

    <span data-ttu-id="38081-135">列出可用 [*安全性封裝*](/windows/desktop/SecGloss/s-gly) 和選取封裝的函式。</span><span class="sxs-lookup"><span data-stu-id="38081-135">Functions that list the available [*security packages*](/windows/desktop/SecGloss/s-gly) and select a package.</span></span>

-   [<span data-ttu-id="38081-136">認證管理</span><span class="sxs-lookup"><span data-stu-id="38081-136">Credential management</span></span>](#credential-management)

    <span data-ttu-id="38081-137">建立和處理 [*主體*](/windows/desktop/SecGloss/p-gly)[*認證*](/windows/desktop/SecGloss/c-gly)之控制碼的函式。</span><span class="sxs-lookup"><span data-stu-id="38081-137">Functions that create and work with handles to the [*credentials*](/windows/desktop/SecGloss/c-gly) of [*principals*](/windows/desktop/SecGloss/p-gly).</span></span>

-   [<span data-ttu-id="38081-138">內容管理</span><span class="sxs-lookup"><span data-stu-id="38081-138">Context management</span></span>](#context-management)

    <span data-ttu-id="38081-139">使用認證控制碼來建立 [*安全性內容*](/windows/desktop/SecGloss/s-gly)的函式。</span><span class="sxs-lookup"><span data-stu-id="38081-139">Functions that use credentials handles to create a [*security context*](/windows/desktop/SecGloss/s-gly).</span></span>

-   [<span data-ttu-id="38081-140">訊息支援</span><span class="sxs-lookup"><span data-stu-id="38081-140">Message support</span></span>](#message-support)

    <span data-ttu-id="38081-141">使用安全性內容的函式，以確保訊息在透過安全連線交換期間的訊息 [*完整性*](/windows/desktop/SecGloss/i-gly) 和 [*隱私權*](/windows/desktop/SecGloss/p-gly) 。</span><span class="sxs-lookup"><span data-stu-id="38081-141">Functions that use security contexts to ensure message [*integrity*](/windows/desktop/SecGloss/i-gly) and [*privacy*](/windows/desktop/SecGloss/p-gly) during message exchanges over the secured connection.</span></span> <span data-ttu-id="38081-142">您可以透過訊息簽署和簽章驗證來實現完整性。</span><span class="sxs-lookup"><span data-stu-id="38081-142">Integrity is achieved through message signing and signature verification.</span></span> <span data-ttu-id="38081-143">透過訊息加密和解密來達成隱私權。</span><span class="sxs-lookup"><span data-stu-id="38081-143">Privacy is achieved through message encryption and decryption.</span></span>

### <a name="package-management"></a><span data-ttu-id="38081-144">封裝管理</span><span class="sxs-lookup"><span data-stu-id="38081-144">Package Management</span></span>

<span data-ttu-id="38081-145">SSPI 封裝管理功能會起始 [*安全性封裝*](/windows/desktop/SecGloss/s-gly)、列舉可用的套件，以及查詢安全性封裝的屬性。</span><span class="sxs-lookup"><span data-stu-id="38081-145">SSPI package management functions initiate a [*security package*](/windows/desktop/SecGloss/s-gly), enumerate available packages, and query the attributes of a security package.</span></span> <span data-ttu-id="38081-146">下列 SSPI 函數提供安全性封裝的管理服務。</span><span class="sxs-lookup"><span data-stu-id="38081-146">The following SSPI functions provide management services for security packages.</span></span>



| <span data-ttu-id="38081-147">函式</span><span class="sxs-lookup"><span data-stu-id="38081-147">Function</span></span>                                                       | <span data-ttu-id="38081-148">描述</span><span class="sxs-lookup"><span data-stu-id="38081-148">Description</span></span>                                                                                                                                                                                                                                                                                                                            |
|----------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-149">**EnumerateSecurityPackages**</span><span class="sxs-lookup"><span data-stu-id="38081-149">**EnumerateSecurityPackages**</span></span>](/windows/desktop/api/Sspi/nf-sspi-enumeratesecuritypackagesa) | <span data-ttu-id="38081-150">列出可用的安全性套件和其功能。</span><span class="sxs-lookup"><span data-stu-id="38081-150">Lists available security packages and their capabilities.</span></span><br/>                                                                                                                                                                                                                                                                   |
| [<span data-ttu-id="38081-151">**InitSecurityInterface**</span><span class="sxs-lookup"><span data-stu-id="38081-151">**InitSecurityInterface**</span></span>](/windows/desktop/api/Sspi/nf-sspi-initsecurityinterfacea)         | <span data-ttu-id="38081-152">抓取 (SSP) 分派資料表之安全性支援提供者的指標。</span><span class="sxs-lookup"><span data-stu-id="38081-152">Retrieves a pointer to a security support provider (SSP) dispatch table.</span></span><br/>                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="38081-153">**QuerySecurityPackageInfo**</span><span class="sxs-lookup"><span data-stu-id="38081-153">**QuerySecurityPackageInfo**</span></span>](/windows/desktop/api/Sspi/nf-sspi-querysecuritypackageinfoa)   | <span data-ttu-id="38081-154">抓取指定 [*安全性封裝*](/windows/desktop/SecGloss/s-gly)的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-154">Retrieves information about a specified [*security package*](/windows/desktop/SecGloss/s-gly).</span></span> <span data-ttu-id="38081-155">這項資訊包含驗證 [*資訊、認證和內容*](/windows/desktop/SecGloss/c-gly)的大小界限。</span><span class="sxs-lookup"><span data-stu-id="38081-155">This information includes the bounds on sizes of authentication information, [*credentials*](/windows/desktop/SecGloss/c-gly), and contexts.</span></span><br/> |



 

### <a name="credential-management"></a><span data-ttu-id="38081-156">認證管理</span><span class="sxs-lookup"><span data-stu-id="38081-156">Credential Management</span></span>

<span data-ttu-id="38081-157">SSPI 認證管理函式提供 [*認證*](/windows/desktop/SecGloss/c-gly) 控制碼、不透明安全性物件的參考，以存取主體。</span><span class="sxs-lookup"><span data-stu-id="38081-157">SSPI credential management functions provide a [*credentials*](/windows/desktop/SecGloss/c-gly) handle, a reference to an opaque security object, for accessing a principal.</span></span> <span data-ttu-id="38081-158">安全性物件不透明，因為應用程式只能存取控制碼，而不是結構的實際內容。</span><span class="sxs-lookup"><span data-stu-id="38081-158">The security object is opaque because the application has access only to the handle and not to the actual contents of the structure.</span></span>

<span data-ttu-id="38081-159">認證內容內容的所有參考都是透過物件的控制碼，而 [*安全性封裝*](/windows/desktop/SecGloss/s-gly) 會將該控制碼的存取權取值為，以存取認證的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-159">All references to the contents of a credential context are through the object's handle and the [*security package*](/windows/desktop/SecGloss/s-gly) dereferences the handle to access the specifics of credentials.</span></span> <span data-ttu-id="38081-160">認證控制碼是介於 {0x00000000，0x00000000} 和 {0xFFFFFFFF，0xFFFFFFFE} 之間的64位值。</span><span class="sxs-lookup"><span data-stu-id="38081-160">A credential handle is a 64-bit value between {0x00000000, 0x00000000} and {0xFFFFFFFF, 0xFFFFFFFE}.</span></span>

<span data-ttu-id="38081-161">應用程式會使用認證控制碼搭配 [內容管理](#context-management) 功能來建立 [*安全性內容*](/windows/desktop/SecGloss/s-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-161">Applications use the credentials handle with [context management](#context-management) functions to create a [*security context*](/windows/desktop/SecGloss/s-gly).</span></span>

<span data-ttu-id="38081-162">認證管理函式也會釋放認證控制碼和查詢 [*認證的*](/windows/desktop/SecGloss/c-gly)[*屬性*](/windows/desktop/SecGloss/a-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-162">Credential management functions also release credential handles and query the [*attributes*](/windows/desktop/SecGloss/a-gly) of [*credentials*](/windows/desktop/SecGloss/c-gly).</span></span> <span data-ttu-id="38081-163">目前，與認證相關聯的名稱是唯一可查詢的屬性。</span><span class="sxs-lookup"><span data-stu-id="38081-163">At present, the name associated with a credential is the only attribute that can be queried.</span></span>

<span data-ttu-id="38081-164">下列函式會搭配認證管理使用。</span><span class="sxs-lookup"><span data-stu-id="38081-164">The following functions are used with credentials management.</span></span>



| <span data-ttu-id="38081-165">函式</span><span class="sxs-lookup"><span data-stu-id="38081-165">Function</span></span>                                                                         | <span data-ttu-id="38081-166">描述</span><span class="sxs-lookup"><span data-stu-id="38081-166">Description</span></span>                                                                                                                                                                                                                                       |
|----------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-167">**AcquireCredentialsHandle (一般)**</span><span class="sxs-lookup"><span data-stu-id="38081-167">**AcquireCredentialsHandle (General)**</span></span>](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) | <span data-ttu-id="38081-168">取得指定主體之預先存在認證的控制碼。</span><span class="sxs-lookup"><span data-stu-id="38081-168">Acquires a handle to the preexisting credentials of a specified principal.</span></span><br/>                                                                                                                                                             |
| [<span data-ttu-id="38081-169">**ExportSecurityCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-169">**ExportSecurityContext**</span></span>](/windows/desktop/api/Sspi/nf-sspi-exportsecuritycontext)                           | <span data-ttu-id="38081-170">將安全性內容匯出至內容緩衝區。</span><span class="sxs-lookup"><span data-stu-id="38081-170">Exports a security context into a context buffer.</span></span><br/>                                                                                                                                                                                      |
| [<span data-ttu-id="38081-171">**FreeCredentialsHandle**</span><span class="sxs-lookup"><span data-stu-id="38081-171">**FreeCredentialsHandle**</span></span>](/windows/desktop/api/Sspi/nf-sspi-freecredentialshandle)                           | <span data-ttu-id="38081-172">釋放認證控制碼和相關聯的資源。</span><span class="sxs-lookup"><span data-stu-id="38081-172">Releases a credential handle and associated resources.</span></span><br/>                                                                                                                                                                                 |
| [<span data-ttu-id="38081-173">**ImportSecurityCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-173">**ImportSecurityContext**</span></span>](/windows/desktop/api/Sspi/nf-sspi-importsecuritycontexta)                           | <span data-ttu-id="38081-174">使用 [**ExportSecurityCoNtext**](/windows/desktop/api/Sspi/nf-sspi-exportsecuritycontext) 將匯出的安全性內容匯入至目前的進程。</span><span class="sxs-lookup"><span data-stu-id="38081-174">Imports a security context exported by using [**ExportSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-exportsecuritycontext) into the current process.</span></span><br/>                                                                                                          |
| [<span data-ttu-id="38081-175">**QueryCredentialsAttributes**</span><span class="sxs-lookup"><span data-stu-id="38081-175">**QueryCredentialsAttributes**</span></span>](/windows/desktop/api/Sspi/nf-sspi-querycredentialsattributesa)                 | <span data-ttu-id="38081-176">抓取 [*認證*](/windows/desktop/SecGloss/c-gly)的 [*屬性*](/windows/desktop/SecGloss/a-gly)，例如與認證相關聯的名稱。</span><span class="sxs-lookup"><span data-stu-id="38081-176">Retrieves the [*attributes*](/windows/desktop/SecGloss/a-gly) of a [*credential*](/windows/desktop/SecGloss/c-gly), such as the name associated with the credential.</span></span><br/> |



 

### <a name="context-management"></a><span data-ttu-id="38081-177">內容管理</span><span class="sxs-lookup"><span data-stu-id="38081-177">Context Management</span></span>

<span data-ttu-id="38081-178">SSPI 內容管理功能會建立和使用 [*安全性*](/windows/desktop/SecGloss/s-gly)內容。</span><span class="sxs-lookup"><span data-stu-id="38081-178">SSPI context management functions create and use [*security contexts*](/windows/desktop/SecGloss/s-gly).</span></span>

<span data-ttu-id="38081-179">在通訊連結中，用戶端和伺服器會合作建立共用的安全性內容。</span><span class="sxs-lookup"><span data-stu-id="38081-179">In a communication link, the client and server cooperate to create a shared security context.</span></span> <span data-ttu-id="38081-180">用戶端和伺服器都使用安全性內容與 [訊息支援](#message-support) 函式，以確保連接期間的訊息 [*完整性*](/windows/desktop/SecGloss/i-gly) 和 [*隱私權*](/windows/desktop/SecGloss/p-gly) 。</span><span class="sxs-lookup"><span data-stu-id="38081-180">The client and server both use the security context with [message support](#message-support) functions to ensure message [*integrity*](/windows/desktop/SecGloss/i-gly) and [*privacy*](/windows/desktop/SecGloss/p-gly) during the connection.</span></span>

<span data-ttu-id="38081-181">安全性內容是不透明的安全性物件。</span><span class="sxs-lookup"><span data-stu-id="38081-181">Security contexts are opaque security objects.</span></span> <span data-ttu-id="38081-182">應用程式無法使用安全性內容中的資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-182">Information in the security context is not available to the application.</span></span> <span data-ttu-id="38081-183">內容管理函式會建立並使用內容控制碼，而安全性封裝會對內容控制碼進行取值，以存取其安全性內容。</span><span class="sxs-lookup"><span data-stu-id="38081-183">Context management functions create and use context handles and the security package dereferences the context handle to access its security content.</span></span>

<span data-ttu-id="38081-184">內容控制碼是介於 {0x00000000，0x00000000} 和 {0xFFFFFFFF，0xFFFFFFFE} 之間的64位值。</span><span class="sxs-lookup"><span data-stu-id="38081-184">A context handle is a 64-bit value between {0x00000000, 0x00000000} and {0xFFFFFFFF, 0xFFFFFFFE}.</span></span>

<span data-ttu-id="38081-185">下列函式會搭配內容管理使用。</span><span class="sxs-lookup"><span data-stu-id="38081-185">The following functions are used with context management.</span></span>



| <span data-ttu-id="38081-186">函式</span><span class="sxs-lookup"><span data-stu-id="38081-186">Function</span></span>                                                                           | <span data-ttu-id="38081-187">描述</span><span class="sxs-lookup"><span data-stu-id="38081-187">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                        |
|------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-188">**AcceptSecurityCoNtext (一般)**</span><span class="sxs-lookup"><span data-stu-id="38081-188">**AcceptSecurityContext (General)**</span></span>](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext)         | <span data-ttu-id="38081-189">由伺服器用來根據從用戶端接收到的不透明訊息來建立 [*安全性內容*](/windows/desktop/SecGloss/s-gly) 。</span><span class="sxs-lookup"><span data-stu-id="38081-189">Used by a server to create a [*security context*](/windows/desktop/SecGloss/s-gly) based on an opaque message received from a client.</span></span><br/>                                                                                                                                                                                                      |
| [<span data-ttu-id="38081-190">**ApplyControlToken**</span><span class="sxs-lookup"><span data-stu-id="38081-190">**ApplyControlToken**</span></span>](/windows/desktop/api/Sspi/nf-sspi-applycontroltoken)                                     | <span data-ttu-id="38081-191">將補充安全性訊息套用至現有的安全性內容。</span><span class="sxs-lookup"><span data-stu-id="38081-191">Applies a supplemental security message to an existing security context.</span></span><br/>                                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="38081-192">**CompleteAuthToken**</span><span class="sxs-lookup"><span data-stu-id="38081-192">**CompleteAuthToken**</span></span>](/windows/desktop/api/Sspi/nf-sspi-completeauthtoken)                                     | <span data-ttu-id="38081-193">完成驗證權杖。</span><span class="sxs-lookup"><span data-stu-id="38081-193">Completes an authentication token.</span></span> <span data-ttu-id="38081-194">此函式是由通訊協定（例如 DCE）所使用，這些通訊協定需要在傳輸應用程式更新某些訊息參數之後修改安全性資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-194">This function is used by protocols, such as DCE, that need to revise the security information after the transport application has updated some message parameters.</span></span><br/>                                                                                                                                                                                   |
| [<span data-ttu-id="38081-195">**DeleteSecurityCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-195">**DeleteSecurityContext**</span></span>](/windows/desktop/api/Sspi/nf-sspi-deletesecuritycontext)                             | <span data-ttu-id="38081-196">釋出安全性內容和相關聯的資源。</span><span class="sxs-lookup"><span data-stu-id="38081-196">Frees a security context and associated resources.</span></span><br/>                                                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="38081-197">**FreeCoNtextBuffer**</span><span class="sxs-lookup"><span data-stu-id="38081-197">**FreeContextBuffer**</span></span>](/windows/desktop/api/Sspi/nf-sspi-freecontextbuffer)                                     | <span data-ttu-id="38081-198">釋出安全性封裝所配置的記憶體緩衝區。</span><span class="sxs-lookup"><span data-stu-id="38081-198">Frees a memory buffer allocated by a security package.</span></span><br/>                                                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="38081-199">**ImpersonateSecurityCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-199">**ImpersonateSecurityContext**</span></span>](/windows/desktop/api/Sspi/nf-sspi-impersonatesecuritycontext)                   | <span data-ttu-id="38081-200">模擬安全性內容，以用戶端的形式出現在系統中。</span><span class="sxs-lookup"><span data-stu-id="38081-200">Impersonates the security context to appear as the client to the system.</span></span><br/>                                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="38081-201">**InitializeSecurityCoNtext (一般)**</span><span class="sxs-lookup"><span data-stu-id="38081-201">**InitializeSecurityContext (General)**</span></span>](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) | <span data-ttu-id="38081-202">用戶端用來藉由產生要傳遞至伺服器的不透明訊息來起始安全性內容。</span><span class="sxs-lookup"><span data-stu-id="38081-202">Used by a client to initiate a security context by generating an opaque message to be passed to a server.</span></span><br/>                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="38081-203">**QueryCoNtextAttributes (一般)**</span><span class="sxs-lookup"><span data-stu-id="38081-203">**QueryContextAttributes (General)**</span></span>](/windows/win32/api/sspi/nf-sspi-querycontextattributesa)       | <span data-ttu-id="38081-204">可讓傳輸應用程式查詢安全性 [*內容*](/windows/desktop/SecGloss/c-gly)的特定 [*屬性*](/windows/desktop/SecGloss/a-gly)之 [*安全性封裝*](/windows/desktop/SecGloss/s-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-204">Enables a transport application to query a [*security package*](/windows/desktop/SecGloss/s-gly) for certain [*attributes*](/windows/desktop/SecGloss/a-gly) of a security [*context*](/windows/desktop/SecGloss/c-gly).</span></span><br/>                                                         |
| [<span data-ttu-id="38081-205">**QuerySecurityCoNtextToken**</span><span class="sxs-lookup"><span data-stu-id="38081-205">**QuerySecurityContextToken**</span></span>](/windows/desktop/api/Sspi/nf-sspi-querysecuritycontexttoken)                     | <span data-ttu-id="38081-206">取得用戶端 [*安全性內容*](/windows/desktop/SecGloss/s-gly)的 [*存取權杖*](/windows/desktop/SecGloss/a-gly)，並直接使用。</span><span class="sxs-lookup"><span data-stu-id="38081-206">Obtains the [*access token*](/windows/desktop/SecGloss/a-gly) for a client [*security context*](/windows/desktop/SecGloss/s-gly) and uses it directly.</span></span><br/>                                                                                                                                                |
| [<span data-ttu-id="38081-207">**SetCoNtextAttributes**</span><span class="sxs-lookup"><span data-stu-id="38081-207">**SetContextAttributes**</span></span>](/windows/desktop/api/Sspi/nf-sspi-setcontextattributesa)                               | <span data-ttu-id="38081-208">可讓傳輸應用程式設定 [*安全性封裝*](/windows/desktop/SecGloss/s-gly)的安全性 [*內容*](/windows/desktop/SecGloss/c-gly)的 [*屬性*](/windows/desktop/SecGloss/a-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-208">Enables a transport application to set [*attributes*](/windows/desktop/SecGloss/a-gly) of a security [*context*](/windows/desktop/SecGloss/c-gly) for a [*security package*](/windows/desktop/SecGloss/s-gly).</span></span> <span data-ttu-id="38081-209">只有 Schannel 安全性套件支援此函式。</span><span class="sxs-lookup"><span data-stu-id="38081-209">This function is supported only by the Schannel security package.</span></span><br/> |
| [<span data-ttu-id="38081-210">**RevertSecurityCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-210">**RevertSecurityContext**</span></span>](/windows/desktop/api/Sspi/nf-sspi-revertsecuritycontext)                             | <span data-ttu-id="38081-211">允許 [*安全性封裝*](/windows/desktop/SecGloss/s-gly) 中斷呼叫端的模擬，並還原其本身的 [*安全性內容*](/windows/desktop/SecGloss/s-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-211">Allows a [*security package*](/windows/desktop/SecGloss/s-gly) to discontinue the impersonation of the caller and restore its own [*security context*](/windows/desktop/SecGloss/s-gly).</span></span><br/>                                                                                                      |



 

### <a name="message-support"></a><span data-ttu-id="38081-212">訊息支援</span><span class="sxs-lookup"><span data-stu-id="38081-212">Message Support</span></span>

<span data-ttu-id="38081-213">SSPI 訊息支援函式可讓應用程式傳輸和接收防篡改的訊息，以及加密和解密訊息。</span><span class="sxs-lookup"><span data-stu-id="38081-213">SSPI message support functions enable an application to transmit and receive tamper-resistant messages and to encrypt and decrypt messages.</span></span> <span data-ttu-id="38081-214">這些函式適用于一或多個包含訊息的緩衝區，以及 [內容管理](#context-management)功能所建立的 [*安全性內容*](/windows/desktop/SecGloss/s-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-214">These functions work with one or more buffers that contain a message and with a [*security context*](/windows/desktop/SecGloss/s-gly) created by the [context management](#context-management) functions.</span></span> <span data-ttu-id="38081-215">函數的行為會根據連接、 [*資料包*](/windows/desktop/SecGloss/d-gly)或串流內容是否正在使用而有所不同。</span><span class="sxs-lookup"><span data-stu-id="38081-215">The functions' behavior differs based on whether a connection, [*datagram*](/windows/desktop/SecGloss/d-gly), or stream context is in use.</span></span> <span data-ttu-id="38081-216">如需這些差異的說明，請參閱 [SSPI 內容語義](sspi-context-semantics.md)。</span><span class="sxs-lookup"><span data-stu-id="38081-216">For a description of these differences, see [SSPI Context Semantics](sspi-context-semantics.md).</span></span>

<span data-ttu-id="38081-217">下列函數提供訊息的安全性支援。</span><span class="sxs-lookup"><span data-stu-id="38081-217">The following functions provide security support for messages.</span></span>



| <span data-ttu-id="38081-218">函式</span><span class="sxs-lookup"><span data-stu-id="38081-218">Function</span></span>                                                     | <span data-ttu-id="38081-219">描述</span><span class="sxs-lookup"><span data-stu-id="38081-219">Description</span></span>                                                                                                                                                                                                                                          |
|--------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-220">**DecryptMessage (一般)**</span><span class="sxs-lookup"><span data-stu-id="38081-220">**DecryptMessage (General)**</span></span>](/windows/win32/api/sspi/nf-sspi-decryptmessage) | <span data-ttu-id="38081-221">使用 [*安全性內容*](/windows/desktop/SecGloss/s-gly)中的 [*工作階段金鑰*](/windows/desktop/SecGloss/s-gly)，將加密的訊息解密。</span><span class="sxs-lookup"><span data-stu-id="38081-221">Decrypts an encrypted message by using the [*session key*](/windows/desktop/SecGloss/s-gly) from a [*security context*](/windows/desktop/SecGloss/s-gly).</span></span><br/> |
| [<span data-ttu-id="38081-222">**EncryptMessage (一般)**</span><span class="sxs-lookup"><span data-stu-id="38081-222">**EncryptMessage (General)**</span></span>](/windows/win32/api/sspi/nf-sspi-encryptmessage) | <span data-ttu-id="38081-223">使用安全性內容中的工作階段金鑰來加密訊息。</span><span class="sxs-lookup"><span data-stu-id="38081-223">Encrypts a message by using the session key from a security context.</span></span><br/>                                                                                                                                                                      |
| [<span data-ttu-id="38081-224">**MakeSignature**</span><span class="sxs-lookup"><span data-stu-id="38081-224">**MakeSignature**</span></span>](/windows/desktop/api/Sspi/nf-sspi-makesignature)                       | <span data-ttu-id="38081-225">產生訊息的密碼編譯總和檢查碼，也包含排序資訊以防止訊息遺失或插入。</span><span class="sxs-lookup"><span data-stu-id="38081-225">Generates a cryptographic checksum of the message, and also includes sequencing information to prevent message loss or insertion.</span></span><br/>                                                                                                         |
| [<span data-ttu-id="38081-226">**VerifySignature**</span><span class="sxs-lookup"><span data-stu-id="38081-226">**VerifySignature**</span></span>](/windows/desktop/api/Sspi/nf-sspi-verifysignature)                   | <span data-ttu-id="38081-227">使用 [**MakeSignature**](/windows/desktop/api/Sspi/nf-sspi-makesignature) 函式來驗證傳送者所簽署之訊息的簽章。</span><span class="sxs-lookup"><span data-stu-id="38081-227">Verifies the signature of a message received that was signed by the sender by using the [**MakeSignature**](/windows/desktop/api/Sspi/nf-sspi-makesignature) function.</span></span><br/>                                                                                                  |



 

## <a name="functions-implemented-by-sspaps"></a><span data-ttu-id="38081-228">由 SSP/Ap 所執行的函式</span><span class="sxs-lookup"><span data-stu-id="38081-228">Functions Implemented by SSP/APs</span></span>

<span data-ttu-id="38081-229">下列函式是由 [*安全性支援提供者*](/windows/desktop/SecGloss/s-gly)驗證套件中包含的 [安全性套件](#sspi-functions)所執行 / [](/windows/desktop/SecGloss/a-gly) (SSP/ap) 。</span><span class="sxs-lookup"><span data-stu-id="38081-229">The following functions are implemented by [security packages](#sspi-functions) contained in [*Security Support Provider*](/windows/desktop/SecGloss/s-gly)/[*Authentication Packages*](/windows/desktop/SecGloss/a-gly) (SSP/APs).</span></span>

<span data-ttu-id="38081-230">在下表中，第一組函式是由 Windows XP SSP/AP 安全性套件所執行。</span><span class="sxs-lookup"><span data-stu-id="38081-230">In the following tables, the first set of functions is implemented by Windows XP SSP/AP security packages.</span></span> <span data-ttu-id="38081-231">第二組函式只由 SSP/AP 安全性封裝執行。</span><span class="sxs-lookup"><span data-stu-id="38081-231">The second set of functions is implemented by SSP/AP security packages only.</span></span>

<span data-ttu-id="38081-232">[*本地安全機構*](/windows/desktop/SecGloss/l-gly) (LSA) 使用 SSP/AP 的 [**SpLsaModeInitialize**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-splsamodeinitializefn)函式所提供的 SECPKG 函式 [**\_ \_ 資料表**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_function_table)結構來存取這些函數。</span><span class="sxs-lookup"><span data-stu-id="38081-232">The [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) accesses these functions by using the [**SECPKG\_FUNCTION\_TABLE**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_function_table) structure provided by the SSP/AP's [**SpLsaModeInitialize**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-splsamodeinitializefn) function.</span></span>

<span data-ttu-id="38081-233">下列函式是由所有驗證套件所執行。</span><span class="sxs-lookup"><span data-stu-id="38081-233">The following functions are implemented by all authentication packages.</span></span>



| <span data-ttu-id="38081-234">函式</span><span class="sxs-lookup"><span data-stu-id="38081-234">Function</span></span>                                                           | <span data-ttu-id="38081-235">描述</span><span class="sxs-lookup"><span data-stu-id="38081-235">Description</span></span>                                                                                                                                                                                                                                                                                                                                                            |
|--------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-236">**LsaApCallPackage**</span><span class="sxs-lookup"><span data-stu-id="38081-236">**LsaApCallPackage**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_call_package)                       | <span data-ttu-id="38081-237">由 [*本機安全機構*](/windows/desktop/SecGloss/l-gly) 呼叫 (lsa) 當具有 lsa 信任連線的登入應用程式呼叫 [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) 函式並指定驗證封裝的識別碼時。</span><span class="sxs-lookup"><span data-stu-id="38081-237">Called by the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) when a logon application with a trusted connection to the LSA calls the [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) function and specifies the authentication package's identifier.</span></span><br/> |
| [<span data-ttu-id="38081-238">**LsaApCallPackagePassthrough**</span><span class="sxs-lookup"><span data-stu-id="38081-238">**LsaApCallPackagePassthrough**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_call_package_passthrough) | <span data-ttu-id="38081-239">傳送至 [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) 函數之傳遞登入要求的分派函式。</span><span class="sxs-lookup"><span data-stu-id="38081-239">The dispatch function for pass-through logon requests sent to the [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) function.</span></span><br/>                                                                                                                                                                                                            |
| <span data-ttu-id="38081-240">[**LsaApCallPackageUntrusted**](/previous-versions/windows/desktop/legacy/aa378218(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="38081-240">[**LsaApCallPackageUntrusted**](/previous-versions/windows/desktop/legacy/aa378218(v=vs.85))</span></span>     | <span data-ttu-id="38081-241">當具有不受信任的 LSA 連接的應用程式呼叫 [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage)函式並指定驗證封裝的識別碼時，由 [*本地安全機構*](/windows/desktop/SecGloss/l-gly) (LSA) 。</span><span class="sxs-lookup"><span data-stu-id="38081-241">Called by the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) when an application with an untrusted connection to the LSA calls the [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) function and specifies the authentication package's identifier.</span></span><br/>   |
| [<span data-ttu-id="38081-242">**LsaApInitializePackage**</span><span class="sxs-lookup"><span data-stu-id="38081-242">**LsaApInitializePackage**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_initialize_package)           | <span data-ttu-id="38081-243">由 [*本地安全機構*](/windows/desktop/SecGloss/l-gly) 呼叫一次 (LSA 在系統初始化期間) ，以提供驗證封裝本身的初始化機會。</span><span class="sxs-lookup"><span data-stu-id="38081-243">Called once by the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) during system initialization to provide the authentication package a chance to initialize itself.</span></span><br/>                                                                                                       |
| [<span data-ttu-id="38081-244">**LsaApLogonTerminated**</span><span class="sxs-lookup"><span data-stu-id="38081-244">**LsaApLogonTerminated**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_terminated)               | <span data-ttu-id="38081-245">用來在登入會話終止時通知驗證套件。</span><span class="sxs-lookup"><span data-stu-id="38081-245">Used to notify an authentication package when a logon session terminates.</span></span> <span data-ttu-id="38081-246">當最後一個參考登入會話的權杖被刪除時，登入會話就會終止。</span><span class="sxs-lookup"><span data-stu-id="38081-246">A logon session terminates when the last token referencing the logon session is deleted.</span></span><br/>                                                                                                                                                                                          |
| [<span data-ttu-id="38081-247">**LsaApLogonUser**</span><span class="sxs-lookup"><span data-stu-id="38081-247">**LsaApLogonUser**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user)                           | <span data-ttu-id="38081-248">驗證使用者的登入認證。</span><span class="sxs-lookup"><span data-stu-id="38081-248">Authenticates a user's logon credentials.</span></span><br/>                                                                                                                                                                                                                                                                                                                   |
| [<span data-ttu-id="38081-249">**LsaApLogonUserEx**</span><span class="sxs-lookup"><span data-stu-id="38081-249">**LsaApLogonUserEx**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex)                       | <span data-ttu-id="38081-250">驗證使用者的登入認證。</span><span class="sxs-lookup"><span data-stu-id="38081-250">Authenticates a user's logon credentials.</span></span><br/>                                                                                                                                                                                                                                                                                                                   |
| [<span data-ttu-id="38081-251">**LsaApLogonUserEx2**</span><span class="sxs-lookup"><span data-stu-id="38081-251">**LsaApLogonUserEx2**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex2)                     | <span data-ttu-id="38081-252">用來驗證使用者初始登入的使用者登入嘗試。</span><span class="sxs-lookup"><span data-stu-id="38081-252">Used to authenticate a user logon attempt on the user's initial logon.</span></span> <span data-ttu-id="38081-253">為使用者建立新的登入會話，並傳回使用者的驗證資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-253">A new logon session is established for the user, and validation information for the user is returned.</span></span><br/>                                                                                                                                                                                |



 

<span data-ttu-id="38081-254">下列額外的函式是由 SSP/AP 安全性套件所執行。</span><span class="sxs-lookup"><span data-stu-id="38081-254">The following additional functions are implemented by SSP/AP security packages.</span></span>



| <span data-ttu-id="38081-255">函式</span><span class="sxs-lookup"><span data-stu-id="38081-255">Function</span></span>                                                             | <span data-ttu-id="38081-256">描述</span><span class="sxs-lookup"><span data-stu-id="38081-256">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|----------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-257">**SpAcceptCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-257">**SpAcceptCredentials**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacceptcredentialsfn)                   | <span data-ttu-id="38081-258">由「[*本地安全機構*](/windows/desktop/SecGloss/l-gly)」（ (LSA) ）呼叫，以傳遞 [*安全性封裝*](/windows/desktop/SecGloss/s-gly)針對已驗證 [*安全性主體*](/windows/desktop/SecGloss/s-gly)儲存的任何 [*認證*](/windows/desktop/SecGloss/c-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-258">Called by the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) to pass the [*security package*](/windows/desktop/SecGloss/s-gly) any [*credentials*](/windows/desktop/SecGloss/c-gly) stored for the authenticated [*security principal*](/windows/desktop/SecGloss/s-gly).</span></span><br/> |
| [<span data-ttu-id="38081-259">**SpAcceptLsaModeCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-259">**SpAcceptLsaModeContext**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacceptlsamodecontextfn)             | <span data-ttu-id="38081-260">用來建立伺服器和用戶端共用之 [*安全性內容*](/windows/desktop/SecGloss/s-gly) 的伺服器分派函數。</span><span class="sxs-lookup"><span data-stu-id="38081-260">Server dispatch function used to create a [*security context*](/windows/desktop/SecGloss/s-gly) shared by a server and client.</span></span><br/>                                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="38081-261">**SpAcquireCredentialsHandle**</span><span class="sxs-lookup"><span data-stu-id="38081-261">**SpAcquireCredentialsHandle**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacquirecredentialshandlefn)     | <span data-ttu-id="38081-262">呼叫以取得主體 [*認證*](/windows/desktop/SecGloss/c-gly)的控制碼。</span><span class="sxs-lookup"><span data-stu-id="38081-262">Called to obtain a handle to a principal's [*credentials*](/windows/desktop/SecGloss/c-gly).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                              |
| [<span data-ttu-id="38081-263">**SpAddCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-263">**SpAddCredentials**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spaddcredentialsfn)                         | <span data-ttu-id="38081-264">用來新增 [*安全性主體*](/windows/desktop/SecGloss/s-gly)的 [*認證*](/windows/desktop/SecGloss/c-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-264">Used to add [*credentials*](/windows/desktop/SecGloss/c-gly) for a [*security principal*](/windows/desktop/SecGloss/s-gly).</span></span><br/>                                                                                                                                                                                                                                                                              |
| [<span data-ttu-id="38081-265">**SpApplyControlToken**</span><span class="sxs-lookup"><span data-stu-id="38081-265">**SpApplyControlToken**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spapplycontroltokenfn)                   | <span data-ttu-id="38081-266">將控制項標記套用至 [*安全性內容*](/windows/desktop/SecGloss/s-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-266">Applies a control token to a [*security context*](/windows/desktop/SecGloss/s-gly).</span></span> <span data-ttu-id="38081-267">[*本地安全機構*](/windows/desktop/SecGloss/l-gly)目前未呼叫此函數 (LSA) 。</span><span class="sxs-lookup"><span data-stu-id="38081-267">This function is not currently called by the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA).</span></span><br/>                                                                                                                                                                              |
| [<span data-ttu-id="38081-268">**SpDeleteCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-268">**SpDeleteContext**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-kspdeletecontextfn)                           | <span data-ttu-id="38081-269">刪除 [*安全性內容*](/windows/desktop/SecGloss/s-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-269">Deletes a [*security context*](/windows/desktop/SecGloss/s-gly).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="38081-270">**SpDeleteCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-270">**SpDeleteCredentials**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spdeletecredentialsfn)                   | <span data-ttu-id="38081-271">從 [*安全性套件*](/windows/desktop/SecGloss/s-gly)的 [*主要*](/windows/desktop/SecGloss/p-gly)或 [*補充*](/windows/desktop/SecGloss/s-gly)認證清單中刪除 [*認證*](/windows/desktop/SecGloss/c-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-271">Deletes [*credentials*](/windows/desktop/SecGloss/c-gly) from a [*security package's*](/windows/desktop/SecGloss/s-gly) list of [*primary*](/windows/desktop/SecGloss/p-gly) or [*supplemental*](/windows/desktop/SecGloss/s-gly) credentials.</span></span><br/>                                               |
| [<span data-ttu-id="38081-272">**SpFreeCredentialsHandle**</span><span class="sxs-lookup"><span data-stu-id="38081-272">**SpFreeCredentialsHandle**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spfreecredentialshandlefn)           | <span data-ttu-id="38081-273">釋放呼叫 [**SpAcquireCredentialsHandle**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacquirecredentialshandlefn)函式所取得的 [*認證*](/windows/desktop/SecGloss/c-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-273">Frees [*credentials*](/windows/desktop/SecGloss/c-gly) acquired by calling the [**SpAcquireCredentialsHandle**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacquirecredentialshandlefn) function.</span></span><br/>                                                                                                                                                                                                                                                                                                 |
| [<span data-ttu-id="38081-274">**SpGetCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-274">**SpGetCredentials**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetcredentialsfn)                         | <span data-ttu-id="38081-275">擷取使用者認證。</span><span class="sxs-lookup"><span data-stu-id="38081-275">Retrieves user credentials.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [<span data-ttu-id="38081-276">**SpGetExtendedInformation**</span><span class="sxs-lookup"><span data-stu-id="38081-276">**SpGetExtendedInformation**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetextendedinformationfn)         | <span data-ttu-id="38081-277">提供 [*安全性封裝*](/windows/desktop/SecGloss/s-gly)的延伸資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-277">Provides extended information about a [*security package*](/windows/desktop/SecGloss/s-gly).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="38081-278">**SpGetInfo**</span><span class="sxs-lookup"><span data-stu-id="38081-278">**SpGetInfo**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetinfofn)                                       | <span data-ttu-id="38081-279">提供 [*安全性套件*](/windows/desktop/SecGloss/s-gly)的一般資訊，例如其名稱和功能。</span><span class="sxs-lookup"><span data-stu-id="38081-279">Provides general information about the [*security package*](/windows/desktop/SecGloss/s-gly), such as its name and capabilities.</span></span><br/>                                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="38081-280">**SpGetUserInfo**</span><span class="sxs-lookup"><span data-stu-id="38081-280">**SpGetUserInfo**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetuserinfofn)                               | <span data-ttu-id="38081-281">抓取登入 [*會話*](/windows/desktop/SecGloss/s-gly)的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-281">Retrieves information about a logon [*session*](/windows/desktop/SecGloss/s-gly).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                 |
| [<span data-ttu-id="38081-282">**SPInitialize**</span><span class="sxs-lookup"><span data-stu-id="38081-282">**SPInitialize**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitializefn)                                 | <span data-ttu-id="38081-283">[*本地安全機構*](/windows/desktop/SecGloss/l-gly)會呼叫一次 (LSA) 來提供 [*安全性封裝*](/windows/desktop/SecGloss/s-gly)和一般安全性資訊，以及支援函式的分派資料表。</span><span class="sxs-lookup"><span data-stu-id="38081-283">Is called once by the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) to provide a [*security package*](/windows/desktop/SecGloss/s-gly) with general security information and a dispatch table of support functions.</span></span><br/>                                                                                                                                          |
| [<span data-ttu-id="38081-284">**SpInitLsaModeCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-284">**SpInitLsaModeContext**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitlsamodecontextfn)                 | <span data-ttu-id="38081-285">用來在伺服器和用戶端之間建立 [*安全性內容*](/windows/desktop/SecGloss/c-gly) 的用戶端分派函數。</span><span class="sxs-lookup"><span data-stu-id="38081-285">The client dispatch function used to establish a [*security context*](/windows/desktop/SecGloss/c-gly) between a server and client.</span></span><br/>                                                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="38081-286">**SpQueryCoNtextAttributes**</span><span class="sxs-lookup"><span data-stu-id="38081-286">**SpQueryContextAttributes**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spquerycontextattributesfn)         | <span data-ttu-id="38081-287">捕獲 [*安全性內容*](/windows/desktop/SecGloss/s-gly)的屬性。</span><span class="sxs-lookup"><span data-stu-id="38081-287">Retrieves the attributes of a [*security context*](/windows/desktop/SecGloss/s-gly).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="38081-288">**SpQueryCredentialsAttributes**</span><span class="sxs-lookup"><span data-stu-id="38081-288">**SpQueryCredentialsAttributes**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spquerycredentialsattributesfn) | <span data-ttu-id="38081-289">抓取 [*認證*](/windows/desktop/SecGloss/c-gly)的屬性。</span><span class="sxs-lookup"><span data-stu-id="38081-289">Retrieves the attributes for a [*credential*](/windows/desktop/SecGloss/c-gly).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                           |
| [<span data-ttu-id="38081-290">**SpSaveCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-290">**SpSaveCredentials**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spsavecredentialsfn)                       | <span data-ttu-id="38081-291">將 [*補充認證*](/windows/desktop/SecGloss/s-gly) 儲存至使用者物件。</span><span class="sxs-lookup"><span data-stu-id="38081-291">Saves a [*supplemental credential*](/windows/desktop/SecGloss/s-gly) to the user object.</span></span><br/>                                                                                                                                                                                                                                                                                                                                        |
| [<span data-ttu-id="38081-292">**SpSetExtendedInformation**</span><span class="sxs-lookup"><span data-stu-id="38081-292">**SpSetExtendedInformation**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spsetextendedinformationfn)         | <span data-ttu-id="38081-293">設定 [*安全性封裝*](/windows/desktop/SecGloss/s-gly)的延伸資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-293">Sets extended information about the [*security package*](/windows/desktop/SecGloss/s-gly).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="38081-294">[**SpShutdown**](/previous-versions/windows/desktop/legacy/aa380183(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="38081-294">[**SpShutdown**](/previous-versions/windows/desktop/legacy/aa380183(v=vs.85))</span></span>                                     | <span data-ttu-id="38081-295">在卸載 SSP/AP 之前，執行任何所需的清除。</span><span class="sxs-lookup"><span data-stu-id="38081-295">Performs any cleanup required before the SSP/AP is unloaded.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [<span data-ttu-id="38081-296">**SslCrackCertificate**</span><span class="sxs-lookup"><span data-stu-id="38081-296">**SslCrackCertificate**</span></span>](/windows/desktop/api/Schannel/nf-schannel-sslcrackcertificate)                   | <span data-ttu-id="38081-297">傳回 [**X509Certificate**](/windows/desktop/api/Schannel/ns-schannel-x509certificate) 結構，其中包含指定之憑證 [*BLOB*](/windows/desktop/SecGloss/b-gly)中包含的資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-297">Returns an [**X509Certificate**](/windows/desktop/api/Schannel/ns-schannel-x509certificate) structure with the information contained in the specified certificate [*BLOB*](/windows/desktop/SecGloss/b-gly).</span></span><br/>                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="38081-298">**SslEmptyCache**</span><span class="sxs-lookup"><span data-stu-id="38081-298">**SslEmptyCache**</span></span>](/windows/desktop/api/Schannel/nf-schannel-sslemptycachea)                               | <span data-ttu-id="38081-299">從 Schannel 快取中移除指定的字串。</span><span class="sxs-lookup"><span data-stu-id="38081-299">Removes the specified string from the Schannel cache.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| [<span data-ttu-id="38081-300">**SslFreeCertificate**</span><span class="sxs-lookup"><span data-stu-id="38081-300">**SslFreeCertificate**</span></span>](/windows/desktop/api/Schannel/nf-schannel-sslfreecertificate)                     | <span data-ttu-id="38081-301">釋放先前呼叫 [**SslCrackCertificate**](/windows/desktop/api/Schannel/nf-schannel-sslcrackcertificate) 函式所配置的憑證。</span><span class="sxs-lookup"><span data-stu-id="38081-301">Frees a certificate that was allocated by a previous call to the [**SslCrackCertificate**](/windows/desktop/api/Schannel/nf-schannel-sslcrackcertificate) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                |



 

## <a name="functions-implemented-by-user-mode-sspaps"></a><span data-ttu-id="38081-302">使用者模式 SSP/Ap 所執行的函式</span><span class="sxs-lookup"><span data-stu-id="38081-302">Functions Implemented by User-mode SSP/APs</span></span>

<span data-ttu-id="38081-303">下列函式是由 [*安全性支援提供者*](/windows/desktop/SecGloss/s-gly) / [*驗證套件*](/windows/desktop/SecGloss/a-gly)所執行， (可以載入用戶端/伺服器應用程式的 SSP/ap) 。</span><span class="sxs-lookup"><span data-stu-id="38081-303">The following functions are implemented by [*Security Support Provider*](/windows/desktop/SecGloss/s-gly)/[*Authentication Packages*](/windows/desktop/SecGloss/a-gly) (SSP/APs) that can be loaded into client/server applications.</span></span>

<span data-ttu-id="38081-304">SSP/AP 表示它會在 [**SpInitLsaModeCoNtext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitlsamodecontextfn)和 [**SpAcceptLsaModeCoNtext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacceptlsamodecontextfn)函式的 *MappedCoNtext* 參數中傳回 **TRUE** ，以執行使用者模式函數。</span><span class="sxs-lookup"><span data-stu-id="38081-304">An SSP/AP indicates that it implements the user-mode functions by returning **TRUE** in the *MappedContext* parameter of the [**SpInitLsaModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitlsamodecontextfn) and [**SpAcceptLsaModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacceptlsamodecontextfn) functions.</span></span> <span data-ttu-id="38081-305">**SpInitLsaModeCoNtext** 函數是由傳輸層級應用程式的用戶端所使用，而 **SpAcceptLsaModeCoNtext** 則是由伺服器端使用。</span><span class="sxs-lookup"><span data-stu-id="38081-305">The **SpInitLsaModeContext** function is used by the client side of a transport level application, while **SpAcceptLsaModeContext** is used by the server side.</span></span>

<span data-ttu-id="38081-306">將 SSP/AP 載入至用戶端進程或伺服器進程是由安全性提供者 DLL （Security.dll 或 Secur32.dll 所處理。</span><span class="sxs-lookup"><span data-stu-id="38081-306">Loading an SSP/AP into the client process or server process is handled by the security provider DLL, either Security.dll or Secur32.dll.</span></span> <span data-ttu-id="38081-307">安全性提供者 DLL 會藉由找出 SSP/AP 所執行之 [**SpUserModeInitialize**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spusermodeinitializefn) 函式的位址並加以呼叫，來載入 SSP/ap。</span><span class="sxs-lookup"><span data-stu-id="38081-307">The security provider DLL loads the SSP/AP by locating the address of the [**SpUserModeInitialize**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spusermodeinitializefn) function implemented by the SSP/AP and calling it.</span></span> <span data-ttu-id="38081-308">此函式會傳回一組表格，其中包含每個 [*安全性封裝*](/windows/desktop/SecGloss/s-gly)中所執行之使用者模式函數的指標。</span><span class="sxs-lookup"><span data-stu-id="38081-308">This function returns a set of tables that contain pointers to the user-mode functions implemented in each [*security package*](/windows/desktop/SecGloss/s-gly).</span></span>

<span data-ttu-id="38081-309">將 SSP/AP 載入至用戶端或伺服器進程之後， (LSA) 的「 [*本地安全機構*](/windows/desktop/SecGloss/l-gly) 」會將 [**SpInitLsaModeCoNtext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitlsamodecontextfn) 或 [**SpAcceptLsaModeCoNtext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacceptlsamodecontextfn)) 所傳回的安全性內容 (資訊，以及任何其他與內容相關的資料複製到處理程式，並呼叫安全性封裝的 [**SpInitUserModeCoNtext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitusermodecontextfn) 函式。</span><span class="sxs-lookup"><span data-stu-id="38081-309">After the SSP/AP is loaded into the client or server process, the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) will copy the security context information (returned by [**SpInitLsaModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitlsamodecontextfn) or [**SpAcceptLsaModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacceptlsamodecontextfn)) and any additional context-related data to the process and call the security package's [**SpInitUserModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitusermodecontextfn) function.</span></span>

<span data-ttu-id="38081-310">用戶端/伺服器應用程式會藉由呼叫 (SSPI) 函式的 [安全性支援提供者介面](sspi.md) 來存取使用者模式功能。</span><span class="sxs-lookup"><span data-stu-id="38081-310">Client/server applications access user-mode functionality by calling [Security Support Provider Interface](sspi.md) (SSPI) functions.</span></span> <span data-ttu-id="38081-311">SSPI 函式是由安全性提供者 DLL 使用封裝提供的 [**SECPKG \_ 使用者 \_ \_**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_user_function_table) 函式資料表所對應。</span><span class="sxs-lookup"><span data-stu-id="38081-311">The SSPI functions are mapped by the security provider DLL by using the [**SECPKG\_USER\_FUNCTION\_TABLE**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_user_function_table) supplied by the package.</span></span>



| <span data-ttu-id="38081-312">函式</span><span class="sxs-lookup"><span data-stu-id="38081-312">Function</span></span>                                                           | <span data-ttu-id="38081-313">描述</span><span class="sxs-lookup"><span data-stu-id="38081-313">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|--------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-314">**SpCompleteAuthToken**</span><span class="sxs-lookup"><span data-stu-id="38081-314">**SpCompleteAuthToken**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spcompleteauthtokenfn)                 | <span data-ttu-id="38081-315">完成驗證權杖。</span><span class="sxs-lookup"><span data-stu-id="38081-315">Completes an authentication token.</span></span> <br/> <span data-ttu-id="38081-316">實行 SSPI [**CompleteAuthToken**](/windows/desktop/api/Sspi/nf-sspi-completeauthtoken) 函式。</span><span class="sxs-lookup"><span data-stu-id="38081-316">Implements the SSPI [**CompleteAuthToken**](/windows/desktop/api/Sspi/nf-sspi-completeauthtoken) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="38081-317">**SpDeleteCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-317">**SpDeleteContext**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-kspdeletecontextfn)                         | <span data-ttu-id="38081-318">刪除 [*安全性內容*](/windows/desktop/SecGloss/s-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-318">Deletes a [*security context*](/windows/desktop/SecGloss/s-gly).</span></span><br/> <span data-ttu-id="38081-319">實行 SSPI [**DeleteSecurityCoNtext**](/windows/desktop/api/Sspi/nf-sspi-deletesecuritycontext) 函式。</span><span class="sxs-lookup"><span data-stu-id="38081-319">Implements the SSPI [**DeleteSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-deletesecuritycontext) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                       |
| [<span data-ttu-id="38081-320">**SpExportSecurityCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-320">**SpExportSecurityContext**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spexportsecuritycontextfn)         | <span data-ttu-id="38081-321">將安全性內容匯出至另一個進程。</span><span class="sxs-lookup"><span data-stu-id="38081-321">Exports a security context to another process.</span></span><br/> <span data-ttu-id="38081-322">實行 SSPI [**ExportSecurityCoNtext**](/windows/desktop/api/Sspi/nf-sspi-exportsecuritycontext) 函式。</span><span class="sxs-lookup"><span data-stu-id="38081-322">Implements the SSPI [**ExportSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-exportsecuritycontext) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="38081-323">**SpFormatCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-323">**SpFormatCredentials**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spformatcredentialsfn)                 | <span data-ttu-id="38081-324">格式化要儲存在使用者物件中的 [*認證*](/windows/desktop/SecGloss/c-gly) 。</span><span class="sxs-lookup"><span data-stu-id="38081-324">Formats [*credentials*](/windows/desktop/SecGloss/c-gly) to be stored in a user object.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="38081-325">**SpGetCoNtextToken**</span><span class="sxs-lookup"><span data-stu-id="38081-325">**SpGetContextToken**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetcontexttokenfn)                     | <span data-ttu-id="38081-326">取得要模擬的權杖。</span><span class="sxs-lookup"><span data-stu-id="38081-326">Obtains the token to impersonate.</span></span><br/> <span data-ttu-id="38081-327">由 SSPI [**ImpersonateSecurityCoNtext**](/windows/desktop/api/Sspi/nf-sspi-impersonatesecuritycontext) 函式使用。</span><span class="sxs-lookup"><span data-stu-id="38081-327">Used by the SSPI [**ImpersonateSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-impersonatesecuritycontext) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="38081-328">**SpImportSecurityCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-328">**SpImportSecurityContext**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spimportsecuritycontextfn)         | <span data-ttu-id="38081-329">從另一個進程匯入安全性內容。</span><span class="sxs-lookup"><span data-stu-id="38081-329">Imports a security context from another process.</span></span><br/> <span data-ttu-id="38081-330">實行 SSPI [**ImportSecurityCoNtext**](/windows/desktop/api/Sspi/nf-sspi-importsecuritycontexta) 函式。</span><span class="sxs-lookup"><span data-stu-id="38081-330">Implements the SSPI [**ImportSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-importsecuritycontexta) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="38081-331">**SpInitUserModeCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-331">**SpInitUserModeContext**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitusermodecontextfn)             | <span data-ttu-id="38081-332">從封裝的 [*本地安全機構*](/windows/desktop/SecGloss/l-gly) (LSA) 模式內容建立使用者模式 [*安全性內容*](/windows/desktop/SecGloss/s-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-332">Creates a user-mode [*security context*](/windows/desktop/SecGloss/s-gly) from a packed [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA)-mode context.</span></span><br/>                                                                                                                                                                                                                                                                                                 |
| [<span data-ttu-id="38081-333">**SpInstanceInit**</span><span class="sxs-lookup"><span data-stu-id="38081-333">**SpInstanceInit**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinstanceinitfn)                           | <span data-ttu-id="38081-334">初始化 SSP/AP 中的使用者模式安全性封裝。</span><span class="sxs-lookup"><span data-stu-id="38081-334">Initializes user-mode security packages in an SSP/AP.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="38081-335">**SpMakeSignature**</span><span class="sxs-lookup"><span data-stu-id="38081-335">**SpMakeSignature**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-kspmakesignaturefn)                         | <span data-ttu-id="38081-336">[*根據指定*](/windows/desktop/SecGloss/d-gly)的訊息和 [*安全性內容*](/windows/desktop/SecGloss/s-gly)產生簽章。</span><span class="sxs-lookup"><span data-stu-id="38081-336">Generates a [*signature*](/windows/desktop/SecGloss/d-gly) based on the specified message and [*security context*](/windows/desktop/SecGloss/s-gly).</span></span><br/> <span data-ttu-id="38081-337">實行 SSPI [**MakeSignature**](/windows/desktop/api/Sspi/nf-sspi-makesignature) 函式。</span><span class="sxs-lookup"><span data-stu-id="38081-337">Implements the SSPI [**MakeSignature**](/windows/desktop/api/Sspi/nf-sspi-makesignature) function.</span></span><br/>                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="38081-338">**SpMarshallSupplementalCreds**</span><span class="sxs-lookup"><span data-stu-id="38081-338">**SpMarshallSupplementalCreds**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spmarshallsupplementalcredsfn) | <span data-ttu-id="38081-339">將來自公用格式的 [*補充認證*](/windows/desktop/SecGloss/s-gly) 轉換成適合本機程序呼叫的格式。</span><span class="sxs-lookup"><span data-stu-id="38081-339">Converts [*supplemental credentials*](/windows/desktop/SecGloss/s-gly) from a public format into a format suitable for local procedure calls.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="38081-340">**SpQueryCoNtextAttributes**</span><span class="sxs-lookup"><span data-stu-id="38081-340">**SpQueryContextAttributes**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spquerycontextattributesfn)       | <span data-ttu-id="38081-341">捕獲 [*安全性內容*](/windows/desktop/SecGloss/s-gly)的屬性。</span><span class="sxs-lookup"><span data-stu-id="38081-341">Retrieves the attributes of a [*security context*](/windows/desktop/SecGloss/s-gly).</span></span><br/> <span data-ttu-id="38081-342">將 SSPI [**QueryCoNtextAttributes (一般)**](/windows/win32/api/sspi/nf-sspi-querycontextattributesa) 函式。</span><span class="sxs-lookup"><span data-stu-id="38081-342">Implements the SSPI [**QueryContextAttributes (General)**](/windows/win32/api/sspi/nf-sspi-querycontextattributesa) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                             |
| [<span data-ttu-id="38081-343">**SpSealMessage**</span><span class="sxs-lookup"><span data-stu-id="38081-343">**SpSealMessage**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spsealmessagefn)                             | <span data-ttu-id="38081-344">加密在用戶端與伺服器之間交換的訊息。</span><span class="sxs-lookup"><span data-stu-id="38081-344">Encrypts a message exchanged between a client and server.</span></span><br/> <span data-ttu-id="38081-345">將 SSPI [**EncryptMessage (一般)**](/windows/win32/api/sspi/nf-sspi-encryptmessage) 函式。</span><span class="sxs-lookup"><span data-stu-id="38081-345">Implements the SSPI [**EncryptMessage (General)**](/windows/win32/api/sspi/nf-sspi-encryptmessage) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="38081-346">**SpUnsealMessage**</span><span class="sxs-lookup"><span data-stu-id="38081-346">**SpUnsealMessage**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spunsealmessagefn)                         | <span data-ttu-id="38081-347">解密先前使用 [**SpSealMessage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spsealmessagefn) 函式加密的訊息。</span><span class="sxs-lookup"><span data-stu-id="38081-347">Decrypts a message that was previously encrypted with the [**SpSealMessage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spsealmessagefn) function.</span></span><br/> <span data-ttu-id="38081-348">將 SSPI [**DecryptMessage (一般)**](/windows/win32/api/sspi/nf-sspi-decryptmessage) 函式。</span><span class="sxs-lookup"><span data-stu-id="38081-348">Implements the SSPI [**DecryptMessage (General)**](/windows/win32/api/sspi/nf-sspi-decryptmessage) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="38081-349">**SpUserModeInitialize**</span><span class="sxs-lookup"><span data-stu-id="38081-349">**SpUserModeInitialize**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spusermodeinitializefn)               | <span data-ttu-id="38081-350">當 [*安全性支援提供者*](/windows/desktop/SecGloss/s-gly) / [*驗證套件*](/windows/desktop/SecGloss/a-gly) (SSP/AP) DLL 載入至用戶端/伺服器應用程式的進程空間時呼叫。</span><span class="sxs-lookup"><span data-stu-id="38081-350">Called when a [*Security Support Provider*](/windows/desktop/SecGloss/s-gly)/[*authentication package*](/windows/desktop/SecGloss/a-gly) (SSP/AP) DLL is loaded into the process space of a client/server application.</span></span> <span data-ttu-id="38081-351">此函式會針對 SSP/AP DLL 中的每個 [*安全性封裝*](/windows/desktop/SecGloss/s-gly)，提供 [**SECPKG \_ 使用者 \_ 函數 \_ 資料表**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_user_function_table)資料表。</span><span class="sxs-lookup"><span data-stu-id="38081-351">This function provides the [**SECPKG\_USER\_FUNCTION\_TABLE**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_user_function_table) tables for each [*security package*](/windows/desktop/SecGloss/s-gly) in the SSP/AP DLL.</span></span><br/> |
| [<span data-ttu-id="38081-352">**SpVerifySignature**</span><span class="sxs-lookup"><span data-stu-id="38081-352">**SpVerifySignature**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-kspverifysignaturefn)                     | <span data-ttu-id="38081-353">根據簽章來確認收到的訊息是否正確 [*。*](/windows/desktop/SecGloss/d-gly)</span><span class="sxs-lookup"><span data-stu-id="38081-353">Verifies that the message received is correct according to the [*signature*](/windows/desktop/SecGloss/d-gly).</span></span><br/> <span data-ttu-id="38081-354">實行 SSPI [**VerifySignature**](/windows/desktop/api/Sspi/nf-sspi-verifysignature) 函式。</span><span class="sxs-lookup"><span data-stu-id="38081-354">Implements the SSPI [**VerifySignature**](/windows/desktop/api/Sspi/nf-sspi-verifysignature) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                                   |



 

## <a name="lsa-functions-called-by-sspaps"></a><span data-ttu-id="38081-355">由 SSP/Ap 呼叫的 LSA 函數</span><span class="sxs-lookup"><span data-stu-id="38081-355">LSA Functions Called by SSP/APs</span></span>

<span data-ttu-id="38081-356">[*本地安全機構*](/windows/desktop/SecGloss/l-gly) (LSA) 為 [*安全性支援提供者*](/windows/desktop/SecGloss/s-gly)驗證套件中部署的 [*安全性套件*](/windows/desktop/SecGloss/s-gly)提供下列功能 / [](/windows/desktop/SecGloss/a-gly) (SSP/ap) 。</span><span class="sxs-lookup"><span data-stu-id="38081-356">The [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) provides the following functions to [*security packages*](/windows/desktop/SecGloss/s-gly) deployed in [*Security Support Provider*](/windows/desktop/SecGloss/s-gly)/[*Authentication Packages*](/windows/desktop/SecGloss/a-gly) (SSP/APs).</span></span> <span data-ttu-id="38081-357">這些函式可在 [**lsa SECPKG 函式 \_ \_ \_ 資料表**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_function_table) 結構中使用，而當 SSP/AP 載入至 LSA 的進程空間時，可以呼叫這些函數。</span><span class="sxs-lookup"><span data-stu-id="38081-357">The functions are available in the [**LSA\_SECPKG\_FUNCTION\_TABLE**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_function_table) structure and can be called while the SSP/AP is loaded into the LSA's process space.</span></span> <span data-ttu-id="38081-358">下列功能可供所有 Ap 使用。</span><span class="sxs-lookup"><span data-stu-id="38081-358">The following functions are available to all APs.</span></span>



| <span data-ttu-id="38081-359">函式</span><span class="sxs-lookup"><span data-stu-id="38081-359">Function</span></span>                                             | <span data-ttu-id="38081-360">描述</span><span class="sxs-lookup"><span data-stu-id="38081-360">Description</span></span>                                                                                                                       |
|------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-361">**AddCredential**</span><span class="sxs-lookup"><span data-stu-id="38081-361">**AddCredential**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_add_credential)               | <span data-ttu-id="38081-362">新增使用者 [*認證*](/windows/desktop/SecGloss/c-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-362">Adds user [*credentials*](/windows/desktop/SecGloss/c-gly).</span></span><br/>                         |
| [<span data-ttu-id="38081-363">**AllocateClientBuffer**</span><span class="sxs-lookup"><span data-stu-id="38081-363">**AllocateClientBuffer**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_client_buffer) | <span data-ttu-id="38081-364">在封裝用戶端的位址空間中配置記憶體。</span><span class="sxs-lookup"><span data-stu-id="38081-364">Allocates memory in the address space of the package's client.</span></span><br/>                                                         |
| [<span data-ttu-id="38081-365">**AllocateLsaHeap**</span><span class="sxs-lookup"><span data-stu-id="38081-365">**AllocateLsaHeap**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_lsa_heap)           | <span data-ttu-id="38081-366">在堆積上配置記憶體。</span><span class="sxs-lookup"><span data-stu-id="38081-366">Allocates memory on the heap.</span></span> <span data-ttu-id="38081-367">傳遞回 LSA 的部分資訊應使用此函式進行配置。</span><span class="sxs-lookup"><span data-stu-id="38081-367">Some information passed back to the LSA is expected to be allocated using this function.</span></span><br/> |
| [<span data-ttu-id="38081-368">**CopyFromClientBuffer**</span><span class="sxs-lookup"><span data-stu-id="38081-368">**CopyFromClientBuffer**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_copy_from_client_buffer) | <span data-ttu-id="38081-369">從用戶端進程的位址空間，將資訊複製到目前進程中的緩衝區。</span><span class="sxs-lookup"><span data-stu-id="38081-369">Copies information from the address space of a client process into a buffer in the current process.</span></span><br/>                    |
| [<span data-ttu-id="38081-370">**CopyToClientBuffer**</span><span class="sxs-lookup"><span data-stu-id="38081-370">**CopyToClientBuffer**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_copy_to_client_buffer)     | <span data-ttu-id="38081-371">從目前進程中的緩衝區將資訊複製到用戶端進程的位址空間。</span><span class="sxs-lookup"><span data-stu-id="38081-371">Copies information from a buffer in the current process into a client process's address space.</span></span><br/>                         |
| [<span data-ttu-id="38081-372">**CreateLogonSession**</span><span class="sxs-lookup"><span data-stu-id="38081-372">**CreateLogonSession**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_create_logon_session)     | <span data-ttu-id="38081-373">建立登入會話。</span><span class="sxs-lookup"><span data-stu-id="38081-373">Creates logon sessions.</span></span><br/>                                                                                                |
| [<span data-ttu-id="38081-374">**DeleteCredential**</span><span class="sxs-lookup"><span data-stu-id="38081-374">**DeleteCredential**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_delete_credential)         | <span data-ttu-id="38081-375">刪除使用者認證。</span><span class="sxs-lookup"><span data-stu-id="38081-375">Deletes user credentials.</span></span><br/>                                                                                              |
| [<span data-ttu-id="38081-376">**DeleteLogonSession**</span><span class="sxs-lookup"><span data-stu-id="38081-376">**DeleteLogonSession**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_delete_logon_session)     | <span data-ttu-id="38081-377">刪除 LSA 登入會話。</span><span class="sxs-lookup"><span data-stu-id="38081-377">Deletes an LSA logon session.</span></span><br/>                                                                                          |
| [<span data-ttu-id="38081-378">**FreeClientBuffer**</span><span class="sxs-lookup"><span data-stu-id="38081-378">**FreeClientBuffer**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_free_client_buffer)         | <span data-ttu-id="38081-379">釋出套件用戶端位址空間中的記憶體。</span><span class="sxs-lookup"><span data-stu-id="38081-379">Frees memory in the address space of the package's client.</span></span><br/>                                                             |
| [<span data-ttu-id="38081-380">**FreeLsaHeap**</span><span class="sxs-lookup"><span data-stu-id="38081-380">**FreeLsaHeap**</span></span>](/windows/win32/api/ntlsa/nc-ntlsa-lsa_free_lsa_heap)                   | <span data-ttu-id="38081-381">解除配置先前由 [**AllocateLsaHeap**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_lsa_heap)配置的堆積記憶體。</span><span class="sxs-lookup"><span data-stu-id="38081-381">Deallocates heap memory previously allocated by [**AllocateLsaHeap**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_lsa_heap).</span></span><br/>                            |
| [<span data-ttu-id="38081-382">**GetCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-382">**GetCredentials**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_credentials)             | <span data-ttu-id="38081-383">捕獲與登入會話相關聯的認證。</span><span class="sxs-lookup"><span data-stu-id="38081-383">Retrieves credentials associated with a logon session.</span></span><br/>                                                                 |



 

<span data-ttu-id="38081-384">下列函式適用于 SSP/Ap。</span><span class="sxs-lookup"><span data-stu-id="38081-384">The following functions are available to SSP/APs.</span></span>



| <span data-ttu-id="38081-385">函式</span><span class="sxs-lookup"><span data-stu-id="38081-385">Function</span></span>                                                 | <span data-ttu-id="38081-386">描述</span><span class="sxs-lookup"><span data-stu-id="38081-386">Description</span></span>                                                                                                                                                                                                                                                                                                                                                        |
|----------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-387">**AllocateSharedMemory**</span><span class="sxs-lookup"><span data-stu-id="38081-387">**AllocateSharedMemory**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_shared_memory)     | <span data-ttu-id="38081-388">配置共用記憶體的區段。</span><span class="sxs-lookup"><span data-stu-id="38081-388">Allocates a section of shared memory.</span></span><br/>                                                                                                                                                                                                                                                                                                                   |
| [<span data-ttu-id="38081-389">**AuditAccountLogon**</span><span class="sxs-lookup"><span data-stu-id="38081-389">**AuditAccountLogon**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_audit_account_logon)           | <span data-ttu-id="38081-390">建立嘗試登入的審核記錄。</span><span class="sxs-lookup"><span data-stu-id="38081-390">Creates audit records for attempted logons.</span></span><br/>                                                                                                                                                                                                                                                                                                             |
| [<span data-ttu-id="38081-391">**AuditLogon**</span><span class="sxs-lookup"><span data-stu-id="38081-391">**AuditLogon**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_audit_logon)                         | <span data-ttu-id="38081-392">建立登入會話的審核記錄。</span><span class="sxs-lookup"><span data-stu-id="38081-392">Creates an audit trail for a logon session.</span></span><br/>                                                                                                                                                                                                                                                                                                             |
| [<span data-ttu-id="38081-393">**CallPackage**</span><span class="sxs-lookup"><span data-stu-id="38081-393">**CallPackage**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_call_package)                       | <span data-ttu-id="38081-394">呼叫封裝。</span><span class="sxs-lookup"><span data-stu-id="38081-394">Calls a package.</span></span><br/>                                                                                                                                                                                                                                                                                                                                        |
| [<span data-ttu-id="38081-395">**CallPackageEx**</span><span class="sxs-lookup"><span data-stu-id="38081-395">**CallPackageEx**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_call_packageex)                   | <span data-ttu-id="38081-396">呼叫另一個套件。</span><span class="sxs-lookup"><span data-stu-id="38081-396">Calls another package.</span></span><br/>                                                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="38081-397">**CallPackagePassthrough**</span><span class="sxs-lookup"><span data-stu-id="38081-397">**CallPackagePassthrough**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_call_package_passthrough) | <span data-ttu-id="38081-398">呼叫另一個安全性封裝。</span><span class="sxs-lookup"><span data-stu-id="38081-398">Calls one security package from another.</span></span><br/>                                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="38081-399">**CancelNotification**</span><span class="sxs-lookup"><span data-stu-id="38081-399">**CancelNotification**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_cancel_notification)         | <span data-ttu-id="38081-400">取消特殊事件的通知。</span><span class="sxs-lookup"><span data-stu-id="38081-400">Cancels notification for special events.</span></span><br/>                                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="38081-401">**ClientCallback**</span><span class="sxs-lookup"><span data-stu-id="38081-401">**ClientCallback**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_client_callback)                 | <span data-ttu-id="38081-402">允許安全性封裝在用戶端進程中叫用函數。</span><span class="sxs-lookup"><span data-stu-id="38081-402">Allows a security package to invoke a function in the client process.</span></span><br/> <span data-ttu-id="38081-403">如需 [**ClientCallback**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_client_callback) 函式原型，請參閱 ClientCallback 函式 [*原型*](/previous-versions/windows/desktop/legacy/aa374759(v=vs.85))。</span><span class="sxs-lookup"><span data-stu-id="38081-403">For a [**ClientCallback**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_client_callback) function prototype, see [*ClientCallback Function Prototype*](/previous-versions/windows/desktop/legacy/aa374759(v=vs.85)).</span></span><br/>                                                                                                              |
| [<span data-ttu-id="38081-404">**CloseSamUser**</span><span class="sxs-lookup"><span data-stu-id="38081-404">**CloseSamUser**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_close_sam_user)                     | <span data-ttu-id="38081-405">關閉安全性帳戶管理員資料庫專案的控制碼。</span><span class="sxs-lookup"><span data-stu-id="38081-405">Closes a handle to a Security Accounts Manager database entry.</span></span><br/>                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="38081-406">**ConvertAuthDataToToken**</span><span class="sxs-lookup"><span data-stu-id="38081-406">**ConvertAuthDataToToken**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_convert_auth_data_to_token) | <span data-ttu-id="38081-407">將授權資料轉換為使用者權杖。</span><span class="sxs-lookup"><span data-stu-id="38081-407">Converts authorization data to a user token.</span></span><br/>                                                                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="38081-408">**CrackSingleName**</span><span class="sxs-lookup"><span data-stu-id="38081-408">**CrackSingleName**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_crack_single_name)               | <span data-ttu-id="38081-409">將名稱從一種格式轉換成另一種格式。</span><span class="sxs-lookup"><span data-stu-id="38081-409">Converts a name from one format to another.</span></span><br/>                                                                                                                                                                                                                                                                                                             |
| [<span data-ttu-id="38081-410">**CreateSharedMemory**</span><span class="sxs-lookup"><span data-stu-id="38081-410">**CreateSharedMemory**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_create_shared_memory)         | <span data-ttu-id="38081-411">建立用戶端與 SSP/AP 之間共用的記憶體區段。</span><span class="sxs-lookup"><span data-stu-id="38081-411">Creates a section of memory shared between clients and the SSP/AP.</span></span><br/>                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="38081-412">**CreateThread**</span><span class="sxs-lookup"><span data-stu-id="38081-412">**CreateThread**</span></span>](/windows/win32/api/ntsecpkg/nc-ntsecpkg-lsa_create_thread)                     | <span data-ttu-id="38081-413">建立新的執行緒。</span><span class="sxs-lookup"><span data-stu-id="38081-413">Creates a new thread.</span></span><br/>                                                                                                                                                                                                                                                                                                                                   |
| [<span data-ttu-id="38081-414">**CreateToken**</span><span class="sxs-lookup"><span data-stu-id="38081-414">**CreateToken**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_create_token)                       | <span data-ttu-id="38081-415">建立權杖。</span><span class="sxs-lookup"><span data-stu-id="38081-415">Creates a token.</span></span><br/>                                                                                                                                                                                                                                                                                                                                        |
| [<span data-ttu-id="38081-416">**DeleteSharedMemory**</span><span class="sxs-lookup"><span data-stu-id="38081-416">**DeleteSharedMemory**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_delete_shared_memory)         | <span data-ttu-id="38081-417">刪除共用記憶體的區段。</span><span class="sxs-lookup"><span data-stu-id="38081-417">Deletes a section of shared memory.</span></span><br/>                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="38081-418">**DuplicateHandle**</span><span class="sxs-lookup"><span data-stu-id="38081-418">**DuplicateHandle**</span></span>](/windows/win32/api/ntsecpkg/nc-ntsecpkg-lsa_duplicate_handle)               | <span data-ttu-id="38081-419">複製控制碼。</span><span class="sxs-lookup"><span data-stu-id="38081-419">Duplicates a handle.</span></span><br/>                                                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="38081-420">**FreeReturnBuffer**</span><span class="sxs-lookup"><span data-stu-id="38081-420">**FreeReturnBuffer**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_free_lsa_heap)             | <span data-ttu-id="38081-421">釋放 LSA 所配置的緩衝區。</span><span class="sxs-lookup"><span data-stu-id="38081-421">Frees a buffer allocated by the LSA.</span></span><br/>                                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="38081-422">**FreeSharedMemory**</span><span class="sxs-lookup"><span data-stu-id="38081-422">**FreeSharedMemory**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_free_shared_memory)             | <span data-ttu-id="38081-423">釋出共用記憶體的區段。</span><span class="sxs-lookup"><span data-stu-id="38081-423">Frees a section of shared memory.</span></span><br/>                                                                                                                                                                                                                                                                                                                       |
| [<span data-ttu-id="38081-424">**GetAuthDataForUser**</span><span class="sxs-lookup"><span data-stu-id="38081-424">**GetAuthDataForUser**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_auth_data_for_user)         | <span data-ttu-id="38081-425">捕獲使用者帳戶的授權資料。</span><span class="sxs-lookup"><span data-stu-id="38081-425">Retrieves authorization data for a user account.</span></span><br/>                                                                                                                                                                                                                                                                                                        |
| [<span data-ttu-id="38081-426">**GetCallInfo**</span><span class="sxs-lookup"><span data-stu-id="38081-426">**GetCallInfo**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_call_info)                       | <span data-ttu-id="38081-427">抓取最近函式呼叫的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-427">Retrieves information about the most recent function call.</span></span><br/>                                                                                                                                                                                                                                                                                              |
| [<span data-ttu-id="38081-428">**GetClientInfo**</span><span class="sxs-lookup"><span data-stu-id="38081-428">**GetClientInfo**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_client_info)                   | <span data-ttu-id="38081-429">抓取有關安全性封裝之使用者進程的資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-429">Retrieves information about the security package's user process.</span></span><br/>                                                                                                                                                                                                                                                                                        |
| [<span data-ttu-id="38081-430">**GetUserAuthData**</span><span class="sxs-lookup"><span data-stu-id="38081-430">**GetUserAuthData**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_user_auth_data)               | <span data-ttu-id="38081-431">傳回使用者的授權資料。</span><span class="sxs-lookup"><span data-stu-id="38081-431">Returns the authorization data for a user.</span></span><br/>                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="38081-432">**GetUserCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-432">**GetUserCredentials**</span></span>                                   | <span data-ttu-id="38081-433">尚未實作。</span><span class="sxs-lookup"><span data-stu-id="38081-433">Not yet implemented.</span></span>                                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="38081-434">[**ImpersonateClient**](/previous-versions/windows/desktop/legacy/aa375494(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="38081-434">[**ImpersonateClient**](/previous-versions/windows/desktop/legacy/aa375494(v=vs.85))</span></span>           | <span data-ttu-id="38081-435">由 [*安全性封裝*](/windows/desktop/SecGloss/s-gly) 呼叫以模擬封裝使用者。</span><span class="sxs-lookup"><span data-stu-id="38081-435">Called by [*security packages*](/windows/desktop/SecGloss/s-gly) to impersonate the package user.</span></span><br/>                                                                                                                                                                                                          |
| [<span data-ttu-id="38081-436">**MapBuffer**</span><span class="sxs-lookup"><span data-stu-id="38081-436">**MapBuffer**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_map_buffer)                           | <span data-ttu-id="38081-437">將 [**之 secbuffer**](/windows/desktop/api/Sspi/ns-sspi-secbuffer)結構對應到 [*安全性支援提供者*](/windows/desktop/SecGloss/s-gly) / [*驗證套件*](/windows/desktop/SecGloss/a-gly)的位址空間 (SSP/AP) 。</span><span class="sxs-lookup"><span data-stu-id="38081-437">Maps a [**SecBuffer**](/windows/desktop/api/Sspi/ns-sspi-secbuffer) structure into the address space of the [*Security Support Provider*](/windows/desktop/SecGloss/s-gly)/[*authentication package*](/windows/desktop/SecGloss/a-gly) (SSP/AP).</span></span><br/>              |
| [<span data-ttu-id="38081-438">**OpenSamUser**</span><span class="sxs-lookup"><span data-stu-id="38081-438">**OpenSamUser**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_open_sam_user)                       | <span data-ttu-id="38081-439">在 (SAM) 資料庫的 [*安全性帳戶管理員*](/windows/desktop/SecGloss/s-gly) 中，抓取使用者帳戶的控制碼。</span><span class="sxs-lookup"><span data-stu-id="38081-439">Retrieves a handle to a user account in the [*Security Accounts Manager*](/windows/desktop/SecGloss/s-gly) (SAM) database.</span></span><br/>                                                                                                                                                               |
| [<span data-ttu-id="38081-440">**RegisterNotification**</span><span class="sxs-lookup"><span data-stu-id="38081-440">**RegisterNotification**</span></span>](/windows/win32/api/ntsecpkg/nc-ntsecpkg-lsa_register_notification)     | <span data-ttu-id="38081-441">提供 [*安全性封裝*](/windows/desktop/SecGloss/s-gly) 通知的機制。</span><span class="sxs-lookup"><span data-stu-id="38081-441">Provides a mechanism whereby the [*security package*](/windows/desktop/SecGloss/s-gly) is notified.</span></span> <span data-ttu-id="38081-442">通知可能會在固定間隔、事件物件已收到信號，或在特定系統事件期間發生。</span><span class="sxs-lookup"><span data-stu-id="38081-442">Notification can occur at fixed intervals, when an event object is signaled, or during certain system events.</span></span><br/>                                                                                          |
| <span data-ttu-id="38081-443">**SaveSupplementalCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-443">**SaveSupplementalCredentials**</span></span>                          | <span data-ttu-id="38081-444">已過時。</span><span class="sxs-lookup"><span data-stu-id="38081-444">Obsolete.</span></span> <span data-ttu-id="38081-445">請勿使用。</span><span class="sxs-lookup"><span data-stu-id="38081-445">Do not use.</span></span><br/>                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="38081-446">[**UnloadPackage**](/previous-versions/windows/desktop/legacy/aa380520(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="38081-446">[**UnloadPackage**](/previous-versions/windows/desktop/legacy/aa380520(v=vs.85))</span></span>                   | <span data-ttu-id="38081-447"> (SSP/AP) 卸載 [*安全性支援提供者*](/windows/desktop/SecGloss/s-gly) / [*驗證套件*](/windows/desktop/SecGloss/a-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-447">Unloads an [*Security Support Provider*](/windows/desktop/SecGloss/s-gly)/[*authentication package*](/windows/desktop/SecGloss/a-gly) (SSP/AP).</span></span><br/>                                                                                 |
| [<span data-ttu-id="38081-448">**UpdateCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-448">**UpdateCredentials**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_update_primary_credentials)           | <span data-ttu-id="38081-449">提供一種機制，讓一個 [*安全性封裝*](/windows/desktop/SecGloss/s-gly)通知其他套件，登入 [*會話*](/windows/desktop/SecGloss/s-gly)的 [*認證*](/windows/desktop/SecGloss/c-gly)已變更。</span><span class="sxs-lookup"><span data-stu-id="38081-449">Provides a mechanism for one [*security package*](/windows/desktop/SecGloss/s-gly) to notify other packages that the [*credentials*](/windows/desktop/SecGloss/c-gly) for a logon [*session*](/windows/desktop/SecGloss/s-gly) have changed.</span></span><br/> |



 

## <a name="lsa-functions-called-by-user-mode-sspaps"></a><span data-ttu-id="38081-450">使用者模式 SSP/Ap 所呼叫的 LSA 函數</span><span class="sxs-lookup"><span data-stu-id="38081-450">LSA Functions Called By User-mode SSP/APs</span></span>

<span data-ttu-id="38081-451">[*安全性支援提供者*](/windows/desktop/SecGloss/s-gly) [](/windows/desktop/SecGloss/s-gly) / [*驗證封裝*](/windows/desktop/SecGloss/a-gly) (SSP/AP) 在使用者模式進程中執行的安全性封裝，可以使用 [**SECPKG \_ DLL \_**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_dll_functions)函式資料表中的指標來存取下列函式。</span><span class="sxs-lookup"><span data-stu-id="38081-451">A [*security package*](/windows/desktop/SecGloss/s-gly) in a [*Security Support Provider*](/windows/desktop/SecGloss/s-gly)/[*authentication package*](/windows/desktop/SecGloss/a-gly) (SSP/AP) executing in a user-mode process can use the pointers in the [**SECPKG\_DLL\_FUNCTIONS**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_dll_functions) table to access the following functions.</span></span>



| <span data-ttu-id="38081-452">函式</span><span class="sxs-lookup"><span data-stu-id="38081-452">Function</span></span>                                     | <span data-ttu-id="38081-453">PSDK 狀態</span><span class="sxs-lookup"><span data-stu-id="38081-453">PSDK status</span></span>                                                                                                                                                                                        |
|----------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="38081-454">[**AllocateHeap**](/previous-versions/windows/desktop/legacy/aa374721(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="38081-454">[**AllocateHeap**](/previous-versions/windows/desktop/legacy/aa374721(v=vs.85))</span></span>         | <span data-ttu-id="38081-455">為傳回到 [*本地安全機構*](/windows/desktop/SecGloss/l-gly) (LSA) 的緩衝區配置記憶體。</span><span class="sxs-lookup"><span data-stu-id="38081-455">Allocates memory for buffers that are returned to the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA).</span></span><br/> |
| <span data-ttu-id="38081-456">[**FreeHeap**](/previous-versions/windows/desktop/legacy/aa375418(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="38081-456">[**FreeHeap**](/previous-versions/windows/desktop/legacy/aa375418(v=vs.85))</span></span>                 | <span data-ttu-id="38081-457">釋放先前使用 [**AllocateHeap**](/previous-versions/windows/desktop/legacy/aa374721(v=vs.85))配置的記憶體。</span><span class="sxs-lookup"><span data-stu-id="38081-457">Frees memory that was previously allocated by using [**AllocateHeap**](/previous-versions/windows/desktop/legacy/aa374721(v=vs.85)).</span></span><br/>                                                                                               |
| <span data-ttu-id="38081-458">[**RegisterCallback**](/previous-versions/windows/desktop/legacy/aa379372(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="38081-458">[**RegisterCallback**](/previous-versions/windows/desktop/legacy/aa379372(v=vs.85))</span></span> | <span data-ttu-id="38081-459">註冊使用者模式回呼函數。</span><span class="sxs-lookup"><span data-stu-id="38081-459">Registers user-mode callback functions.</span></span><br/>                                                                                                                                                 |



 

## <a name="gina-export-functions"></a><span data-ttu-id="38081-460">GINA 匯出函數</span><span class="sxs-lookup"><span data-stu-id="38081-460">GINA Export Functions</span></span>

<span data-ttu-id="38081-461">[*GINA*](/windows/desktop/SecGloss/g-gly) DLL 必須匯出下列函數。</span><span class="sxs-lookup"><span data-stu-id="38081-461">A [*GINA*](/windows/desktop/SecGloss/g-gly) DLL must export the following functions.</span></span>

> [!Note]  
> <span data-ttu-id="38081-462">在 Windows Vista 中會忽略 GINA Dll。</span><span class="sxs-lookup"><span data-stu-id="38081-462">GINA DLLs are ignored in Windows Vista.</span></span>

 



| <span data-ttu-id="38081-463">函式</span><span class="sxs-lookup"><span data-stu-id="38081-463">Function</span></span>                                                                 | <span data-ttu-id="38081-464">描述</span><span class="sxs-lookup"><span data-stu-id="38081-464">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                     |
|--------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-465">**WlxActivateUserShell**</span><span class="sxs-lookup"><span data-stu-id="38081-465">**WlxActivateUserShell**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxactivateusershell)                     | <span data-ttu-id="38081-466">啟用使用者 shell 程式。</span><span class="sxs-lookup"><span data-stu-id="38081-466">Activates the user shell program.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="38081-467">**WlxDisplayLockedNotice**</span><span class="sxs-lookup"><span data-stu-id="38081-467">**WlxDisplayLockedNotice**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxdisplaylockednotice)                 | <span data-ttu-id="38081-468">允許 GINA 顯示鎖定的相關資訊，例如鎖定工作站的人員以及鎖定的時間。</span><span class="sxs-lookup"><span data-stu-id="38081-468">Allows the GINA to display information about the lock, such as who locked the workstation and when it was locked.</span></span><br/>                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="38081-469">**WlxDisplaySASNotice**</span><span class="sxs-lookup"><span data-stu-id="38081-469">**WlxDisplaySASNotice**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxdisplaysasnotice)                       | <span data-ttu-id="38081-470">當沒有使用者登入時， [*Winlogon*](/windows/desktop/SecGloss/w-gly)會呼叫此函式。</span><span class="sxs-lookup"><span data-stu-id="38081-470">[*Winlogon*](/windows/desktop/SecGloss/w-gly) calls this function when no user is logged on.</span></span><br/>                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="38081-471">**WlxDisplayStatusMessage**</span><span class="sxs-lookup"><span data-stu-id="38081-471">**WlxDisplayStatusMessage**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxdisplaystatusmessage)               | <span data-ttu-id="38081-472">[*Winlogon*](/windows/desktop/SecGloss/w-gly) 會在 GINA DLL 應顯示訊息時呼叫此函式。</span><span class="sxs-lookup"><span data-stu-id="38081-472">[*Winlogon*](/windows/desktop/SecGloss/w-gly) calls this function when the GINA DLL should display a message.</span></span><br/>                                                                                                                                                                                                                                           |
| [<span data-ttu-id="38081-473">**WlxGetConsoleSwitchCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-473">**WlxGetConsoleSwitchCredentials**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxgetconsoleswitchcredentials) | <span data-ttu-id="38081-474">[*Winlogon*](/windows/desktop/SecGloss/w-gly) 會呼叫此函式來讀取目前登入的使用者認證，以明確地將其傳送至目標會話。</span><span class="sxs-lookup"><span data-stu-id="38081-474">[*Winlogon*](/windows/desktop/SecGloss/w-gly) calls this function to read the currently logged on user's credentials to transparently transfer them to a target session.</span></span><br/>                                                                                                                                                                                |
| [<span data-ttu-id="38081-475">**WlxGetStatusMessage**</span><span class="sxs-lookup"><span data-stu-id="38081-475">**WlxGetStatusMessage**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxgetstatusmessage)                       | <span data-ttu-id="38081-476">[*Winlogon*](/windows/desktop/SecGloss/w-gly) 會呼叫此函式，以取得 GINA DLL 所顯示的狀態訊息。</span><span class="sxs-lookup"><span data-stu-id="38081-476">[*Winlogon*](/windows/desktop/SecGloss/w-gly) calls this function to get the status message being displayed by the GINA DLL.</span></span><br/>                                                                                                                                                                                                                            |
| [<span data-ttu-id="38081-477">**WlxInitialize**</span><span class="sxs-lookup"><span data-stu-id="38081-477">**WlxInitialize**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxinitialize)                                   | <span data-ttu-id="38081-478">[*Winlogon*](/windows/desktop/SecGloss/w-gly) 會針對電腦上的每個視窗站呼叫此函式一次。</span><span class="sxs-lookup"><span data-stu-id="38081-478">[*Winlogon*](/windows/desktop/SecGloss/w-gly) calls this function once for each window station present on the computer.</span></span> <span data-ttu-id="38081-479">目前，作業系統支援每個工作站一個視窗工作站。</span><span class="sxs-lookup"><span data-stu-id="38081-479">Currently, the operating system supports one window station per workstation.</span></span><br/>                                                                                                                                                    |
| [<span data-ttu-id="38081-480">**WlxIsLockOk**</span><span class="sxs-lookup"><span data-stu-id="38081-480">**WlxIsLockOk**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxislockok)                                       | <span data-ttu-id="38081-481">[*Winlogon*](/windows/desktop/SecGloss/w-gly) 在嘗試鎖定工作站之前，會呼叫此函式。</span><span class="sxs-lookup"><span data-stu-id="38081-481">[*Winlogon*](/windows/desktop/SecGloss/w-gly) calls this function before attempting to lock the workstation.</span></span><br/>                                                                                                                                                                                                                                            |
| [<span data-ttu-id="38081-482">**WlxIsLogoffOk**</span><span class="sxs-lookup"><span data-stu-id="38081-482">**WlxIsLogoffOk**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxislogoffok)                                   | <span data-ttu-id="38081-483">[*Winlogon*](/windows/desktop/SecGloss/w-gly) 會在使用者起始登出作業時呼叫此函式。</span><span class="sxs-lookup"><span data-stu-id="38081-483">[*Winlogon*](/windows/desktop/SecGloss/w-gly) calls this function when the user initiates a logoff operation.</span></span><br/>                                                                                                                                                                                                                                           |
| [<span data-ttu-id="38081-484">**WlxLoggedOnSAS**</span><span class="sxs-lookup"><span data-stu-id="38081-484">**WlxLoggedOnSAS**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxloggedonsas)                                 | <span data-ttu-id="38081-485">[*Winlogon*](/windows/desktop/SecGloss/w-gly) 會在使用者登入時收到 [*安全的注意順序*](/windows/desktop/SecGloss/s-gly) ， (SAS) 事件，而且工作站未鎖定。</span><span class="sxs-lookup"><span data-stu-id="38081-485">[*Winlogon*](/windows/desktop/SecGloss/w-gly) calls this function when it receives a [*secure attention sequence*](/windows/desktop/SecGloss/s-gly) (SAS) event while the user is logged on and the workstation is not locked.</span></span><br/>                                                           |
| [<span data-ttu-id="38081-486">**WlxLoggedOutSAS**</span><span class="sxs-lookup"><span data-stu-id="38081-486">**WlxLoggedOutSAS**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxloggedoutsas)                               | <span data-ttu-id="38081-487">[*Winlogon*](/windows/desktop/SecGloss/w-gly) 在沒有使用者登入時，收到 (SAS) 事件的 [*安全注意順序*](/windows/desktop/SecGloss/s-gly) 時，就會呼叫此函式。</span><span class="sxs-lookup"><span data-stu-id="38081-487">[*Winlogon*](/windows/desktop/SecGloss/w-gly) calls this function when it receives a [*secure attention sequence*](/windows/desktop/SecGloss/s-gly) (SAS) event while no user is logged on.</span></span><br/>                                                                                              |
| [<span data-ttu-id="38081-488">**WlxLogoff**</span><span class="sxs-lookup"><span data-stu-id="38081-488">**WlxLogoff**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxlogoff)                                           | <span data-ttu-id="38081-489">[*Winlogon*](/windows/desktop/SecGloss/w-gly) 會呼叫此函式來通知 GINA 此工作站上的登出操作，讓 GINA 能夠執行任何可能需要的登出作業。</span><span class="sxs-lookup"><span data-stu-id="38081-489">[*Winlogon*](/windows/desktop/SecGloss/w-gly) calls this function to notify the GINA of a logoff operation on this workstation, allowing the GINA to perform any logoff operations that may be required.</span></span><br/>                                                                                                                                                |
| [<span data-ttu-id="38081-490">**WlxNegotiate**</span><span class="sxs-lookup"><span data-stu-id="38081-490">**WlxNegotiate**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxnegotiate)                                     | <span data-ttu-id="38081-491">[**WlxNegotiate**](/windows/desktop/api/Winwlx/nf-winwlx-wlxnegotiate)函式必須由取代 [*GINA*](/windows/desktop/SecGloss/g-gly) DLL 來執行。</span><span class="sxs-lookup"><span data-stu-id="38081-491">The [**WlxNegotiate**](/windows/desktop/api/Winwlx/nf-winwlx-wlxnegotiate) function must be implemented by a replacement [*GINA*](/windows/desktop/SecGloss/g-gly) DLL.</span></span> <span data-ttu-id="38081-492">這是 [*Winlogon*](/windows/desktop/SecGloss/w-gly) 對 GINA DLL 進行的第一個呼叫。</span><span class="sxs-lookup"><span data-stu-id="38081-492">This is the first call made by [*Winlogon*](/windows/desktop/SecGloss/w-gly) to the GINA DLL.</span></span> <span data-ttu-id="38081-493">**WlxNegotiate** 可讓 GINA 確認它是否支援已安裝的 Winlogon 版本。</span><span class="sxs-lookup"><span data-stu-id="38081-493">**WlxNegotiate** allows the GINA to verify that it supports the installed version of Winlogon.</span></span><br/> |
| [<span data-ttu-id="38081-494">**WlxNetworkProviderLoad**</span><span class="sxs-lookup"><span data-stu-id="38081-494">**WlxNetworkProviderLoad**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxnetworkproviderload)                 | <span data-ttu-id="38081-495">[*Winlogon*](/windows/desktop/SecGloss/w-gly) 會呼叫此函式來收集有效的驗證和識別資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-495">[*Winlogon*](/windows/desktop/SecGloss/w-gly) calls this function to collect valid authentication and identification information.</span></span><br/>                                                                                                                                                                                                                       |
| [<span data-ttu-id="38081-496">**WlxRemoveStatusMessage**</span><span class="sxs-lookup"><span data-stu-id="38081-496">**WlxRemoveStatusMessage**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxremovestatusmessage)                 | <span data-ttu-id="38081-497">[*Winlogon*](/windows/desktop/SecGloss/w-gly) 會呼叫此函式，告知 GINA DLL 停止顯示狀態訊息。</span><span class="sxs-lookup"><span data-stu-id="38081-497">[*Winlogon*](/windows/desktop/SecGloss/w-gly) calls this function to tell the GINA DLL to stop displaying the status message.</span></span><br/>                                                                                                                                                                                                                           |
| [<span data-ttu-id="38081-498">**WlxScreenSaverNotify**</span><span class="sxs-lookup"><span data-stu-id="38081-498">**WlxScreenSaverNotify**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxscreensavernotify)                     | <span data-ttu-id="38081-499">[*Winlogon*](/windows/desktop/SecGloss/w-gly) 會在啟用螢幕保護裝置之前立即呼叫此函式，讓 GINA 能夠與螢幕保護裝置程式互動。</span><span class="sxs-lookup"><span data-stu-id="38081-499">[*Winlogon*](/windows/desktop/SecGloss/w-gly) calls this function immediately before a screen saver is activated, allowing the GINA to interact with the screen saver program.</span></span><br/>                                                                                                                                                                          |
| [<span data-ttu-id="38081-500">**WlxShutdown**</span><span class="sxs-lookup"><span data-stu-id="38081-500">**WlxShutdown**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxshutdown)                                       | <span data-ttu-id="38081-501">[*Winlogon*](/windows/desktop/SecGloss/w-gly)會在關機之前呼叫這個函式，讓 GINA 能夠執行任何關機工作，例如從 [*讀取器*](/windows/desktop/SecGloss/r-gly)中退出 [*智慧卡*](/windows/desktop/SecGloss/s-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-501">[*Winlogon*](/windows/desktop/SecGloss/w-gly) calls this function just before shutting down, allowing the GINA to perform any shutdown tasks, such as ejecting a [*smart card*](/windows/desktop/SecGloss/s-gly) from a [*reader*](/windows/desktop/SecGloss/r-gly).</span></span><br/>                          |
| [<span data-ttu-id="38081-502">**WlxStartApplication**</span><span class="sxs-lookup"><span data-stu-id="38081-502">**WlxStartApplication**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxstartapplication)                       | <span data-ttu-id="38081-503">當系統需要在使用者的 [*內容*](/windows/desktop/SecGloss/c-gly)中啟動應用程式時， [*Winlogon*](/windows/desktop/SecGloss/w-gly)會呼叫此函式。</span><span class="sxs-lookup"><span data-stu-id="38081-503">[*Winlogon*](/windows/desktop/SecGloss/w-gly) calls this function when the system needs an application to be started in the [*context*](/windows/desktop/SecGloss/c-gly) of the user.</span></span><br/>                                                                                                                                        |
| [<span data-ttu-id="38081-504">**WlxWkstaLockedSAS**</span><span class="sxs-lookup"><span data-stu-id="38081-504">**WlxWkstaLockedSAS**</span></span>](/windows/desktop/api/Winwlx/nf-winwlx-wlxwkstalockedsas)                           | <span data-ttu-id="38081-505">當 [*Winlogon*](/windows/desktop/SecGloss/w-gly)收到 (SAS) 的 [*安全注意順序*](/windows/desktop/SecGloss/s-gly)，而且工作站已被鎖定時，就會呼叫此函式。</span><span class="sxs-lookup"><span data-stu-id="38081-505">[*Winlogon*](/windows/desktop/SecGloss/w-gly) calls this function when it receives a [*secure attention sequence*](/windows/desktop/SecGloss/s-gly) (SAS) and the workstation is locked.</span></span><br/>                                                                                                 |



 

## <a name="logon-user-functions"></a><span data-ttu-id="38081-506">登入使用者功能</span><span class="sxs-lookup"><span data-stu-id="38081-506">Logon User Functions</span></span>

<span data-ttu-id="38081-507">下列函數提供登入使用者的能力。</span><span class="sxs-lookup"><span data-stu-id="38081-507">The following functions provide the ability to log on a user.</span></span>



| <span data-ttu-id="38081-508">函式</span><span class="sxs-lookup"><span data-stu-id="38081-508">Function</span></span>                                 | <span data-ttu-id="38081-509">描述</span><span class="sxs-lookup"><span data-stu-id="38081-509">Description</span></span>                                                                                                                                                                                                                                                                                                                                                |
|------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-510">**LogonUser**</span><span class="sxs-lookup"><span data-stu-id="38081-510">**LogonUser**</span></span>](/windows/desktop/api/Winbase/nf-winbase-logonusera)           | <span data-ttu-id="38081-511">嘗試將使用者登入本機電腦。</span><span class="sxs-lookup"><span data-stu-id="38081-511">Attempts to log a user on to the local computer.</span></span><br/>                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="38081-512">**LogonUserEx**</span><span class="sxs-lookup"><span data-stu-id="38081-512">**LogonUserEx**</span></span>](/windows/desktop/api/Winbase/nf-winbase-logonuserexa)       | <span data-ttu-id="38081-513">嘗試將使用者登入本機電腦。</span><span class="sxs-lookup"><span data-stu-id="38081-513">Attempts to log a user on to the local computer.</span></span> <span data-ttu-id="38081-514">此函式是安全機制函式 [**的延伸**](/windows/desktop/api/Winbase/nf-winbase-logonusera) 版本，可抓取已登入使用者的 [*安全識別碼*](/windows/desktop/SecGloss/s-gly) 的相關資訊 (SID) 、設定檔和配額限制。</span><span class="sxs-lookup"><span data-stu-id="38081-514">This function is an extended version of the [**LogonUser**](/windows/desktop/api/Winbase/nf-winbase-logonusera) function and retrieves information about the logged-on user's [*security identifier*](/windows/desktop/SecGloss/s-gly) (SID), profile, and quota limits.</span></span><br/>         |
| [<span data-ttu-id="38081-515">**LogonUserExExW**</span><span class="sxs-lookup"><span data-stu-id="38081-515">**LogonUserExExW**</span></span>](logonuserexexw.md) | <span data-ttu-id="38081-516">[**LogonUserExExW**](logonuserexexw.md)函式會嘗試將使用者登入本機電腦。</span><span class="sxs-lookup"><span data-stu-id="38081-516">The [**LogonUserExExW**](logonuserexexw.md) function attempts to log a user on to the local computer.</span></span> <span data-ttu-id="38081-517">此函式未在公用標頭中宣告，且沒有相關聯的匯入程式庫。</span><span class="sxs-lookup"><span data-stu-id="38081-517">This function is not declared in a public header and has no associated import library.</span></span> <span data-ttu-id="38081-518">您必須使用 [**LoadLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya) 和 [**GetProcAddress**](/windows/desktop/api/libloaderapi/nf-libloaderapi-getprocaddress) 函數，以動態方式連結至 Advapi32.dll。</span><span class="sxs-lookup"><span data-stu-id="38081-518">You must use the [**LoadLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya) and [**GetProcAddress**](/windows/desktop/api/libloaderapi/nf-libloaderapi-getprocaddress) functions to dynamically link to Advapi32.dll.</span></span><br/> |



 

## <a name="winlogon-support-functions"></a><span data-ttu-id="38081-519">Winlogon 支援函式</span><span class="sxs-lookup"><span data-stu-id="38081-519">Winlogon Support Functions</span></span>

<span data-ttu-id="38081-520">[*GINA*](/windows/desktop/SecGloss/g-gly) Dll 可以呼叫下列 [*Winlogon*](/windows/desktop/SecGloss/w-gly) 支援函式。</span><span class="sxs-lookup"><span data-stu-id="38081-520">[*GINA*](/windows/desktop/SecGloss/g-gly) DLLs can call the following [*Winlogon*](/windows/desktop/SecGloss/w-gly) support functions.</span></span>

> [!Note]  
> <span data-ttu-id="38081-521">在 Windows Vista 中會忽略 GINA Dll。</span><span class="sxs-lookup"><span data-stu-id="38081-521">GINA DLLs are ignored in Windows Vista.</span></span>

 



| <span data-ttu-id="38081-522">函式</span><span class="sxs-lookup"><span data-stu-id="38081-522">Function</span></span>                                                                     | <span data-ttu-id="38081-523">由 GINA 呼叫</span><span class="sxs-lookup"><span data-stu-id="38081-523">Called by GINA</span></span>                                                                                                                                                                                                                                                                                                                                                                                                              |
|------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-524">**WlxAssignShellProtection**</span><span class="sxs-lookup"><span data-stu-id="38081-524">**WlxAssignShellProtection**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_assign_shell_protection)                 | <span data-ttu-id="38081-525">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫，以將保護指派給新登入之使用者的 shell 程式。</span><span class="sxs-lookup"><span data-stu-id="38081-525">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to assign protection to the shell program of a newly logged-on user.</span></span><br/>                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="38081-526">**WlxChangePasswordNotify**</span><span class="sxs-lookup"><span data-stu-id="38081-526">**WlxChangePasswordNotify**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_change_password_notify)                   | <span data-ttu-id="38081-527">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫，以指出它已變更密碼。</span><span class="sxs-lookup"><span data-stu-id="38081-527">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to indicate it has changed a password.</span></span><br/>                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="38081-528">**WlxChangePasswordNotifyEx**</span><span class="sxs-lookup"><span data-stu-id="38081-528">**WlxChangePasswordNotifyEx**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_change_password_notify_ex)               | <span data-ttu-id="38081-529">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫，以告知特定的網路提供者 (或所有網路提供者) 密碼已變更。</span><span class="sxs-lookup"><span data-stu-id="38081-529">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to tell a specific network provider (or all network providers) that a password has changed.</span></span><br/>                                                                                                                                                                                                                                             |
| [<span data-ttu-id="38081-530">**WlxCloseUserDesktop**</span><span class="sxs-lookup"><span data-stu-id="38081-530">**WlxCloseUserDesktop**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_close_user_desktop)                           | <span data-ttu-id="38081-531">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫以關閉替代使用者桌面，並在關閉桌面之後進行清除。</span><span class="sxs-lookup"><span data-stu-id="38081-531">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to close an alternate user desktop and clean up after the desktop is closed.</span></span><br/>                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="38081-532">**WlxCreateUserDesktop**</span><span class="sxs-lookup"><span data-stu-id="38081-532">**WlxCreateUserDesktop**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_create_user_desktop)                         | <span data-ttu-id="38081-533">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫，為使用者建立替代的應用程式桌面。</span><span class="sxs-lookup"><span data-stu-id="38081-533">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to create alternate application desktops for the user.</span></span><br/>                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="38081-534">**WlxDialogBox**</span><span class="sxs-lookup"><span data-stu-id="38081-534">**WlxDialogBox**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_dialog_box)                                         | <span data-ttu-id="38081-535">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫，以從對話方塊範本建立強制回應對話方塊。</span><span class="sxs-lookup"><span data-stu-id="38081-535">Called by the [*GINA*](/windows/desktop/SecGloss/g-gly) to create a modal dialog box from a dialog box template.</span></span><br/>                                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="38081-536">**WlxDialogBoxIndirect**</span><span class="sxs-lookup"><span data-stu-id="38081-536">**WlxDialogBoxIndirect**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_dialog_box_indirect)                         | <span data-ttu-id="38081-537">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫，可從記憶體中的對話方塊範本建立強制回應對話方塊。</span><span class="sxs-lookup"><span data-stu-id="38081-537">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to create a modal dialog box from a dialog box template in memory.</span></span><br/>                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="38081-538">**WlxDialogBoxIndirectParam**</span><span class="sxs-lookup"><span data-stu-id="38081-538">**WlxDialogBoxIndirectParam**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_dialog_box_indirect_param)               | <span data-ttu-id="38081-539">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫以初始化對話方塊控制項，然後從記憶體中的對話方塊範本建立強制回應對話方塊。</span><span class="sxs-lookup"><span data-stu-id="38081-539">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to initialize dialog box controls and then create a modal dialog box from a dialog box template in memory.</span></span><br/>                                                                                                                                                                                                                              |
| [<span data-ttu-id="38081-540">**WlxDialogBoxParam**</span><span class="sxs-lookup"><span data-stu-id="38081-540">**WlxDialogBoxParam**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_dialog_box_param)                               | <span data-ttu-id="38081-541">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫以初始化對話方塊控制項，然後從對話方塊範本資源建立強制回應對話方塊。</span><span class="sxs-lookup"><span data-stu-id="38081-541">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to initialize dialog box controls and then create a modal dialog box from a dialog box template resource.</span></span><br/>                                                                                                                                                                                                                               |
| [<span data-ttu-id="38081-542">**WlxDisconnect**</span><span class="sxs-lookup"><span data-stu-id="38081-542">**WlxDisconnect**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_disconnect)                                       | <span data-ttu-id="38081-543">如果已啟用終端機服務，則由取代 GINA DLL 呼叫。</span><span class="sxs-lookup"><span data-stu-id="38081-543">Called by a replacement GINA DLL if Terminal Services is enabled.</span></span> <span data-ttu-id="38081-544">[*GINA*](/windows/desktop/SecGloss/g-gly) 會呼叫此函式，以中斷與終端機服務網路會話的連線。</span><span class="sxs-lookup"><span data-stu-id="38081-544">[*GINA*](/windows/desktop/SecGloss/g-gly) calls this function to disconnect from a Terminal Services network session.</span></span><br/>                                                                                                                                                                                                     |
| [<span data-ttu-id="38081-545">**WlxGetOption**</span><span class="sxs-lookup"><span data-stu-id="38081-545">**WlxGetOption**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_get_option)                                         | <span data-ttu-id="38081-546">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫以取出選項的目前值。</span><span class="sxs-lookup"><span data-stu-id="38081-546">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to retrieve the current value of an option.</span></span><br/>                                                                                                                                                                                                                                                                                             |
| [<span data-ttu-id="38081-547">**WlxGetSourceDesktop**</span><span class="sxs-lookup"><span data-stu-id="38081-547">**WlxGetSourceDesktop**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_get_source_desktop)                           | <span data-ttu-id="38081-548">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫，以判斷在 [*Winlogon*](/windows/desktop/SecGloss/w-gly) 切換至 winlogon 桌面之前，目前的桌面名稱和控制碼。</span><span class="sxs-lookup"><span data-stu-id="38081-548">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to determine the name and handle of the desktop that was current before [*Winlogon*](/windows/desktop/SecGloss/w-gly) switched to the Winlogon desktop.</span></span><br/>                                                                                                                                                    |
| [<span data-ttu-id="38081-549">**WlxMessageBox**</span><span class="sxs-lookup"><span data-stu-id="38081-549">**WlxMessageBox**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_message_box)                                       | <span data-ttu-id="38081-550">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫以建立、顯示及操作訊息方塊。</span><span class="sxs-lookup"><span data-stu-id="38081-550">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to create, display, and operate a message box.</span></span><br/>                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="38081-551">**WlxQueryClientCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-551">**WlxQueryClientCredentials**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_query_client_credentials)               | <span data-ttu-id="38081-552">如果已啟用終端機服務，則由取代 GINA DLL 呼叫。</span><span class="sxs-lookup"><span data-stu-id="38081-552">Called by a replacement GINA DLL if Terminal Services is enabled.</span></span> <span data-ttu-id="38081-553">GINA 會呼叫此函式，以抓取未使用網際網路連接器授權之遠端終端機機服務用戶端的認證。</span><span class="sxs-lookup"><span data-stu-id="38081-553">GINA calls this function to retrieve the credentials of remote Terminal Services clients that are not using an Internet connector license.</span></span><br/>                                                                                                                                                                                                     |
| [<span data-ttu-id="38081-554">**WlxQueryConsoleSwitchCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-554">**WlxQueryConsoleSwitchCredentials**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_query_consoleswitch_credentials) | <span data-ttu-id="38081-555">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫，以讀取從暫時會話的 winlogon 傳送至目的地會話之 winlogon 的認證。</span><span class="sxs-lookup"><span data-stu-id="38081-555">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to read the credentials transferred from the Winlogon of the temporary session to the Winlogon of the destination session.</span></span><br/>                                                                                                                                                                                                              |
| [<span data-ttu-id="38081-556">**WlxQueryInetConnectorCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-556">**WlxQueryInetConnectorCredentials**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_query_ic_credentials) | <span data-ttu-id="38081-557">如果已啟用終端機服務，則由取代 GINA DLL 呼叫。</span><span class="sxs-lookup"><span data-stu-id="38081-557">Called by a replacement GINA DLL if Terminal Services is enabled.</span></span> <span data-ttu-id="38081-558">[*GINA*](/windows/desktop/SecGloss/g-gly) 會呼叫此函式，以判斷終端機伺服器是否使用網際網路連接器授權和取得 [*認證*](/windows/desktop/SecGloss/c-gly) 資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-558">[*GINA*](/windows/desktop/SecGloss/g-gly) calls this function to determine whether the terminal server is using Internet connector licensing and to retrieve [*credentials*](/windows/desktop/SecGloss/c-gly) information.</span></span><br/>                                                             |
| [<span data-ttu-id="38081-559">**WlxQueryTerminalServicesData**</span><span class="sxs-lookup"><span data-stu-id="38081-559">**WlxQueryTerminalServicesData**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_query_terminal_services_data)         | <span data-ttu-id="38081-560">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫，以在使用者登入之後取得終端機服務使用者設定資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-560">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to retrieve Terminal Services user configuration information after a user has logged on.</span></span><br/>                                                                                                                                                                                                                                                |
| [<span data-ttu-id="38081-561">**WlxSasNotify**</span><span class="sxs-lookup"><span data-stu-id="38081-561">**WlxSasNotify**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_sas_notify)                                         | <span data-ttu-id="38081-562">由 [*GINA*](/windows/desktop/SecGloss/g-gly)呼叫，以將安全的 [*注意順序*](/windows/desktop/SecGloss/s-gly)告知 [*Winlogon*](/windows/desktop/SecGloss/w-gly) (SAS) 事件。</span><span class="sxs-lookup"><span data-stu-id="38081-562">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to notify [*Winlogon*](/windows/desktop/SecGloss/w-gly) of a [*secure attention sequence*](/windows/desktop/SecGloss/s-gly) (SAS) event.</span></span><br/>                                                                                                    |
| [<span data-ttu-id="38081-563">**WlxSetCoNtextPointer**</span><span class="sxs-lookup"><span data-stu-id="38081-563">**WlxSetContextPointer**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_set_context_pointer)                         | <span data-ttu-id="38081-564">由 [*GINA*](/windows/desktop/SecGloss/g-gly)呼叫，以指定由 [*Winlogon*](/windows/desktop/SecGloss/w-gly)傳遞的 [*內容*](/windows/desktop/SecGloss/c-gly)指標，做為 GINA 函式所有未來呼叫的第一個參數。</span><span class="sxs-lookup"><span data-stu-id="38081-564">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to specify the [*context*](/windows/desktop/SecGloss/c-gly) pointer passed by [*Winlogon*](/windows/desktop/SecGloss/w-gly) as the first parameter to all future calls to GINA functions.</span></span><br/>                                                                                       |
| [<span data-ttu-id="38081-565">**WlxSetOption**</span><span class="sxs-lookup"><span data-stu-id="38081-565">**WlxSetOption**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_set_option)                                         | <span data-ttu-id="38081-566">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫以設定選項的值。</span><span class="sxs-lookup"><span data-stu-id="38081-566">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to set the value of an option.</span></span><br/>                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="38081-567">**WlxSetReturnDesktop**</span><span class="sxs-lookup"><span data-stu-id="38081-567">**WlxSetReturnDesktop**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_set_return_desktop)                           | <span data-ttu-id="38081-568">由 [*GINA*](/windows/desktop/SecGloss/g-gly)呼叫，以指定當目前的 [*安全注意順序*](/windows/desktop/SecGloss/s-gly) (SAS) 事件處理函式完成時， [*Winlogon*](/windows/desktop/SecGloss/w-gly)將切換至的替代應用程式桌面。</span><span class="sxs-lookup"><span data-stu-id="38081-568">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to specify the alternate application desktop that [*Winlogon*](/windows/desktop/SecGloss/w-gly) will switch to when the current [*secure attention sequence*](/windows/desktop/SecGloss/s-gly) (SAS) event processing function is complete.</span></span><br/> |
| [<span data-ttu-id="38081-569">**WlxSetTimeout**</span><span class="sxs-lookup"><span data-stu-id="38081-569">**WlxSetTimeout**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_set_timeout)                                       | <span data-ttu-id="38081-570">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫以變更與對話方塊相關聯的超時時間。</span><span class="sxs-lookup"><span data-stu-id="38081-570">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to change the time-out associated with a dialog box.</span></span> <span data-ttu-id="38081-571">預設的超時時間是兩分鐘。</span><span class="sxs-lookup"><span data-stu-id="38081-571">The default time-out is two minutes.</span></span><br/>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="38081-572">**WlxSwitchDesktopToUser**</span><span class="sxs-lookup"><span data-stu-id="38081-572">**WlxSwitchDesktopToUser**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_switch_desktop_to_user)                     | <span data-ttu-id="38081-573">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫以切換至應用程式桌面。</span><span class="sxs-lookup"><span data-stu-id="38081-573">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to switch to the application desktop.</span></span><br/>                                                                                                                                                                                                                                                                                                   |
| [<span data-ttu-id="38081-574">**WlxSwitchDesktopToWinlogon**</span><span class="sxs-lookup"><span data-stu-id="38081-574">**WlxSwitchDesktopToWinlogon**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_switch_desktop_to_winlogon)             | <span data-ttu-id="38081-575">允許 [*GINA*](/windows/desktop/SecGloss/g-gly) DLL 切換至 [*Winlogon*](/windows/desktop/SecGloss/w-gly) 桌面。</span><span class="sxs-lookup"><span data-stu-id="38081-575">Allows the [*GINA*](/windows/desktop/SecGloss/g-gly) DLL switch to the [*Winlogon*](/windows/desktop/SecGloss/w-gly) desktop.</span></span><br/>                                                                                                                                                                                                                                  |
| [<span data-ttu-id="38081-576">**WlxUseCtrlAltDel**</span><span class="sxs-lookup"><span data-stu-id="38081-576">**WlxUseCtrlAltDel**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_use_ctrl_alt_del)                                 | <span data-ttu-id="38081-577">由 [*GINA*](/windows/desktop/SecGloss/g-gly) 呼叫，以告知 [*WINLOGON*](/windows/desktop/SecGloss/w-gly) 使用標準 CTRL + ALT + DEL 按鍵組合，以安全的方式 (SAS) 的 [*順序*](/windows/desktop/SecGloss/s-gly) 。</span><span class="sxs-lookup"><span data-stu-id="38081-577">Called by [*GINA*](/windows/desktop/SecGloss/g-gly) to tell [*Winlogon*](/windows/desktop/SecGloss/w-gly) to use the standard CTRL+ALT+DEL key combination as a [*secure attention sequence*](/windows/desktop/SecGloss/s-gly) (SAS).</span></span><br/>                                                           |
| [<span data-ttu-id="38081-578">**WlxWin31Migrate**</span><span class="sxs-lookup"><span data-stu-id="38081-578">**WlxWin31Migrate**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_win31_migrate)                                   | <span data-ttu-id="38081-579">如果已啟用終端機服務，則由取代 GINA DLL 呼叫。</span><span class="sxs-lookup"><span data-stu-id="38081-579">Called by a replacement GINA DLL if Terminal Services is enabled.</span></span> <span data-ttu-id="38081-580">[*GINA*](/windows/desktop/SecGloss/g-gly) 會呼叫此函式來完成終端機服務用戶端的設定。</span><span class="sxs-lookup"><span data-stu-id="38081-580">[*GINA*](/windows/desktop/SecGloss/g-gly) calls this function to complete the setup of the Terminal Services client.</span></span><br/>                                                                                                                                                                                                      |



 

## <a name="network-provider-functions"></a><span data-ttu-id="38081-581">網路提供者函式</span><span class="sxs-lookup"><span data-stu-id="38081-581">Network Provider Functions</span></span>

<span data-ttu-id="38081-582">下列主題提供網路提供者功能的參考資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-582">The following topics provide reference information for the network provider functions.</span></span>



| <span data-ttu-id="38081-583">主題</span><span class="sxs-lookup"><span data-stu-id="38081-583">Topic</span></span>                                      | <span data-ttu-id="38081-584">描述</span><span class="sxs-lookup"><span data-stu-id="38081-584">Description</span></span>                                                                                                                                                                                                                                                                                         |
|--------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="38081-585">網路提供者所執行的函式</span><span class="sxs-lookup"><span data-stu-id="38081-585">Functions Implemented by Network Providers</span></span> | <span data-ttu-id="38081-586">詳細說明可由網路提供者執行的函數。</span><span class="sxs-lookup"><span data-stu-id="38081-586">Details functions that can be implemented by network providers.</span></span><br/>                                                                                                                                                                                                                          |
| <span data-ttu-id="38081-587">支援函式</span><span class="sxs-lookup"><span data-stu-id="38081-587">Support Functions</span></span>                          | <span data-ttu-id="38081-588">詳述作業系統所執行的函式，而且可以由網路提供者呼叫。</span><span class="sxs-lookup"><span data-stu-id="38081-588">Details a function that is implemented by the operating system and can be called by network providers.</span></span><br/>                                                                                                                                                                                   |
| <span data-ttu-id="38081-589">連接通知函數</span><span class="sxs-lookup"><span data-stu-id="38081-589">Connection Notification Functions</span></span>          | <span data-ttu-id="38081-590">詳細說明當網路資源已連線或中斷連線時，需要從 [*多個提供者路由器*](/windows/desktop/SecGloss/m-gly) 接收通知的應用程式所執行的功能 (MPR) 。</span><span class="sxs-lookup"><span data-stu-id="38081-590">Details functions that are implemented by applications that need to receive notification from the [*Multiple Provider Router*](/windows/desktop/SecGloss/m-gly) (MPR) when a network resource is connected or disconnected.</span></span><br/> |



 

### <a name="functions-implemented-by-network-providers"></a><span data-ttu-id="38081-591">網路提供者所執行的函式</span><span class="sxs-lookup"><span data-stu-id="38081-591">Functions Implemented by Network Providers</span></span>

<span data-ttu-id="38081-592">下列函式可由網路提供者來執行。</span><span class="sxs-lookup"><span data-stu-id="38081-592">The following functions can be implemented by network providers.</span></span> <span data-ttu-id="38081-593">網路提供者必須支援的唯一功能是 [**NPGetCaps**](/windows/desktop/api/Npapi/nf-npapi-npgetcaps)。</span><span class="sxs-lookup"><span data-stu-id="38081-593">The only function that network providers are required to support is [**NPGetCaps**](/windows/desktop/api/Npapi/nf-npapi-npgetcaps).</span></span>



| <span data-ttu-id="38081-594">函式</span><span class="sxs-lookup"><span data-stu-id="38081-594">Function</span></span>                                                         | <span data-ttu-id="38081-595">描述</span><span class="sxs-lookup"><span data-stu-id="38081-595">Description</span></span>                                                                                                                                                                                                           |
|------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-596">**NPAddConnection**</span><span class="sxs-lookup"><span data-stu-id="38081-596">**NPAddConnection**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npaddconnection)                       | <span data-ttu-id="38081-597">將本機裝置連接到網路資源。</span><span class="sxs-lookup"><span data-stu-id="38081-597">Connects a local device to a network resource.</span></span><br/>                                                                                                                                                             |
| [<span data-ttu-id="38081-598">**NPAddConnection3**</span><span class="sxs-lookup"><span data-stu-id="38081-598">**NPAddConnection3**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npaddconnection3)                     | <span data-ttu-id="38081-599">將本機裝置連接到網路資源。</span><span class="sxs-lookup"><span data-stu-id="38081-599">Connects a local device to a network resource.</span></span><br/>                                                                                                                                                             |
| [<span data-ttu-id="38081-600">**NPCancelConnection**</span><span class="sxs-lookup"><span data-stu-id="38081-600">**NPCancelConnection**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npcancelconnection)                 | <span data-ttu-id="38081-601">中斷網路連接。</span><span class="sxs-lookup"><span data-stu-id="38081-601">Disconnects a network connection.</span></span><br/>                                                                                                                                                                          |
| [<span data-ttu-id="38081-602">**NPCloseEnum**</span><span class="sxs-lookup"><span data-stu-id="38081-602">**NPCloseEnum**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npcloseenum)                               | <span data-ttu-id="38081-603">關閉列舉。</span><span class="sxs-lookup"><span data-stu-id="38081-603">Closes an enumeration.</span></span><br/>                                                                                                                                                                                     |
| [<span data-ttu-id="38081-604">**NPDeviceMode**</span><span class="sxs-lookup"><span data-stu-id="38081-604">**NPDeviceMode**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npdevicemode)                             | <span data-ttu-id="38081-605">指定裝置的父視窗。</span><span class="sxs-lookup"><span data-stu-id="38081-605">Specifies the parent window of a device.</span></span> <span data-ttu-id="38081-606">此視窗擁有源自裝置的任何對話方塊。</span><span class="sxs-lookup"><span data-stu-id="38081-606">This window owns any dialog boxes that originate from the device.</span></span><br/>                                                                                                 |
| [<span data-ttu-id="38081-607">**NPDirectoryNotify**</span><span class="sxs-lookup"><span data-stu-id="38081-607">**NPDirectoryNotify**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npdirectorynotify)                   | <span data-ttu-id="38081-608">通知網路提供者有某些目錄作業。</span><span class="sxs-lookup"><span data-stu-id="38081-608">Notifies the network provider of certain directory operations.</span></span><br/>                                                                                                                                             |
| [<span data-ttu-id="38081-609">**NPEnumResource**</span><span class="sxs-lookup"><span data-stu-id="38081-609">**NPEnumResource**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npenumresource)                         | <span data-ttu-id="38081-610">根據 [**NPOpenEnum**](/windows/desktop/api/Npapi/nf-npapi-npopenenum)所傳回的控制碼來執行列舉。</span><span class="sxs-lookup"><span data-stu-id="38081-610">Performs an enumeration based on a handle returned by [**NPOpenEnum**](/windows/desktop/api/Npapi/nf-npapi-npopenenum).</span></span><br/>                                                                                                                    |
| [<span data-ttu-id="38081-611">**NPFormatNetworkName**</span><span class="sxs-lookup"><span data-stu-id="38081-611">**NPFormatNetworkName**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npformatnetworkname)               | <span data-ttu-id="38081-612">以提供者特定的格式來格式化網路名稱，以在控制項中顯示。</span><span class="sxs-lookup"><span data-stu-id="38081-612">Formats a network name in a provider-specific format for display in a control.</span></span><br/>                                                                                                                             |
| [<span data-ttu-id="38081-613">**NPGetCaps**</span><span class="sxs-lookup"><span data-stu-id="38081-613">**NPGetCaps**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npgetcaps)                                   | <span data-ttu-id="38081-614">傳回網路上支援哪些服務的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-614">Returns information about which services are supported on the network.</span></span><br/>                                                                                                                                     |
| [<span data-ttu-id="38081-615">**NPGetConnection**</span><span class="sxs-lookup"><span data-stu-id="38081-615">**NPGetConnection**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npgetconnection)                       | <span data-ttu-id="38081-616">擷取連線的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-616">Retrieves information about a connection.</span></span><br/>                                                                                                                                                                  |
| [<span data-ttu-id="38081-617">**NPGetConnection3**</span><span class="sxs-lookup"><span data-stu-id="38081-617">**NPGetConnection3**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npgetconnection3)                     | <span data-ttu-id="38081-618">抓取網路連接的相關資訊（即使目前已中斷連線）。</span><span class="sxs-lookup"><span data-stu-id="38081-618">Retrieves information about a network connection, even if it is currently disconnected.</span></span><br/>                                                                                                                    |
| [<span data-ttu-id="38081-619">**NPGetConnectionPerformance**</span><span class="sxs-lookup"><span data-stu-id="38081-619">**NPGetConnectionPerformance**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npgetconnectionperformance) | <span data-ttu-id="38081-620">傳回用來存取網路資源之連接的預期效能相關資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-620">Returns information about the expected performance of a connection used to access a network resource.</span></span> <span data-ttu-id="38081-621">要求只能針對目前已連線的網路資源。</span><span class="sxs-lookup"><span data-stu-id="38081-621">The request can only be for a network resource that is currently connected.</span></span><br/>                          |
| [<span data-ttu-id="38081-622">**NPGetDirectoryType**</span><span class="sxs-lookup"><span data-stu-id="38081-622">**NPGetDirectoryType**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npgetdirectorytype)                 | <span data-ttu-id="38081-623">決定網路目錄的類型。</span><span class="sxs-lookup"><span data-stu-id="38081-623">Determines the type of a network directory.</span></span><br/>                                                                                                                                                                |
| [<span data-ttu-id="38081-624">**NPGetPropertyText**</span><span class="sxs-lookup"><span data-stu-id="38081-624">**NPGetPropertyText**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npgetpropertytext)                   | <span data-ttu-id="38081-625">抓取要加入至網路資源之屬性對話方塊的按鈕名稱。</span><span class="sxs-lookup"><span data-stu-id="38081-625">Retrieves the names of buttons to add to a property dialog box for a network resource.</span></span><br/>                                                                                                                     |
| [<span data-ttu-id="38081-626">**NPGetResourceInformation**</span><span class="sxs-lookup"><span data-stu-id="38081-626">**NPGetResourceInformation**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npgetresourceinformation)     | <span data-ttu-id="38081-627">將透過 WNet API 存取的網路資源部分，與透過資源類型專屬的 Api 存取的部分分開。</span><span class="sxs-lookup"><span data-stu-id="38081-627">Separates the part of a network resource accessed through the WNet API from the part accessed through APIs specific to the resource type.</span></span><br/>                                                                  |
| [<span data-ttu-id="38081-628">**NPGetResourceParent**</span><span class="sxs-lookup"><span data-stu-id="38081-628">**NPGetResourceParent**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npgetresourceparent)               | <span data-ttu-id="38081-629">抓取流覽階層中指定之網路資源的父系。</span><span class="sxs-lookup"><span data-stu-id="38081-629">Retrieves the parent of a specified network resource in the browse hierarchy.</span></span><br/>                                                                                                                              |
| [<span data-ttu-id="38081-630">**NPGetUniversalName**</span><span class="sxs-lookup"><span data-stu-id="38081-630">**NPGetUniversalName**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npgetuniversalname)                 | <span data-ttu-id="38081-631">捕獲網路資源的通用名稱。</span><span class="sxs-lookup"><span data-stu-id="38081-631">Retrieves the universal name of a network resource.</span></span> <span data-ttu-id="38081-632">[**NPGetUniversalName**](/windows/desktop/api/Npapi/nf-npapi-npgetuniversalname)函式可以採用 UNC 格式或較舊的遠端名稱格式來取得此通用名稱。</span><span class="sxs-lookup"><span data-stu-id="38081-632">The [**NPGetUniversalName**](/windows/desktop/api/Npapi/nf-npapi-npgetuniversalname) function can retrieve this universal name in UNC format or in the older, remote-name format.</span></span><br/>      |
| [<span data-ttu-id="38081-633">**NPGetUser**</span><span class="sxs-lookup"><span data-stu-id="38081-633">**NPGetUser**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npgetuser)                                   | <span data-ttu-id="38081-634">抓取目前預設使用者名稱的值，或是用來建立網路連接的使用者名稱。</span><span class="sxs-lookup"><span data-stu-id="38081-634">Retrieves the value of the current default user name or the user name used to establish a network connection.</span></span><br/>                                                                                              |
| [<span data-ttu-id="38081-635">**NPOpenEnum**</span><span class="sxs-lookup"><span data-stu-id="38081-635">**NPOpenEnum**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npopenenum)                                 | <span data-ttu-id="38081-636">開啟網路資源或現有連接的列舉。</span><span class="sxs-lookup"><span data-stu-id="38081-636">Opens an enumeration of network resources or existing connections.</span></span> <span data-ttu-id="38081-637">必須呼叫 [**NPOpenEnum**](/windows/desktop/api/Npapi/nf-npapi-npopenenum) 函式，才能取得列舉的有效控制碼。</span><span class="sxs-lookup"><span data-stu-id="38081-637">The [**NPOpenEnum**](/windows/desktop/api/Npapi/nf-npapi-npopenenum) function must be called to obtain a valid handle for an enumeration.</span></span><br/>                               |
| [<span data-ttu-id="38081-638">**NPPropertyDialog**</span><span class="sxs-lookup"><span data-stu-id="38081-638">**NPPropertyDialog**</span></span>](/windows/desktop/api/Npapi/nf-npapi-nppropertydialog)                     | <span data-ttu-id="38081-639">當使用者按一下使用 [**NPPropertyDialog**](/windows/desktop/api/Npapi/nf-npapi-nppropertydialog) 函式加入的按鈕時呼叫。</span><span class="sxs-lookup"><span data-stu-id="38081-639">Called when the user clicks a button added by using the [**NPPropertyDialog**](/windows/desktop/api/Npapi/nf-npapi-nppropertydialog) function.</span></span> <span data-ttu-id="38081-640">**NPPropertyDialog** 函式只會針對檔案和目錄網路屬性進行呼叫。</span><span class="sxs-lookup"><span data-stu-id="38081-640">The **NPPropertyDialog** function is called only for file and directory network properties.</span></span><br/> |
| [<span data-ttu-id="38081-641">**NPSearchDialog**</span><span class="sxs-lookup"><span data-stu-id="38081-641">**NPSearchDialog**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npsearchdialog)                         | <span data-ttu-id="38081-642">除了在 [ **連接** ] 對話方塊中顯示的階層式視圖之外，還可讓網路廠商提供自己的流覽和搜尋形式。</span><span class="sxs-lookup"><span data-stu-id="38081-642">Enables network vendors to supply their own form of browsing and search, beyond the hierarchical view presented in the **Connection** dialog box.</span></span><br/>                                                          |



 

### <a name="support-functions"></a><span data-ttu-id="38081-643">支援函式</span><span class="sxs-lookup"><span data-stu-id="38081-643">Support Functions</span></span>

<span data-ttu-id="38081-644">下列函式是由作業系統所執行，而且可以由網路提供者呼叫。</span><span class="sxs-lookup"><span data-stu-id="38081-644">The following function is implemented by the operating system and can be called by network providers.</span></span>



| <span data-ttu-id="38081-645">函式</span><span class="sxs-lookup"><span data-stu-id="38081-645">Function</span></span>                                     | <span data-ttu-id="38081-646">描述</span><span class="sxs-lookup"><span data-stu-id="38081-646">Description</span></span>                                                                                                                               |
|----------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-647">**WNetSetLastError**</span><span class="sxs-lookup"><span data-stu-id="38081-647">**WNetSetLastError**</span></span>](/windows/desktop/api/Npapi/nf-npapi-wnetsetlasterrora) | <span data-ttu-id="38081-648">設定延伸錯誤資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-648">Sets extended error information.</span></span> <span data-ttu-id="38081-649">網路提供者應該呼叫此函式，而不是 [**SetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-setlasterror)。</span><span class="sxs-lookup"><span data-stu-id="38081-649">Network providers should call this function instead of [**SetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-setlasterror).</span></span><br/> |



 

### <a name="connection-notification-functions"></a><span data-ttu-id="38081-650">連接通知函數</span><span class="sxs-lookup"><span data-stu-id="38081-650">Connection Notification Functions</span></span>

<span data-ttu-id="38081-651">當網路資源已連線或中斷連線時，應用程式會執行下列功能，這些應用程式需要接收來自 [*多個提供者路由器*](/windows/desktop/SecGloss/m-gly) 的通知 (MPR) 。</span><span class="sxs-lookup"><span data-stu-id="38081-651">The following functions are implemented by applications that need to receive notification from the [*Multiple Provider Router*](/windows/desktop/SecGloss/m-gly) (MPR) when a network resource is connected or disconnected.</span></span> <span data-ttu-id="38081-652">如需有關如何撰寫接收這類通知的應用程式的詳細資訊，請參閱 [接收連接通知](receiving-connection-notifications.md)。</span><span class="sxs-lookup"><span data-stu-id="38081-652">For more information about how to write an application that receives such notifications, see [Receiving Connection Notifications](receiving-connection-notifications.md).</span></span>



| <span data-ttu-id="38081-653">函式</span><span class="sxs-lookup"><span data-stu-id="38081-653">Function</span></span>                                           | <span data-ttu-id="38081-654">描述</span><span class="sxs-lookup"><span data-stu-id="38081-654">Description</span></span>                                                                                                                                                                                                                   |
|----------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-655">**AddConnectNotify**</span><span class="sxs-lookup"><span data-stu-id="38081-655">**AddConnectNotify**</span></span>](/windows/desktop/api/Npapi/nf-npapi-addconnectnotify)       | <span data-ttu-id="38081-656">在每個加入連接作業之前和之後呼叫 ([**WNetAddConnection**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetaddconnectiona)、 [**WNetAddConnection2**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetaddconnection2a)和 [**WNetAddConnection3**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetaddconnection3a)) 。</span><span class="sxs-lookup"><span data-stu-id="38081-656">Called before and after each add connection operation ([**WNetAddConnection**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetaddconnectiona), [**WNetAddConnection2**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetaddconnection2a), and [**WNetAddConnection3**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetaddconnection3a)).</span></span><br/> |
| [<span data-ttu-id="38081-657">**CancelConnectNotify**</span><span class="sxs-lookup"><span data-stu-id="38081-657">**CancelConnectNotify**</span></span>](/windows/desktop/api/Npapi/nf-npapi-cancelconnectnotify) | <span data-ttu-id="38081-658">在每個取消連接作業之前和之後呼叫 ([**WNetCancelConnection**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetcancelconnectiona) 或 [**WNetCancelConnection2**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetcancelconnection2a)) 。</span><span class="sxs-lookup"><span data-stu-id="38081-658">Called before and after each cancel connection operation ([**WNetCancelConnection**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetcancelconnectiona) or [**WNetCancelConnection2**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetcancelconnection2a)).</span></span><br/>                                       |



 

## <a name="lsa-logon-functions"></a><span data-ttu-id="38081-659">LSA 登入功能</span><span class="sxs-lookup"><span data-stu-id="38081-659">LSA Logon Functions</span></span>

<span data-ttu-id="38081-660">下列 [*本地安全機構*](/windows/desktop/SecGloss/l-gly) (LSA) 驗證函式會驗證和登入使用者，並提供登入會話資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-660">The following [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) authentication functions authenticate and log on users, and they provide logon session information.</span></span>



| <span data-ttu-id="38081-661">函式</span><span class="sxs-lookup"><span data-stu-id="38081-661">Function</span></span>                                                                   | <span data-ttu-id="38081-662">描述</span><span class="sxs-lookup"><span data-stu-id="38081-662">Description</span></span>                                                                                                                                                                                                                                           |
|----------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-663">**LsaCallAuthenticationPackage**</span><span class="sxs-lookup"><span data-stu-id="38081-663">**LsaCallAuthenticationPackage**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage)       | <span data-ttu-id="38081-664">從驗證套件要求封裝特定的服務。</span><span class="sxs-lookup"><span data-stu-id="38081-664">Requests a package-specific service from an authentication package.</span></span><br/>                                                                                                                                                                        |
| [<span data-ttu-id="38081-665">**LsaConnectUntrusted**</span><span class="sxs-lookup"><span data-stu-id="38081-665">**LsaConnectUntrusted**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaconnectuntrusted)                         | <span data-ttu-id="38081-666">建立與 LSA 不受信任的連接。</span><span class="sxs-lookup"><span data-stu-id="38081-666">Establishes an untrusted connection to the LSA.</span></span><br/>                                                                                                                                                                                            |
| [<span data-ttu-id="38081-667">**LsaDeregisterLogonProcess**</span><span class="sxs-lookup"><span data-stu-id="38081-667">**LsaDeregisterLogonProcess**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaderegisterlogonprocess)             | <span data-ttu-id="38081-668">中斷與 LSA 的連線，並釋放配置給呼叫端內容的資源。</span><span class="sxs-lookup"><span data-stu-id="38081-668">Disconnects from the LSA and frees resources allocated to the caller's context.</span></span><br/>                                                                                                                                                            |
| [<span data-ttu-id="38081-669">**LsaEnumerateLogonSessions**</span><span class="sxs-lookup"><span data-stu-id="38081-669">**LsaEnumerateLogonSessions**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaenumeratelogonsessions)             | <span data-ttu-id="38081-670">針對現有的登入會話， (Luid) 抓取 [*本機唯一識別碼*](/windows/desktop/SecGloss/l-gly) 。</span><span class="sxs-lookup"><span data-stu-id="38081-670">Retrieves [*locally unique identifiers*](/windows/desktop/SecGloss/l-gly) (LUIDs) for existing logon sessions.</span></span><br/>                                                              |
| [<span data-ttu-id="38081-671">**LsaFreeReturnBuffer**</span><span class="sxs-lookup"><span data-stu-id="38081-671">**LsaFreeReturnBuffer**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsafreereturnbuffer)                         | <span data-ttu-id="38081-672">釋出針對傳回給呼叫者的緩衝區所配置的記憶體。</span><span class="sxs-lookup"><span data-stu-id="38081-672">Frees memory allocated for a buffer returned to a caller.</span></span><br/>                                                                                                                                                                                  |
| [<span data-ttu-id="38081-673">**LsaGetLogonSessionData**</span><span class="sxs-lookup"><span data-stu-id="38081-673">**LsaGetLogonSessionData**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsagetlogonsessiondata)                   | <span data-ttu-id="38081-674">抓取指定之登入會話的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-674">Retrieves information about a specified logon session.</span></span><br/>                                                                                                                                                                                     |
| [<span data-ttu-id="38081-675">**LsaLogonUser**</span><span class="sxs-lookup"><span data-stu-id="38081-675">**LsaLogonUser**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsalogonuser)                                       | <span data-ttu-id="38081-676">針對預存認證驗證使用者登入資料。</span><span class="sxs-lookup"><span data-stu-id="38081-676">Authenticates user logon data against stored credentials.</span></span> <span data-ttu-id="38081-677">如果成功，它會建立新的登入會話，並傳回使用者權杖。</span><span class="sxs-lookup"><span data-stu-id="38081-677">If successful, it creates a new logon session and returns a user token.</span></span><br/>                                                                                                          |
| [<span data-ttu-id="38081-678">**LsaLookupAuthenticationPackage**</span><span class="sxs-lookup"><span data-stu-id="38081-678">**LsaLookupAuthenticationPackage**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsalookupauthenticationpackage)   | <span data-ttu-id="38081-679">取得驗證套件的唯一識別碼。</span><span class="sxs-lookup"><span data-stu-id="38081-679">Obtains the unique identifier of an authentication package.</span></span><br/>                                                                                                                                                                                |
| [<span data-ttu-id="38081-680">**LsaQueryDomainInformationPolicy**</span><span class="sxs-lookup"><span data-stu-id="38081-680">**LsaQueryDomainInformationPolicy**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaquerydomaininformationpolicy) | <span data-ttu-id="38081-681">從 [**Policy**](/windows/desktop/SecMgmt/policy-object) 物件中取出網域資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-681">Retrieves domain information from the [**Policy**](/windows/desktop/SecMgmt/policy-object) object.</span></span><br/>                                                                                                                                                         |
| [<span data-ttu-id="38081-682">**LsaQueryForestTrustInformation**</span><span class="sxs-lookup"><span data-stu-id="38081-682">**LsaQueryForestTrustInformation**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaqueryforesttrustinformation)   | <span data-ttu-id="38081-683">抓取指定之「 [*本地安全機構*](/windows/desktop/SecGloss/l-gly)」 [**TrustedDomain**](/windows/desktop/SecMgmt/trusteddomain-object) 物件的樹系信任資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-683">Retrieves forest trust information for the specified [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) [**TrustedDomain**](/windows/desktop/SecMgmt/trusteddomain-object) object.</span></span><br/> |
| [<span data-ttu-id="38081-684">**LsaRegisterLogonProcess**</span><span class="sxs-lookup"><span data-stu-id="38081-684">**LsaRegisterLogonProcess**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaregisterlogonprocess)                 | <span data-ttu-id="38081-685">建立與 LSA 伺服器的連接，並確認呼叫端是否為登入應用程式。</span><span class="sxs-lookup"><span data-stu-id="38081-685">Establishes a connection to the LSA server and verifies that the caller is a logon application.</span></span><br/>                                                                                                                                            |
| [<span data-ttu-id="38081-686">**LsaSetDomainInformationPolicy**</span><span class="sxs-lookup"><span data-stu-id="38081-686">**LsaSetDomainInformationPolicy**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsasetdomaininformationpolicy)     | <span data-ttu-id="38081-687">將網域資訊設定為 [**原則**](/windows/desktop/SecMgmt/policy-object) 物件。</span><span class="sxs-lookup"><span data-stu-id="38081-687">Sets domain information to the [**Policy**](/windows/desktop/SecMgmt/policy-object) object.</span></span><br/>                                                                                                                                                                |
| [<span data-ttu-id="38081-688">**LsaSetForestTrustInformation**</span><span class="sxs-lookup"><span data-stu-id="38081-688">**LsaSetForestTrustInformation**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsasetforesttrustinformation)       | <span data-ttu-id="38081-689">為指定的「 [*本地安全機構*](/windows/desktop/SecGloss/l-gly)」 [**TrustedDomain**](/windows/desktop/SecMgmt/trusteddomain-object) 物件設定樹系信任資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-689">sets the forest trust information for a specified [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) [**TrustedDomain**](/windows/desktop/SecMgmt/trusteddomain-object) object.</span></span><br/>    |



 

## <a name="functions-implemented-by-authentication-packages"></a><span data-ttu-id="38081-690">由驗證封裝所執行的函式</span><span class="sxs-lookup"><span data-stu-id="38081-690">Functions Implemented by Authentication Packages</span></span>

<span data-ttu-id="38081-691">自訂驗證套件必須執行這些函式，這些函式是由 [*本地安全機構*](/windows/desktop/SecGloss/l-gly) (LSA) 所呼叫。</span><span class="sxs-lookup"><span data-stu-id="38081-691">Custom authentication packages must implement these functions, which are called by the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA).</span></span> <span data-ttu-id="38081-692">這些函式是由 Microsoft 所 \_ 提供的 MSV1 0 和 Kerberos 驗證套件所執行。</span><span class="sxs-lookup"><span data-stu-id="38081-692">These functions are implemented by the MSV1\_0 and Kerberos authentication packages provided by Microsoft.</span></span>



| <span data-ttu-id="38081-693">函式</span><span class="sxs-lookup"><span data-stu-id="38081-693">Function</span></span>                                                           | <span data-ttu-id="38081-694">描述</span><span class="sxs-lookup"><span data-stu-id="38081-694">Description</span></span>                                                                                                                                                                                                                                                                                                                                                            |
|--------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-695">**LsaApCallPackage**</span><span class="sxs-lookup"><span data-stu-id="38081-695">**LsaApCallPackage**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_call_package)                       | <span data-ttu-id="38081-696">當使用信任連接的應用程式在對 [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) 的呼叫中指定了驗證套件的識別碼時呼叫。</span><span class="sxs-lookup"><span data-stu-id="38081-696">Called when the authentication package's identifier has been specified in a call to [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) by an application that is using a trusted connection.</span></span><br/> <span data-ttu-id="38081-697">此函式提供登入應用程式直接與驗證套件進行通訊的方法。</span><span class="sxs-lookup"><span data-stu-id="38081-697">This function provides a way for logon applications to communicate directly with authentication packages.</span></span><br/>                         |
| [<span data-ttu-id="38081-698">**LsaApCallPackagePassthrough**</span><span class="sxs-lookup"><span data-stu-id="38081-698">**LsaApCallPackagePassthrough**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_call_package_passthrough) | <span data-ttu-id="38081-699">在傳遞登入要求的 [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) 呼叫中指定驗證套件的識別碼時呼叫。</span><span class="sxs-lookup"><span data-stu-id="38081-699">Called when the authentication package's identifier has been specified in a call to [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) for a pass-through logon request.</span></span><br/>                                                                                                                                                                  |
| <span data-ttu-id="38081-700">[**LsaApCallPackageUntrusted**](/previous-versions/windows/desktop/legacy/aa378218(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="38081-700">[**LsaApCallPackageUntrusted**](/previous-versions/windows/desktop/legacy/aa378218(v=vs.85))</span></span>     | <span data-ttu-id="38081-701">當應用程式使用未受信任的連接時，在對 [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) 的呼叫中指定了驗證套件的識別碼時呼叫。</span><span class="sxs-lookup"><span data-stu-id="38081-701">Called when the authentication package's identifier has been specified in a call to [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) by an application using an untrusted connection.</span></span> <span data-ttu-id="38081-702">這個函式是用來與沒有 SeTcbPrivilege 許可權的進程進行通訊。</span><span class="sxs-lookup"><span data-stu-id="38081-702">This function is used for communicating with processes that do not have the SeTcbPrivilege privilege.</span></span><br/>                                             |
| [<span data-ttu-id="38081-703">**LsaApInitializePackage**</span><span class="sxs-lookup"><span data-stu-id="38081-703">**LsaApInitializePackage**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_initialize_package)           | <span data-ttu-id="38081-704">在系統初始化期間呼叫，以允許驗證封裝執行初始化工作。</span><span class="sxs-lookup"><span data-stu-id="38081-704">Called during system initialization to permit the authentication package to perform initialization tasks.</span></span><br/>                                                                                                                                                                                                                                                   |
| [<span data-ttu-id="38081-705">**LsaApLogonTerminated**</span><span class="sxs-lookup"><span data-stu-id="38081-705">**LsaApLogonTerminated**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_terminated)               | <span data-ttu-id="38081-706">當登入會話結束時呼叫，以允許驗證套件釋放為登入會話配置的任何資源。</span><span class="sxs-lookup"><span data-stu-id="38081-706">Called when a logon session ends to permit the authentication package to free any resources allocated for the logon session.</span></span><br/>                                                                                                                                                                                                                                |
| [<span data-ttu-id="38081-707">**LsaApLogonUser**</span><span class="sxs-lookup"><span data-stu-id="38081-707">**LsaApLogonUser**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user)                           | <span data-ttu-id="38081-708">在 [**LsaLogonUser**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsalogonuser)的呼叫中指定驗證封裝時呼叫。</span><span class="sxs-lookup"><span data-stu-id="38081-708">Called when the authentication package has been specified in a call to [**LsaLogonUser**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsalogonuser).</span></span> <span data-ttu-id="38081-709">此函數會驗證 [*安全性主體的*](/windows/desktop/SecGloss/s-gly) 登入資料。</span><span class="sxs-lookup"><span data-stu-id="38081-709">This function authenticates a [*security principal's*](/windows/desktop/SecGloss/s-gly) logon data.</span></span><br/>                                                                                           |
| [<span data-ttu-id="38081-710">**LsaApLogonUserEx**</span><span class="sxs-lookup"><span data-stu-id="38081-710">**LsaApLogonUserEx**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex)                       | <span data-ttu-id="38081-711">與 [**LsaApLogonUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user) 相同，不同之處在于它會傳回用於進行審核的工作站名稱。</span><span class="sxs-lookup"><span data-stu-id="38081-711">Identical to [**LsaApLogonUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user) except that it returns the workstation name for audit purposes.</span></span><br/> <span data-ttu-id="38081-712">驗證套件可以執行 [**LsaApLogonUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user)、 [**LsaApLogonUserEx**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex)或 [**LsaApLogonUserEx2**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex2)。</span><span class="sxs-lookup"><span data-stu-id="38081-712">An authentication package can implement [**LsaApLogonUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user), [**LsaApLogonUserEx**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex), or [**LsaApLogonUserEx2**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex2).</span></span> <span data-ttu-id="38081-713">它不需要全部執行。</span><span class="sxs-lookup"><span data-stu-id="38081-713">It does not need to implement them all.</span></span><br/> |
| [<span data-ttu-id="38081-714">**LsaApLogonUserEx2**</span><span class="sxs-lookup"><span data-stu-id="38081-714">**LsaApLogonUserEx2**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex2)                     | <span data-ttu-id="38081-715">與 [**LsaApLogonUserEx**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex) 相同，不同之處在于它會傳回安全性主體的主要和補充認證。</span><span class="sxs-lookup"><span data-stu-id="38081-715">Identical to [**LsaApLogonUserEx**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex) except that it returns the security principal's primary and supplemental credentials.</span></span> <span data-ttu-id="38081-716">驗證套件可以執行 [**LsaApLogonUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user)、 **LsaApLogonUserEx** 或 [**LsaApLogonUserEx2**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex2)。</span><span class="sxs-lookup"><span data-stu-id="38081-716">An authentication package can implement [**LsaApLogonUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user), **LsaApLogonUserEx**, or [**LsaApLogonUserEx2**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex2).</span></span> <span data-ttu-id="38081-717">它不需要全部執行。</span><span class="sxs-lookup"><span data-stu-id="38081-717">It does not need to implement them all.</span></span><br/>          |



 

## <a name="lsa-functions-called-by-authentication-packages"></a><span data-ttu-id="38081-718">由驗證套件呼叫的 LSA 函數</span><span class="sxs-lookup"><span data-stu-id="38081-718">LSA Functions Called by Authentication Packages</span></span>

<span data-ttu-id="38081-719">您可以從自訂驗證套件呼叫下列 [*本地安全機構*](/windows/desktop/SecGloss/l-gly) (LSA) 函數。</span><span class="sxs-lookup"><span data-stu-id="38081-719">The following [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) functions can be called from a custom authentication package.</span></span> <span data-ttu-id="38081-720">當 LSA 呼叫 [**LsaApInitializePackage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_initialize_package) 來初始化封裝時，它會傳遞支援函數的資料表。</span><span class="sxs-lookup"><span data-stu-id="38081-720">When the LSA calls [**LsaApInitializePackage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_initialize_package) to initialize the package, it passes a table of support functions.</span></span>



| <span data-ttu-id="38081-721">函式</span><span class="sxs-lookup"><span data-stu-id="38081-721">Function</span></span>                                             | <span data-ttu-id="38081-722">描述</span><span class="sxs-lookup"><span data-stu-id="38081-722">Description</span></span>                                                                                                                   |
|------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-723">**AddCredential**</span><span class="sxs-lookup"><span data-stu-id="38081-723">**AddCredential**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_add_credential)               | <span data-ttu-id="38081-724">將認證新增至登入會話。</span><span class="sxs-lookup"><span data-stu-id="38081-724">Adds credentials to a logon session.</span></span><br/>                                                                               |
| [<span data-ttu-id="38081-725">**AllocateClientBuffer**</span><span class="sxs-lookup"><span data-stu-id="38081-725">**AllocateClientBuffer**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_client_buffer) | <span data-ttu-id="38081-726">配置用戶端位址空間中的緩衝區。</span><span class="sxs-lookup"><span data-stu-id="38081-726">Allocates a buffer in the client's address space.</span></span><br/>                                                                  |
| [<span data-ttu-id="38081-727">**AllocateLsaHeap**</span><span class="sxs-lookup"><span data-stu-id="38081-727">**AllocateLsaHeap**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_lsa_heap)           | <span data-ttu-id="38081-728">配置必須從驗證封裝傳回至 LSA 的緩衝區。</span><span class="sxs-lookup"><span data-stu-id="38081-728">Allocates buffers that must be returned from the authentication package to the LSA.</span></span><br/>                                |
| [<span data-ttu-id="38081-729">**CopyFromClientBuffer**</span><span class="sxs-lookup"><span data-stu-id="38081-729">**CopyFromClientBuffer**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_copy_from_client_buffer) | <span data-ttu-id="38081-730">將用戶端位址空間中緩衝區的內容複寫到本機緩衝區。</span><span class="sxs-lookup"><span data-stu-id="38081-730">Copies the contents of a buffer in the client's address space into a local buffer.</span></span><br/>                                 |
| [<span data-ttu-id="38081-731">**CopyToClientBuffer**</span><span class="sxs-lookup"><span data-stu-id="38081-731">**CopyToClientBuffer**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_copy_to_client_buffer)     | <span data-ttu-id="38081-732">將本機緩衝區的內容複寫到用戶端的位址空間。</span><span class="sxs-lookup"><span data-stu-id="38081-732">Copies the contents of a local buffer into the client's address space.</span></span><br/>                                             |
| [<span data-ttu-id="38081-733">**CreateLogonSession**</span><span class="sxs-lookup"><span data-stu-id="38081-733">**CreateLogonSession**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_create_logon_session)     | <span data-ttu-id="38081-734">由驗證套件用來建立登入會話。</span><span class="sxs-lookup"><span data-stu-id="38081-734">Used by authentication packages to create a logon session.</span></span><br/>                                                         |
| [<span data-ttu-id="38081-735">**DeleteCredential**</span><span class="sxs-lookup"><span data-stu-id="38081-735">**DeleteCredential**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_delete_credential)         | <span data-ttu-id="38081-736">刪除現有的認證。</span><span class="sxs-lookup"><span data-stu-id="38081-736">Deletes an existing credential.</span></span><br/>                                                                                    |
| [<span data-ttu-id="38081-737">**DeleteLogonSession**</span><span class="sxs-lookup"><span data-stu-id="38081-737">**DeleteLogonSession**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_delete_logon_session)     | <span data-ttu-id="38081-738">清除在判斷使用者的驗證資訊是否合法時，所建立的任何登入會話。</span><span class="sxs-lookup"><span data-stu-id="38081-738">Cleans up any logon sessions created while determining whether a user's authentication information is legitimate.</span></span><br/>  |
| [<span data-ttu-id="38081-739">**FreeClientBuffer**</span><span class="sxs-lookup"><span data-stu-id="38081-739">**FreeClientBuffer**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_free_client_buffer)         | <span data-ttu-id="38081-740">釋放先前使用 [**AllocateClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_client_buffer) 函數配置的用戶端緩衝區。</span><span class="sxs-lookup"><span data-stu-id="38081-740">Frees a client buffer previously allocated with the [**AllocateClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_client_buffer) function.</span></span><br/> |
| [<span data-ttu-id="38081-741">**FreeLsaHeap**</span><span class="sxs-lookup"><span data-stu-id="38081-741">**FreeLsaHeap**</span></span>](/windows/win32/api/ntlsa/nc-ntlsa-lsa_free_lsa_heap)                   | <span data-ttu-id="38081-742">釋放先前使用 [**AllocateLsaHeap**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_lsa_heap) 函數配置的緩衝區。</span><span class="sxs-lookup"><span data-stu-id="38081-742">Frees buffers previously allocated by using the [**AllocateLsaHeap**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_lsa_heap) function.</span></span><br/>               |
| [<span data-ttu-id="38081-743">**GetCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-743">**GetCredentials**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_credentials)             | <span data-ttu-id="38081-744">抓取 [**AddCredential**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_add_credential)先前快取的認證。</span><span class="sxs-lookup"><span data-stu-id="38081-744">Retrieves credentials previously cached by [**AddCredential**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_add_credential).</span></span><br/>                                 |



 

## <a name="subauthentication-functions"></a><span data-ttu-id="38081-745">子驗證函式</span><span class="sxs-lookup"><span data-stu-id="38081-745">Subauthentication Functions</span></span>

<span data-ttu-id="38081-746">您可以透過 Microsoft 提供的驗證套件呼叫下列子驗證函式，以提供其他使用者建立的登入驗證。</span><span class="sxs-lookup"><span data-stu-id="38081-746">The following subauthentication functions can be called by Microsoft-provided authentication packages to provide additional, user-created logon authentication.</span></span>



| <span data-ttu-id="38081-747">函式</span><span class="sxs-lookup"><span data-stu-id="38081-747">Function</span></span>                                                                  | <span data-ttu-id="38081-748">描述</span><span class="sxs-lookup"><span data-stu-id="38081-748">Description</span></span>                                                                           |
|---------------------------------------------------------------------------|---------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-749">**Msv1 \_ 0SubAuthenticationFilter**</span><span class="sxs-lookup"><span data-stu-id="38081-749">**Msv1\_0SubAuthenticationFilter**</span></span>](/windows/desktop/api/Subauth/nf-subauth-msv1_0subauthenticationfilter)   | <span data-ttu-id="38081-750">執行網域控制站專用的使用者登入驗證。</span><span class="sxs-lookup"><span data-stu-id="38081-750">Performs user logon authentication that is specific to domain controllers.</span></span><br/> |
| [<span data-ttu-id="38081-751">**Msv1 \_ 0SubAuthenticationRoutine**</span><span class="sxs-lookup"><span data-stu-id="38081-751">**Msv1\_0SubAuthenticationRoutine**</span></span>](/windows/desktop/api/Subauth/nf-subauth-msv1_0subauthenticationroutine) | <span data-ttu-id="38081-752">執行用戶端/伺服器特定的驗證。</span><span class="sxs-lookup"><span data-stu-id="38081-752">Performs client/server-specific authentication.</span></span><br/>                            |



 

## <a name="credentials-management-functions"></a><span data-ttu-id="38081-753">認證管理功能</span><span class="sxs-lookup"><span data-stu-id="38081-753">Credentials Management Functions</span></span>

<span data-ttu-id="38081-754">下列主題提供認證管理功能的參考資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-754">The following topics provide reference information for the credentials management functions.</span></span>



| <span data-ttu-id="38081-755">主題</span><span class="sxs-lookup"><span data-stu-id="38081-755">Topic</span></span>                                        | <span data-ttu-id="38081-756">描述</span><span class="sxs-lookup"><span data-stu-id="38081-756">Description</span></span>                                                                                                                                |
|----------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="38081-757">認證管理 UI 函數</span><span class="sxs-lookup"><span data-stu-id="38081-757">Credentials Management UI Functions</span></span>          | <span data-ttu-id="38081-758">用於認證管理 UI 的詳細資料函數。</span><span class="sxs-lookup"><span data-stu-id="38081-758">Details functions used for credentials management UI.</span></span><br/>                                                                           |
| <span data-ttu-id="38081-759">低層級認證管理功能</span><span class="sxs-lookup"><span data-stu-id="38081-759">Low-level Credentials Management Functions</span></span>   | <span data-ttu-id="38081-760">用於低層級認證管理的詳細資料功能。</span><span class="sxs-lookup"><span data-stu-id="38081-760">Details functions used for low-level credentials management.</span></span><br/>                                                                    |
| <span data-ttu-id="38081-761">認證管理通知函式</span><span class="sxs-lookup"><span data-stu-id="38081-761">Credential Management Notification Functions</span></span> | <span data-ttu-id="38081-762">詳細說明認證管理員所執行的函式，以便在驗證資訊變更時接收通知。</span><span class="sxs-lookup"><span data-stu-id="38081-762">Details functions that are implemented by credential managers to receive notifications when authentication information changes.</span></span><br/> |



 

### <a name="credentials-management-ui-functions"></a><span data-ttu-id="38081-763">認證管理 UI 函數</span><span class="sxs-lookup"><span data-stu-id="38081-763">Credentials Management UI Functions</span></span>

<span data-ttu-id="38081-764">以下是認證管理 UI 函數。</span><span class="sxs-lookup"><span data-stu-id="38081-764">The following are credentials management UI functions.</span></span>



| <span data-ttu-id="38081-765">函式</span><span class="sxs-lookup"><span data-stu-id="38081-765">Function</span></span>                                                                       | <span data-ttu-id="38081-766">描述</span><span class="sxs-lookup"><span data-stu-id="38081-766">Description</span></span>                                                                                                                                                                                                    |
|--------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-767">**CredUICmdLinePromptForCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-767">**CredUICmdLinePromptForCredentials**</span></span>](/windows/desktop/api/WinCred/nf-wincred-creduicmdlinepromptforcredentialsa) | <span data-ttu-id="38081-768">提示輸入，並接受使用者在命令列程式中工作的使用者認證資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-768">Prompt for and accept user credentials information from a user working in a command-line program.</span></span><br/>                                                                                                   |
| [<span data-ttu-id="38081-769">**CredUIConfirmCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-769">**CredUIConfirmCredentials**</span></span>](/windows/desktop/api/WinCred/nf-wincred-creduiconfirmcredentialsa)                   | <span data-ttu-id="38081-770">確認 [**CredUIPromptForCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduipromptforcredentialsa) 或 [**CredUICmdLinePromptForCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduicmdlinepromptforcredentialsa)傳回的認證有效性。</span><span class="sxs-lookup"><span data-stu-id="38081-770">Confirm the validity of credentials returned by [**CredUIPromptForCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduipromptforcredentialsa) or [**CredUICmdLinePromptForCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduicmdlinepromptforcredentialsa).</span></span><br/> |
| [<span data-ttu-id="38081-771">**CredUIParseUserName**</span><span class="sxs-lookup"><span data-stu-id="38081-771">**CredUIParseUserName**</span></span>](/windows/desktop/api/WinCred/nf-wincred-creduiparseusernamea)                             | <span data-ttu-id="38081-772">從完整的使用者名稱中解壓縮網域和使用者帳戶名稱。</span><span class="sxs-lookup"><span data-stu-id="38081-772">Extract the domain and user account name from a fully qualified user name.</span></span><br/>                                                                                                                          |
| [<span data-ttu-id="38081-773">**CredUIPromptForCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-773">**CredUIPromptForCredentials**</span></span>](/windows/desktop/api/WinCred/nf-wincred-creduipromptforcredentialsa)               | <span data-ttu-id="38081-774">顯示接受使用者認證資訊的對話方塊。</span><span class="sxs-lookup"><span data-stu-id="38081-774">Display a dialog box that accepts credentials information from a user.</span></span><br/>                                                                                                                              |
| [<span data-ttu-id="38081-775">**CredUIPromptForWindowsCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-775">**CredUIPromptForWindowsCredentials**</span></span>](/windows/desktop/api/WinCred/nf-wincred-creduipromptforwindowscredentialsa) | <span data-ttu-id="38081-776">建立並顯示可設定的對話方塊，可讓使用者使用安裝在本機電腦上的任何認證提供者來提供認證資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-776">Creates and displays a configurable dialog box that allows users to supply credential information by using any credential provider installed on the local computer.</span></span><br/>                                 |
| [<span data-ttu-id="38081-777">**CredUIReadSSOCredW**</span><span class="sxs-lookup"><span data-stu-id="38081-777">**CredUIReadSSOCredW**</span></span>](/windows/desktop/api/WinCred/nf-wincred-creduireadssocredw)                               | <span data-ttu-id="38081-778">抓取單一登入認證的使用者名稱。</span><span class="sxs-lookup"><span data-stu-id="38081-778">Retrieves the user name for a single logon credential.</span></span><br/>                                                                                                                                              |
| [<span data-ttu-id="38081-779">**CredUIStoreSSOCredW**</span><span class="sxs-lookup"><span data-stu-id="38081-779">**CredUIStoreSSOCredW**</span></span>](/windows/desktop/api/WinCred/nf-wincred-creduistoressocredw)                             | <span data-ttu-id="38081-780">儲存單一登入認證。</span><span class="sxs-lookup"><span data-stu-id="38081-780">Stores a single logon credential.</span></span><br/>                                                                                                                                                                   |



 

### <a name="low-level-credentials-management-functions"></a><span data-ttu-id="38081-781">低層級認證管理功能</span><span class="sxs-lookup"><span data-stu-id="38081-781">Low-level Credentials Management Functions</span></span>

<span data-ttu-id="38081-782">以下是低層級的認證管理功能。</span><span class="sxs-lookup"><span data-stu-id="38081-782">The following are low-level credentials management functions.</span></span>



| <span data-ttu-id="38081-783">函式</span><span class="sxs-lookup"><span data-stu-id="38081-783">Function</span></span>                                                                 | <span data-ttu-id="38081-784">描述</span><span class="sxs-lookup"><span data-stu-id="38081-784">Description</span></span>                                                                                                                                                                                                                              |
|--------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-785">**CredDelete**</span><span class="sxs-lookup"><span data-stu-id="38081-785">**CredDelete**</span></span>](/windows/desktop/api/WinCred/nf-wincred-creddeletea)                                         | <span data-ttu-id="38081-786">從使用者的認證集刪除認證。</span><span class="sxs-lookup"><span data-stu-id="38081-786">Delete a credential from a user's credentials set.</span></span><br/>                                                                                                                                                                            |
| [<span data-ttu-id="38081-787">**CredEnumerate**</span><span class="sxs-lookup"><span data-stu-id="38081-787">**CredEnumerate**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credenumeratea)                                   | <span data-ttu-id="38081-788">列出使用者認證集中的認證。</span><span class="sxs-lookup"><span data-stu-id="38081-788">List the credentials in a user's credentials set.</span></span><br/>                                                                                                                                                                             |
| [<span data-ttu-id="38081-789">**CredFindBestCredential**</span><span class="sxs-lookup"><span data-stu-id="38081-789">**CredFindBestCredential**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credfindbestcredentiala)                 | <span data-ttu-id="38081-790">搜尋 [認證管理](credentials-management.md) (CredMan) 資料庫，尋找與目前登入會話相關聯，且最符合指定目標資源的一般認證集。</span><span class="sxs-lookup"><span data-stu-id="38081-790">Searches the [Credentials Management](credentials-management.md) (CredMan) database for the set of generic credentials that are associated with the current logon session and that best match the specified target resource.</span></span><br/> |
| [<span data-ttu-id="38081-791">**CredFree**</span><span class="sxs-lookup"><span data-stu-id="38081-791">**CredFree**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credfree)                                             | <span data-ttu-id="38081-792">釋放用於任何認證管理功能所傳回之緩衝區的記憶體。</span><span class="sxs-lookup"><span data-stu-id="38081-792">Free the memory used for a buffer returned by any of the credentials management functions.</span></span><br/>                                                                                                                                    |
| [<span data-ttu-id="38081-793">**CredGetSessionTypes**</span><span class="sxs-lookup"><span data-stu-id="38081-793">**CredGetSessionTypes**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credgetsessiontypes)                       | <span data-ttu-id="38081-794">取得目前登入會話所支援的最大持續性。</span><span class="sxs-lookup"><span data-stu-id="38081-794">Retrieve the maximum persistence supported by the current logon session.</span></span><br/>                                                                                                                                                      |
| [<span data-ttu-id="38081-795">**CredGetTargetInfo**</span><span class="sxs-lookup"><span data-stu-id="38081-795">**CredGetTargetInfo**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credgettargetinfoa)                           | <span data-ttu-id="38081-796">取得命名資源的所有已知目標名稱資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-796">Retrieve all known target name information for a named resource.</span></span><br/>                                                                                                                                                              |
| [<span data-ttu-id="38081-797">**CredIsMarshaledCredential**</span><span class="sxs-lookup"><span data-stu-id="38081-797">**CredIsMarshaledCredential**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credismarshaledcredentiala)           | <span data-ttu-id="38081-798">判斷指定的使用者名稱字串是否為先前由 [**CredMarshalCredential**](/windows/desktop/api/WinCred/nf-wincred-credmarshalcredentiala)封送處理的封送認證。</span><span class="sxs-lookup"><span data-stu-id="38081-798">Determines whether a specified user name string is a marshaled credential previously marshaled by [**CredMarshalCredential**](/windows/desktop/api/WinCred/nf-wincred-credmarshalcredentiala).</span></span><br/>                                                                     |
| [<span data-ttu-id="38081-799">**CredIsProtected**</span><span class="sxs-lookup"><span data-stu-id="38081-799">**CredIsProtected**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credisprotecteda)                               | <span data-ttu-id="38081-800">指定指定的認證是否由先前對 [**CredProtect**](/windows/desktop/api/WinCred/nf-wincred-credprotecta) 函式的呼叫進行加密。</span><span class="sxs-lookup"><span data-stu-id="38081-800">Specifies whether the specified credentials are encrypted by a previous call to the [**CredProtect**](/windows/desktop/api/WinCred/nf-wincred-credprotecta) function.</span></span><br/>                                                                                              |
| [<span data-ttu-id="38081-801">**CredMarshalCredential**</span><span class="sxs-lookup"><span data-stu-id="38081-801">**CredMarshalCredential**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credmarshalcredentiala)                   | <span data-ttu-id="38081-802">將認證轉換成文字字串。</span><span class="sxs-lookup"><span data-stu-id="38081-802">Transform a credential into a text string.</span></span><br/>                                                                                                                                                                                    |
| [<span data-ttu-id="38081-803">**CredPackAuthenticationBuffer**</span><span class="sxs-lookup"><span data-stu-id="38081-803">**CredPackAuthenticationBuffer**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credpackauthenticationbuffera)     | <span data-ttu-id="38081-804">將字串使用者名稱和密碼轉換成驗證緩衝區。</span><span class="sxs-lookup"><span data-stu-id="38081-804">Converts a string user name and password into an authentication buffer.</span></span><br/>                                                                                                                                                       |
| [<span data-ttu-id="38081-805">**CredProtect**</span><span class="sxs-lookup"><span data-stu-id="38081-805">**CredProtect**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credprotecta)                                       | <span data-ttu-id="38081-806">加密指定的認證，如此一來，只有目前的安全性內容才能將其解密。</span><span class="sxs-lookup"><span data-stu-id="38081-806">Encrypts the specified credentials so that only the current security context can decrypt them.</span></span><br/>                                                                                                                                |
| [<span data-ttu-id="38081-807">**CredRead**</span><span class="sxs-lookup"><span data-stu-id="38081-807">**CredRead**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credreada)                                             | <span data-ttu-id="38081-808">從使用者的認證集讀取認證。</span><span class="sxs-lookup"><span data-stu-id="38081-808">Read a credential from a user's credentials set.</span></span><br/>                                                                                                                                                                              |
| [<span data-ttu-id="38081-809">**CredReadDomainCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-809">**CredReadDomainCredentials**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credreaddomaincredentialsa)           | <span data-ttu-id="38081-810">從使用者的認證集讀取網域認證。</span><span class="sxs-lookup"><span data-stu-id="38081-810">Read the domain credentials from a user's credentials set.</span></span><br/>                                                                                                                                                                    |
| [<span data-ttu-id="38081-811">**CredRename**</span><span class="sxs-lookup"><span data-stu-id="38081-811">**CredRename**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credrenamea)                                         | <span data-ttu-id="38081-812">從使用者的認證集重新命名認證。</span><span class="sxs-lookup"><span data-stu-id="38081-812">Rename a credential from a user's credentials set.</span></span><br/>                                                                                                                                                                            |
| [<span data-ttu-id="38081-813">**CredUnmarshalCredential**</span><span class="sxs-lookup"><span data-stu-id="38081-813">**CredUnmarshalCredential**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credunmarshalcredentiala)               | <span data-ttu-id="38081-814">將封送處理的認證字串轉換回其 nonmarshaled 形式。</span><span class="sxs-lookup"><span data-stu-id="38081-814">Transform a marshaled credential string back into its nonmarshaled form.</span></span><br/>                                                                                                                                                      |
| [<span data-ttu-id="38081-815">**CredUnPackAuthenticationBuffer**</span><span class="sxs-lookup"><span data-stu-id="38081-815">**CredUnPackAuthenticationBuffer**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credunpackauthenticationbuffera) | <span data-ttu-id="38081-816">將呼叫 [**CredUIPromptForWindowsCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduipromptforwindowscredentialsa) 函式所傳回的驗證緩衝區轉換成字串使用者名稱和密碼。</span><span class="sxs-lookup"><span data-stu-id="38081-816">Converts an authentication buffer returned by a call to the [**CredUIPromptForWindowsCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduipromptforwindowscredentialsa) function into a string user name and password.</span></span><br/>                                     |
| [<span data-ttu-id="38081-817">**CredUnprotect**</span><span class="sxs-lookup"><span data-stu-id="38081-817">**CredUnprotect**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credunprotecta)                                   | <span data-ttu-id="38081-818">解密先前使用 [**CredProtect**](/windows/desktop/api/WinCred/nf-wincred-credprotecta) 函式加密的認證。</span><span class="sxs-lookup"><span data-stu-id="38081-818">Decrypts credentials that were previously encrypted by using the [**CredProtect**](/windows/desktop/api/WinCred/nf-wincred-credprotecta) function.</span></span><br/>                                                                                                                 |
| [<span data-ttu-id="38081-819">**CredWrite**</span><span class="sxs-lookup"><span data-stu-id="38081-819">**CredWrite**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credwritea)                                           | <span data-ttu-id="38081-820">建立新的認證，或在使用者的認證集內修改現有的認證。</span><span class="sxs-lookup"><span data-stu-id="38081-820">Create a new credential or modify an existing credential in a user's credentials set.</span></span><br/>                                                                                                                                         |
| [<span data-ttu-id="38081-821">**CredWriteDomainCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-821">**CredWriteDomainCredentials**</span></span>](/windows/desktop/api/WinCred/nf-wincred-credwritedomaincredentialsa)         | <span data-ttu-id="38081-822">將網域認證寫入至使用者的認證集。</span><span class="sxs-lookup"><span data-stu-id="38081-822">Write domain credentials to a user's credentials set.</span></span><br/>                                                                                                                                                                         |



 

### <a name="credential-management-notification-functions"></a><span data-ttu-id="38081-823">認證管理通知函式</span><span class="sxs-lookup"><span data-stu-id="38081-823">Credential Management Notification Functions</span></span>

<span data-ttu-id="38081-824">認證管理員會執行下列函式，以在驗證資訊變更時接收通知。</span><span class="sxs-lookup"><span data-stu-id="38081-824">The following functions are implemented by credential managers to receive notifications when authentication information changes.</span></span>



| <span data-ttu-id="38081-825">函式</span><span class="sxs-lookup"><span data-stu-id="38081-825">Function</span></span>                                                 | <span data-ttu-id="38081-826">描述</span><span class="sxs-lookup"><span data-stu-id="38081-826">Description</span></span>                                                                                                                                                    |
|----------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-827">**NPLogonNotify**</span><span class="sxs-lookup"><span data-stu-id="38081-827">**NPLogonNotify**</span></span>](/windows/desktop/api/Npapi/nf-npapi-nplogonnotify)                   | <span data-ttu-id="38081-828">MPR 會呼叫此函式，以通知認證管理員已發生登入事件，允許認證管理員傳回登入腳本。</span><span class="sxs-lookup"><span data-stu-id="38081-828">MPR calls this function to notify the credential manager that a logon event has occurred, allowing the credential manager to return a logon script.</span></span><br/> |
| [<span data-ttu-id="38081-829">**NPPasswordChangeNotify**</span><span class="sxs-lookup"><span data-stu-id="38081-829">**NPPasswordChangeNotify**</span></span>](/windows/desktop/api/Npapi/nf-npapi-nppasswordchangenotify) | <span data-ttu-id="38081-830">MPR 會呼叫這個函式，以通知認證管理員密碼變更事件。</span><span class="sxs-lookup"><span data-stu-id="38081-830">MPR calls this function to notify the credential manager of a password change event.</span></span><br/>                                                                |



 

## <a name="smart-card-functions"></a><span data-ttu-id="38081-831">智慧卡功能</span><span class="sxs-lookup"><span data-stu-id="38081-831">Smart Card Functions</span></span>

<span data-ttu-id="38081-832">智慧卡 SDK 提供下列功能。</span><span class="sxs-lookup"><span data-stu-id="38081-832">The Smart Card SDK provides the following functions.</span></span>



| <span data-ttu-id="38081-833">函式</span><span class="sxs-lookup"><span data-stu-id="38081-833">Function</span></span>                                                                             | <span data-ttu-id="38081-834">描述</span><span class="sxs-lookup"><span data-stu-id="38081-834">Description</span></span>                                                                                                                                                                                                          |
|--------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-835">**GetOpenCardName**</span><span class="sxs-lookup"><span data-stu-id="38081-835">**GetOpenCardName**</span></span>](/windows/desktop/api/Winscard/nf-winscard-getopencardnamea)                                           | <span data-ttu-id="38081-836">取代為 [**SCardUIDlgSelectCard**](/windows/desktop/api/Winscard/nf-winscard-scarduidlgselectcarda)，它會顯示智慧卡 **選取卡片** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="38081-836">Replaced by [**SCardUIDlgSelectCard**](/windows/desktop/api/Winscard/nf-winscard-scarduidlgselectcarda), which displays the smart card **Select Card** dialog box.</span></span><br/>                                                                               |
| [<span data-ttu-id="38081-837">**SCardAccessStartedEvent**</span><span class="sxs-lookup"><span data-stu-id="38081-837">**SCardAccessStartedEvent**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardaccessstartedevent)                           | <span data-ttu-id="38081-838">當智慧卡資源管理員的開頭收到信號時，取得事件控制碼。</span><span class="sxs-lookup"><span data-stu-id="38081-838">Gets an event handle when the starting of a smart card resource manager is signaled.</span></span>                                                                                                                                 |
| [<span data-ttu-id="38081-839">**SCardAddReaderToGroup**</span><span class="sxs-lookup"><span data-stu-id="38081-839">**SCardAddReaderToGroup**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardaddreadertogroupa)                               | <span data-ttu-id="38081-840">將 [*讀者*](/windows/desktop/SecGloss/r-gly) 新增至讀者群組。</span><span class="sxs-lookup"><span data-stu-id="38081-840">Adds a [*reader*](/windows/desktop/SecGloss/r-gly) to a reader group.</span></span>                                                                                                                       |
| [<span data-ttu-id="38081-841">**SCardAudit**</span><span class="sxs-lookup"><span data-stu-id="38081-841">**SCardAudit**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardaudit)                                                     | <span data-ttu-id="38081-842">將事件訊息寫入 Windows 應用程式記錄檔 Microsoft-Windows-智慧卡-Audit/Authentication。</span><span class="sxs-lookup"><span data-stu-id="38081-842">Writes event messages to the Windows application log Microsoft-Windows-SmartCard-Audit/Authentication.</span></span>                                                                                                               |
| [<span data-ttu-id="38081-843">**SCardBeginTransaction**</span><span class="sxs-lookup"><span data-stu-id="38081-843">**SCardBeginTransaction**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardbegintransaction)                               | <span data-ttu-id="38081-844">啟動 [*交易*](/windows/desktop/SecGloss/t-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-844">Starts a [*transaction*](/windows/desktop/SecGloss/t-gly).</span></span>                                                                                                                        |
| [<span data-ttu-id="38081-845">**SCardCancel**</span><span class="sxs-lookup"><span data-stu-id="38081-845">**SCardCancel**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardcancel)                                                   | <span data-ttu-id="38081-846">終止 [*內容*](/windows/desktop/SecGloss/c-gly)內所有未完成的動作。</span><span class="sxs-lookup"><span data-stu-id="38081-846">Terminates all outstanding actions within a [*context*](/windows/desktop/SecGloss/c-gly).</span></span>                                                                                                 |
| <span data-ttu-id="38081-847">**SCardCancelTransaction**</span><span class="sxs-lookup"><span data-stu-id="38081-847">**SCardCancelTransaction**</span></span>                                                           | <span data-ttu-id="38081-848">保留供未來使用。</span><span class="sxs-lookup"><span data-stu-id="38081-848">Reserved for future use.</span></span>                                                                                                                                                                                             |
| [<span data-ttu-id="38081-849">**SCardConnect**</span><span class="sxs-lookup"><span data-stu-id="38081-849">**SCardConnect**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardconnecta)                                                 | <span data-ttu-id="38081-850">建立呼叫應用程式與智慧卡之間的連接。</span><span class="sxs-lookup"><span data-stu-id="38081-850">Establishes a connection between the calling application and a smart card.</span></span>                                                                                                                                           |
| [<span data-ttu-id="38081-851">**SCardControl**</span><span class="sxs-lookup"><span data-stu-id="38081-851">**SCardControl**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardcontrol)                                                 | <span data-ttu-id="38081-852">在呼叫 [**SCardConnect**](/windows/desktop/api/Winscard/nf-winscard-scardconnecta) 之後，取得讀取器的直接控制。</span><span class="sxs-lookup"><span data-stu-id="38081-852">Gets direct control of the reader after [**SCardConnect**](/windows/desktop/api/Winscard/nf-winscard-scardconnecta) is called.</span></span>                                                                                                                              |
| [<span data-ttu-id="38081-853">**SCardDisconnect**</span><span class="sxs-lookup"><span data-stu-id="38081-853">**SCardDisconnect**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scarddisconnect)                                           | <span data-ttu-id="38081-854">結束通話應用程式與智慧卡之間的連接。</span><span class="sxs-lookup"><span data-stu-id="38081-854">Terminates a connection between the calling application and a smart card.</span></span>                                                                                                                                            |
| [<span data-ttu-id="38081-855">**SCardEndTransaction**</span><span class="sxs-lookup"><span data-stu-id="38081-855">**SCardEndTransaction**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardendtransaction)                                   | <span data-ttu-id="38081-856">完成 [*交易*](/windows/desktop/SecGloss/t-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-856">Completes a [*transaction*](/windows/desktop/SecGloss/t-gly).</span></span>                                                                                                                     |
| [<span data-ttu-id="38081-857">**SCardEstablishCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-857">**SCardEstablishContext**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardestablishcontext)                               | <span data-ttu-id="38081-858">建立 [*resource manager 內容*](/windows/desktop/SecGloss/r-gly) 以存取智慧卡資料庫。</span><span class="sxs-lookup"><span data-stu-id="38081-858">Establishes a [*resource manager context*](/windows/desktop/SecGloss/r-gly) for accessing the smart card database.</span></span>                                      |
| [<span data-ttu-id="38081-859">**SCardForgetCardType**</span><span class="sxs-lookup"><span data-stu-id="38081-859">**SCardForgetCardType**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardforgetcardtypea)                                   | <span data-ttu-id="38081-860">從 [*智慧卡子系統*](/windows/desktop/SecGloss/s-gly)移除先前定義的智慧卡。</span><span class="sxs-lookup"><span data-stu-id="38081-860">Removes a previously defined smart card from the [*smart card subsystem*](/windows/desktop/SecGloss/s-gly).</span></span>                                                     |
| [<span data-ttu-id="38081-861">**SCardForgetReader**</span><span class="sxs-lookup"><span data-stu-id="38081-861">**SCardForgetReader**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardforgetreadera)                                       | <span data-ttu-id="38081-862">從智慧卡子系統移除先前定義的讀取器。</span><span class="sxs-lookup"><span data-stu-id="38081-862">Removes a previously defined reader from the smart card subsystem.</span></span>                                                                                                                                                   |
| [<span data-ttu-id="38081-863">**SCardForgetReaderGroup**</span><span class="sxs-lookup"><span data-stu-id="38081-863">**SCardForgetReaderGroup**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardforgetreadergroupa)                             | <span data-ttu-id="38081-864">從智慧卡子系統移除先前定義的讀者群組。</span><span class="sxs-lookup"><span data-stu-id="38081-864">Removes a previously defined reader group from the smart card subsystem.</span></span>                                                                                                                                             |
| [<span data-ttu-id="38081-865">**SCardFreeMemory**</span><span class="sxs-lookup"><span data-stu-id="38081-865">**SCardFreeMemory**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardfreememory)                                           | <span data-ttu-id="38081-866">釋放資源管理員所配置的記憶體。</span><span class="sxs-lookup"><span data-stu-id="38081-866">Releases memory allocated by resource manager.</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="38081-867">**SCardGetAttrib**</span><span class="sxs-lookup"><span data-stu-id="38081-867">**SCardGetAttrib**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardgetattrib)                                             | <span data-ttu-id="38081-868">從指定的 [*讀取器*](/windows/desktop/SecGloss/r-gly)、驅動程式或 [*智慧卡*](/windows/desktop/SecGloss/s-gly)取得目前讀取器的屬性。</span><span class="sxs-lookup"><span data-stu-id="38081-868">Gets the current reader's attributes from a given [*reader*](/windows/desktop/SecGloss/r-gly), driver, or [*smart card*](/windows/desktop/SecGloss/s-gly).</span></span> |
| [<span data-ttu-id="38081-869">**SCardGetCardTypeProviderName**</span><span class="sxs-lookup"><span data-stu-id="38081-869">**SCardGetCardTypeProviderName**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardgetcardtypeprovidernamea)                 | <span data-ttu-id="38081-870">取得提供者名稱，指定卡片名稱和提供者類型。</span><span class="sxs-lookup"><span data-stu-id="38081-870">Gets the provider name given a card name and provider type.</span></span>                                                                                                                                                          |
| [<span data-ttu-id="38081-871">**SCardGetDeviceTypeId**</span><span class="sxs-lookup"><span data-stu-id="38081-871">**SCardGetDeviceTypeId**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardgetdevicetypeida)                                 | <span data-ttu-id="38081-872">針對指定的讀取器名稱取得卡片讀取器的裝置類型識別碼。</span><span class="sxs-lookup"><span data-stu-id="38081-872">Gets the device type identifier of the card reader for the given reader name.</span></span> <span data-ttu-id="38081-873">這項功能不會影響讀取器的狀態。</span><span class="sxs-lookup"><span data-stu-id="38081-873">This function does not affect the state of the reader.</span></span>                                                                                 |
| [<span data-ttu-id="38081-874">**SCardGetProviderId**</span><span class="sxs-lookup"><span data-stu-id="38081-874">**SCardGetProviderId**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardgetproviderida)                                     | <span data-ttu-id="38081-875">取得智慧卡 [*主要服務提供者*](/windows/desktop/SecGloss/p-gly) 的識別碼 (GUID) 。</span><span class="sxs-lookup"><span data-stu-id="38081-875">Gets the identifier (GUID) of the [*primary service provider*](/windows/desktop/SecGloss/p-gly) for a smart card.</span></span>                                       |
| [<span data-ttu-id="38081-876">**SCardGetReaderDeviceInstanceId**</span><span class="sxs-lookup"><span data-stu-id="38081-876">**SCardGetReaderDeviceInstanceId**</span></span>](/windows/win32/api/winscard/nf-winscard-scardgetreaderdeviceinstanceida)             | <span data-ttu-id="38081-877">針對指定的讀取器名稱取得卡片讀取器的裝置實例識別碼。</span><span class="sxs-lookup"><span data-stu-id="38081-877">Gets the device instance identifier of the card reader for the given reader name.</span></span> <span data-ttu-id="38081-878">這項功能不會影響讀取器的狀態。</span><span class="sxs-lookup"><span data-stu-id="38081-878">This function does not affect the state of the reader.</span></span>                                                                             |
| [<span data-ttu-id="38081-879">**SCardGetReaderIcon**</span><span class="sxs-lookup"><span data-stu-id="38081-879">**SCardGetReaderIcon**</span></span>](/windows/win32/api/winscard/nf-winscard-scardgetreadericona)                                     | <span data-ttu-id="38081-880">取得指定讀者名稱之智慧卡讀卡機的圖示。</span><span class="sxs-lookup"><span data-stu-id="38081-880">Gets an icon of the smart card reader for a given reader's name.</span></span>                                                                                                                                                     |
| [<span data-ttu-id="38081-881">**SCardGetStatusChange**</span><span class="sxs-lookup"><span data-stu-id="38081-881">**SCardGetStatusChange**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardgetstatuschangea)                                 | <span data-ttu-id="38081-882">封鎖執行，直到讀取器的狀態變更為止。</span><span class="sxs-lookup"><span data-stu-id="38081-882">Blocks execution until status of the readers changes.</span></span>                                                                                                                                                                |
| [<span data-ttu-id="38081-883">**SCardGetTransmitCount**</span><span class="sxs-lookup"><span data-stu-id="38081-883">**SCardGetTransmitCount**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardgettransmitcount)                               | <span data-ttu-id="38081-884">抓取自插入指定卡片讀取器之後已完成的傳輸作業數目。</span><span class="sxs-lookup"><span data-stu-id="38081-884">Retrieves the number of transmit operations that have completed since the specified card reader was inserted.</span></span>                                                                                                        |
| [<span data-ttu-id="38081-885">**SCardIntroduceCardType**</span><span class="sxs-lookup"><span data-stu-id="38081-885">**SCardIntroduceCardType**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardintroducecardtypea)                             | <span data-ttu-id="38081-886">引進 [*智慧卡*](/windows/desktop/SecGloss/s-gly) 子系統的新智慧卡。</span><span class="sxs-lookup"><span data-stu-id="38081-886">Introduces a new smart card to the [*smart card*](/windows/desktop/SecGloss/s-gly) subsystem.</span></span>                                                                                       |
| [<span data-ttu-id="38081-887">**SCardIntroduceReader**</span><span class="sxs-lookup"><span data-stu-id="38081-887">**SCardIntroduceReader**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardintroducereadera)                                 | <span data-ttu-id="38081-888">為智慧卡子系統引進了新的讀取器。</span><span class="sxs-lookup"><span data-stu-id="38081-888">Introduces a new reader to the smart card subsystem.</span></span>                                                                                                                                                                 |
| [<span data-ttu-id="38081-889">**SCardIntroduceReaderGroup**</span><span class="sxs-lookup"><span data-stu-id="38081-889">**SCardIntroduceReaderGroup**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardintroducereadergroupa)                       | <span data-ttu-id="38081-890">引進新的讀取器群組至智慧卡子系統。</span><span class="sxs-lookup"><span data-stu-id="38081-890">Introduces a new reader group to the smart card subsystem.</span></span>                                                                                                                                                           |
| [<span data-ttu-id="38081-891">**SCardIsValidCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-891">**SCardIsValidContext**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardisvalidcontext)                                   | <span data-ttu-id="38081-892">驗證智慧卡內容控制碼。</span><span class="sxs-lookup"><span data-stu-id="38081-892">Verifies a smart card context handle.</span></span>                                                                                                                                                                                |
| [<span data-ttu-id="38081-893">**SCardListCards**</span><span class="sxs-lookup"><span data-stu-id="38081-893">**SCardListCards**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardlistcardsa)                                             | <span data-ttu-id="38081-894">提供已引入子系統的智慧卡清單。</span><span class="sxs-lookup"><span data-stu-id="38081-894">Provides a list of smart cards already introduced to the subsystem.</span></span>                                                                                                                                                  |
| [<span data-ttu-id="38081-895">**SCardListInterfaces**</span><span class="sxs-lookup"><span data-stu-id="38081-895">**SCardListInterfaces**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardlistinterfacesa)                                   | <span data-ttu-id="38081-896">提供指定之智慧卡所提供的介面清單。</span><span class="sxs-lookup"><span data-stu-id="38081-896">Provides a list of interfaces supplied by a given smart card.</span></span>                                                                                                                                                        |
| [<span data-ttu-id="38081-897">**SCardListReaderGroups**</span><span class="sxs-lookup"><span data-stu-id="38081-897">**SCardListReaderGroups**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardlistreadergroupsa)                               | <span data-ttu-id="38081-898">提供已引入子系統的讀者群組清單。</span><span class="sxs-lookup"><span data-stu-id="38081-898">Provides a list of reader groups already introduced to the subsystem.</span></span>                                                                                                                                                |
| [<span data-ttu-id="38081-899">**SCardListReaders**</span><span class="sxs-lookup"><span data-stu-id="38081-899">**SCardListReaders**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardlistreadersa)                                         | <span data-ttu-id="38081-900">提供已引入子系統的讀取器清單。</span><span class="sxs-lookup"><span data-stu-id="38081-900">Provides a list of readers already introduced to the subsystem.</span></span>                                                                                                                                                      |
| [<span data-ttu-id="38081-901">**SCardListReadersWithDeviceInstanceId**</span><span class="sxs-lookup"><span data-stu-id="38081-901">**SCardListReadersWithDeviceInstanceId**</span></span>](/windows/win32/api/winscard/nf-winscard-scardlistreaderswithdeviceinstanceida) | <span data-ttu-id="38081-902">取得已提供裝置實例識別碼的讀取器清單。</span><span class="sxs-lookup"><span data-stu-id="38081-902">Gets the list of readers that have provided a device instance identifier.</span></span> <span data-ttu-id="38081-903">這項功能不會影響讀取器的狀態。</span><span class="sxs-lookup"><span data-stu-id="38081-903">This function does not affect the state of the reader.</span></span>                                                                                     |
| [<span data-ttu-id="38081-904">**SCardLocateCards**</span><span class="sxs-lookup"><span data-stu-id="38081-904">**SCardLocateCards**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardlocatecardsa)                                         | <span data-ttu-id="38081-905">尋找符合指定 [*ATR 字串*](/windows/desktop/SecGloss/a-gly)的卡片。</span><span class="sxs-lookup"><span data-stu-id="38081-905">Locates the cards that match a given [*ATR string*](/windows/desktop/SecGloss/a-gly).</span></span>                                                                                               |
| [<span data-ttu-id="38081-906">**SCardLocateCardsByATR**</span><span class="sxs-lookup"><span data-stu-id="38081-906">**SCardLocateCardsByATR**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardlocatecardsbyatra)                               | <span data-ttu-id="38081-907">尋找符合指定 [*ATR 字串*](/windows/desktop/SecGloss/a-gly)的卡片。</span><span class="sxs-lookup"><span data-stu-id="38081-907">Locates the cards that match a given [*ATR string*](/windows/desktop/SecGloss/a-gly).</span></span>                                                                                               |
| [<span data-ttu-id="38081-908">**SCardReadCache**</span><span class="sxs-lookup"><span data-stu-id="38081-908">**SCardReadCache**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardreadcachea)                                             | <span data-ttu-id="38081-909">從 [智慧卡 Resource Manager](smart-card-resource-manager.md)所維護的全域快取中，抓取名稱/值組的值部分。</span><span class="sxs-lookup"><span data-stu-id="38081-909">Retrieves the value portion of a name-value pair from the global cache maintained by the [Smart Card Resource Manager](smart-card-resource-manager.md).</span></span>                                                             |
| [<span data-ttu-id="38081-910">**SCardReconnect**</span><span class="sxs-lookup"><span data-stu-id="38081-910">**SCardReconnect**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardreconnect)                                             | <span data-ttu-id="38081-911">重新建立從呼叫應用程式到智慧卡的現有連接。</span><span class="sxs-lookup"><span data-stu-id="38081-911">Reestablishes an existing connection from the calling application to the smart card.</span></span>                                                                                                                                 |
| [<span data-ttu-id="38081-912">**SCardReleaseCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-912">**SCardReleaseContext**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardreleasecontext)                                   | <span data-ttu-id="38081-913">關閉已建立的 [*資源管理員內容*](/windows/desktop/SecGloss/r-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-913">Closes an established [*resource manager context*](/windows/desktop/SecGloss/r-gly).</span></span>                                                                    |
| [<span data-ttu-id="38081-914">**SCardReleaseStartedEvent**</span><span class="sxs-lookup"><span data-stu-id="38081-914">**SCardReleaseStartedEvent**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardreleasestartedevent)                         | <span data-ttu-id="38081-915">使用 [**SCardAccessStartedEvent**](/windows/desktop/api/Winscard/nf-winscard-scardaccessstartedevent) 函式，遞減所取得之控制碼的參考計數。</span><span class="sxs-lookup"><span data-stu-id="38081-915">Decrements the reference count for a handle acquired by using the [**SCardAccessStartedEvent**](/windows/desktop/api/Winscard/nf-winscard-scardaccessstartedevent) function.</span></span>                                                                               |
| [<span data-ttu-id="38081-916">**SCardRemoveReaderFromGroup**</span><span class="sxs-lookup"><span data-stu-id="38081-916">**SCardRemoveReaderFromGroup**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardremovereaderfromgroupa)                     | <span data-ttu-id="38081-917">從現有的讀取器群組移除讀取器。</span><span class="sxs-lookup"><span data-stu-id="38081-917">Removes a reader from an existing reader group.</span></span>                                                                                                                                                                      |
| [<span data-ttu-id="38081-918">**SCardSetAttrib**</span><span class="sxs-lookup"><span data-stu-id="38081-918">**SCardSetAttrib**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardsetattrib)                                             | <span data-ttu-id="38081-919">設定指定的讀取器屬性。</span><span class="sxs-lookup"><span data-stu-id="38081-919">Sets a given reader attribute.</span></span>                                                                                                                                                                                       |
| [<span data-ttu-id="38081-920">**SCardSetCardTypeProviderName**</span><span class="sxs-lookup"><span data-stu-id="38081-920">**SCardSetCardTypeProviderName**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardsetcardtypeprovidernamea)                 | <span data-ttu-id="38081-921">設定卡片名稱和提供者類型的提供者名稱。</span><span class="sxs-lookup"><span data-stu-id="38081-921">Sets the provider name for a card name and provider type.</span></span>                                                                                                                                                            |
| [<span data-ttu-id="38081-922">**SCardStatus**</span><span class="sxs-lookup"><span data-stu-id="38081-922">**SCardStatus**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardstatusa)                                                   | <span data-ttu-id="38081-923">取得讀取器的目前 [*狀態*](/windows/desktop/SecGloss/s-gly) 。</span><span class="sxs-lookup"><span data-stu-id="38081-923">Gets the current [*state*](/windows/desktop/SecGloss/s-gly) of a reader.</span></span>                                                                                                                      |
| [<span data-ttu-id="38081-924">**SCardTransmit**</span><span class="sxs-lookup"><span data-stu-id="38081-924">**SCardTransmit**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardtransmit)                                               | <span data-ttu-id="38081-925">將服務要求傳送至智慧卡。</span><span class="sxs-lookup"><span data-stu-id="38081-925">Sends a service request to a smart card.</span></span>                                                                                                                                                                             |
| [<span data-ttu-id="38081-926">**SCardUIDlgSelectCard**</span><span class="sxs-lookup"><span data-stu-id="38081-926">**SCardUIDlgSelectCard**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scarduidlgselectcarda)                                 | <span data-ttu-id="38081-927">顯示智慧卡 **選取卡片** 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="38081-927">Displays the smart card **Select Card** dialog box.</span></span>                                                                                                                                                                  |
| [<span data-ttu-id="38081-928">**SCardWriteCache**</span><span class="sxs-lookup"><span data-stu-id="38081-928">**SCardWriteCache**</span></span>](/windows/desktop/api/Winscard/nf-winscard-scardwritecachea)                                           | <span data-ttu-id="38081-929">將智慧卡的名稱/值組寫入 [智慧卡 Resource Manager](smart-card-resource-manager.md)所維護的全域快取。</span><span class="sxs-lookup"><span data-stu-id="38081-929">Writes a name-value pair from a smart card to the global cache maintained by the [Smart Card Resource Manager](smart-card-resource-manager.md).</span></span>                                                                     |



 

## <a name="sasl-functions"></a><span data-ttu-id="38081-930">SASL 函數</span><span class="sxs-lookup"><span data-stu-id="38081-930">SASL Functions</span></span>

<span data-ttu-id="38081-931">簡單驗證及安全性階層 (SASL) 提供下列功能。</span><span class="sxs-lookup"><span data-stu-id="38081-931">The Simple Authentication and Security Layer (SASL) provides the following functions.</span></span>



| <span data-ttu-id="38081-932">函式</span><span class="sxs-lookup"><span data-stu-id="38081-932">Functions</span></span>                                                              | <span data-ttu-id="38081-933">Description</span><span class="sxs-lookup"><span data-stu-id="38081-933">Description</span></span>                                                                                                                                                                      |
|------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-934">**SaslAcceptSecurityCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-934">**SaslAcceptSecurityContext**</span></span>](/windows/desktop/api/Sspi/nf-sspi-saslacceptsecuritycontext)         | <span data-ttu-id="38081-935">包裝對 SSPI AcceptSecurityCoNtext 的標準呼叫 [**(一般)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) 函式，並包含建立 SASL 伺服器 cookie 的功能。</span><span class="sxs-lookup"><span data-stu-id="38081-935">Wraps a standard call to the SSPI [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function and includes creation of SASL server cookies.</span></span>              |
| [<span data-ttu-id="38081-936">**SaslEnumerateProfiles**</span><span class="sxs-lookup"><span data-stu-id="38081-936">**SaslEnumerateProfiles**</span></span>](/windows/desktop/api/Sspi/nf-sspi-saslenumerateprofilesa)                 | <span data-ttu-id="38081-937">列出提供 SASL 介面的封裝。</span><span class="sxs-lookup"><span data-stu-id="38081-937">Lists the packages that provide a SASL interface.</span></span>                                                                                                                                |
| [<span data-ttu-id="38081-938">**SaslGetCoNtextOption**</span><span class="sxs-lookup"><span data-stu-id="38081-938">**SaslGetContextOption**</span></span>](/windows/desktop/api/Sspi/nf-sspi-saslgetcontextoption)                   | <span data-ttu-id="38081-939">抓取指定的 SASL 內容之指定的屬性。</span><span class="sxs-lookup"><span data-stu-id="38081-939">Retrieves the specified property of the specified SASL context.</span></span>                                                                                                                  |
| [<span data-ttu-id="38081-940">**SaslGetProfilePackage**</span><span class="sxs-lookup"><span data-stu-id="38081-940">**SaslGetProfilePackage**</span></span>](/windows/desktop/api/Sspi/nf-sspi-saslgetprofilepackagea)                 | <span data-ttu-id="38081-941">傳回指定封裝的封裝資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-941">Returns the package information for the specified package.</span></span>                                                                                                                       |
| [<span data-ttu-id="38081-942">**SaslIdentifyPackage**</span><span class="sxs-lookup"><span data-stu-id="38081-942">**SaslIdentifyPackage**</span></span>](/windows/desktop/api/Sspi/nf-sspi-saslidentifypackagea)                     | <span data-ttu-id="38081-943">傳回符合指定之 SASL 協商緩衝區的協商前置詞。</span><span class="sxs-lookup"><span data-stu-id="38081-943">Returns the negotiate prefix that matches the specified SASL negotiation buffer.</span></span>                                                                                                 |
| [<span data-ttu-id="38081-944">**SaslInitializeSecurityCoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-944">**SaslInitializeSecurityContext**</span></span>](/windows/desktop/api/Sspi/nf-sspi-saslinitializesecuritycontexta) | <span data-ttu-id="38081-945">將標準呼叫包裝給 SSPI [**InitializeSecurityCoNtext (一般)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) 函式，並處理來自伺服器的 SASL 伺服器 cookie。</span><span class="sxs-lookup"><span data-stu-id="38081-945">Wraps a standard call to the SSPI [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) function and processes SASL server cookies from the server.</span></span> |
| [<span data-ttu-id="38081-946">**SaslSetCoNtextOption**</span><span class="sxs-lookup"><span data-stu-id="38081-946">**SaslSetContextOption**</span></span>](/windows/desktop/api/Sspi/nf-sspi-saslsetcontextoption)                   | <span data-ttu-id="38081-947">為指定的 SASL 內容設定指定之屬性的值。</span><span class="sxs-lookup"><span data-stu-id="38081-947">Sets the value of the specified property for the specified SASL context.</span></span>                                                                                                         |



 

## <a name="other-functions"></a><span data-ttu-id="38081-948">其他函數</span><span class="sxs-lookup"><span data-stu-id="38081-948">Other Functions</span></span>

<span data-ttu-id="38081-949">以下是用於驗證的其他函數。</span><span class="sxs-lookup"><span data-stu-id="38081-949">Here are other functions used for Authentication.</span></span>



| <span data-ttu-id="38081-950">函式</span><span class="sxs-lookup"><span data-stu-id="38081-950">Function</span></span>                                                                   | <span data-ttu-id="38081-951">描述</span><span class="sxs-lookup"><span data-stu-id="38081-951">Description</span></span>                                                                                                                                                                                                                                                                                                                                                        |
|----------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="38081-952">**AddSecurityPackage**</span><span class="sxs-lookup"><span data-stu-id="38081-952">**AddSecurityPackage**</span></span>](/windows/desktop/api/Sspi/nf-sspi-addsecuritypackagea)                           | <span data-ttu-id="38081-953">將 [*安全性支援提供者*](/windows/desktop/SecGloss/s-gly) 新增至 [Microsoft Negotiate](microsoft-negotiate.md)所支援的提供者清單。</span><span class="sxs-lookup"><span data-stu-id="38081-953">Adds a [*Security Support Provider*](/windows/desktop/SecGloss/s-gly) to the list of providers supported by [Microsoft Negotiate](microsoft-negotiate.md).</span></span><br/>                                                                                                                              |
| [<span data-ttu-id="38081-954">**ChangeAccountPassword**</span><span class="sxs-lookup"><span data-stu-id="38081-954">**ChangeAccountPassword**</span></span>](/windows/desktop/api/Sspi/nf-sspi-changeaccountpassworda)                     | <span data-ttu-id="38081-955">使用指定的 [安全性支援提供者](sspi.md)，變更 Windows 網域帳戶的密碼。</span><span class="sxs-lookup"><span data-stu-id="38081-955">Changes the password for a Windows domain account by using the specified [Security Support Provider](sspi.md).</span></span><br/>                                                                                                                                                                                                                                         |
| [<span data-ttu-id="38081-956">**CredMarshalTargetInfo**</span><span class="sxs-lookup"><span data-stu-id="38081-956">**CredMarshalTargetInfo**</span></span>](/windows/desktop/api/NTSecPkg/nf-ntsecpkg-credmarshaltargetinfo)                     | <span data-ttu-id="38081-957">將指定的目標序列化為位元組值陣列。</span><span class="sxs-lookup"><span data-stu-id="38081-957">Serializes the specified target into an array of byte values.</span></span><br/>                                                                                                                                                                                                                                                                                           |
| [<span data-ttu-id="38081-958">**DeleteSecurityPackage**</span><span class="sxs-lookup"><span data-stu-id="38081-958">**DeleteSecurityPackage**</span></span>](/windows/desktop/api/Sspi/nf-sspi-deletesecuritypackagea)                     | <span data-ttu-id="38081-959">從 [Microsoft Negotiate](microsoft-negotiate.md)支援的提供者清單中刪除 [*安全性支援提供者*](/windows/desktop/SecGloss/s-gly)。</span><span class="sxs-lookup"><span data-stu-id="38081-959">Deletes a [*Security Support Provider*](/windows/desktop/SecGloss/s-gly) from the list of providers supported by [Microsoft Negotiate](microsoft-negotiate.md).</span></span><br/>                                                                                                                         |
| <span data-ttu-id="38081-960">[**LsaManageSidNameMapping**](/previous-versions/windows/desktop/legacy/jj902653(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="38081-960">[**LsaManageSidNameMapping**](/previous-versions/windows/desktop/legacy/jj902653(v=vs.85))</span></span>                 | <span data-ttu-id="38081-961">從向 LSA 查閱服務註冊的對應集中，加入或移除 SID/名稱對應。</span><span class="sxs-lookup"><span data-stu-id="38081-961">Adds or removes SID/name mappings from the mapping set registered with the LSA Lookup Service.</span></span><br/>                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="38081-962">**LsaOpenPolicy**</span><span class="sxs-lookup"><span data-stu-id="38081-962">**LsaOpenPolicy**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaopenpolicy)                                     | <span data-ttu-id="38081-963">在本機或遠端系統上開啟 [**原則**](/windows/desktop/SecMgmt/policy-object) 物件的控制碼。</span><span class="sxs-lookup"><span data-stu-id="38081-963">Opens a handle to the [**Policy**](/windows/desktop/SecMgmt/policy-object) object on a local or remote system.</span></span><br/>                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="38081-964">**LsaQueryInformationPolicy**</span><span class="sxs-lookup"><span data-stu-id="38081-964">**LsaQueryInformationPolicy**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaqueryinformationpolicy)             | <span data-ttu-id="38081-965">捕獲 [**原則**](/windows/desktop/SecMgmt/policy-object) 物件的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-965">Retrieves information about a [**Policy**](/windows/desktop/SecMgmt/policy-object) object.</span></span><br/>                                                                                                                                                                                                                                                                              |
| [<span data-ttu-id="38081-966">**LsaSetInformationPolicy**</span><span class="sxs-lookup"><span data-stu-id="38081-966">**LsaSetInformationPolicy**</span></span>](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsasetinformationpolicy)                 | <span data-ttu-id="38081-967">修改 [**原則**](/windows/desktop/SecMgmt/policy-object) 物件中的資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-967">Modifies information in a [**Policy**](/windows/desktop/SecMgmt/policy-object) object.</span></span><br/>                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="38081-968">**NPFMXEditPerm**</span><span class="sxs-lookup"><span data-stu-id="38081-968">**NPFMXEditPerm**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npfmxeditperm)                                     | <span data-ttu-id="38081-969">可讓網路廠商提供自己的許可權編輯器對話方塊。</span><span class="sxs-lookup"><span data-stu-id="38081-969">Enables network vendors to supply their own permission editor dialog boxes.</span></span><br/>                                                                                                                                                                                                                                                                             |
| [<span data-ttu-id="38081-970">**NPFMXGetPermCaps**</span><span class="sxs-lookup"><span data-stu-id="38081-970">**NPFMXGetPermCaps**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npfmxgetpermcaps)                               | <span data-ttu-id="38081-971">抓取許可權編輯器的功能。</span><span class="sxs-lookup"><span data-stu-id="38081-971">Retrieves the capabilities of the permission editor.</span></span> <span data-ttu-id="38081-972">傳回值是位元遮罩，表示要啟用 [檔案管理員] 中的 [ **安全性** ] 功能表項目。</span><span class="sxs-lookup"><span data-stu-id="38081-972">The return value is a bitmask that indicates which of the **Security** menu items in File Manager are to be enabled.</span></span><br/>                                                                                                                                                                               |
| [<span data-ttu-id="38081-973">**NPFMXGetPermHelp**</span><span class="sxs-lookup"><span data-stu-id="38081-973">**NPFMXGetPermHelp**</span></span>](/windows/desktop/api/Npapi/nf-npapi-npfmxgetpermhelp)                               | <span data-ttu-id="38081-974">當選取了 [檔案管理員] 之 [ **安全性** ] 功能表中的功能表項目，並按下 F1 時，會抓取 [許可權編輯器] 對話方塊的說明檔和說明內容。</span><span class="sxs-lookup"><span data-stu-id="38081-974">Retrieves the help file and help context of the permission editor dialog boxes when a menu item in the **Security** menu of File Manager is selected and F1 is pressed.</span></span><br/>                                                                                                                                                                                 |
| [<span data-ttu-id="38081-975">**SpGetCredUICoNtextFn**</span><span class="sxs-lookup"><span data-stu-id="38081-975">**SpGetCredUIContextFn**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetcreduicontextfn)                       | <span data-ttu-id="38081-976">從認證提供者抓取內容資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-976">Retrieves context information from a credential provider.</span></span><br/>                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="38081-977">**SpLsaModeInitialize**</span><span class="sxs-lookup"><span data-stu-id="38081-977">**SpLsaModeInitialize**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-splsamodeinitializefn)                         | <span data-ttu-id="38081-978">針對 SSP/AP DLL 中每個 [*安全性套件*](/windows/desktop/SecGloss/s-gly) 所執行的函式，提供 LSA 指標。</span><span class="sxs-lookup"><span data-stu-id="38081-978">Provides the LSA with pointers to the functions implemented by each [*security package*](/windows/desktop/SecGloss/s-gly) in the SSP/AP DLL.</span></span><br/>                                                                                                                                                               |
| [<span data-ttu-id="38081-979">**SpQueryMetaDataFn**</span><span class="sxs-lookup"><span data-stu-id="38081-979">**SpQueryMetaDataFn**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spquerymetadatafn)                             | <span data-ttu-id="38081-980">取得 [*安全性支援提供者*](/windows/desktop/SecGloss/s-gly) 在初始化 [*安全性內容*](/windows/desktop/SecGloss/c-gly)時 (SSP) 的中繼資料。</span><span class="sxs-lookup"><span data-stu-id="38081-980">Gets metadata from a [*Security Support Provider*](/windows/desktop/SecGloss/s-gly) (SSP) when it is initiating a [*security context*](/windows/desktop/SecGloss/c-gly).</span></span><br/>                                                                                      |
| [<span data-ttu-id="38081-981">**SpUpdateCredentialsFn**</span><span class="sxs-lookup"><span data-stu-id="38081-981">**SpUpdateCredentialsFn**</span></span>](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spupdatecredentialsfn)                     | <span data-ttu-id="38081-982">更新與指定內容相關聯的認證。</span><span class="sxs-lookup"><span data-stu-id="38081-982">Updates the credentials associated with the specified context.</span></span><br/>                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="38081-983">**SspiCompareAuthIdentities**</span><span class="sxs-lookup"><span data-stu-id="38081-983">**SspiCompareAuthIdentities**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspicompareauthidentities)             | <span data-ttu-id="38081-984">比較兩個指定的認證。</span><span class="sxs-lookup"><span data-stu-id="38081-984">Compares the two specified credentials.</span></span><br/>                                                                                                                                                                                                                                                                                                                 |
| [<span data-ttu-id="38081-985">**SspiCopyAuthIdentity**</span><span class="sxs-lookup"><span data-stu-id="38081-985">**SspiCopyAuthIdentity**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspicopyauthidentity)                       | <span data-ttu-id="38081-986">建立指定的不透明認證結構的複本。</span><span class="sxs-lookup"><span data-stu-id="38081-986">Creates a copy of the specified opaque credential structure.</span></span><br/>                                                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="38081-987">**SspiDecryptAuthIdentity**</span><span class="sxs-lookup"><span data-stu-id="38081-987">**SspiDecryptAuthIdentity**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspidecryptauthidentity)                 | <span data-ttu-id="38081-988">解密指定的加密認證。</span><span class="sxs-lookup"><span data-stu-id="38081-988">Decrypts the specified encrypted credential.</span></span><br/>                                                                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="38081-989">**SspiEncodeAuthIdentityAsStrings**</span><span class="sxs-lookup"><span data-stu-id="38081-989">**SspiEncodeAuthIdentityAsStrings**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspiencodeauthidentityasstrings) | <span data-ttu-id="38081-990">將指定的驗證識別編碼為三個字串。</span><span class="sxs-lookup"><span data-stu-id="38081-990">Encodes the specified authentication identity as three strings.</span></span><br/>                                                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="38081-991">**SspiEncodeStringsAsAuthIdentity**</span><span class="sxs-lookup"><span data-stu-id="38081-991">**SspiEncodeStringsAsAuthIdentity**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspiencodestringsasauthidentity) | <span data-ttu-id="38081-992">將三個認證字串的集合編碼為驗證身分識別結構。</span><span class="sxs-lookup"><span data-stu-id="38081-992">Encodes a set of three credential strings as an authentication identity structure.</span></span><br/>                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="38081-993">**SspiEncryptAuthIdentity**</span><span class="sxs-lookup"><span data-stu-id="38081-993">**SspiEncryptAuthIdentity**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspiencryptauthidentity)                 | <span data-ttu-id="38081-994">加密指定的身分識別結構。</span><span class="sxs-lookup"><span data-stu-id="38081-994">Encrypts the specified identity structure.</span></span><br/>                                                                                                                                                                                                                                                                                                              |
| [<span data-ttu-id="38081-995">**SspiExcludePackage**</span><span class="sxs-lookup"><span data-stu-id="38081-995">**SspiExcludePackage**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspiexcludepackage)                           | <span data-ttu-id="38081-996">建立新的識別結構，此結構是為了將指定的 [*安全性支援提供者*](/windows/desktop/SecGloss/s-gly) 排除 (SSP) 而修改的指定識別結構的複本。</span><span class="sxs-lookup"><span data-stu-id="38081-996">Creates a new identity structure that is a copy of the specified identity structure modified to exclude the specified [*Security Support Provider*](/windows/desktop/SecGloss/s-gly) (SSP).</span></span><br/>                                                                                              |
| [<span data-ttu-id="38081-997">**SspiFreeAuthIdentity**</span><span class="sxs-lookup"><span data-stu-id="38081-997">**SspiFreeAuthIdentity**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspifreeauthidentity)                       | <span data-ttu-id="38081-998">釋出配置給指定之身分識別結構的記憶體。</span><span class="sxs-lookup"><span data-stu-id="38081-998">Frees the memory allocated for the specified identity structure.</span></span><br/>                                                                                                                                                                                                                                                                                        |
| [<span data-ttu-id="38081-999">**SspiGetCredUICoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-999">**SspiGetCredUIContext**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspigetcreduicontext)                       | <span data-ttu-id="38081-1000">從認證提供者抓取內容資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-1000">Retrieves context information from a credential provider.</span></span><br/>                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="38081-1001">**SspiGetTargetHostName**</span><span class="sxs-lookup"><span data-stu-id="38081-1001">**SspiGetTargetHostName**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspigettargethostname)                     | <span data-ttu-id="38081-1002">取得與指定之目標相關聯的主機名稱。</span><span class="sxs-lookup"><span data-stu-id="38081-1002">Gets the host name associated with the specified target.</span></span><br/>                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="38081-1003">**SspiIsAuthIdentityEncrypted**</span><span class="sxs-lookup"><span data-stu-id="38081-1003">**SspiIsAuthIdentityEncrypted**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspiisauthidentityencrypted)         | <span data-ttu-id="38081-1004">指出指定的身分識別結構是否已加密。</span><span class="sxs-lookup"><span data-stu-id="38081-1004">Indicates whether the specified identity structure is encrypted.</span></span><br/>                                                                                                                                                                                                                                                                                        |
| [<span data-ttu-id="38081-1005">**SspiIsPromptingNeeded**</span><span class="sxs-lookup"><span data-stu-id="38081-1005">**SspiIsPromptingNeeded**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspiispromptingneeded)                     | <span data-ttu-id="38081-1006">指出呼叫 [**InitializeSecurityCoNtext**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) 或 [**AcceptSecurityCoNtext**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) 函式之後傳回的錯誤，是否需要對 [**SspiPromptForCredentials**](/windows/desktop/api/Sspi/nf-sspi-sspipromptforcredentialsa) 函式進行額外的呼叫。</span><span class="sxs-lookup"><span data-stu-id="38081-1006">Indicates whether an error returned after a call to either the [**InitializeSecurityContext**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) or the [**AcceptSecurityContext**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function requires an additional call to the [**SspiPromptForCredentials**](/windows/desktop/api/Sspi/nf-sspi-sspipromptforcredentialsa) function.</span></span><br/>                      |
| [<span data-ttu-id="38081-1007">**SspiLocalFree**</span><span class="sxs-lookup"><span data-stu-id="38081-1007">**SspiLocalFree**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspilocalfree)                                     | <span data-ttu-id="38081-1008">釋出與指定緩衝區相關聯的記憶體。</span><span class="sxs-lookup"><span data-stu-id="38081-1008">Frees the memory associated with the specified buffer.</span></span><br/>                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="38081-1009">**SspiMarshalAuthIdentity**</span><span class="sxs-lookup"><span data-stu-id="38081-1009">**SspiMarshalAuthIdentity**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspimarshalauthidentity)                 | <span data-ttu-id="38081-1010">將指定的識別結構序列化為位元組陣列。</span><span class="sxs-lookup"><span data-stu-id="38081-1010">Serializes the specified identity structure into a byte array.</span></span><br/>                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="38081-1011">**SspiPrepareForCredRead**</span><span class="sxs-lookup"><span data-stu-id="38081-1011">**SspiPrepareForCredRead**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspiprepareforcredread)                   | <span data-ttu-id="38081-1012">從指定的身分識別結構產生目標名稱和認證類型。</span><span class="sxs-lookup"><span data-stu-id="38081-1012">Generates a target name and credential type from the specified identity structure.</span></span><br/>                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="38081-1013">**SspiPrepareForCredWrite**</span><span class="sxs-lookup"><span data-stu-id="38081-1013">**SspiPrepareForCredWrite**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspiprepareforcredwrite)                 | <span data-ttu-id="38081-1014">從可在 [**CredWrite**](/windows/desktop/api/WinCred/nf-wincred-credwritea) 函式的呼叫中傳遞做為參數值的身分識別結構產生值。</span><span class="sxs-lookup"><span data-stu-id="38081-1014">Generates values from an identity structure that can be passed as the values of parameters in a call to the [**CredWrite**](/windows/desktop/api/WinCred/nf-wincred-credwritea) function.</span></span><br/>                                                                                                                                                                                                    |
| [<span data-ttu-id="38081-1015">**SspiPromptForCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-1015">**SspiPromptForCredentials**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspipromptforcredentialsa)               | <span data-ttu-id="38081-1016">允許 (SSPI) 應用程式的 [*安全性支援提供者介面*](/windows/desktop/SecGloss/s-gly) 提示使用者輸入認證。</span><span class="sxs-lookup"><span data-stu-id="38081-1016">Allows a [*Security Support Provider Interface*](/windows/desktop/SecGloss/s-gly)(SSPI) application to prompt a user to enter credentials.</span></span><br/>                                                                                                                           |
| [<span data-ttu-id="38081-1017">**SspiUnmarshalAuthIdentity**</span><span class="sxs-lookup"><span data-stu-id="38081-1017">**SspiUnmarshalAuthIdentity**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspiunmarshalauthidentity)             | <span data-ttu-id="38081-1018">將指定的位元組值陣列還原序列化為識別結構。</span><span class="sxs-lookup"><span data-stu-id="38081-1018">Deserializes the specified array of byte values into an identity structure.</span></span><br/>                                                                                                                                                                                                                                                                             |
| [<span data-ttu-id="38081-1019">**SspiUnmarshalCredUICoNtext**</span><span class="sxs-lookup"><span data-stu-id="38081-1019">**SspiUnmarshalCredUIContext**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspiunmarshalcreduicontext)           | <span data-ttu-id="38081-1020">在前一次呼叫 [**ICredentialProvider：： SetSerialization**](/windows/win32/api/credentialprovider/nf-credentialprovider-icredentialprovider-setserialization) 方法期間，還原序列化認證提供者所取得的認證資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-1020">Deserializes credential information obtained by a credential provider during a previous call to the [**ICredentialProvider::SetSerialization**](/windows/win32/api/credentialprovider/nf-credentialprovider-icredentialprovider-setserialization) method.</span></span><br/>                                                                                                                                                    |
| [<span data-ttu-id="38081-1021">**SspiUpdateCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-1021">**SspiUpdateCredentials**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspiupdatecredentials)                     | <span data-ttu-id="38081-1022">更新與指定內容相關聯的認證。</span><span class="sxs-lookup"><span data-stu-id="38081-1022">Updates the credentials associated with the specified context.</span></span><br/>                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="38081-1023">**SspiValidateAuthIdentity**</span><span class="sxs-lookup"><span data-stu-id="38081-1023">**SspiValidateAuthIdentity**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspivalidateauthidentity)               | <span data-ttu-id="38081-1024">指出指定的識別結構是否有效。</span><span class="sxs-lookup"><span data-stu-id="38081-1024">Indicates whether the specified identity structure is valid.</span></span><br/>                                                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="38081-1025">**SspiZeroAuthIdentity**</span><span class="sxs-lookup"><span data-stu-id="38081-1025">**SspiZeroAuthIdentity**</span></span>](/windows/desktop/api/Sspi/nf-sspi-sspizeroauthidentity)                       | <span data-ttu-id="38081-1026">以零填滿與指定之身分識別結構相關聯的記憶體區塊。</span><span class="sxs-lookup"><span data-stu-id="38081-1026">Fills the block of memory associated with the specified identity structure with zeros.</span></span><br/>                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="38081-1027">**WlxQueryTsLogonCredentials**</span><span class="sxs-lookup"><span data-stu-id="38081-1027">**WlxQueryTsLogonCredentials**</span></span>](/windows/win32/api/winwlx/nc-winwlx-pwlx_query_ts_logon_credentials)           | <span data-ttu-id="38081-1028">在啟用終端機服務的情況下，由取代 [*GINA*](/windows/desktop/SecGloss/g-gly) DLL 呼叫以取得 [*認證*](/windows/desktop/SecGloss/c-gly) 資訊。</span><span class="sxs-lookup"><span data-stu-id="38081-1028">Called by a replacement [*GINA*](/windows/desktop/SecGloss/g-gly) DLL to retrieve [*credentials*](/windows/desktop/SecGloss/c-gly) information if Terminal Services is enabled.</span></span> <span data-ttu-id="38081-1029">GINA DLL 接著可以使用這項資訊來自動填入登入方塊，並嘗試將使用者登入。</span><span class="sxs-lookup"><span data-stu-id="38081-1029">The GINA DLL can then use this information to fill in a logon box automatically and attempt to log the user in.</span></span><br/> |



 

 

