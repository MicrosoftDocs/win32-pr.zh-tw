---
description: 建議的指導方針是盡可能使用較少的執行緒，因此可將系統資源的使用降至最低。
ms.assetid: ed9bd3cf-b10c-49f9-bf62-7332517350b7
title: 多工考慮
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6ec64bf1b7d59a42a1aec3511a72328f18bfaa88
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "104115553"
---
# <a name="multitasking-considerations"></a>多工考慮

建議的指導方針是盡可能使用較少的執行緒，因此可將系統資源的使用降至最低。 這樣可以提高執行效能。 當您設計應用程式時，多工具有資源需求和潛在衝突。 資源需求如下：

-   系統會耗用記憶體給進程和執行緒所需的內容資訊。 因此，可建立的進程和執行緒數目會受到可用記憶體的限制。
-   追蹤大量執行緒會耗用大量的處理器時間。 如果有太多執行緒，大部分的執行緒將無法進行大幅的進展。 如果大多數目前的執行緒都在一個處理序中，其他處理序中的執行緒排程頻率就會較低。

提供對資源的共用存取權可能會造成衝突。 若要避免這些問題，您必須同步處理對共用資源的存取。 這適用于系統資源 (例如通訊埠) 、多個進程所共用的資源 (例如) 的檔案控制代碼，或單一進程的資源 (例如由多個執行緒存取的全域變數) 。 如果無法在相同或不同的進程中正確地同步存取 (，) 可能會導致像是鎖死和競爭情況等問題。 您可以用來在多個執行緒之間協調資源分享的同步處理物件和函式。 如需同步處理的詳細資訊，請參閱 [同步處理多執行緒的執行](synchronizing-execution-of-multiple-threads.md)。 減少執行緒數目可讓您更輕鬆且更有效率地同步處理資源。

多執行緒應用程式的良好設計是管線伺服器。 在這個設計中，您會為每個處理器建立一個執行緒，並建立應用程式維護內容資訊的要求佇列。 執行緒會處理佇列中的所有要求，然後才處理下一個佇列中的要求。

 

 



