---
Description: CreateProcess、CreateProcessAsUser、CreateProcessWithLogonW 和 CreateProcessWithTokenW 函數會使用下列進程建立旗標。 您可以依照任何組合來指定這些設定，除非有注明。
ms.assetid: fd3384ad-8635-4ea1-9054-0572ef86b86d
title: '進程建立旗標 (WinBase .h) '
ms.topic: reference
ms.custom: snippet-project
ms.date: 07/27/2020
ms.openlocfilehash: 560a6c5ca54a5767c0fb0c9b4b8659d608f46766
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/22/2021
ms.locfileid: "107000677"
---
# <a name="process-creation-flags"></a><span data-ttu-id="930ff-104">進程建立旗標</span><span class="sxs-lookup"><span data-stu-id="930ff-104">Process Creation Flags</span></span>

<span data-ttu-id="930ff-105">[**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa)、 [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera)、 [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw)和 [**CreateProcessWithTokenW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw)函數會使用下列進程建立旗標。</span><span class="sxs-lookup"><span data-stu-id="930ff-105">The following process creation flags are used by the [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera), [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw), and [**CreateProcessWithTokenW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw) functions.</span></span> <span data-ttu-id="930ff-106">您可以依照任何組合來指定這些設定，除非有注明。</span><span class="sxs-lookup"><span data-stu-id="930ff-106">They can be specified in any combination, except as noted.</span></span>

## <a name="example"></a><span data-ttu-id="930ff-107">範例</span><span class="sxs-lookup"><span data-stu-id="930ff-107">Example</span></span>

```c
     BOOL creationResult;
    
    creationResult = CreateProcess(
        NULL,                   // No module name (use command line)
        cmdLine,                // Command line
        NULL,                   // Process handle not inheritable
        NULL,                   // Thread handle not inheritable
        FALSE,                  // Set handle inheritance to FALSE
        NORMAL_PRIORITY_CLASS | CREATE_NEW_CONSOLE | CREATE_NEW_PROCESS_GROUP, // creation flags
        NULL,                   // Use parent's environment block
        NULL,                   // Use parent's starting directory 
        &startupInfo,           // Pointer to STARTUPINFO structure
        &processInformation);   // Pointer to PROCESS_INFORMATION structure

```

<span data-ttu-id="930ff-108">從 GitHub 上的 [Windows 傳統範例](https://github.com/microsoft/Windows-classic-samples/blob/1d363ff4bd17d8e20415b92e2ee989d615cc0d91/Samples/ManagementInfrastructure/cpp/Process/Provider/WindowsProcess.c) 取得的範例。</span><span class="sxs-lookup"><span data-stu-id="930ff-108">Example from [Windows classic samples](https://github.com/microsoft/Windows-classic-samples/blob/1d363ff4bd17d8e20415b92e2ee989d615cc0d91/Samples/ManagementInfrastructure/cpp/Process/Provider/WindowsProcess.c) on GitHub.</span></span>


## <a name="flags"></a><span data-ttu-id="930ff-109">Flags</span><span class="sxs-lookup"><span data-stu-id="930ff-109">Flags</span></span>

| <span data-ttu-id="930ff-110">常數/值</span><span class="sxs-lookup"><span data-stu-id="930ff-110">Constant/value</span></span>                                                                                                                                                                                                                                                                            | <span data-ttu-id="930ff-111">Description</span><span class="sxs-lookup"><span data-stu-id="930ff-111">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="CREATE_BREAKAWAY_FROM_JOB"></span><span id="create_breakaway_from_job"></span><dl> <span data-ttu-id="930ff-112"><dt>**建立 \_\_從 \_ 作業**</dt> <dt>0x01000000</dt> BREAKAWAY</span><span class="sxs-lookup"><span data-stu-id="930ff-112"><dt>**CREATE\_BREAKAWAY\_FROM\_JOB**</dt> <dt>0x01000000</dt></span></span> </dl>                       | <span data-ttu-id="930ff-113">與作業相關聯之進程的子進程不會與作業產生關聯。</span><span class="sxs-lookup"><span data-stu-id="930ff-113">The child processes of a process associated with a job are not associated with the job.</span></span> <br/> <span data-ttu-id="930ff-114">如果呼叫進程未與作業相關聯，這個常數就不會有任何作用。</span><span class="sxs-lookup"><span data-stu-id="930ff-114">If the calling process is not associated with a job, this constant has no effect.</span></span> <span data-ttu-id="930ff-115">如果呼叫進程與作業相關聯，則作業必須設定 **工作 \_ 物件 \_ 限制 \_ BREAKAWAY \_ 確定** 限制。</span><span class="sxs-lookup"><span data-stu-id="930ff-115">If the calling process is associated with a job, the job must set the **JOB\_OBJECT\_LIMIT\_BREAKAWAY\_OK** limit.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CREATE_DEFAULT_ERROR_MODE"></span><span id="create_default_error_mode"></span><dl> <span data-ttu-id="930ff-116"><dt>**建立 \_預設 \_ 錯誤 \_ 模式**</dt> <dt>0x04000000</dt></span><span class="sxs-lookup"><span data-stu-id="930ff-116"><dt>**CREATE\_DEFAULT\_ERROR\_MODE**</dt> <dt>0x04000000</dt></span></span> </dl>                       | <span data-ttu-id="930ff-117">新的處理常式不會繼承呼叫進程的錯誤模式。</span><span class="sxs-lookup"><span data-stu-id="930ff-117">The new process does not inherit the error mode of the calling process.</span></span> <span data-ttu-id="930ff-118">相反地，新的進程會取得預設的錯誤模式。</span><span class="sxs-lookup"><span data-stu-id="930ff-118">Instead, the new process gets the default error mode.</span></span> <br/> <span data-ttu-id="930ff-119">這項功能特別適用于在停用硬性錯誤的情況下執行的多執行緒 shell 應用程式。</span><span class="sxs-lookup"><span data-stu-id="930ff-119">This feature is particularly useful for multithreaded shell applications that run with hard errors disabled.</span></span><br/> <span data-ttu-id="930ff-120">預設行為是讓新的進程繼承呼叫端的錯誤模式。</span><span class="sxs-lookup"><span data-stu-id="930ff-120">The default behavior is for the new process to inherit the error mode of the caller.</span></span> <span data-ttu-id="930ff-121">設定此旗標會變更該預設行為。</span><span class="sxs-lookup"><span data-stu-id="930ff-121">Setting this flag changes that default behavior.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span id="CREATE_NEW_CONSOLE"></span><span id="create_new_console"></span><dl> <span data-ttu-id="930ff-122"><dt>**建立 \_新的 \_ 主控台**</dt> <dt>0x00000010</dt></span><span class="sxs-lookup"><span data-stu-id="930ff-122"><dt>**CREATE\_NEW\_CONSOLE**</dt> <dt>0x00000010</dt></span></span> </dl>                                             | <span data-ttu-id="930ff-123">新的進程有新的主控台，而不是繼承其父系的主控台 (預設) 。</span><span class="sxs-lookup"><span data-stu-id="930ff-123">The new process has a new console, instead of inheriting its parent's console (the default).</span></span> <span data-ttu-id="930ff-124">如需詳細資訊，請參閱 [建立主控台](/windows/console/creation-of-a-console)。</span><span class="sxs-lookup"><span data-stu-id="930ff-124">For more information, see [Creation of a Console](/windows/console/creation-of-a-console).</span></span> <br/> <span data-ttu-id="930ff-125">此旗標不可與卸 **離的 \_ 進程** 一起使用。</span><span class="sxs-lookup"><span data-stu-id="930ff-125">This flag cannot be used with **DETACHED\_PROCESS**.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span id="CREATE_NEW_PROCESS_GROUP"></span><span id="create_new_process_group"></span><dl> <span data-ttu-id="930ff-126"><dt>**建立 \_新增 \_ 進程 \_ 群組**</dt> <dt>0x00000200</dt></span><span class="sxs-lookup"><span data-stu-id="930ff-126"><dt>**CREATE\_NEW\_PROCESS\_GROUP**</dt> <dt>0x00000200</dt></span></span> </dl>                          | <span data-ttu-id="930ff-127">新程式是新進程群組的根進程。</span><span class="sxs-lookup"><span data-stu-id="930ff-127">The new process is the root process of a new process group.</span></span> <span data-ttu-id="930ff-128">進程群組包含此根進程下階的所有進程。</span><span class="sxs-lookup"><span data-stu-id="930ff-128">The process group includes all processes that are descendants of this root process.</span></span> <span data-ttu-id="930ff-129">新進程群組的處理序識別碼與進程識別碼相同，它會在 *lpProcessInformation* 參數中傳回。</span><span class="sxs-lookup"><span data-stu-id="930ff-129">The process identifier of the new process group is the same as the process identifier, which is returned in the *lpProcessInformation* parameter.</span></span> <span data-ttu-id="930ff-130">[**GenerateConsoleCtrlEvent**](/windows/console/generateconsolectrlevent)函式會使用進程群組，將 CTRL + BREAK 信號傳送給一組主控台進程。</span><span class="sxs-lookup"><span data-stu-id="930ff-130">Process groups are used by the [**GenerateConsoleCtrlEvent**](/windows/console/generateconsolectrlevent) function to enable sending a CTRL+BREAK signal to a group of console processes.</span></span><br/> <span data-ttu-id="930ff-131">如果指定這個旗標，新進程群組內的所有進程都會停用 CTRL + C 信號。</span><span class="sxs-lookup"><span data-stu-id="930ff-131">If this flag is specified, CTRL+C signals will be disabled for all processes within the new process group.</span></span><br/> <span data-ttu-id="930ff-132">如果使用 [ **建立 \_ 新 \_ 主控台**] 指定此旗標，則會忽略此旗標。</span><span class="sxs-lookup"><span data-stu-id="930ff-132">This flag is ignored if specified with **CREATE\_NEW\_CONSOLE**.</span></span><br/>                                                                                                                                                                                                                                                                         |
| <span id="CREATE_NO_WINDOW"></span><span id="create_no_window"></span><dl> <span data-ttu-id="930ff-133"><dt>**建立 \_無 \_ 視窗**</dt> <dt>0x08000000</dt></span><span class="sxs-lookup"><span data-stu-id="930ff-133"><dt>**CREATE\_NO\_WINDOW**</dt> <dt>0x08000000</dt></span></span> </dl>                                                   | <span data-ttu-id="930ff-134">此程式是在沒有主控台視窗的情況下執行的主控台應用程式。</span><span class="sxs-lookup"><span data-stu-id="930ff-134">The process is a console application that is being run without a console window.</span></span> <span data-ttu-id="930ff-135">因此，未設定應用程式的主控台控制碼。</span><span class="sxs-lookup"><span data-stu-id="930ff-135">Therefore, the console handle for the application is not set.</span></span><br/> <span data-ttu-id="930ff-136">如果應用程式不是主控台應用程式，或與 **建立 \_ 新的 \_ 主控台** 或卸 **離的 \_ 進程** 一起使用，則會忽略此旗標。</span><span class="sxs-lookup"><span data-stu-id="930ff-136">This flag is ignored if the application is not a console application, or if it is used with either **CREATE\_NEW\_CONSOLE** or **DETACHED\_PROCESS**.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="CREATE_PROTECTED_PROCESS"></span><span id="create_protected_process"></span><dl> <span data-ttu-id="930ff-137"><dt>**建立 \_受保護的 \_ 進程**</dt> <dt>0x00040000</dt></span><span class="sxs-lookup"><span data-stu-id="930ff-137"><dt>**CREATE\_PROTECTED\_PROCESS**</dt> <dt>0x00040000</dt></span></span> </dl>                           | <span data-ttu-id="930ff-138">進程會以受保護的進程執行。</span><span class="sxs-lookup"><span data-stu-id="930ff-138">The process is to be run as a protected process.</span></span> <span data-ttu-id="930ff-139">系統會限制受保護進程的存取，以及受保護進程的執行緒。</span><span class="sxs-lookup"><span data-stu-id="930ff-139">The system restricts access to protected processes and the threads of protected processes.</span></span> <span data-ttu-id="930ff-140">如需處理常式如何與受保護的進程互動的詳細資訊，請參閱程式 [安全性和存取權限](process-security-and-access-rights.md)。</span><span class="sxs-lookup"><span data-stu-id="930ff-140">For more information on how processes can interact with protected processes, see [Process Security and Access Rights](process-security-and-access-rights.md).</span></span><br/> <span data-ttu-id="930ff-141">若要啟用受保護的進程，二進位檔必須具有特殊簽章。</span><span class="sxs-lookup"><span data-stu-id="930ff-141">To activate a protected process, the binary must have a special signature.</span></span> <span data-ttu-id="930ff-142">此簽章是由 Microsoft 提供，但目前不適用於非 Microsoft 二進位檔。</span><span class="sxs-lookup"><span data-stu-id="930ff-142">This signature is provided by Microsoft but not currently available for non-Microsoft binaries.</span></span> <span data-ttu-id="930ff-143">目前有四個受保護的進程： media foundation、音訊引擎、Windows 錯誤報告及系統。</span><span class="sxs-lookup"><span data-stu-id="930ff-143">There are currently four protected processes: media foundation, audio engine, Windows error reporting, and system.</span></span> <span data-ttu-id="930ff-144">載入這些二進位檔的元件也必須經過簽署。</span><span class="sxs-lookup"><span data-stu-id="930ff-144">Components that load into these binaries must also be signed.</span></span> <span data-ttu-id="930ff-145">多媒體公司可以利用前兩個受保護的進程。</span><span class="sxs-lookup"><span data-stu-id="930ff-145">Multimedia companies can leverage the first two protected processes.</span></span> <span data-ttu-id="930ff-146">如需詳細資訊，請參閱 [受保護媒體路徑的總覽](../medfound/protected-media-path.md)。</span><span class="sxs-lookup"><span data-stu-id="930ff-146">For more information, see [Overview of the Protected Media Path](../medfound/protected-media-path.md).</span></span><br/> <span data-ttu-id="930ff-147">**Windows Server 2003 和 WINDOWS XP：** 不支援這個值。</span><span class="sxs-lookup"><span data-stu-id="930ff-147">**Windows Server 2003 and Windows XP:** This value is not supported.</span></span><br/> |
| <span id="CREATE_PRESERVE_CODE_AUTHZ_LEVEL"></span><span id="create_preserve_code_authz_level"></span><dl> <span data-ttu-id="930ff-148"><dt>**建立 \_保留程式 \_ 代碼 \_ 授權 \_ 層級**</dt> <dt>0x02000000</dt></span><span class="sxs-lookup"><span data-stu-id="930ff-148"><dt>**CREATE\_PRESERVE\_CODE\_AUTHZ\_LEVEL**</dt> <dt>0x02000000</dt></span></span> </dl> | <span data-ttu-id="930ff-149">允許呼叫端執行子進程，以略過通常會自動套用至進程的進程限制。</span><span class="sxs-lookup"><span data-stu-id="930ff-149">Allows the caller to execute a child process that bypasses the process restrictions that would normally be applied automatically to the process.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="CREATE_SECURE_PROCESS"></span><span id="create_secure_process"></span><dl> <span data-ttu-id="930ff-150"><dt>**建立 \_安全 \_ 流程**</dt> <dt>0x00400000</dt></span><span class="sxs-lookup"><span data-stu-id="930ff-150"><dt>**CREATE\_SECURE\_PROCESS**</dt> <dt>0x00400000</dt></span></span> </dl>                                    | <span data-ttu-id="930ff-151">這個旗標可讓您在 Virtualization-Based 的安全性環境中執行的安全進程啟動。</span><span class="sxs-lookup"><span data-stu-id="930ff-151">This flag allows secure processes, that run in the Virtualization-Based Security environment, to launch.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CREATE_SEPARATE_WOW_VDM"></span><span id="create_separate_wow_vdm"></span><dl> <span data-ttu-id="930ff-152"><dt>**建立 \_分隔 \_ WOW \_ VDM**</dt> <dt>0x00000800</dt></span><span class="sxs-lookup"><span data-stu-id="930ff-152"><dt>**CREATE\_SEPARATE\_WOW\_VDM**</dt> <dt>0x00000800</dt></span></span> </dl>                             | <span data-ttu-id="930ff-153">只有在啟動16位 Windows 應用程式時，此旗標才有效。</span><span class="sxs-lookup"><span data-stu-id="930ff-153">This flag is valid only when starting a 16-bit Windows-based application.</span></span> <span data-ttu-id="930ff-154">如果設定，新的進程會在 (VDM) 的私人虛擬 DOS 電腦中執行。</span><span class="sxs-lookup"><span data-stu-id="930ff-154">If set, the new process runs in a private Virtual DOS Machine (VDM).</span></span> <span data-ttu-id="930ff-155">根據預設，所有以16位 Windows 為基礎的應用程式都會在單一共用的 VDM 中以執行緒的形式執行。</span><span class="sxs-lookup"><span data-stu-id="930ff-155">By default, all 16-bit Windows-based applications run as threads in a single, shared VDM.</span></span> <span data-ttu-id="930ff-156">另外執行的優點是損毀只會終止單一的 VDM;在相異 VDMs 中執行的任何其他程式都會繼續正常運作。</span><span class="sxs-lookup"><span data-stu-id="930ff-156">The advantage of running separately is that a crash only terminates the single VDM; any other programs running in distinct VDMs continue to function normally.</span></span> <span data-ttu-id="930ff-157">此外，以不同 VDMs 執行的16位 Windows 應用程式會有不同的輸入佇列。</span><span class="sxs-lookup"><span data-stu-id="930ff-157">Also, 16-bit Windows-based applications that are run in separate VDMs have separate input queues.</span></span> <span data-ttu-id="930ff-158">這表示，如果某個應用程式停止回應，則不同 VDMs 中的應用程式會繼續接收輸入。</span><span class="sxs-lookup"><span data-stu-id="930ff-158">That means that if one application stops responding momentarily, applications in separate VDMs continue to receive input.</span></span> <span data-ttu-id="930ff-159">另外執行的缺點是，它需要更多的記憶體才能執行這項作業。</span><span class="sxs-lookup"><span data-stu-id="930ff-159">The disadvantage of running separately is that it takes significantly more memory to do so.</span></span> <span data-ttu-id="930ff-160">只有當使用者要求16位應用程式應該在自己的 VDM 中執行時，才應該使用此旗標。</span><span class="sxs-lookup"><span data-stu-id="930ff-160">You should use this flag only if the user requests that 16-bit applications should run in their own VDM.</span></span><br/>                                                                                                                 |
| <span id="CREATE_SHARED_WOW_VDM"></span><span id="create_shared_wow_vdm"></span><dl> <span data-ttu-id="930ff-161"><dt>**建立 \_共用 \_ WOW \_ VDM**</dt> <dt>0x00001000</dt></span><span class="sxs-lookup"><span data-stu-id="930ff-161"><dt>**CREATE\_SHARED\_WOW\_VDM**</dt> <dt>0x00001000</dt></span></span> </dl>                                   | <span data-ttu-id="930ff-162">旗標只有在啟動16位 Windows 應用程式時才有效。</span><span class="sxs-lookup"><span data-stu-id="930ff-162">The flag is valid only when starting a 16-bit Windows-based application.</span></span> <span data-ttu-id="930ff-163">如果 WIN.INI 的 Windows 區段中的 DefaultSeparateVDM 參數為 **TRUE**，此旗標會覆寫參數。</span><span class="sxs-lookup"><span data-stu-id="930ff-163">If the DefaultSeparateVDM switch in the Windows section of WIN.INI is **TRUE**, this flag overrides the switch.</span></span> <span data-ttu-id="930ff-164">新的進程會在共用虛擬 DOS 機器上執行。</span><span class="sxs-lookup"><span data-stu-id="930ff-164">The new process is run in the shared Virtual DOS Machine.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span id="CREATE_SUSPENDED"></span><span id="create_suspended"></span><dl> <span data-ttu-id="930ff-165"><dt>**建立 \_暫**</dt>止的 <dt>0x00000004</dt></span><span class="sxs-lookup"><span data-stu-id="930ff-165"><dt>**CREATE\_SUSPENDED**</dt> <dt>0x00000004</dt></span></span> </dl>                                                    | <span data-ttu-id="930ff-166">新進程的主要執行緒會在暫停狀態下建立，而且在呼叫 [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) 函數之前，不會執行。</span><span class="sxs-lookup"><span data-stu-id="930ff-166">The primary thread of the new process is created in a suspended state, and does not run until the [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) function is called.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span id="CREATE_UNICODE_ENVIRONMENT"></span><span id="create_unicode_environment"></span><dl> <span data-ttu-id="930ff-167"><dt>**建立 \_UNICODE \_ 環境**</dt> <dt>0x00000400</dt></span><span class="sxs-lookup"><span data-stu-id="930ff-167"><dt>**CREATE\_UNICODE\_ENVIRONMENT**</dt> <dt>0x00000400</dt></span></span> </dl>                     | <span data-ttu-id="930ff-168">如果設定此旗標， *lpEnvironment* 所指向的環境區塊會使用 Unicode 字元。</span><span class="sxs-lookup"><span data-stu-id="930ff-168">If this flag is set, the environment block pointed to by *lpEnvironment* uses Unicode characters.</span></span> <span data-ttu-id="930ff-169">否則，環境區塊會使用 ANSI 字元。</span><span class="sxs-lookup"><span data-stu-id="930ff-169">Otherwise, the environment block uses ANSI characters.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="DEBUG_ONLY_THIS_PROCESS"></span><span id="debug_only_this_process"></span><dl> <span data-ttu-id="930ff-170"><dt>**DEBUG \_只有 \_ 這個 \_ 進程**</dt> <dt>0x00000002</dt></span><span class="sxs-lookup"><span data-stu-id="930ff-170"><dt>**DEBUG\_ONLY\_THIS\_PROCESS**</dt> <dt>0x00000002</dt></span></span> </dl>                             | <span data-ttu-id="930ff-171">呼叫執行緒會啟動和調試新的進程。</span><span class="sxs-lookup"><span data-stu-id="930ff-171">The calling thread starts and debugs the new process.</span></span> <span data-ttu-id="930ff-172">它可以使用 [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) 函數來接收所有相關的 debug 事件。</span><span class="sxs-lookup"><span data-stu-id="930ff-172">It can receive all related debug events using the [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) function.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="DEBUG_PROCESS"></span><span id="debug_process"></span><dl> <span data-ttu-id="930ff-173"><dt>**DEBUG \_進程**</dt> <dt>0x00000001</dt></span><span class="sxs-lookup"><span data-stu-id="930ff-173"><dt>**DEBUG\_PROCESS**</dt> <dt>0x00000001</dt></span></span> </dl>                                                             | <span data-ttu-id="930ff-174">呼叫執行緒會啟動新的進程，並將其和所有子進程建立並進行調試。</span><span class="sxs-lookup"><span data-stu-id="930ff-174">The calling thread starts and debugs the new process and all child processes created by the new process.</span></span> <span data-ttu-id="930ff-175">它可以使用 [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) 函數來接收所有相關的 debug 事件。</span><span class="sxs-lookup"><span data-stu-id="930ff-175">It can receive all related debug events using the [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) function.</span></span> <br/> <span data-ttu-id="930ff-176">使用 **DEBUG \_ 進程** 的進程會成為偵錯工具的根。</span><span class="sxs-lookup"><span data-stu-id="930ff-176">A process that uses **DEBUG\_PROCESS** becomes the root of a debugging chain.</span></span> <span data-ttu-id="930ff-177">這會繼續進行，直到鏈中的另一個進程使用 DEBUG 程式建立為止。 **\_**</span><span class="sxs-lookup"><span data-stu-id="930ff-177">This continues until another process in the chain is created with **DEBUG\_PROCESS**.</span></span><br/> <span data-ttu-id="930ff-178">如果此旗標結合了 **\_ \_ 此 \_ 進程**，則呼叫端只會將新的進程（而不是任何子進程）進行調試。</span><span class="sxs-lookup"><span data-stu-id="930ff-178">If this flag is combined with **DEBUG\_ONLY\_THIS\_PROCESS**, the caller debugs only the new process, not any child processes.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="DETACHED_PROCESS"></span><span id="detached_process"></span><dl> <span data-ttu-id="930ff-179">卸 <dt>**離 \_進程**</dt> <dt>0x00000008</dt></span><span class="sxs-lookup"><span data-stu-id="930ff-179"><dt>**DETACHED\_PROCESS**</dt> <dt>0x00000008</dt></span></span> </dl>                                                    | <span data-ttu-id="930ff-180">若為主控台進程，新進程不會繼承其父系的主控台 (預設) 。</span><span class="sxs-lookup"><span data-stu-id="930ff-180">For console processes, the new process does not inherit its parent's console (the default).</span></span> <span data-ttu-id="930ff-181">新的進程可以在稍後呼叫 [**AllocConsole**](/windows/console/allocconsole) 函式來建立主控台。</span><span class="sxs-lookup"><span data-stu-id="930ff-181">The new process can call the [**AllocConsole**](/windows/console/allocconsole) function at a later time to create a console.</span></span> <span data-ttu-id="930ff-182">如需詳細資訊，請參閱 [建立主控台](/windows/console/creation-of-a-console)。</span><span class="sxs-lookup"><span data-stu-id="930ff-182">For more information, see [Creation of a Console](/windows/console/creation-of-a-console).</span></span> <br/> <span data-ttu-id="930ff-183">此值不能與 **CREATE \_ NEW \_ CONSOLE** 一起使用。</span><span class="sxs-lookup"><span data-stu-id="930ff-183">This value cannot be used with **CREATE\_NEW\_CONSOLE**.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="EXTENDED_STARTUPINFO_PRESENT"></span><span id="extended_startupinfo_present"></span><dl> <span data-ttu-id="930ff-184"><dt>**擴充 \_STARTUPINFO \_ 目前**</dt>的 <dt>0x00080000</dt></span><span class="sxs-lookup"><span data-stu-id="930ff-184"><dt>**EXTENDED\_STARTUPINFO\_PRESENT**</dt> <dt>0x00080000</dt></span></span> </dl>               | <span data-ttu-id="930ff-185">此程式會使用擴充的啟動資訊來建立; *lpStartupInfo* 參數會指定 [**STARTUPINFOEX**](/windows/desktop/api/WinBase/ns-winbase-startupinfoexa) 結構。</span><span class="sxs-lookup"><span data-stu-id="930ff-185">The process is created with extended startup information; the *lpStartupInfo* parameter specifies a [**STARTUPINFOEX**](/windows/desktop/api/WinBase/ns-winbase-startupinfoexa) structure.</span></span><br/> <span data-ttu-id="930ff-186">**Windows Server 2003 和 WINDOWS XP：** 不支援這個值。</span><span class="sxs-lookup"><span data-stu-id="930ff-186">**Windows Server 2003 and Windows XP:** This value is not supported.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="INHERIT_PARENT_AFFINITY"></span><span id="inherit_parent_affinity"></span><dl> <span data-ttu-id="930ff-187"><dt>**繼承 \_父 \_ 親和性**</dt> <dt>0x00010000</dt></span><span class="sxs-lookup"><span data-stu-id="930ff-187"><dt>**INHERIT\_PARENT\_AFFINITY**</dt> <dt>0x00010000</dt></span></span> </dl>                              | <span data-ttu-id="930ff-188">進程會繼承其父系的親和性。</span><span class="sxs-lookup"><span data-stu-id="930ff-188">The process inherits its parent's affinity.</span></span> <span data-ttu-id="930ff-189">如果父進程在一個以上的 [處理器群組](processor-groups.md)中有多個執行緒，則新的進程會繼承父系所使用之任意群組的群組相關親和性。</span><span class="sxs-lookup"><span data-stu-id="930ff-189">If the parent process has threads in more than one [processor group](processor-groups.md), the new process inherits the group-relative affinity of an arbitrary group in use by the parent.</span></span><br/> <span data-ttu-id="930ff-190">**Windows server 2008、Windows Vista、Windows server 2003 和 WINDOWS XP：** 不支援這個值。</span><span class="sxs-lookup"><span data-stu-id="930ff-190">**Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP:** This value is not supported.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |



## <a name="remarks"></a><span data-ttu-id="930ff-191">備註</span><span class="sxs-lookup"><span data-stu-id="930ff-191">Remarks</span></span>

<span data-ttu-id="930ff-192">在32位的 Windows 上，16位應用程式是由 ntvdm.exe 模擬，而不是以個別進程的形式執行。</span><span class="sxs-lookup"><span data-stu-id="930ff-192">On 32-bit Windows, 16-bit applications are simulated by ntvdm.exe, not run as individual processes.</span></span> <span data-ttu-id="930ff-193">因此，進程建立旗標適用于 *ntvdm.exe*。</span><span class="sxs-lookup"><span data-stu-id="930ff-193">Therefore, the process creation flags apply to *ntvdm.exe*.</span></span> <span data-ttu-id="930ff-194">因為在您執行第一個16位應用程式之後 ntvdm.exe 會持續存在，所以當您啟動另一個16位應用程式時，不會套用新的建立旗標，除了 **建立 \_ 新的 \_ 主控台** 和 **建立 \_ 個別的 \_ WOW \_ VDM** 之外，還會建立新的 ntvdm.exe。</span><span class="sxs-lookup"><span data-stu-id="930ff-194">Because ntvdm.exe persists after you run the first 16-bit application, when you launch another 16-bit application, the new creation flags are not applied, except for **CREATE\_NEW\_CONSOLE** and **CREATE\_SEPARATE\_WOW\_VDM**, which create a new ntvdm.exe.</span></span>

## <a name="requirements"></a><span data-ttu-id="930ff-195">規格需求</span><span class="sxs-lookup"><span data-stu-id="930ff-195">Requirements</span></span>



| <span data-ttu-id="930ff-196">需求</span><span class="sxs-lookup"><span data-stu-id="930ff-196">Requirement</span></span> | <span data-ttu-id="930ff-197">值</span><span class="sxs-lookup"><span data-stu-id="930ff-197">Value</span></span> |
|-------------------------------------|----------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="930ff-198">最低支援的用戶端</span><span class="sxs-lookup"><span data-stu-id="930ff-198">Minimum supported client</span></span><br/> | <span data-ttu-id="930ff-199">\[僅限 WINDOWS XP desktop 應用程式\]</span><span class="sxs-lookup"><span data-stu-id="930ff-199">Windows XP \[desktop apps only\]</span></span><br/>                                                              |
| <span data-ttu-id="930ff-200">最低支援的伺服器</span><span class="sxs-lookup"><span data-stu-id="930ff-200">Minimum supported server</span></span><br/> | <span data-ttu-id="930ff-201">僅限 Windows Server 2003 \[ desktop 應用程式\]</span><span class="sxs-lookup"><span data-stu-id="930ff-201">Windows Server 2003 \[desktop apps only\]</span></span><br/>                                                     |
| <span data-ttu-id="930ff-202">標頭</span><span class="sxs-lookup"><span data-stu-id="930ff-202">Header</span></span><br/>                   | <dl> <span data-ttu-id="930ff-203"><dt>WinBase (包含) 的 Windows。h </dt></span><span class="sxs-lookup"><span data-stu-id="930ff-203"><dt>WinBase.h (include Windows.h)</dt></span></span> </dl> |



 

 
