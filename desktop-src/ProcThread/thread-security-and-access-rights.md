---
description: Microsoft Windows 可讓您控制對執行緒物件的存取。 如需安全性的詳細資訊，請參閱 Access-Control 模型。
ms.assetid: 72709446-5c59-4fac-8dc8-7912906ecc85
title: 執行緒安全性和存取權限
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e16b0ac5b4142f819d59775014a82a79a188bdd3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "106982418"
---
# <a name="thread-security-and-access-rights"></a><span data-ttu-id="dde63-104">執行緒安全性和存取權限</span><span class="sxs-lookup"><span data-stu-id="dde63-104">Thread Security and Access Rights</span></span>

<span data-ttu-id="dde63-105">Microsoft Windows 可讓您控制對執行緒物件的存取。</span><span class="sxs-lookup"><span data-stu-id="dde63-105">Microsoft Windows enables you to control access to thread objects.</span></span> <span data-ttu-id="dde63-106">如需安全性的詳細資訊，請參閱 [存取控制模型](../secauthz/access-control-model.md)。</span><span class="sxs-lookup"><span data-stu-id="dde63-106">For more information about security, see [Access-Control Model](../secauthz/access-control-model.md).</span></span>

<span data-ttu-id="dde63-107">當您呼叫 [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa)、 [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera)、 [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw)、 [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread)或 [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread)函數時，可以指定執行緒的 [安全描述項](../secauthz/security-descriptors.md)。</span><span class="sxs-lookup"><span data-stu-id="dde63-107">You can specify a [security descriptor](../secauthz/security-descriptors.md) for a thread when you call the [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera), [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw), [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread), or [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) function.</span></span> <span data-ttu-id="dde63-108">如果您指定 **Null**，執行緒會取得預設安全描述項。</span><span class="sxs-lookup"><span data-stu-id="dde63-108">If you specify **NULL**, the thread gets a default security descriptor.</span></span> <span data-ttu-id="dde63-109">執行緒之預設安全描述項中的 Acl 來自于建立者的主要或模擬權杖。</span><span class="sxs-lookup"><span data-stu-id="dde63-109">The ACLs in the default security descriptor for a thread come from the primary or impersonation token of the creator.</span></span>

<span data-ttu-id="dde63-110">若要取得執行緒的安全描述項，請呼叫 [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) 函數。</span><span class="sxs-lookup"><span data-stu-id="dde63-110">To retrieve a thread's security descriptor, call the [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) function.</span></span> <span data-ttu-id="dde63-111">若要變更執行緒的安全描述項，請呼叫 [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) 函數。</span><span class="sxs-lookup"><span data-stu-id="dde63-111">To change a thread's security descriptor, call the [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) function.</span></span>

<span data-ttu-id="dde63-112">[**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread)函式所傳回的控制碼具有線程物件的 **\_ 所有 \_ 存取** 權。</span><span class="sxs-lookup"><span data-stu-id="dde63-112">The handle returned by the [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) function has **THREAD\_ALL\_ACCESS** access to the thread object.</span></span> <span data-ttu-id="dde63-113">當您呼叫 [**GetCurrentThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthread) 函式時，系統會傳回 pseudohandle，其中包含執行緒的安全描述項允許呼叫端的最大存取權。</span><span class="sxs-lookup"><span data-stu-id="dde63-113">When you call the [**GetCurrentThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthread) function, the system returns a pseudohandle with the maximum access that the thread's security descriptor allows the caller.</span></span>

<span data-ttu-id="dde63-114">執行緒物件的有效存取權限包括 [標準存取權限](../secauthz/standard-access-rights.md) ，以及某些執行緒特定的存取權限。</span><span class="sxs-lookup"><span data-stu-id="dde63-114">The valid access rights for thread objects include the [standard access rights](../secauthz/standard-access-rights.md) and some thread-specific access rights.</span></span> <span data-ttu-id="dde63-115">下表列出所有物件使用的標準存取權限。</span><span class="sxs-lookup"><span data-stu-id="dde63-115">The following table lists the standard access rights used by all objects.</span></span>

| <span data-ttu-id="dde63-116">值</span><span class="sxs-lookup"><span data-stu-id="dde63-116">Value</span></span>                           | <span data-ttu-id="dde63-117">意義</span><span class="sxs-lookup"><span data-stu-id="dde63-117">Meaning</span></span>                                                                                                                                                                                                                                                                                  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="dde63-118">**刪除** (0x00010000L) </span><span class="sxs-lookup"><span data-stu-id="dde63-118">**DELETE** (0x00010000L)</span></span>        | <span data-ttu-id="dde63-119">刪除物件的必要參數。</span><span class="sxs-lookup"><span data-stu-id="dde63-119">Required to delete the object.</span></span>                                                                                                                                                                                                                                                           |
| <span data-ttu-id="dde63-120">**讀取 \_控制** (0x00020000L) </span><span class="sxs-lookup"><span data-stu-id="dde63-120">**READ\_CONTROL** (0x00020000L)</span></span> | <span data-ttu-id="dde63-121">需要讀取物件安全描述項中的資訊，而不包含 SACL 中的資訊。</span><span class="sxs-lookup"><span data-stu-id="dde63-121">Required to read information in the security descriptor for the object, not including the information in the SACL.</span></span> <span data-ttu-id="dde63-122">若要讀取或寫入 SACL，您必須要求 **存取 \_ 系統 \_ 安全性** 存取權限。</span><span class="sxs-lookup"><span data-stu-id="dde63-122">To read or write the SACL, you must request the **ACCESS\_SYSTEM\_SECURITY** access right.</span></span> <span data-ttu-id="dde63-123">如需詳細資訊，請參閱 [SACL 訪問](../secauthz/sacl-access-right.md)許可權。</span><span class="sxs-lookup"><span data-stu-id="dde63-123">For more information, see [SACL Access Right](../secauthz/sacl-access-right.md).</span></span> |
| <span data-ttu-id="dde63-124">**同步處理** (0x00100000L) </span><span class="sxs-lookup"><span data-stu-id="dde63-124">**SYNCHRONIZE** (0x00100000L)</span></span>   | <span data-ttu-id="dde63-125">使用同步物件的權限。</span><span class="sxs-lookup"><span data-stu-id="dde63-125">The right to use the object for synchronization.</span></span> <span data-ttu-id="dde63-126">這可讓執行緒等候，直到物件處於已發出信號的狀態。</span><span class="sxs-lookup"><span data-stu-id="dde63-126">This enables a thread to wait until the object is in the signaled state.</span></span>                                                                                                                                                                |
| <span data-ttu-id="dde63-127">**寫入 \_DAC** (0x00040000L) </span><span class="sxs-lookup"><span data-stu-id="dde63-127">**WRITE\_DAC** (0x00040000L)</span></span>    | <span data-ttu-id="dde63-128">修改物件安全描述項中的 DACL 時需要。</span><span class="sxs-lookup"><span data-stu-id="dde63-128">Required to modify the DACL in the security descriptor for the object.</span></span>                                                                                                                                                                                                                   |
| <span data-ttu-id="dde63-129">**寫入 \_擁有** 者 (0x00080000L) </span><span class="sxs-lookup"><span data-stu-id="dde63-129">**WRITE\_OWNER** (0x00080000L)</span></span>  | <span data-ttu-id="dde63-130">需要變更物件之安全描述項中的擁有者。</span><span class="sxs-lookup"><span data-stu-id="dde63-130">Required to change the owner in the security descriptor for the object.</span></span>                                                                                                                                                                                                                  |



 

<span data-ttu-id="dde63-131">下表列出執行緒特定的存取權限。</span><span class="sxs-lookup"><span data-stu-id="dde63-131">The following table lists the thread-specific access rights.</span></span>



| <span data-ttu-id="dde63-132">值</span><span class="sxs-lookup"><span data-stu-id="dde63-132">Value</span></span>                                            | <span data-ttu-id="dde63-133">意義</span><span class="sxs-lookup"><span data-stu-id="dde63-133">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="dde63-134">**同步處理** (0x00100000L) </span><span class="sxs-lookup"><span data-stu-id="dde63-134">**SYNCHRONIZE** (0x00100000L)</span></span>                    | <span data-ttu-id="dde63-135">允許在任何 [等候](../sync/wait-functions.md)函式中使用執行緒控制碼。</span><span class="sxs-lookup"><span data-stu-id="dde63-135">Enables the use of the thread handle in any of the [wait functions](../sync/wait-functions.md).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="dde63-136">**執行緒 \_ 所有 \_ 存取**</span><span class="sxs-lookup"><span data-stu-id="dde63-136">**THREAD\_ALL\_ACCESS**</span></span>                          | <span data-ttu-id="dde63-137">執行緒物件的所有可能存取權限。**Windows Server 2003 和 WINDOWS XP：** Windows Server 2008 和 Windows Vista 上的 **執行緒 \_ 所有 \_ 存取** 旗標的值增加。</span><span class="sxs-lookup"><span data-stu-id="dde63-137">All possible access rights for a thread object.**Windows Server 2003 and Windows XP:** The value of the **THREAD\_ALL\_ACCESS** flag increased on Windows Server 2008 and Windows Vista.</span></span> <span data-ttu-id="dde63-138">如果針對 Windows Server 2008 和 Windows Vista 編譯的應用程式是在 Windows Server 2003 或 Windows XP 上執行，則「 **執行緒 \_ 所有 \_ 存取** 」旗標會包含不支援的存取位，而且指定此旗標的函式會失敗，並 **\_ \_ 拒絕錯誤存取**。</span><span class="sxs-lookup"><span data-stu-id="dde63-138">If an application compiled for Windows Server 2008 and Windows Vista is run on Windows Server 2003 or Windows XP, the **THREAD\_ALL\_ACCESS** flag contains access bits that are not supported and the function specifying this flag fails with **ERROR\_ACCESS\_DENIED**.</span></span> <span data-ttu-id="dde63-139">若要避免這個問題，請指定作業所需的最小存取權限集合。</span><span class="sxs-lookup"><span data-stu-id="dde63-139">To avoid this problem, specify the minimum set of access rights required for the operation.</span></span> <span data-ttu-id="dde63-140">如果必須使用 **執行緒的 \_ 所有 \_ 存取權**，請將 **\_ WIN32 \_ WINNT** 設定為您的應用程式設為目標的最小作業系統 (例如 `#define _WIN32_WINNT _WIN32_WINNT_WINXP`) 。</span><span class="sxs-lookup"><span data-stu-id="dde63-140">If **THREAD\_ALL\_ACCESS** must be used, set **\_WIN32\_WINNT** to the minimum operating system targeted by your application (for example, `#define _WIN32_WINNT _WIN32_WINNT_WINXP`).</span></span> <span data-ttu-id="dde63-141">如需詳細資訊，請參閱 [使用 Windows 標頭](../winprog/using-the-windows-headers.md)。</span><span class="sxs-lookup"><span data-stu-id="dde63-141">For more information, see [Using the Windows Headers](../winprog/using-the-windows-headers.md).</span></span> <br/> |
| <span data-ttu-id="dde63-142">**執行緒 \_直接 \_** 模擬 (0x0200) </span><span class="sxs-lookup"><span data-stu-id="dde63-142">**THREAD\_DIRECT\_IMPERSONATION** (0x0200)</span></span>       | <span data-ttu-id="dde63-143">模擬用戶端的伺服器執行緒所需。</span><span class="sxs-lookup"><span data-stu-id="dde63-143">Required for a server thread that impersonates a client.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="dde63-144">**執行緒 \_取得 \_ 內容** (0x0008) </span><span class="sxs-lookup"><span data-stu-id="dde63-144">**THREAD\_GET\_CONTEXT** (0x0008)</span></span>                | <span data-ttu-id="dde63-145">使用 [**GetThreadCoNtext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext)讀取執行緒內容的必要項。</span><span class="sxs-lookup"><span data-stu-id="dde63-145">Required to read the context of a thread using [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="dde63-146">**執行緒 \_模擬 (0x0100**) </span><span class="sxs-lookup"><span data-stu-id="dde63-146">**THREAD\_IMPERSONATE** (0x0100)</span></span>                 | <span data-ttu-id="dde63-147">需要直接使用執行緒的安全性資訊，而不需要使用提供模擬服務的通訊機制來呼叫它。</span><span class="sxs-lookup"><span data-stu-id="dde63-147">Required to use a thread's security information directly without calling it by using a communication mechanism that provides impersonation services.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="dde63-148">**執行緒 \_ (\_** 0x0040) 的查詢資訊</span><span class="sxs-lookup"><span data-stu-id="dde63-148">**THREAD\_QUERY\_INFORMATION** (0x0040)</span></span>          | <span data-ttu-id="dde63-149">從執行緒物件讀取特定資訊（例如結束代碼 (）的必要資訊，請參閱 [**GetExitCodeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodethread)) 。</span><span class="sxs-lookup"><span data-stu-id="dde63-149">Required to read certain information from the thread object, such as the exit code (see [**GetExitCodeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodethread)).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="dde63-150">**執行緒 \_查詢 \_ 有限 \_ 資訊** (0x0800) </span><span class="sxs-lookup"><span data-stu-id="dde63-150">**THREAD\_QUERY\_LIMITED\_INFORMATION** (0x0800)</span></span> | <span data-ttu-id="dde63-151">從執行緒物件讀取特定資訊的必要 (參閱 [**GetProcessIdOfThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getprocessidofthread)) 。</span><span class="sxs-lookup"><span data-stu-id="dde63-151">Required to read certain information from the thread objects (see [**GetProcessIdOfThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getprocessidofthread)).</span></span> <span data-ttu-id="dde63-152">具有 [ **執行緒 \_ 查詢 \_ 資訊** ] 許可權的控制碼會自動授與 **執行緒 \_ 查詢的 \_ 有限 \_ 資訊**。**Windows Server 2003 和 Windows XP：** 不支援此存取權。</span><span class="sxs-lookup"><span data-stu-id="dde63-152">A handle that has the **THREAD\_QUERY\_INFORMATION** access right is automatically granted **THREAD\_QUERY\_LIMITED\_INFORMATION**.**Windows Server 2003 and Windows XP:** This access right is not supported.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="dde63-153">**執行緒 \_設定 \_** 0x0010) 內容 (</span><span class="sxs-lookup"><span data-stu-id="dde63-153">**THREAD\_SET\_CONTEXT** (0x0010)</span></span>                | <span data-ttu-id="dde63-154">需要使用 [**SetThreadCoNtext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext)撰寫執行緒的內容。</span><span class="sxs-lookup"><span data-stu-id="dde63-154">Required to write the context of a thread using [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="dde63-155">**執行緒 \_將 \_ 資訊設定** (0x0020) </span><span class="sxs-lookup"><span data-stu-id="dde63-155">**THREAD\_SET\_INFORMATION** (0x0020)</span></span>            | <span data-ttu-id="dde63-156">在 thread 物件中設定某些資訊的必要項。</span><span class="sxs-lookup"><span data-stu-id="dde63-156">Required to set certain information in the thread object.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="dde63-157">**執行緒 \_ (0x0400 設定 \_ 有限的 \_ 資訊**) </span><span class="sxs-lookup"><span data-stu-id="dde63-157">**THREAD\_SET\_LIMITED\_INFORMATION** (0x0400)</span></span>   | <span data-ttu-id="dde63-158">在 thread 物件中設定某些資訊的必要項。</span><span class="sxs-lookup"><span data-stu-id="dde63-158">Required to set certain information in the thread object.</span></span> <span data-ttu-id="dde63-159">具有 **執行緒 \_ 集 \_ 資訊** 存取權的控制碼會自動授與 **執行緒 \_ 設定 \_ 有限的 \_ 資訊**。**Windows Server 2003 和 Windows XP：** 不支援此存取權。</span><span class="sxs-lookup"><span data-stu-id="dde63-159">A handle that has the **THREAD\_SET\_INFORMATION** access right is automatically granted **THREAD\_SET\_LIMITED\_INFORMATION**.**Windows Server 2003 and Windows XP:** This access right is not supported.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="dde63-160">**執行緒 \_ (0x0080 設定 \_ 執行緒 \_ TOKEN**) </span><span class="sxs-lookup"><span data-stu-id="dde63-160">**THREAD\_SET\_THREAD\_TOKEN** (0x0080)</span></span>          | <span data-ttu-id="dde63-161">需要使用 [**SetThreadToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadtoken)來設定執行緒的模擬權杖。</span><span class="sxs-lookup"><span data-stu-id="dde63-161">Required to set the impersonation token for a thread using [**SetThreadToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadtoken).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="dde63-162">**執行緒 \_暫停 \_ 繼續** (0x0002) </span><span class="sxs-lookup"><span data-stu-id="dde63-162">**THREAD\_SUSPEND\_RESUME** (0x0002)</span></span>             | <span data-ttu-id="dde63-163">暫停或繼續執行緒的必要 (參閱 [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) 和 [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread)) 。</span><span class="sxs-lookup"><span data-stu-id="dde63-163">Required to suspend or resume a thread (see [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) and [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread)).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="dde63-164">**執行緒 \_終止** (0x0001) </span><span class="sxs-lookup"><span data-stu-id="dde63-164">**THREAD\_TERMINATE** (0x0001)</span></span>                   | <span data-ttu-id="dde63-165">使用 [**TerminateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminatethread)終止執行緒的必要參數。</span><span class="sxs-lookup"><span data-stu-id="dde63-165">Required to terminate a thread using [**TerminateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminatethread).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |



 

<span data-ttu-id="dde63-166">如果您想要讀取或寫入物件的 SACL，您可以向執行緒物件要求 **存取 \_ 系統 \_ 安全性** 存取權。</span><span class="sxs-lookup"><span data-stu-id="dde63-166">You can request the **ACCESS\_SYSTEM\_SECURITY** access right to a thread object if you want to read or write the object's SACL.</span></span> <span data-ttu-id="dde63-167">如需詳細資訊，請參閱 (Acl) 和[SACL 訪問](../secauthz/sacl-access-right.md)許可權[的存取控制清單](../secauthz/access-control-lists.md)。</span><span class="sxs-lookup"><span data-stu-id="dde63-167">For more information, see [Access-Control Lists (ACLs)](../secauthz/access-control-lists.md) and [SACL Access Right](../secauthz/sacl-access-right.md).</span></span>

## <a name="protected-processes"></a><span data-ttu-id="dde63-168">受保護的處理程序</span><span class="sxs-lookup"><span data-stu-id="dde63-168">Protected Processes</span></span>

<span data-ttu-id="dde63-169">*受保護的進程* 可增強對數位 Rights Management 的支援。</span><span class="sxs-lookup"><span data-stu-id="dde63-169">*Protected processes* enhance support for Digital Rights Management.</span></span> <span data-ttu-id="dde63-170">系統會限制受保護進程的存取，以及受保護進程的執行緒。</span><span class="sxs-lookup"><span data-stu-id="dde63-170">The system restricts access to protected processes and the threads of protected processes.</span></span>

<span data-ttu-id="dde63-171">**Windows Server 2003 和 WINDOWS XP：** 從 Windows Vista 開始，已新增受保護的進程。</span><span class="sxs-lookup"><span data-stu-id="dde63-171">**Windows Server 2003 and Windows XP:** Protected processes were added starting with Windows Vista.</span></span>

<span data-ttu-id="dde63-172">下列特定存取權限不允許來自受保護進程之執行緒的進程：</span><span class="sxs-lookup"><span data-stu-id="dde63-172">The following specific access rights are not allowed from a process to the threads of a protected process:</span></span>

<span data-ttu-id="dde63-173">**執行緒 \_ 所有 \_ 存取**</span><span class="sxs-lookup"><span data-stu-id="dde63-173">**THREAD\_ALL\_ACCESS**</span></span>  
<span data-ttu-id="dde63-174">**執行緒 \_ 直接 \_ 模擬**</span><span class="sxs-lookup"><span data-stu-id="dde63-174">**THREAD\_DIRECT\_IMPERSONATION**</span></span>  
<span data-ttu-id="dde63-175">**執行緒 \_ 取得 \_ 內容**</span><span class="sxs-lookup"><span data-stu-id="dde63-175">**THREAD\_GET\_CONTEXT**</span></span>  
<span data-ttu-id="dde63-176">**執行緒 \_ 模擬**</span><span class="sxs-lookup"><span data-stu-id="dde63-176">**THREAD\_IMPERSONATE**</span></span>  
<span data-ttu-id="dde63-177">**執行緒 \_ 查詢 \_ 資訊**</span><span class="sxs-lookup"><span data-stu-id="dde63-177">**THREAD\_QUERY\_INFORMATION**</span></span>  
<span data-ttu-id="dde63-178">**執行緒 \_ 集 \_ 內容**</span><span class="sxs-lookup"><span data-stu-id="dde63-178">**THREAD\_SET\_CONTEXT**</span></span>  
<span data-ttu-id="dde63-179">**執行緒 \_ 集 \_ 資訊**</span><span class="sxs-lookup"><span data-stu-id="dde63-179">**THREAD\_SET\_INFORMATION**</span></span>  
<span data-ttu-id="dde63-180">**執行緒 \_ 集 \_ 權杖**</span><span class="sxs-lookup"><span data-stu-id="dde63-180">**THREAD\_SET\_TOKEN**</span></span>  
<span data-ttu-id="dde63-181">**執行緒 \_ 終止**</span><span class="sxs-lookup"><span data-stu-id="dde63-181">**THREAD\_TERMINATE**</span></span>  


<span data-ttu-id="dde63-182">已引進 **執行緒 \_ 查詢 \_ 限制 \_ 資訊** ，以提供可透過 **執行緒 \_ 查詢 \_ 資訊** 取得之資訊子集的存取權。</span><span class="sxs-lookup"><span data-stu-id="dde63-182">The **THREAD\_QUERY\_LIMITED\_INFORMATION** right was introduced to provide access to a subset of the information available through **THREAD\_QUERY\_INFORMATION**.</span></span>

 

 
