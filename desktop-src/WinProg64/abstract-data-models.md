---
title: 抽象資料模型
description: 每個應用程式和每個作業系統都有一個抽象資料模型。
ms.assetid: c670d92b-e64d-4d4c-a30c-cd4fb4f2d0b9
keywords:
- 抽象資料模型64位 Windows 程式設計
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7bfb116d5afccba1b1ce3438f8b7135d01bc1b7b
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/16/2019
ms.locfileid: "107001067"
---
# <a name="abstract-data-models"></a>抽象資料模型

每個應用程式和每個作業系統都有一個抽象資料模型。 許多應用程式不會明確地公開此資料模型，但模型會引導應用程式撰寫程式碼的方式。 在32位程式設計模型中 (稱為 ILP32 模型) 、整數、long 和指標資料類型的長度是32位。 大部分的開發人員都已使用此模型，而不會加以實現。 針對 WIN32 API 的歷程記錄，這是有效的 (但不一定是安全的) 假設要進行。

在 64-bitWindows 中，這種資料類型大小的同位假設是不正確。 因為大部分的應用程式不需要增加大小，所以將所有資料類型的長度設為64位將會浪費空間。 不過，應用程式確實需要64位資料的指標，而且需要在選取的案例中具有64位資料類型的能力。 這些考慮會導致選取稱為 LLP64 (或 P64) 的抽象資料模型。 在 LLP64 資料模型中，只會展開指向64位的指標;所有其他基本資料類型 (整數和 long) 會維持32位的長度。

一開始，在64位 Windows 上執行的大部分應用程式都是從32位 Windows 進行移植。 您必須在32和64位的 Windows 上執行相同來源（謹慎撰寫）的目標。 定義資料模型並不會讓這項工作變得更容易。 不過，確保資料模型只會影響指標資料類型是第一個步驟。 第二個步驟是定義一組新的資料類型，讓開發人員自動調整其指標相關資料的大小。 這可讓指標大小從32位變更為64位時，與指標相關聯的資料變更大小。 基本資料類型的長度會維持32位，因此不會變更磁片上的資料大小、透過網路共用的資料，或是透過記憶體對應檔案共用的資料。 這讓開發人員能夠輕鬆地將32位程式碼移植到64位 Windows。

這些新的資料類型已新增至 Windows API 標頭檔。 因此，您現在可以開始使用新的類型。 如需詳細資訊，請參閱 [新的資料類型](the-new-data-types.md)。

 

 




