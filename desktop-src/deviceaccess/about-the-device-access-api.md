---
title: 關於裝置存取 API
description: 裝置存取 API 適用于建立 Windows Store 應用程式的 c + + 開發人員，以便與 Windows 8 中的特殊裝置互動。
ms.assetid: DDF115A2-A811-450A-80F7-AAFB0EEA4037
ms.topic: article
ms.date: 02/11/2020
ms.openlocfilehash: 213c7ecc618e4b183ee879d23db3b2c0eca35397
ms.sourcegitcommit: 3d718d8f69d3f86eaecf94c5705d761c5a9ef4a1
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/20/2020
ms.locfileid: "104316729"
---
# <a name="about-the-device-access-api"></a><span data-ttu-id="e1881-103">關於裝置存取 API</span><span class="sxs-lookup"><span data-stu-id="e1881-103">About the Device Access API</span></span>

<span data-ttu-id="e1881-104">裝置存取 API 適用于建立 Windows Store 應用程式的 c + + 開發人員，以便與 Windows 8 中的特殊裝置互動。</span><span class="sxs-lookup"><span data-stu-id="e1881-104">The Device Access API is for C++ developers who are creating a Windows Store app to interact with specialized devices in Windows 8.</span></span> <span data-ttu-id="e1881-105">本主題說明裝置存取 API 適用的案例。</span><span class="sxs-lookup"><span data-stu-id="e1881-105">This topic describes the scenarios that the Device Access API applies to.</span></span> <span data-ttu-id="e1881-106">此外，也會說明裝置存取 API 如何在 Windows 8 中套用 Windows Store 應用程式的安全性規則。</span><span class="sxs-lookup"><span data-stu-id="e1881-106">It also explains how the Device Access API applies security rules for Windows Store apps in Windows 8.</span></span>

- [<span data-ttu-id="e1881-107">在 Windows Store 裝置應用程式中啟用自訂裝置功能</span><span class="sxs-lookup"><span data-stu-id="e1881-107">Enabling custom device functionality in Windows Store device apps</span></span>](#enabling-custom-device-functionality-in-windows-store-device-apps)

## <a name="enabling-custom-device-functionality-in-windows-store-device-apps"></a><span data-ttu-id="e1881-108">在 Windows Store 裝置應用程式中啟用自訂裝置功能</span><span class="sxs-lookup"><span data-stu-id="e1881-108">Enabling custom device functionality in Windows Store device apps</span></span>

<span data-ttu-id="e1881-109">獨立硬體廠商的開發人員 (Ihv) 和 Oem 可以建立與裝置配對的 Windows Store 應用程式，並在安裝裝置時自動取得。</span><span class="sxs-lookup"><span data-stu-id="e1881-109">Developers for independent hardware vendors (IHVs) and OEMs can build a Windows Store app that's paired with their device and automatically acquired when the device is installed.</span></span> <span data-ttu-id="e1881-110">此應用程式（稱為 Windows Store 裝置應用程式）可以提供獨特的裝置功能。</span><span class="sxs-lookup"><span data-stu-id="e1881-110">This app, known as a Windows Store device app, can provide unique device functionality.</span></span>

<span data-ttu-id="e1881-111">沒有內建類別驅動程式或 Windows 執行階段 Api 可在 Windows 8 中與裝置通訊的裝置稱為 *特製化裝置*。</span><span class="sxs-lookup"><span data-stu-id="e1881-111">Devices that don't have built-in class drivers or Windows Runtime APIs for communicating with the device in Windows 8 are known as *specialized devices*.</span></span> <span data-ttu-id="e1881-112">這些裝置可能需要自訂驅動程式。</span><span class="sxs-lookup"><span data-stu-id="e1881-112">These devices might require a custom driver.</span></span> <span data-ttu-id="e1881-113">如需有關需要自訂驅動程式之裝置類型的詳細資訊，請參閱 Windows Store 裝置應用程式設計指南中的專用裝置。</span><span class="sxs-lookup"><span data-stu-id="e1881-113">For more information about the types of devices that require custom drivers, see the Windows Store device app design guide for specialized devices .</span></span>

<span data-ttu-id="e1881-114">必須與裝置的自訂驅動程式通訊之特製化裝置的 Windows Store 裝置應用程式，無法使用 Microsoft Win32 Api （例如 [**DeviceIoControl**](/windows/win32/api/ioapiset/nf-ioapiset-deviceiocontrol) 和 [**CreateFile**](/windows/win32/api/fileapi/nf-fileapi-createfilea) ）將 IOCTLs 傳送至裝置。</span><span class="sxs-lookup"><span data-stu-id="e1881-114">The Windows Store device app for a specialized device that must communicate with a device's custom driver can't use Microsoft Win32 APIs like [**DeviceIoControl**](/windows/win32/api/ioapiset/nf-ioapiset-deviceiocontrol) and [**CreateFile**](/windows/win32/api/fileapi/nf-fileapi-createfilea) to send IOCTLs to the device.</span></span> <span data-ttu-id="e1881-115">Windows Store 裝置應用程式執行的受限安全性環境需要您使用裝置存取 API，才能從 Windows Store 應用程式與您的自訂驅動程式進行通訊。</span><span class="sxs-lookup"><span data-stu-id="e1881-115">The restricted security environment where Windows Store device apps run require that you use the Device Access API to communicate with your custom driver from a Windows Store app.</span></span>

<span data-ttu-id="e1881-116">自訂裝置的開發人員會限制存取核准的特殊許可權應用程式。</span><span class="sxs-lookup"><span data-stu-id="e1881-116">The developer of a custom device restricts access to approved, privileged applications.</span></span> <span data-ttu-id="e1881-117">比方說，media player 裝置的製造商可能會想要讓使用者只能透過 IHV 提供的音樂應用程式播放音樂，並限制任何競爭者的應用程式從裝置同步媒體。</span><span class="sxs-lookup"><span data-stu-id="e1881-117">For instance, the manufacturer of a media-player device might want users to play music only through the IHV-provided music app and restrict any competitor's app from syncing media from the device.</span></span> <span data-ttu-id="e1881-118">當您建立設備磁碟機時，您可以在資訊 (INF 中設定屬性) fileto 指定只有特殊許可權的應用程式才能存取裝置。</span><span class="sxs-lookup"><span data-stu-id="e1881-118">When you're building the device driver, you set a property in the information (INF) fileto specify that only privileged apps can access the device.</span></span> <span data-ttu-id="e1881-119">裝置本身的中繼資料會指定已核准的應用程式集的套件識別碼。</span><span class="sxs-lookup"><span data-stu-id="e1881-119">Metadata on the device itself specifies the package IDs for the set of approved apps.</span></span> <span data-ttu-id="e1881-120">如需在裝置上設定此中繼資料的程式詳細資訊，請參閱 [內部裝置的 UWP 裝置應用程式](/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices) 。</span><span class="sxs-lookup"><span data-stu-id="e1881-120">See [UWP device apps for internal devices](/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices) for more detail on the process of setting this metadata on your device.</span></span>

## <a name="related-topics"></a><span data-ttu-id="e1881-121">相關主題</span><span class="sxs-lookup"><span data-stu-id="e1881-121">Related topics</span></span>

<span data-ttu-id="e1881-122">[自訂驅動程式存取範例](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/411c271e537727d737a53fa2cbe99eaecac00cc0/Official%20Windows%20Platform%20Sample/Custom%20driver%20access%20sample)、 [適用于內部裝置的 UWP 裝置應用程式](/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices)、 [硬體開發人員中心](/windows-hardware/drivers/)</span><span class="sxs-lookup"><span data-stu-id="e1881-122">[Custom Driver Access Sample](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/411c271e537727d737a53fa2cbe99eaecac00cc0/Official%20Windows%20Platform%20Sample/Custom%20driver%20access%20sample), [UWP device apps for internal devices](/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices), [Hardware Dev Center](/windows-hardware/drivers/)</span></span>