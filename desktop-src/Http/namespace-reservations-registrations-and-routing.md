---
title: 命名空間保留、註冊和路由
description: 保留和註冊是 HTTP 伺服器 API 在電腦上提供 URL 命名空間存取權的作業。
ms.assetid: dc66960b-36cd-4c09-be0a-3aec9a8a25d8
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a00801629b5b778bb6c87a0bff615cb9d5618f57
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/16/2019
ms.locfileid: "104311091"
---
# <a name="namespace-reservations-registrations-and-routing"></a><span data-ttu-id="d4ae1-103">命名空間保留、註冊和路由</span><span class="sxs-lookup"><span data-stu-id="d4ae1-103">Namespace Reservations, Registrations, and Routing</span></span>

<span data-ttu-id="d4ae1-104">保留和註冊是 HTTP 伺服器 API 在電腦上提供 URL 命名空間存取權的作業。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-104">Reservation and registration are the operations by which the HTTP Server API gives access to the URL namespace on a machine.</span></span> <span data-ttu-id="d4ae1-105">應用程式可以註冊一部分的 URL 命名空間，以便從 HTTP 用戶端服務要求。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-105">Applications can register for a portion of the URL namespace in order to service requests from HTTP clients.</span></span> <span data-ttu-id="d4ae1-106">應用程式會使用 [**HttpAddUrl**](/windows/desktop/api/Http/nf-http-httpaddurl) 函式，向 HTTP 伺服器 API 註冊命名空間。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-106">The application registers a namespace with the HTTP Server API using the [**HttpAddUrl**](/windows/desktop/api/Http/nf-http-httpaddurl) function.</span></span> <span data-ttu-id="d4ae1-107">HTTP 伺服器 API 會將 Url 新增至應用程式的要求佇列，並根據其佇列中的 Url 將要求路由傳送至應用程式。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-107">The HTTP Server API adds the URLs to the request queue for the application and routes requests to the applications depending on the URLs in their queues.</span></span> <span data-ttu-id="d4ae1-108">不過，在應用程式可以註冊以接收 URL 命名空間的要求之前，系統管理員必須代表執行應用程式的使用者建立該 URL 的保留。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-108">Before the application can register to receive requests for a URL namespace, however, the system administrator must make a reservation for that URL on behalf of the user running the application.</span></span> <span data-ttu-id="d4ae1-109">根據預設，命名空間是關閉的，也就是說，只有系統管理員可以註冊 >urlprefixes，直到系統管理員輸入保留為止。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-109">By default, the namespace is closed, that is, only the administrator can register UrlPrefixes until the administrator enters a reservation.</span></span>

<span data-ttu-id="d4ae1-110">保留會持續將 URL 命名空間的一部分配置給個別使用者，讓他們可以保留或「擁有」該部分的命名空間。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-110">A reservation persistently allocates a portion of the URL namespace to individual users allowing them to reserve or "own" that part of namespace.</span></span> <span data-ttu-id="d4ae1-111">保留會授與使用者註冊命名空間服務要求的許可權。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-111">Reservations give the user the right to register to service requests for the namespace.</span></span> <span data-ttu-id="d4ae1-112">HTTP 伺服器 API 可確保使用者不會從未擁有的命名空間部分註冊 Url。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-112">The HTTP Server API ensures that users do not register URLs from portions of the namespace that they do not own.</span></span> <span data-ttu-id="d4ae1-113">為了確保命名空間安全性，Acl (存取控制清單) 會套用至為每個使用者保留的命名空間部分。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-113">In order to ensure namespace security, ACLs (Access Control List) are applied to the portion of the namespace reserved for each user.</span></span>

<span data-ttu-id="d4ae1-114">保留的命名空間是由 URL 前置詞字串所識別，以與用於註冊的 URL 前置詞相同的方式進行格式化。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-114">Reserved namespaces are identified by URL prefix strings, formatted in the same fashion as URL prefixes used for registrations.</span></span> <span data-ttu-id="d4ae1-115">這表示所有不同的主機規範類別也都可供保留。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-115">This means that all the various host specifier categories are also available for reservations.</span></span>

<span data-ttu-id="d4ae1-116">命名空間保留會在重新開機時持續保存，而變更會動態生效，因此不需要停止並重新啟動電腦。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-116">Namespace reservations are persisted across reboots, and changes take effect dynamically so there is no need to stop and restart the machine.</span></span>

<span data-ttu-id="d4ae1-117">下列概念會在套用至註冊和保留命名空間的程式時進一步闡明。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-117">The following concepts are further clarified as they apply to the process of registering and reserving namespaces.</span></span>

-   <span data-ttu-id="d4ae1-118">註冊。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-118">REGISTRATION.</span></span> <span data-ttu-id="d4ae1-119">註冊是指應用程式用來表示接收指定 UrlPrefix 之要求的相關作業。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-119">Registration is the operation by which an application indicates interest in receiving requests for a specified UrlPrefix.</span></span> <span data-ttu-id="d4ae1-120">URL 註冊的 API 是 [**HttpAddUrl**](/windows/desktop/api/Http/nf-http-httpaddurl)。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-120">The API for URL registration is [**HttpAddUrl**](/windows/desktop/api/Http/nf-http-httpaddurl).</span></span> <span data-ttu-id="d4ae1-121">註冊通常會在應用程式啟動期間發生，而且必須在每次應用程式啟動時執行。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-121">Registration typically occurs during application startup and must be performed each time the application starts.</span></span>
-   <span data-ttu-id="d4ae1-122">路由。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-122">ROUTING.</span></span> <span data-ttu-id="d4ae1-123">路由是由 HTTP 伺服器 API 執行，以根據已註冊及/或保留的最符合 [UrlPrefix](urlprefix-strings.md) ，判斷要將要求分派至的應用程式。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-123">Routing is performed by the HTTP Server API to determine the application to dispatch the request to, based on the best matching [UrlPrefix](urlprefix-strings.md) that is registered and/or reserved.</span></span> <span data-ttu-id="d4ae1-124">路由作業會使用註冊和保留資訊。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-124">The routing operation makes use of both registration and reservation information.</span></span>
-   <span data-ttu-id="d4ae1-125">預訂。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-125">RESERVATION.</span></span> <span data-ttu-id="d4ae1-126">保留會將 URL 命名空間的一部分配置給一或多個使用者。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-126">Reservation allocates a portion of the URL namespace to one or more users.</span></span> <span data-ttu-id="d4ae1-127">這種作業可讓使用者向右註冊指定的命名空間。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-127">This operation gives users the right to register for the specified namespace.</span></span> <span data-ttu-id="d4ae1-128">保留命名空間的使用者稱為 URL 命名空間的一部分。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-128">A user for whom a namespace is reserved is said to "own" that part of URL namespace.</span></span> <span data-ttu-id="d4ae1-129">命名空間保留通常是在安裝應用程式期間執行，而且是不頻繁的作業。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-129">Namespace reservations are typically performed during the installation of the application and are an infrequent operation.</span></span> <span data-ttu-id="d4ae1-130">保留會在電腦重新開機時持續保存，而且需要具有電腦的系統管理員許可權或具有委派許可權的擁有權，才能建立或刪除。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-130">Reservations persist across reboots of the machine and require administrator privileges on the machine or ownership with delegation privileges to create or delete.</span></span>
-   <span data-ttu-id="d4ae1-131">代表團。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-131">DELEGATION.</span></span> <span data-ttu-id="d4ae1-132">委派許可權可讓擁有命名空間的使用者將子樹的擁有權交給另一個使用者，使其成為後續的保留。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-132">Delegation privileges allow a user who owns a namespace to hand off ownership of a subtree to another user by a subsequent reservation.</span></span> <span data-ttu-id="d4ae1-133">系統管理員會在進行保留時，將委派許可權授與使用者。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-133">Delegation privileges are granted to a user by the system administrator when the reservation is made.</span></span> <span data-ttu-id="d4ae1-134">一個或多個使用者可以指派給命名空間的委派許可權。</span><span class="sxs-lookup"><span data-stu-id="d4ae1-134">One or more than one user can be assigned delegation privileges to a namespace.</span></span>

 

 




