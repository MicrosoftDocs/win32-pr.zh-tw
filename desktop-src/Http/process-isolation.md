---
title: 處理序隔離
description: HTTP 伺服器版本 2.0 API 提供的功能，可讓您隔離在要求佇列上處理要求的工作者進程，以建立更安全、更可靠的服務。
ms.assetid: 893741b7-025c-4642-aff4-a5d69244763f
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: efcfccc78bbef435aa0c74e918003383135bc4ed
ms.sourcegitcommit: af9983bab40fe0b042f177ce7ca79f2eb0f9d0e8
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 02/06/2021
ms.locfileid: "103853228"
---
# <a name="process-isolation"></a><span data-ttu-id="52f8b-103">處理序隔離</span><span class="sxs-lookup"><span data-stu-id="52f8b-103">Process Isolation</span></span>

<span data-ttu-id="52f8b-104">HTTP 伺服器版本 2.0 API 提供的功能，可讓您隔離在要求佇列上處理要求的工作者進程，以建立更安全、更可靠的服務。</span><span class="sxs-lookup"><span data-stu-id="52f8b-104">The HTTP Server version 2.0 API provides the ability to build a safer, more reliable service by isolating worker processes that are servicing requests on the request queue.</span></span> <span data-ttu-id="52f8b-105">要求佇列是由嚴格控制其存取權的控制器或建立者進程所建立和系統管理。</span><span class="sxs-lookup"><span data-stu-id="52f8b-105">The request queue is created and administrated by a controller or creator process that strictly controls access to it.</span></span> <span data-ttu-id="52f8b-106">控制器進程會啟動一個或多個在要求佇列上執行 i/o 的個別工作者進程。</span><span class="sxs-lookup"><span data-stu-id="52f8b-106">The controller process launches one or more separate worker processes that perform I/O on the request queue.</span></span> <span data-ttu-id="52f8b-107">控制器進程會以系統管理許可權執行，並設定要求佇列，而較低許可權的背景工作角色會處理來自要求佇列的存取和服務要求。</span><span class="sxs-lookup"><span data-stu-id="52f8b-107">The controller process runs with administrative privilege and configures the request queue, while the lower privilege worker processes access and service requests from the request queue.</span></span> <span data-ttu-id="52f8b-108">此架構支援以「最低許可權」執行的應用程式原則，並減少可能在背景工作進程中執行的協力廠商程式碼所引進之安全性弱點的可能性。</span><span class="sxs-lookup"><span data-stu-id="52f8b-108">This architecture supports the policy of applications running under "least privilege" and reduces the possibility of security vulnerabilities introduced by third-party code that may be running in worker processes.</span></span>

<span data-ttu-id="52f8b-109">當控制器進程使用名稱和存取控制清單建立要求佇列 (ACL) 時，會授與要求佇列的存取權。</span><span class="sxs-lookup"><span data-stu-id="52f8b-109">Access to the request queue is granted when the controller process creates the request queue with a name and an Access Control List (ACL).</span></span> <span data-ttu-id="52f8b-110">包含在 ACL 中的 Web 應用程式可以依名稱開啟現有的要求佇列。</span><span class="sxs-lookup"><span data-stu-id="52f8b-110">Web applications that are included in the ACL can open an existing request queue by name.</span></span> <span data-ttu-id="52f8b-111">建立者進程也可能是要求佇列上的背景工作進程。</span><span class="sxs-lookup"><span data-stu-id="52f8b-111">The creator process may also be a worker process on the request queue.</span></span> <span data-ttu-id="52f8b-112">如需詳細資訊，請參閱「 [命名要求佇列](named-request-queue.md) 」主題。</span><span class="sxs-lookup"><span data-stu-id="52f8b-112">For more information, see the [Named Request Queue](named-request-queue.md) topic.</span></span> <span data-ttu-id="52f8b-113">下圖顯示使用背景工作進程模型執行的一般 HTTP 應用程式的架構：</span><span class="sxs-lookup"><span data-stu-id="52f8b-113">The following diagram shows the architecture of a typical HTTP application running with the worker process model:</span></span>

![此圖顯示使用背景工作進程模型的 H T T P 應用程式架構。](images/processisolation.png)

<span data-ttu-id="52f8b-115">應用程式內的個別工作者進程會與其他背景工作進程隔離，而且每個背景工作進程的健康情況都可以由控制器進程監視。</span><span class="sxs-lookup"><span data-stu-id="52f8b-115">Individual worker processes within the application are isolated from other worker processes, and the health of each the worker processes can be monitored by the controller process.</span></span> <span data-ttu-id="52f8b-116">控制器進程與背景工作進程隔離。</span><span class="sxs-lookup"><span data-stu-id="52f8b-116">The controller process is isolated from the worker processes.</span></span> <span data-ttu-id="52f8b-117">HTTP 架構的元件如下所述：</span><span class="sxs-lookup"><span data-stu-id="52f8b-117">The components of the HTTP architecture are described below:</span></span>

-   <span data-ttu-id="52f8b-118">建立者或控制器進程：控制器進程可以執行，或不使用系統管理許可權來監視健康情況和設定服務。</span><span class="sxs-lookup"><span data-stu-id="52f8b-118">Creator or controller process: The controller process can run with, or without, administrative privileges to monitor the health and configure the service.</span></span> <span data-ttu-id="52f8b-119">控制器進程通常會建立服務的單一伺服器會話，並定義伺服器會話下的 URL 群組。</span><span class="sxs-lookup"><span data-stu-id="52f8b-119">The controller process typically creates a single server session for the service and defines the URL groups under the server session.</span></span> <span data-ttu-id="52f8b-120">特定 URL 所關聯的 URL 群組，會決定哪一個要求佇列服務特定 URL 所表示的命名空間。</span><span class="sxs-lookup"><span data-stu-id="52f8b-120">The URL group that a particular URL is associated with determines which request queue services the namespace denoted by the particular URL.</span></span> <span data-ttu-id="52f8b-121">控制器進程也會建立要求佇列，並啟動可存取要求佇列的背景工作進程。</span><span class="sxs-lookup"><span data-stu-id="52f8b-121">The controller process also creates the request queue and launches the worker processes that can access the request queue.</span></span>
-   <span data-ttu-id="52f8b-122">背景工作進程：由控制器進程啟動的工作者進程，會在與其服務的 Url 相關聯的要求佇列上執行 IO。</span><span class="sxs-lookup"><span data-stu-id="52f8b-122">Worker Process: The worker processes, launched by the controller process, perform IO on the request queue that is associated with the URLs they service.</span></span> <span data-ttu-id="52f8b-123">建立要求佇列時，web 應用程式會被授與 ACL 中控制器進程的要求佇列存取權。</span><span class="sxs-lookup"><span data-stu-id="52f8b-123">The web application is granted access to the request queue by the controller process in the ACL when the request queue is created.</span></span> <span data-ttu-id="52f8b-124">除非 web 應用程式也是建立者進程，否則它不會管理服務或設定要求佇列。</span><span class="sxs-lookup"><span data-stu-id="52f8b-124">Unless the web application is also the creator process, it does not manage the service or configure the request queue.</span></span> <span data-ttu-id="52f8b-125">控制器進程會將要求佇列的名稱傳達給背景工作進程，而背景工作進程會依名稱開啟要求佇列。</span><span class="sxs-lookup"><span data-stu-id="52f8b-125">The controller process communicates the name of the request queue to the worker process and the worker process opens the request queue by name.</span></span> <span data-ttu-id="52f8b-126">背景工作進程可以載入協力廠商 web 應用程式，而不會在應用程式的其他部分引進安全性弱點。</span><span class="sxs-lookup"><span data-stu-id="52f8b-126">Worker processes can load third party web applications without introducing security vulnerabilities in other parts of the application.</span></span>
-   <span data-ttu-id="52f8b-127">要求佇列：控制器進程會建立和設定要求佇列。</span><span class="sxs-lookup"><span data-stu-id="52f8b-127">Request Queue: The request queue is created and configured by the controller process.</span></span> <span data-ttu-id="52f8b-128">控制器會在建立要求佇列時，指定允許存取 ACL 中要求佇列的進程。</span><span class="sxs-lookup"><span data-stu-id="52f8b-128">The controller specifies the processes that are allowed access to the request queue in the ACL when the request queue is created.</span></span>
-   <span data-ttu-id="52f8b-129">伺服器會話：控制器進程通常會建立並設定應用程式的單一伺服器會話。</span><span class="sxs-lookup"><span data-stu-id="52f8b-129">Server Session: The controller process typically creates and configures a single server session for the application.</span></span> <span data-ttu-id="52f8b-130">伺服器會話會維護整個應用程式的設定屬性。</span><span class="sxs-lookup"><span data-stu-id="52f8b-130">The server session maintains the configuration properties for the entire application.</span></span> <span data-ttu-id="52f8b-131">在控制器進程的伺服器會話下，會建立 URL 群組。</span><span class="sxs-lookup"><span data-stu-id="52f8b-131">URL groups are created under the server session by the controller process.</span></span>
-   <span data-ttu-id="52f8b-132">URL 群組：控制器進程會在伺服器會話下建立 URL 群組，並設定與伺服器會話無關的 URL 群組。</span><span class="sxs-lookup"><span data-stu-id="52f8b-132">URL Group: The controller process creates the URL groups under the server session, and configures the URL group independent of the server session.</span></span> <span data-ttu-id="52f8b-133">控制器進程會將 Url 新增至群組。</span><span class="sxs-lookup"><span data-stu-id="52f8b-133">URLs are added to the group by the controller process.</span></span> <span data-ttu-id="52f8b-134">要求會路由傳送至與 URL 群組相關聯的要求佇列。</span><span class="sxs-lookup"><span data-stu-id="52f8b-134">Requests are routed to the request queue that the URL group is associated with.</span></span>

 

 




