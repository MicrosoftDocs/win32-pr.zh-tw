---
description: 說明如何產生、取出、驗證及匯出 DSS 金鑰和簽章。
ms.assetid: d28fe531-af4b-4b5e-ab67-47ef70f8fa5b
title: DSS 金鑰
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2f6ab8adcc4d551c4196e99ce48f5afdd380dc3a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "106995816"
---
# <a name="dss-keys"></a><span data-ttu-id="61fe2-103">DSS 金鑰</span><span class="sxs-lookup"><span data-stu-id="61fe2-103">DSS Keys</span></span>

-   [<span data-ttu-id="61fe2-104">產生和取出 DSS 金鑰</span><span class="sxs-lookup"><span data-stu-id="61fe2-104">Generating and Retrieving DSS Keys</span></span>](#generating-and-retrieving-dss-keys)
-   [<span data-ttu-id="61fe2-105">產生 DSS 簽章</span><span class="sxs-lookup"><span data-stu-id="61fe2-105">Generating DSS Signatures</span></span>](#generating-dss-signatures)
-   [<span data-ttu-id="61fe2-106">驗證 DSS 簽章</span><span class="sxs-lookup"><span data-stu-id="61fe2-106">Verifying a DSS Signature</span></span>](#verifying-a-dss-signature)
-   [<span data-ttu-id="61fe2-107">匯出 DSS 金鑰</span><span class="sxs-lookup"><span data-stu-id="61fe2-107">Exporting DSS Keys</span></span>](#exporting-dss-keys)

## <a name="generating-and-retrieving-dss-keys"></a><span data-ttu-id="61fe2-108">產生和取出 DSS 金鑰</span><span class="sxs-lookup"><span data-stu-id="61fe2-108">Generating and Retrieving DSS Keys</span></span>

<span data-ttu-id="61fe2-109">DSS 金鑰可以藉由呼叫 [**CryptGenKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgenkey) 函數來產生。</span><span class="sxs-lookup"><span data-stu-id="61fe2-109">DSS Keys can be generated by a call to the [**CryptGenKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgenkey) function.</span></span> <span data-ttu-id="61fe2-110">呼叫 **CryptGenKey** 需要在 \_ \_ \_ *Algid* 引數中傳遞 SIGNATURE 或 CALG DSS SIGN。</span><span class="sxs-lookup"><span data-stu-id="61fe2-110">The call to **CryptGenKey** requires that either AT\_SIGNATURE or CALG\_DSS\_SIGN be passed in the *Algid* argument.</span></span> <span data-ttu-id="61fe2-111">此呼叫將會產生 P (質數模數) 、Q (質數) 、G (產生器) 、X (秘密指數) 和 Y (公開金鑰) 值，並將其保存在本機儲存體的 [*金鑰 BLOB*](../secgloss/k-gly.md) 中。</span><span class="sxs-lookup"><span data-stu-id="61fe2-111">This call will generate the P (prime modulus), Q (prime), G (generator), X (secret exponent), and Y (public key) values from scratch and persist them in a [*key BLOB*](../secgloss/k-gly.md) to local storage.</span></span>

<span data-ttu-id="61fe2-112">**產生 DSS 簽章金鑰組**</span><span class="sxs-lookup"><span data-stu-id="61fe2-112">**To generate a DSS signature key pair**</span></span>

1.  <span data-ttu-id="61fe2-113">呼叫 [**CryptAcquireCoNtext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) 函數，以取得 Microsoft DSS 密碼編譯提供者的控制碼。</span><span class="sxs-lookup"><span data-stu-id="61fe2-113">Call the [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) function to get a handle to the Microsoft DSS Cryptographic Provider.</span></span>
2.  <span data-ttu-id="61fe2-114">呼叫 [**CryptGenKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgenkey) 以產生金鑰。</span><span class="sxs-lookup"><span data-stu-id="61fe2-114">Call [**CryptGenKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgenkey) to generate the keys.</span></span> <span data-ttu-id="61fe2-115">在 \_ 簽章或 CALG \_ DSS \_ SIGN 上必須傳入 *Algid* 引數，且 *dwFlags* 引數的上16位必須設定為所需的金鑰大小。</span><span class="sxs-lookup"><span data-stu-id="61fe2-115">Either AT\_SIGNATURE or CALG\_DSS\_SIGN must be passed in for the *Algid* argument and the upper 16 bits of the *dwFlags* argument must be set to the desired key size.</span></span> <span data-ttu-id="61fe2-116">如果上層16位為零，則會使用預設的金鑰大小1024位。</span><span class="sxs-lookup"><span data-stu-id="61fe2-116">If the upper 16 bits are zero, then the default key size of 1,024 bits will be used.</span></span> <span data-ttu-id="61fe2-117">[**HCRYPTKEY**](hcryptkey.md)控制碼會在 *hKey* 引數中傳回。</span><span class="sxs-lookup"><span data-stu-id="61fe2-117">A [**HCRYPTKEY**](hcryptkey.md) handle is returned in the *hKey* argument.</span></span>

<span data-ttu-id="61fe2-118">**取出先前產生之簽章金鑰的指標**</span><span class="sxs-lookup"><span data-stu-id="61fe2-118">**To retrieve a pointer to previously generated signature keys**</span></span>

1.  <span data-ttu-id="61fe2-119">呼叫 [**CryptAcquireCoNtext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) 以取得 Microsoft DSS 密碼編譯提供者的控制碼。</span><span class="sxs-lookup"><span data-stu-id="61fe2-119">Call [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) to get a handle to the Microsoft DSS Cryptographic Provider.</span></span>
2.  <span data-ttu-id="61fe2-120">呼叫 [**CryptGetUserKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgetuserkey) 函數，並將 *dwKeySpec* 引數設定為 \_ SIGNATURE 或 CALG \_ DSS \_ SIGN。</span><span class="sxs-lookup"><span data-stu-id="61fe2-120">Call the [**CryptGetUserKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgetuserkey) function with the *dwKeySpec* argument set to either AT\_SIGNATURE or CALG\_DSS\_SIGN.</span></span>

<span data-ttu-id="61fe2-121">**取出 P、Q 和 G 值**</span><span class="sxs-lookup"><span data-stu-id="61fe2-121">**To retrieve the P, Q, and G values**</span></span>

1.  <span data-ttu-id="61fe2-122">呼叫 [**CryptAcquireCoNtext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) 以取得 Microsoft DSS 密碼編譯提供者的控制碼。</span><span class="sxs-lookup"><span data-stu-id="61fe2-122">Call [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) to get a handle to the Microsoft DSS Cryptographic Provider.</span></span>
2.  <span data-ttu-id="61fe2-123">呼叫 [**CryptGetUserKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgetuserkey) ，並將 *dwKeySpec* 引數設定為 \_ SIGNATURE 或 CALG \_ DSS \_ SIGN。</span><span class="sxs-lookup"><span data-stu-id="61fe2-123">Call [**CryptGetUserKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgetuserkey) with the *dwKeySpec* argument set to either AT\_SIGNATURE or CALG\_DSS\_SIGN.</span></span>
3.  <span data-ttu-id="61fe2-124">使用 *hKey* 引數設定為上一個步驟中所抓取指標的呼叫 [**CryptGetKeyParam**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgetkeyparam) 。</span><span class="sxs-lookup"><span data-stu-id="61fe2-124">Call [**CryptGetKeyParam**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgetkeyparam) with the *hKey* argument set to the pointer retrieved in the previous step.</span></span> <span data-ttu-id="61fe2-125">*DwParam* 引數必須設定為所需的旗標;KP \_ P、kp \_ Q 或 KP \_ G。</span><span class="sxs-lookup"><span data-stu-id="61fe2-125">The *dwParam* argument must be set to the desired flag; KP\_P, KP\_Q, or KP\_G.</span></span> <span data-ttu-id="61fe2-126">此值會在 *>pbdata* 引數中傳回，而且資料的長度會在 *pdwDataLen* 引數中傳回。</span><span class="sxs-lookup"><span data-stu-id="61fe2-126">The value is returned in the *pbData* argument, and the length of the data is returned in the *pdwDataLen* argument.</span></span> <span data-ttu-id="61fe2-127">傳回的值不含標頭資訊，而是以 [*位元組*](../secgloss/l-gly.md) 由小到大的格式傳回。</span><span class="sxs-lookup"><span data-stu-id="61fe2-127">The value is returned with no header information and in [*little-endian*](../secgloss/l-gly.md) format.</span></span>

## <a name="generating-dss-signatures"></a><span data-ttu-id="61fe2-128">產生 DSS 簽章</span><span class="sxs-lookup"><span data-stu-id="61fe2-128">Generating DSS Signatures</span></span>

<span data-ttu-id="61fe2-129">要簽署的資料必須先使用 [*SHA*](../secgloss/s-gly.md)演算法進行 [*雜湊*](../secgloss/h-gly.md)處理。</span><span class="sxs-lookup"><span data-stu-id="61fe2-129">Data to be signed must first be [*hashed*](../secgloss/h-gly.md) by using the [*SHA*](../secgloss/s-gly.md) algorithm.</span></span> <span data-ttu-id="61fe2-130">雜湊該資料之後，會呼叫 [**CryptSignHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptsignhasha)函數來產生 [*DSS*](../secgloss/d-gly.md)簽章。</span><span class="sxs-lookup"><span data-stu-id="61fe2-130">After that data is hashed, a [*DSS*](../secgloss/d-gly.md) signature is generated by calling the [**CryptSignHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptsignhasha) function.</span></span>

<span data-ttu-id="61fe2-131">**產生 DSS 簽章**</span><span class="sxs-lookup"><span data-stu-id="61fe2-131">**To generate a DSS signature**</span></span>

1.  <span data-ttu-id="61fe2-132">呼叫 [**CryptAcquireCoNtext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) 以取得 Microsoft DSS 密碼編譯提供者的控制碼。</span><span class="sxs-lookup"><span data-stu-id="61fe2-132">Call [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) to get a handle to the Microsoft DSS Cryptographic Provider.</span></span>
2.  <span data-ttu-id="61fe2-133">呼叫 [**CryptCreateHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptcreatehash) ，並將 *Algid* 引數設定為 CALG \_ sha，以取得 SHA 雜湊物件的控制碼。</span><span class="sxs-lookup"><span data-stu-id="61fe2-133">Call [**CryptCreateHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptcreatehash) with the *Algid* argument set to CALG\_SHA to get a handle to a SHA hash object.</span></span>
3.  <span data-ttu-id="61fe2-134">呼叫 [**CryptHashData**](/windows/desktop/api/Wincrypt/nf-wincrypt-crypthashdata) ，並將 *hHash* 引數設定為上一個步驟中抓取的控制碼。</span><span class="sxs-lookup"><span data-stu-id="61fe2-134">Call [**CryptHashData**](/windows/desktop/api/Wincrypt/nf-wincrypt-crypthashdata) with the *hHash* argument set to the handle retrieved in the previous step.</span></span> <span data-ttu-id="61fe2-135">這會建立資料的雜湊，並將控制碼傳回給 [**CryptCreateHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptcreatehash)函式呼叫的 *phHash* 引數中的雜湊。</span><span class="sxs-lookup"><span data-stu-id="61fe2-135">This creates a hash of the data and returns a handle to the hash in the *phHash* argument of the [**CryptCreateHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptcreatehash) function call.</span></span>
4.  <span data-ttu-id="61fe2-136">呼叫 [**CryptSignHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptsignhasha) ，並將 *hHash* 引數設定為上一個步驟中抓取的控制碼。</span><span class="sxs-lookup"><span data-stu-id="61fe2-136">Call [**CryptSignHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptsignhasha) with the *hHash* argument set to the handle retrieved in the previous step.</span></span> <span data-ttu-id="61fe2-137">可以在 \_ \_ \_ *dwKeySpec* 參數中傳遞 SIGNATURE 或 CALG DSS SIGN。</span><span class="sxs-lookup"><span data-stu-id="61fe2-137">Either AT\_SIGNATURE or CALG\_DSS\_SIGN may be passed in the *dwKeySpec* parameter.</span></span> <span data-ttu-id="61fe2-138">簽章會傳回給 *pbSignature* 引數中提供的位址，而且簽章的長度會傳回給 *pdwSigLen* 引數中提供的位址。</span><span class="sxs-lookup"><span data-stu-id="61fe2-138">The signature is returned to the address provided in the *pbSignature* argument, and the length of the signature is returned to the address provided in the *pdwSigLen* argument.</span></span> <span data-ttu-id="61fe2-139">**Null** 指標可能會在 *pbSignature* 引數中傳遞，而在此情況下，不會產生簽章，但簽章的長度會傳回給 *pdwSigLen* 參數中提供的位址。</span><span class="sxs-lookup"><span data-stu-id="61fe2-139">A **NULL** pointer may be passed in the *pbSignature* argument, and, in this case, the signature is not generated, but the length of the signature is returned to the address provided in the *pdwSigLen* parameter.</span></span>

## <a name="verifying-a-dss-signature"></a><span data-ttu-id="61fe2-140">驗證 DSS 簽章</span><span class="sxs-lookup"><span data-stu-id="61fe2-140">Verifying a DSS Signature</span></span>

<span data-ttu-id="61fe2-141">若要驗證 DSS 簽章，必須匯入簽署者的 DSS 公開金鑰、簽署的 [*資料*](../secgloss/s-gly.md) 必須經過雜湊處理，然後才能驗證簽章。</span><span class="sxs-lookup"><span data-stu-id="61fe2-141">To verify a DSS signature, the DSS public key of the signer must be imported, the [*signed data*](../secgloss/s-gly.md) must be hashed, and then the signature can be verified.</span></span>

<span data-ttu-id="61fe2-142">**驗證 DSS 簽章**</span><span class="sxs-lookup"><span data-stu-id="61fe2-142">**To verify a DSS signature**</span></span>

1.  <span data-ttu-id="61fe2-143">呼叫 [**CryptAcquireCoNtext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) 以取得 Microsoft DSS 密碼編譯提供者的控制碼。</span><span class="sxs-lookup"><span data-stu-id="61fe2-143">Call [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) to get a handle to the Microsoft DSS Cryptographic Provider.</span></span>
2.  <span data-ttu-id="61fe2-144">呼叫 [**CryptImportKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptimportkey) 以匯入簽署者的 DSS 公開金鑰。</span><span class="sxs-lookup"><span data-stu-id="61fe2-144">Call [**CryptImportKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptimportkey) to import the signer's DSS public key.</span></span>
3.  <span data-ttu-id="61fe2-145">呼叫 [**CryptCreateHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptcreatehash) ，並將 *Algid* 引數設定為 CALG \_ sha，以取得 SHA 雜湊物件的控制碼。</span><span class="sxs-lookup"><span data-stu-id="61fe2-145">Call [**CryptCreateHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptcreatehash) with the *Algid* argument set to CALG\_SHA to get a handle to a SHA hash object.</span></span>
4.  <span data-ttu-id="61fe2-146">呼叫 [**CryptHashData**](/windows/desktop/api/Wincrypt/nf-wincrypt-crypthashdata) ，並將 *hHash* 引數設定為上一個步驟中抓取的控制碼，並將 *>pbdata* 指向已簽署的資料。</span><span class="sxs-lookup"><span data-stu-id="61fe2-146">Call [**CryptHashData**](/windows/desktop/api/Wincrypt/nf-wincrypt-crypthashdata) with the *hHash* argument set to the handle retrieved in the previous step and with *pbData* pointing to the signed data.</span></span> <span data-ttu-id="61fe2-147">這會建立資料的雜湊，並將控制碼傳回給 [**CryptCreateHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptcreatehash)函式呼叫的 *phHash* 引數中的雜湊。</span><span class="sxs-lookup"><span data-stu-id="61fe2-147">This creates a hash of the data and returns a handle to the hash in the *phHash* argument of the [**CryptCreateHash**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptcreatehash) function call.</span></span>
5.  <span data-ttu-id="61fe2-148">使用下列設定呼叫 [**CryptVerifySignature**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptverifysignaturea) ：</span><span class="sxs-lookup"><span data-stu-id="61fe2-148">Call [**CryptVerifySignature**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptverifysignaturea) with the following settings:</span></span>

    <span data-ttu-id="61fe2-149">*hHash* 會設定為上一個步驟中所執行雜湊的控制碼。</span><span class="sxs-lookup"><span data-stu-id="61fe2-149">*hHash* is set to the handle to the hash performed in the previous step.</span></span>

    <span data-ttu-id="61fe2-150">*pbSignature* 指向要驗證的簽章。</span><span class="sxs-lookup"><span data-stu-id="61fe2-150">*pbSignature* points to the signature to be verified.</span></span>

    <span data-ttu-id="61fe2-151">*dwSigLen* 會設定為簽章的長度。</span><span class="sxs-lookup"><span data-stu-id="61fe2-151">*dwSigLen* is set to the length of the signature.</span></span>

    <span data-ttu-id="61fe2-152">*hPubKey* 會設為步驟2中匯入之公開金鑰的控制碼。</span><span class="sxs-lookup"><span data-stu-id="61fe2-152">*hPubKey* is set to the handle of the public key imported in step 2.</span></span>

    <span data-ttu-id="61fe2-153">*dwFlags* 設定為零。</span><span class="sxs-lookup"><span data-stu-id="61fe2-153">*dwFlags* is set to zero.</span></span>

## <a name="exporting-dss-keys"></a><span data-ttu-id="61fe2-154">匯出 DSS 金鑰</span><span class="sxs-lookup"><span data-stu-id="61fe2-154">Exporting DSS Keys</span></span>

<span data-ttu-id="61fe2-155">當您將 [*簽署的資料*](../secgloss/s-gly.md) 傳送給必須由收件者驗證簽章的人員時，必須提供簽署者的公開金鑰給收件者，且通常會與簽署的資料一起傳送。</span><span class="sxs-lookup"><span data-stu-id="61fe2-155">When you send [*signed data*](../secgloss/s-gly.md) to someone where the signature will need to be verified by the recipient, the signer's public key must be provided to the recipient and is usually sent along with the signed data.</span></span> <span data-ttu-id="61fe2-156">因此，必須能夠以 [*金鑰 BLOB*](../secgloss/k-gly.md)格式匯出 [*DSS*](../secgloss/d-gly.md)金鑰。</span><span class="sxs-lookup"><span data-stu-id="61fe2-156">Therefore, it is necessary to be able to export the [*DSS*](../secgloss/d-gly.md) keys in a [*key BLOB*](../secgloss/k-gly.md) format.</span></span>

<span data-ttu-id="61fe2-157">**匯出 DSS 公開金鑰**</span><span class="sxs-lookup"><span data-stu-id="61fe2-157">**To export the DSS public key**</span></span>

1.  <span data-ttu-id="61fe2-158">呼叫 [**CryptAcquireCoNtext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) 以取得 Microsoft DSS 密碼編譯提供者的控制碼。</span><span class="sxs-lookup"><span data-stu-id="61fe2-158">Call [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) to get a handle to the Microsoft DSS Cryptographic Provider.</span></span>
2.  <span data-ttu-id="61fe2-159">呼叫 [**CryptGetUserKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgetuserkey) ，並將 *dwKeySpec* 引數設定為 \_ SIGNATURE 或 CALG \_ DSS \_ SIGN。</span><span class="sxs-lookup"><span data-stu-id="61fe2-159">Call [**CryptGetUserKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptgetuserkey) with the *dwKeySpec* argument set to either AT\_SIGNATURE or CALG\_DSS\_SIGN.</span></span>
3.  <span data-ttu-id="61fe2-160">呼叫 [**CryptExportKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptexportkey) ，並將 *hKey* 設定為上一個步驟中抓取的控制碼、 *DwBlobType* 設定為 PUBLICKEYBLOB， *dwFlags* 設定為零。</span><span class="sxs-lookup"><span data-stu-id="61fe2-160">Call [**CryptExportKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptexportkey) with *hKey* set to the handle retrieved in the previous step, *dwBlobType* set to PUBLICKEYBLOB, and *dwFlags* set to zero.</span></span> <span data-ttu-id="61fe2-161">DSS [*公開金鑰 blob*](../secgloss/p-gly.md) 會在 *>pbdata* 中傳回，而 [*金鑰 Blob*](../secgloss/k-gly.md) 的長度會在 *pdwDataLen* 中傳回。</span><span class="sxs-lookup"><span data-stu-id="61fe2-161">The DSS [*public key BLOB*](../secgloss/p-gly.md) is returned in *pbData*, and the length of the [*key BLOB*](../secgloss/k-gly.md) is returned in *pdwDataLen*.</span></span> <span data-ttu-id="61fe2-162">**Null** 指標可能會在 *>pbdata* 中傳遞，而在此情況下，只會傳回 DSS 金鑰 BLOB 的長度。</span><span class="sxs-lookup"><span data-stu-id="61fe2-162">A **NULL** pointer may be passed in *pbData*, and, in this case, just the length of the DSS key BLOB will be returned.</span></span> <span data-ttu-id="61fe2-163">對 **CryptExportKey** 進行呼叫時所傳回的 BLOB 會採用 [DSS 提供者金鑰 blob](dss-provider-key-blobs.md)中所述的格式。</span><span class="sxs-lookup"><span data-stu-id="61fe2-163">The BLOB returned when making the call to **CryptExportKey** is in the format described in [DSS Provider Key BLOBs](dss-provider-key-blobs.md).</span></span>

<span data-ttu-id="61fe2-164">**匯出 DSS 私密金鑰**</span><span class="sxs-lookup"><span data-stu-id="61fe2-164">**To export the DSS private key**</span></span>

-   <span data-ttu-id="61fe2-165">遵循與匯出 DSS 公開金鑰相同的程式，但在對 [**CryptExportKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptexportkey)進行呼叫時， *dwBlobType* 會設定為 PRI加值稅EKEYBLOB。</span><span class="sxs-lookup"><span data-stu-id="61fe2-165">Follow the same procedure as for exporting a DSS public key, except that when making the call to [**CryptExportKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptexportkey), *dwBlobType* is set to PRIVATEKEYBLOB.</span></span> <span data-ttu-id="61fe2-166">對 **CryptExportKey** 進行呼叫時所傳回的 BLOB 會採用 [DSS 提供者金鑰 blob](dss-provider-key-blobs.md)中所述的格式。</span><span class="sxs-lookup"><span data-stu-id="61fe2-166">The BLOB returned when making the call to **CryptExportKey** is in the format described in [DSS Provider Key BLOBs](dss-provider-key-blobs.md).</span></span>

 

 
