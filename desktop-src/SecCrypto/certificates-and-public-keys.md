---
description: 憑證服務是公開金鑰基礎結構的一個基礎， (PKI) ，其提供保護和驗證資訊的方法。
ms.assetid: c18f46ca-e805-4b33-8014-79dc34c18531
title: 憑證和公開金鑰
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 07e01993673fe16c8401368ffaa7e8815c450dd5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "103848401"
---
# <a name="certificates-and-public-keys"></a><span data-ttu-id="59625-103">憑證和公開金鑰</span><span class="sxs-lookup"><span data-stu-id="59625-103">Certificates and Public Keys</span></span>

<span data-ttu-id="59625-104">憑證服務是公開金鑰基礎結構的一個基礎， (PKI) ，其提供保護和驗證資訊的方法。</span><span class="sxs-lookup"><span data-stu-id="59625-104">Certificate Services is one foundation for the Public Key Infrastructure (PKI) that provides the means for safeguarding and authenticating information.</span></span> <span data-ttu-id="59625-105">憑證持有者、憑證持有者的身分識別，以及憑證持有者的 [*公開金鑰*](../secgloss/p-gly.md) 之間的關聯性，是 PKI 的重要部分。</span><span class="sxs-lookup"><span data-stu-id="59625-105">The relationship between a certificate holder, the certificate holder's identity, and the certificate holder's [*public key*](../secgloss/p-gly.md) is a critical portion of PKI.</span></span> <span data-ttu-id="59625-106">此基礎結構是由下列元件所組成：</span><span class="sxs-lookup"><span data-stu-id="59625-106">This infrastructure is made up of the following parts:</span></span>

-   [<span data-ttu-id="59625-107">公開/私密金鑰組</span><span class="sxs-lookup"><span data-stu-id="59625-107">The Public/Private Key Pair</span></span>](#the-publicprivate-key-pair)
-   [<span data-ttu-id="59625-108">憑證要求</span><span class="sxs-lookup"><span data-stu-id="59625-108">The Certificate Request</span></span>](#the-certificate-request)
-   [<span data-ttu-id="59625-109">憑證授權單位單位</span><span class="sxs-lookup"><span data-stu-id="59625-109">The Certification Authority</span></span>](#the-certification-authority)
-   [<span data-ttu-id="59625-110">憑證</span><span class="sxs-lookup"><span data-stu-id="59625-110">The Certificate</span></span>](#the-certificate-request)
-   [<span data-ttu-id="59625-111">憑證撤銷清單</span><span class="sxs-lookup"><span data-stu-id="59625-111">The Certificate Revocation List</span></span>](#the-certificate-revocation-list)
-   [<span data-ttu-id="59625-112">用於加密的公開金鑰</span><span class="sxs-lookup"><span data-stu-id="59625-112">Your Public Key Used for Encryption</span></span>](#your-public-key-used-for-encryption)
-   [<span data-ttu-id="59625-113">用於簽章驗證的公開金鑰</span><span class="sxs-lookup"><span data-stu-id="59625-113">Your Public Key Used for Signature Verification</span></span>](#your-public-key-used-for-signature-verification)
-   [<span data-ttu-id="59625-114">Microsoft 憑證服務角色</span><span class="sxs-lookup"><span data-stu-id="59625-114">Microsoft Certificate Services Role</span></span>](#microsoft-certificate-services-role)

## <a name="the-publicprivate-key-pair"></a><span data-ttu-id="59625-115">公開/私密金鑰組</span><span class="sxs-lookup"><span data-stu-id="59625-115">The Public/Private Key Pair</span></span>

<span data-ttu-id="59625-116">PKI 需要使用 [*公開/私密金鑰*](../secgloss/p-gly.md)組。</span><span class="sxs-lookup"><span data-stu-id="59625-116">PKI requires the use of [*public/private key pairs*](../secgloss/p-gly.md).</span></span> <span data-ttu-id="59625-117">公開/私密金鑰組的數學已超出本檔的範圍，但請務必記下公開和私密金鑰之間的功能關聯性。</span><span class="sxs-lookup"><span data-stu-id="59625-117">The mathematics of public/private key pairs is beyond the scope of this documentation, but it is important to note the functional relationship between a public and a private key.</span></span> <span data-ttu-id="59625-118">PKI [*密碼編譯演算法*](../secgloss/c-gly.md) 會使用加密訊息接收者的 [*公開金鑰*](../secgloss/p-gly.md) 來加密資料，並使用相關 [*私密金鑰*](../secgloss/p-gly.md) 和唯一的私密金鑰來解密加密的訊息。</span><span class="sxs-lookup"><span data-stu-id="59625-118">PKI [*cryptographic algorithms*](../secgloss/c-gly.md) use the [*public key*](../secgloss/p-gly.md) of the receiver of an encrypted message to encrypt data, and the related [*private key*](../secgloss/p-gly.md) and only the related private key to decrypt the encrypted message.</span></span>

<span data-ttu-id="59625-119">同樣地，內容的 [*數位簽章*](../secgloss/d-gly.md) （如下所述）會以簽署者的私密金鑰建立。</span><span class="sxs-lookup"><span data-stu-id="59625-119">Similarly, a [*digital signature*](../secgloss/d-gly.md) of the content, described in greater detail below, is created with the signer's private key.</span></span> <span data-ttu-id="59625-120">每個人都可以使用對應的公開金鑰來驗證此簽章。</span><span class="sxs-lookup"><span data-stu-id="59625-120">The corresponding public key, which is available to everyone, is used to verify this signature.</span></span> <span data-ttu-id="59625-121">私密金鑰的秘密必須保持不變，因為在私密金鑰遭到入侵後，架構會分開。</span><span class="sxs-lookup"><span data-stu-id="59625-121">The secrecy of the private key must be maintained because the framework falls apart after the private key is compromised.</span></span>

<span data-ttu-id="59625-122">假設有足夠的時間和資源，公開/私密金鑰組可能會遭到入侵，也就是可以探索私密金鑰。</span><span class="sxs-lookup"><span data-stu-id="59625-122">Given enough time and resources, a public/private key pair can be compromised, that is, the private key can be discovered.</span></span> <span data-ttu-id="59625-123">金鑰越長，使用暴力密碼破解來探索私密金鑰越困難。</span><span class="sxs-lookup"><span data-stu-id="59625-123">The longer the key, the more difficult it is to use brute force to discover the private key.</span></span> <span data-ttu-id="59625-124">在實務上，您可以使用足夠的安全金鑰來不可行，以及時判斷私密金鑰，讓公開金鑰基礎結構成為可行的安全性機制。</span><span class="sxs-lookup"><span data-stu-id="59625-124">In practice, sufficiently strong keys can be used to make it unfeasible to determine the private key in a timely manner, making the Public Key Infrastructure a viable security mechanism.</span></span>

<span data-ttu-id="59625-125">私密金鑰可以在磁片上以受保護的格式儲存，在這種情況下，只有在實際移至另一部電腦時，才能與該特定電腦搭配使用。</span><span class="sxs-lookup"><span data-stu-id="59625-125">A private key can be stored, in protected format, on a disk, in which case it can only be used with that specific computer unless it is physically moved to another computer.</span></span> <span data-ttu-id="59625-126">另一種方式是在智慧卡上使用一個金鑰，該金鑰可用於不同的電腦，但前提是它有智慧卡讀卡機和支援軟體。</span><span class="sxs-lookup"><span data-stu-id="59625-126">An alternative is to have a key on a smart card that can be used on a different computer provided it has a smart card reader and supporting software.</span></span>

<span data-ttu-id="59625-127">數位憑證之主旨的公開金鑰（而非私密金鑰）會包含在 [*憑證要求*](../secgloss/c-gly.md)中。</span><span class="sxs-lookup"><span data-stu-id="59625-127">The public key, but not the private key, of the subject of a digital certificate is included as part of the [*certificate request*](../secgloss/c-gly.md).</span></span> <span data-ttu-id="59625-128"> (因此，必須先有公開/私密金鑰組存在，才能提出憑證要求。 ) 該公開金鑰會成為已發行之憑證的一部分。</span><span class="sxs-lookup"><span data-stu-id="59625-128">(Hence, a public/private key pair must exist before making the certificate request.) That public key becomes part of the issued certificate.</span></span>

## <a name="the-certificate-request"></a><span data-ttu-id="59625-129">憑證要求</span><span class="sxs-lookup"><span data-stu-id="59625-129">The Certificate Request</span></span>

<span data-ttu-id="59625-130">憑證發出之前，必須先產生 [*憑證要求*](../secgloss/c-gly.md) 。</span><span class="sxs-lookup"><span data-stu-id="59625-130">Before a certificate is issued, a [*certificate request*](../secgloss/c-gly.md) must be generated.</span></span> <span data-ttu-id="59625-131">此要求適用于一個實體，例如使用者、電腦或應用程式。</span><span class="sxs-lookup"><span data-stu-id="59625-131">This request applies to one entity, for example, an end-user, a computer, or an application.</span></span> <span data-ttu-id="59625-132">針對討論，假設實體是您自己的。</span><span class="sxs-lookup"><span data-stu-id="59625-132">For discussion, assume that the entity is yourself.</span></span> <span data-ttu-id="59625-133">憑證要求中包含您身分識別的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="59625-133">Details of your identity are included in the certificate request.</span></span> <span data-ttu-id="59625-134">要求產生之後，就會提交給 [*憑證授權單位*](../secgloss/c-gly.md) 單位 (CA) 。</span><span class="sxs-lookup"><span data-stu-id="59625-134">After the request is generated, it is submitted to a [*certification authority*](../secgloss/c-gly.md) (CA).</span></span> <span data-ttu-id="59625-135">CA 接著會使用您的身分識別資訊，來判斷要求是否符合 CA 發出憑證的準則。</span><span class="sxs-lookup"><span data-stu-id="59625-135">The CA then uses your identity information to determine whether the request meets the CA's criteria for issuing a certificate.</span></span> <span data-ttu-id="59625-136">如果 CA 核准要求，則會將憑證發行給您，作為要求中所指定的實體。</span><span class="sxs-lookup"><span data-stu-id="59625-136">If the CA approves the request, it issues a certificate to you, as the entity named in the request.</span></span>

## <a name="the-certification-authority"></a><span data-ttu-id="59625-137">憑證授權單位單位</span><span class="sxs-lookup"><span data-stu-id="59625-137">The Certification Authority</span></span>

<span data-ttu-id="59625-138">發出憑證之前，CA 會驗證您的身分識別。</span><span class="sxs-lookup"><span data-stu-id="59625-138">Before issuing your certificate, the CA verifies your identity.</span></span> <span data-ttu-id="59625-139">發出憑證時，您的身分識別會系結至憑證，其中包含您的公開金鑰。</span><span class="sxs-lookup"><span data-stu-id="59625-139">When the certificate is issued, your identity is bound to the certificate, which contains your public key.</span></span> <span data-ttu-id="59625-140">您的憑證也包含 CA 的數位簽章 (可由接收您的憑證) 的任何人進行驗證。</span><span class="sxs-lookup"><span data-stu-id="59625-140">Your certificate also contains the CA's digital signature (which can be verified by anyone who receives your certificate).</span></span>

<span data-ttu-id="59625-141">因為您的憑證包含發行 CA 的身分識別，所以信任此 CA 的有興趣的合作物件可以將該信任擴充到您的憑證。</span><span class="sxs-lookup"><span data-stu-id="59625-141">Because your certificate contains the identity of the issuing CA, an interested party that trusts this CA can extend that trust to your certificate.</span></span> <span data-ttu-id="59625-142">憑證的發行不會建立信任，但會傳輸信任。</span><span class="sxs-lookup"><span data-stu-id="59625-142">The issuance of a certificate does not establish trust, but transfers trust.</span></span> <span data-ttu-id="59625-143">如果憑證取用者不信任發行 CA，則不會 (或至少不應) 信任您的憑證。</span><span class="sxs-lookup"><span data-stu-id="59625-143">If the certificate consumer does not trust the issuing CA, it will not (or at least should not) trust your certificate.</span></span>

<span data-ttu-id="59625-144">經過簽署的憑證鏈也可讓信任轉移至其他 Ca。</span><span class="sxs-lookup"><span data-stu-id="59625-144">A chain of signed certificates allows trust to be transferred to other CAs as well.</span></span> <span data-ttu-id="59625-145">這可讓使用不同 Ca 的合作物件仍能信任憑證 (前提是鏈中有共同的 CA，也就是雙方) 信任的 CA。</span><span class="sxs-lookup"><span data-stu-id="59625-145">This allows parties who use different CAs to still be able to trust certificates (provided there is a common CA in the chain, that is, a CA that is trusted by both parties).</span></span>

## <a name="the-certificate"></a><span data-ttu-id="59625-146">憑證</span><span class="sxs-lookup"><span data-stu-id="59625-146">The Certificate</span></span>

<span data-ttu-id="59625-147">除了您的公開金鑰和發行 CA 的身分識別之外，已發行的憑證也會包含金鑰和憑證用途的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="59625-147">In addition to your public key and the identity of the issuing CA, the issued certificate contains information about the purposes of your key and certificate.</span></span> <span data-ttu-id="59625-148">此外，它還包含 CA 的已撤銷憑證清單的路徑，並指定 (開始與結束日期) 的憑證有效期間。</span><span class="sxs-lookup"><span data-stu-id="59625-148">Furthermore, it includes the path to the CA's list of revoked certificates, and it specifies the certificate validity period (beginning and ending dates).</span></span>

<span data-ttu-id="59625-149">假設憑證取用者信任憑證的發行 CA，憑證取用者必須藉由比較憑證的開始和結束日期與目前時間，以及檢查您的憑證是否在 CA 的已撤銷憑證清單中，來判斷憑證是否仍然有效。</span><span class="sxs-lookup"><span data-stu-id="59625-149">Assuming the certificate consumer trusts the issuing CA for your certificate, the certificate consumer must determine whether the certificate is still valid by comparing the certificate's beginning and ending dates with the current time and by checking that your certificate in not on the CA's list of revoked certificates.</span></span>

## <a name="the-certificate-revocation-list"></a><span data-ttu-id="59625-150">憑證撤銷清單</span><span class="sxs-lookup"><span data-stu-id="59625-150">The Certificate Revocation List</span></span>

<span data-ttu-id="59625-151">假設憑證是在有效的時間週期內使用，且憑證取用者信任發行 CA，則在使用憑證之前，憑證取用者還有另一個要檢查的專案： [*憑證撤銷清單*](../secgloss/c-gly.md) (CRL) 。</span><span class="sxs-lookup"><span data-stu-id="59625-151">Assuming the certificate is being used in a valid time period and the certificate consumer trusts the issuing CA, there is one more item for the certificate consumer to check before using the certificate: the [*certificate revocation list*](../secgloss/c-gly.md) (CRL).</span></span> <span data-ttu-id="59625-152">憑證取用者會檢查 CA 的 CRL (在您的憑證中包含為延伸模組的路徑) ，以確保您的憑證不在已撤銷的憑證清單中。</span><span class="sxs-lookup"><span data-stu-id="59625-152">The certificate consumer checks the CA's CRL (the path to which is included as an extension in your certificate) to ensure your certificate is not on the list of certificates that have been revoked.</span></span> <span data-ttu-id="59625-153">有 Crl 存在是因為有時憑證尚未過期，但無法再受信任。</span><span class="sxs-lookup"><span data-stu-id="59625-153">CRLs exist because there are times when a certificate has not expired, but it can no longer be trusted.</span></span> <span data-ttu-id="59625-154">CA 會定期發佈更新後的 CRL。</span><span class="sxs-lookup"><span data-stu-id="59625-154">Periodically, the CA will publish an updated CRL.</span></span> <span data-ttu-id="59625-155">憑證取用者必須先負責比較憑證與目前的 CRL，再考慮憑證是否值得信任。</span><span class="sxs-lookup"><span data-stu-id="59625-155">Certificate consumers are responsible for comparing certificates to the current CRL before considering the certificate trustworthy.</span></span>

## <a name="your-public-key-used-for-encryption"></a><span data-ttu-id="59625-156">用於加密的公開金鑰</span><span class="sxs-lookup"><span data-stu-id="59625-156">Your Public Key Used for Encryption</span></span>

<span data-ttu-id="59625-157">如果傳送者想要在傳送訊息給您之前加密訊息，傳送者會先抓取您的憑證。</span><span class="sxs-lookup"><span data-stu-id="59625-157">If a sender wants to encrypt a message before sending it to you, the sender first retrieves your certificate.</span></span> <span data-ttu-id="59625-158">當寄件者判斷 CA 是受信任的，且您的憑證有效且未撤銷時，寄件者會使用您的公開金鑰 (回想它是憑證) 的一部分，而密碼編譯演算法會將 [*純文字*](../secgloss/p-gly.md) 訊息 [*加密為加密*](../secgloss/c-gly.md)文字。</span><span class="sxs-lookup"><span data-stu-id="59625-158">After the sender determines that the CA is trusted and your certificate is valid and not revoked, the sender uses your public key (recall it is part of the certificate) with cryptographic algorithms to encrypt the [*plaintext*](../secgloss/p-gly.md) message into [*ciphertext*](../secgloss/c-gly.md).</span></span> <span data-ttu-id="59625-159">當您收到加密文字時，您會使用私密金鑰來解密加密文字。</span><span class="sxs-lookup"><span data-stu-id="59625-159">When you receive the ciphertext, you use your private key to decrypt the ciphertext.</span></span>

<span data-ttu-id="59625-160">如果協力廠商攔截加密文字電子郵件訊息，則協力廠商將無法進行解密，而不需要存取您的 [*私密金鑰*](../secgloss/p-gly.md)。</span><span class="sxs-lookup"><span data-stu-id="59625-160">If a third party intercepts the ciphertext email message, the third party will not be able to decrypt it without access to your [*private key*](../secgloss/p-gly.md).</span></span>

<span data-ttu-id="59625-161">請注意，此處所列的大部分活動都是由軟體處理，而不是由使用者直接處理。</span><span class="sxs-lookup"><span data-stu-id="59625-161">Note that the bulk of the activities listed here are handled by software, not directly by the user.</span></span>

## <a name="your-public-key-used-for-signature-verification"></a><span data-ttu-id="59625-162">用於簽章驗證的公開金鑰</span><span class="sxs-lookup"><span data-stu-id="59625-162">Your Public Key Used for Signature Verification</span></span>

<span data-ttu-id="59625-163">[*數位簽章*](../secgloss/d-gly.md)是用來確認訊息尚未改變，並確認訊息寄件者的身分識別。</span><span class="sxs-lookup"><span data-stu-id="59625-163">A [*digital signature*](../secgloss/d-gly.md) is used as confirmation that a message has not been altered and as confirmation of the message sender's identity.</span></span> <span data-ttu-id="59625-164">這項數位簽章取決於您的私密金鑰和訊息內容。</span><span class="sxs-lookup"><span data-stu-id="59625-164">This digital signature is dependent on your private key and the message contents.</span></span> <span data-ttu-id="59625-165">使用訊息做為輸入和您的私密金鑰時，密碼編譯演算法會建立數位簽章。</span><span class="sxs-lookup"><span data-stu-id="59625-165">Using the message as input and your private key, cryptographic algorithms create the digital signature.</span></span> <span data-ttu-id="59625-166">簽署程式不會變更訊息的內容。</span><span class="sxs-lookup"><span data-stu-id="59625-166">The contents of the message are not changed by the signing process.</span></span> <span data-ttu-id="59625-167">收件者可以使用您的公開金鑰 (檢查憑證的有效性、發行 CA 和撤銷狀態) 判斷簽章是否對應到訊息內容，以及判斷訊息是否已由您傳送。</span><span class="sxs-lookup"><span data-stu-id="59625-167">A recipient can use your public key (after checking your certificate's validity, issuing CA, and revocation status) to determine whether the signature corresponds to the message contents and to determine whether the message was sent by you.</span></span>

<span data-ttu-id="59625-168">如果協力廠商攔截了預期的訊息，則會將它 (稍微) ，然後將它和原始簽章轉寄給收件者，而收件者則檢查訊息和簽章時，將能夠判斷訊息是否有問題。</span><span class="sxs-lookup"><span data-stu-id="59625-168">If a third party intercepts the intended message, alters it (even slightly), and forwards it and the original signature to the recipient, the recipient, upon examination of the message and signature, will be able to determine that the message is suspect.</span></span> <span data-ttu-id="59625-169">同樣地，如果協力廠商建立訊息，並在其產生的假借下傳送假數位簽章給它，收件者將能夠使用您的公開金鑰來判斷訊息和簽章不會彼此對應。</span><span class="sxs-lookup"><span data-stu-id="59625-169">Similarly, if a third party creates a message and sends it with a bogus digital signature under the guise that it originated from you, the recipient will be able to use your public key to determine that the message and signature do not correspond to each other.</span></span>

<span data-ttu-id="59625-170">數位簽章也支援不可 [*否認*](../secgloss/n-gly.md)性。</span><span class="sxs-lookup"><span data-stu-id="59625-170">[*Nonrepudiation*](../secgloss/n-gly.md) is also supported by digital signatures.</span></span> <span data-ttu-id="59625-171">如果已簽署訊息的寄件者拒絕傳送訊息，收件者可以使用簽章來駁斥該宣告。</span><span class="sxs-lookup"><span data-stu-id="59625-171">If the sender of a signed message denies sending the message, the recipient can use the signature to refute that claim.</span></span>

<span data-ttu-id="59625-172">請注意，此處所列的大量活動也會由軟體處理，而不是由使用者直接處理。</span><span class="sxs-lookup"><span data-stu-id="59625-172">Note that the bulk of the activities listed here are also handled by software, not directly by the user.</span></span>

## <a name="microsoft-certificate-services-role"></a><span data-ttu-id="59625-173">Microsoft 憑證服務角色</span><span class="sxs-lookup"><span data-stu-id="59625-173">Microsoft Certificate Services Role</span></span>

<span data-ttu-id="59625-174">Microsoft 憑證服務具有發行憑證或拒絕憑證要求的角色，如同原則模組所指示，負責確保憑證要求者的身分識別。</span><span class="sxs-lookup"><span data-stu-id="59625-174">Microsoft Certificate Services has the role of issuing certificates or denying requests for certificates, as directed by policy modules, which are responsible for ensuring the identity of the certificate requester.</span></span> <span data-ttu-id="59625-175">憑證服務也提供撤銷憑證及發佈 CRL 的功能。</span><span class="sxs-lookup"><span data-stu-id="59625-175">Certificate Services also provides the ability to revoke a certificate, as well as publish the CRL.</span></span> <span data-ttu-id="59625-176">憑證服務也可以集中散發 (例如，) 發行的憑證給目錄服務。</span><span class="sxs-lookup"><span data-stu-id="59625-176">Certificate Services can also centrally distribute (for example, to a directory service) issued certificates.</span></span> <span data-ttu-id="59625-177">發出、散發、撤銷及管理憑證的能力，以及 Crl 的發行集，提供公開金鑰基礎結構的必要功能。</span><span class="sxs-lookup"><span data-stu-id="59625-177">The ability to issue, distribute, revoke, and manage certificates, along with the publication of CRLs, provides the necessary capabilities for public key infrastructure.</span></span>

 

 
