---
description: CryptoAPI 已設計為可輕鬆擴充。 所有密碼編譯服務提供者都可以定義新的類型和參數， (CSP) 作者，以對各種情況的需求進行 CryptoAPI 折讓。
ms.assetid: fe87ccb8-16a3-443d-93df-0df02b8787f6
title: 擴充 CryptoAPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 62417f66b8a8bb2d06d145543f944f91868d366d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/08/2021
ms.locfileid: "106975293"
---
# <a name="extending-cryptoapi"></a><span data-ttu-id="c2398-104">擴充 CryptoAPI</span><span class="sxs-lookup"><span data-stu-id="c2398-104">Extending CryptoAPI</span></span>

<span data-ttu-id="c2398-105">[*CryptoAPI*](../secgloss/c-gly.md) 已設計為可輕鬆擴充。</span><span class="sxs-lookup"><span data-stu-id="c2398-105">[*CryptoAPI*](../secgloss/c-gly.md) has been designed to be easily extensible.</span></span> <span data-ttu-id="c2398-106">所有 [*密碼編譯服務提供者*](../secgloss/c-gly.md) 都可以定義新的類型和參數， (CSP) 作者，以對各種情況的需求進行 CryptoAPI 折讓。</span><span class="sxs-lookup"><span data-stu-id="c2398-106">New types and parameters can be defined by any [*cryptographic service provider*](../secgloss/c-gly.md) (CSP) author to make CryptoAPI bend to the requirements of a wide variety of situations.</span></span>



| <span data-ttu-id="c2398-107">可擴充專案</span><span class="sxs-lookup"><span data-stu-id="c2398-107">Extensible items</span></span>                                                                                                 | <span data-ttu-id="c2398-108">註解</span><span class="sxs-lookup"><span data-stu-id="c2398-108">Comment</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="c2398-109">提供者類型</span><span class="sxs-lookup"><span data-stu-id="c2398-109">Provider types</span></span><br/>                                                                                        | <span data-ttu-id="c2398-110">提供者類型代表密碼編譯服務的特定系列或類型。</span><span class="sxs-lookup"><span data-stu-id="c2398-110">A provider type represents a particular family or type of cryptographic services.</span></span> <span data-ttu-id="c2398-111">您可以定義新的提供者類型，每個都提供特定的小程式。</span><span class="sxs-lookup"><span data-stu-id="c2398-111">New provider types can be defined, each serving a particular niche.</span></span><br/>                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="c2398-112">提供者參數</span><span class="sxs-lookup"><span data-stu-id="c2398-112">Provider parameters</span></span><br/>                                                                                   | <span data-ttu-id="c2398-113">提供者參數會分別使用 [**CPSetProvParam**](https://www.bing.com/search?q=**CPSetProvParam**) 和 [**CPGetProvParam**](https://www.bing.com/search?q=**CPGetProvParam**)來傳送和接收。</span><span class="sxs-lookup"><span data-stu-id="c2398-113">Provider parameters are sent and received using [**CPSetProvParam**](https://www.bing.com/search?q=**CPSetProvParam**) and [**CPGetProvParam**](https://www.bing.com/search?q=**CPGetProvParam**), respectively.</span></span> <span data-ttu-id="c2398-114">新的提供者參數可以讓您以 CryptoAPI 設計工具未預見的方式設定 CSP。</span><span class="sxs-lookup"><span data-stu-id="c2398-114">New provider parameters could allow a CSP to be configured in ways not foreseen by the CryptoAPI designers.</span></span><br/>                                                                                                                                                                 |
| <span data-ttu-id="c2398-115">演算法識別碼</span><span class="sxs-lookup"><span data-stu-id="c2398-115">Algorithm identifiers</span></span><br/>                                                                                 | <span data-ttu-id="c2398-116">[**CPGetProvParam**](https://www.bing.com/search?q=**CPGetProvParam**)的列舉功能可讓應用程式動態列出演算法識別碼。</span><span class="sxs-lookup"><span data-stu-id="c2398-116">The enumeration facilities of [**CPGetProvParam**](https://www.bing.com/search?q=**CPGetProvParam**) allow applications to list algorithm identifiers dynamically.</span></span> <span data-ttu-id="c2398-117">您可以隨時定義新的 [*對稱*](../secgloss/s-gly.md)、 [*公開金鑰*](../secgloss/p-gly.md)和 [*雜湊*](../secgloss/h-gly.md) 演算法。</span><span class="sxs-lookup"><span data-stu-id="c2398-117">New [*symmetric*](../secgloss/s-gly.md), [*public key*](../secgloss/p-gly.md), and [*hash*](../secgloss/h-gly.md) algorithms can be defined at any time.</span></span><br/> |
| <span data-ttu-id="c2398-118">公開/[*私密金鑰*](../secgloss/p-gly.md) 組類型</span><span class="sxs-lookup"><span data-stu-id="c2398-118">Public/[*private key*](../secgloss/p-gly.md) pair types</span></span><br/> | <span data-ttu-id="c2398-119">雖然可以視需要定義新的金鑰組類型，但目前只會使用簽章和金鑰 [*交換金鑰*](../secgloss/e-gly.md) 組。</span><span class="sxs-lookup"><span data-stu-id="c2398-119">While new key pair types can be defined as needed, currently only signature and key [*exchange key pairs*](../secgloss/e-gly.md) are used.</span></span><br/>                                                                                                                                                                                                                                           |
| <span data-ttu-id="c2398-120">金鑰 BLOB 類型</span><span class="sxs-lookup"><span data-stu-id="c2398-120">Key BLOB types</span></span><br/>                                                                                        | <span data-ttu-id="c2398-121">新的金鑰 [*BLOB*](../secgloss/b-gly.md) 類型可允許使用 [**CPExportKey**](https://www.bing.com/search?q=**CPExportKey**) 和 [**CPImportKey**](https://www.bing.com/search?q=**CPImportKey**) 功能，以彈性的方式交換工作階段金鑰、公開金鑰和公開/私密金鑰組。</span><span class="sxs-lookup"><span data-stu-id="c2398-121">New key [*BLOB*](../secgloss/b-gly.md) types could permit session keys, public keys, and public/private key pairs to be exchanged in a flexible manner using the [**CPExportKey**](https://www.bing.com/search?q=**CPExportKey**) and [**CPImportKey**](https://www.bing.com/search?q=**CPImportKey**) functions.</span></span><br/>                                                                                                                                            |
| <span data-ttu-id="c2398-122">金鑰參數</span><span class="sxs-lookup"><span data-stu-id="c2398-122">Key parameters</span></span><br/>                                                                                        | <span data-ttu-id="c2398-123">系統會使用 [**CPSetKeyParam**](https://www.bing.com/search?q=**CPSetKeyParam**) 和 [**CPGetKeyParam**](https://www.bing.com/search?q=**CPGetKeyParam**)來傳送和取出金鑰參數。</span><span class="sxs-lookup"><span data-stu-id="c2398-123">Key parameters are sent and retrieved using [**CPSetKeyParam**](https://www.bing.com/search?q=**CPSetKeyParam**) and [**CPGetKeyParam**](https://www.bing.com/search?q=**CPGetKeyParam**).</span></span> <span data-ttu-id="c2398-124">新的金鑰參數可以支援許多不同類型的金鑰。</span><span class="sxs-lookup"><span data-stu-id="c2398-124">New key parameters could enable support for many different types of keys.</span></span><br/>                                                                                                                                                                                                                         |
| <span data-ttu-id="c2398-125">雜湊物件參數</span><span class="sxs-lookup"><span data-stu-id="c2398-125">Hash object parameters</span></span><br/>                                                                                | <span data-ttu-id="c2398-126">雜湊物件參數會使用 [**CPSetHashParam**](https://www.bing.com/search?q=**CPSetHashParam**) 和 [**CPGetHashParam**](https://www.bing.com/search?q=**CPGetHashParam**)來傳送和取出。</span><span class="sxs-lookup"><span data-stu-id="c2398-126">Hash object parameters are sent and retrieved using [**CPSetHashParam**](https://www.bing.com/search?q=**CPSetHashParam**) and [**CPGetHashParam**](https://www.bing.com/search?q=**CPGetHashParam**).</span></span> <span data-ttu-id="c2398-127">新的雜湊物件參數可以支援許多不同類型的 [*雜湊*](../secgloss/h-gly.md)。</span><span class="sxs-lookup"><span data-stu-id="c2398-127">New hash object parameters could enable support for many different types of [*hashes*](../secgloss/h-gly.md).</span></span><br/>                                                                                                                                         |
| <span data-ttu-id="c2398-128">旗標值</span><span class="sxs-lookup"><span data-stu-id="c2398-128">Flag values</span></span><br/>                                                                                           | <span data-ttu-id="c2398-129">大部分的 CryptoAPI/CryptoSPI 函數都有 *dwFlags* 參數。</span><span class="sxs-lookup"><span data-stu-id="c2398-129">Most CryptoAPI/CryptoSPI functions have a *dwFlags* parameter.</span></span> <span data-ttu-id="c2398-130">新的 *dwFlags* 值可以視需要修改函式的行為。</span><span class="sxs-lookup"><span data-stu-id="c2398-130">New *dwFlags* values could modify the behavior of functions as necessary.</span></span><br/>                                                                                                                                                                                                                                                                                                       |



 

<span data-ttu-id="c2398-131">CryptoAPI 的延伸模組必須以負責任的方式進行。</span><span class="sxs-lookup"><span data-stu-id="c2398-131">Extensions to CryptoAPI must be made in a responsible manner.</span></span> <span data-ttu-id="c2398-132">在定義新的參數和演算法類型之前，CSP 開發人員應該查閱 Microsoft Corporation，以便：</span><span class="sxs-lookup"><span data-stu-id="c2398-132">Before defining new parameters and algorithm types, a CSP developer should consult Microsoft Corporation, so that:</span></span>

-   <span data-ttu-id="c2398-133">您可以識別一般 CryptoAPI 延伸模組，並將其放入標準的 Wincrypt .h 檔案中。</span><span class="sxs-lookup"><span data-stu-id="c2398-133">Common CryptoAPI extensions can be identified and placed into the standard Wincrypt.h file.</span></span>
-   <span data-ttu-id="c2398-134">可以避免命名空間衝突。</span><span class="sxs-lookup"><span data-stu-id="c2398-134">Namespace collisions can be avoided.</span></span>
-   <span data-ttu-id="c2398-135">您可以判斷是否需要延伸模組，或是否可使用目前的 API 來達成特定的作業。</span><span class="sxs-lookup"><span data-stu-id="c2398-135">It can be determined whether the extension is required, or whether a particular operation can be achieved by using the current API.</span></span>

> [!Note]  
> <span data-ttu-id="c2398-136">為了讓 CSP 與針對 Microsoft 基礎密碼編譯提供者開發的應用程式相容，它必須支援 [基礎密碼編譯功能](cryptography-functions.md) 和 [密碼編譯服務提供者](cryptography-functions.md)函式中所述的所有前述專案。</span><span class="sxs-lookup"><span data-stu-id="c2398-136">For a CSP to be compatible with applications developed for the Microsoft Base Cryptographic Provider, it must support all of the preceding items as described in [Base Cryptography Functions](cryptography-functions.md) and in [Cryptography Service Provider Functions](cryptography-functions.md).</span></span>

 

 

 
