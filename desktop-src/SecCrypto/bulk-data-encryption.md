---
description: 大量加密金鑰是藉由使用 CryptHashSessionKey 來雜湊其中一個 MAC 金鑰以及訊息內容和其他資料所產生。 使用其中一個大量加密金鑰以一般方式加密/解密訊息。
ms.assetid: 08174502-3ff1-4c1c-bcd0-46fd85882305
title: 大量資料加密
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e9ecfb55c162e5aa576d8baa3d0ccbc45e9588c3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/08/2021
ms.locfileid: "106982739"
---
# <a name="bulk-data-encryption"></a><span data-ttu-id="59170-104">大量資料加密</span><span class="sxs-lookup"><span data-stu-id="59170-104">Bulk Data Encryption</span></span>

<span data-ttu-id="59170-105">[*大量加密金鑰*](../secgloss/b-gly.md)是藉由使用 [**CryptHashSessionKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-crypthashsessionkey)來 [*雜湊*](../secgloss/h-gly.md)其中一個 MAC 金鑰以及訊息內容和其他資料所產生。</span><span class="sxs-lookup"><span data-stu-id="59170-105">A [*bulk encryption key*](../secgloss/b-gly.md) is generated by [*hashing*](../secgloss/h-gly.md) one of the MAC keys using [**CryptHashSessionKey**](/windows/desktop/api/Wincrypt/nf-wincrypt-crypthashsessionkey) together with the message contents and other data.</span></span> <span data-ttu-id="59170-106">使用其中一個大量加密金鑰以一般方式加密/解密訊息。</span><span class="sxs-lookup"><span data-stu-id="59170-106">The message is encrypted/decrypted with one of the bulk encryption keys in the usual manner.</span></span>

<span data-ttu-id="59170-107">使用 [*區塊密碼*](../secgloss/b-gly.md)[*時，安全通道通訊協定*](../secgloss/s-gly.md)引擎會執行所有必要的 *區塊密碼*[*填補*](../secgloss/p-gly.md)。</span><span class="sxs-lookup"><span data-stu-id="59170-107">When using a [*block cipher*](../secgloss/b-gly.md), the [*Schannel*](../secgloss/s-gly.md) protocol engine does all necessary *block cipher* [*padding*](../secgloss/p-gly.md).</span></span> <span data-ttu-id="59170-108">當呼叫 [**CryptEncrypt**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptencrypt) 和 [**CryptDecrypt**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecrypt) 時，最後一個旗標一律為 **FALSE** ，而資料長度是整個區塊長度的倍數。</span><span class="sxs-lookup"><span data-stu-id="59170-108">When [**CryptEncrypt**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptencrypt) and [**CryptDecrypt**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecrypt) are called, the Final flag is always **FALSE** and the data length is a multiple of whole block lengths.</span></span>

> [!Note]  
> <span data-ttu-id="59170-109">CSP 絕不能在內部緩衝資料。</span><span class="sxs-lookup"><span data-stu-id="59170-109">The CSP must never buffer data internally.</span></span> <span data-ttu-id="59170-110">將資料加密 (或解密) 之後， [*純文字*](../secgloss/p-gly.md) 大小必須一律完全符合 [*加密*](../secgloss/c-gly.md)文字的大小。</span><span class="sxs-lookup"><span data-stu-id="59170-110">After the data has been encrypted (or decrypted), the size of the [*plaintext*](../secgloss/p-gly.md) must always exactly match the size of the [*ciphertext*](../secgloss/c-gly.md).</span></span>

 

 

 
