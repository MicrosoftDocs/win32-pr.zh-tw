---
description: 透過非安全網路的安全通訊通常牽涉到三個主要考慮領域：隱私權、驗證和完整性。
ms.assetid: bfffe87d-8392-4b4a-8bbc-01b9c13fba47
title: 加密概念
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6aad1528032c20c5492a98798f8a175ca331e462
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "106984166"
---
# <a name="cryptography-concepts"></a><span data-ttu-id="15155-103">加密概念</span><span class="sxs-lookup"><span data-stu-id="15155-103">Cryptography Concepts</span></span>

<span data-ttu-id="15155-104">透過非安全網路的安全通訊通常牽涉到三個主要考慮領域： [隱私權](#privacy)、 [驗證](#authentication)和 [完整性](#integrity)。</span><span class="sxs-lookup"><span data-stu-id="15155-104">Secure communication over nonsecure networks generally involves three major areas of concern: [privacy](#privacy), [authentication](#authentication), and [integrity](#integrity).</span></span> <span data-ttu-id="15155-105">Microsoft 密碼編譯 API ([*CryptoAPI*](../secgloss/c-gly.md)) 是一組函式、介面和工具，可讓應用程式用來改善這些領域中安全性的信賴度。</span><span class="sxs-lookup"><span data-stu-id="15155-105">The Microsoft cryptography API ([*CryptoAPI*](../secgloss/c-gly.md)) is a set of functions, interfaces, and tools that applications can use to improve confidence of security in these areas.</span></span>

<span data-ttu-id="15155-106">除了隱私權、驗證和完整性的功能， [*CryptoAPI*](../secgloss/c-gly.md) 也提供下列功能：</span><span class="sxs-lookup"><span data-stu-id="15155-106">In addition to functionality for privacy, authentication, and integrity, [*CryptoAPI*](../secgloss/c-gly.md) also provides for:</span></span>

-   <span data-ttu-id="15155-107">將訊息編碼為 [*抽象語法標記法 (一)*](../secgloss/a-gly.md) (asn.1) 形式。</span><span class="sxs-lookup"><span data-stu-id="15155-107">Encoding messages to [*Abstract Syntax Notation One*](../secgloss/a-gly.md) (ASN.1) form.</span></span>
-   <span data-ttu-id="15155-108">解碼 ASN. 1 訊息。</span><span class="sxs-lookup"><span data-stu-id="15155-108">Decoding ASN.1 messages.</span></span>
-   <span data-ttu-id="15155-109">管理 [*憑證存放區*](../secgloss/c-gly.md)中的 [*憑證*](../secgloss/c-gly.md)集合。</span><span class="sxs-lookup"><span data-stu-id="15155-109">Managing collections of [*certificates*](../secgloss/c-gly.md) in [*certificate stores*](../secgloss/c-gly.md).</span></span>
-   <span data-ttu-id="15155-110">使用 [*憑證信任清單*](../secgloss/c-gly.md) 和憑證鏈來驗證憑證的有效性。</span><span class="sxs-lookup"><span data-stu-id="15155-110">Working with [*certificate trust lists*](../secgloss/c-gly.md) and certificate chains for verification of the validity of certificates.</span></span>

## <a name="privacy"></a><span data-ttu-id="15155-111">隱私權</span><span class="sxs-lookup"><span data-stu-id="15155-111">Privacy</span></span>

<span data-ttu-id="15155-112">若要達到隱私權，使用者必須防止預期的收件者讀取訊息。</span><span class="sxs-lookup"><span data-stu-id="15155-112">To achieve privacy, users must prevent anyone except the intended recipient from reading a message.</span></span> <span data-ttu-id="15155-113">提高隱私權的可能性通常牽涉到使用某種形式的 [*密碼*](../secgloss/c-gly.md)編譯。</span><span class="sxs-lookup"><span data-stu-id="15155-113">Improving the likelihood of privacy usually involves using some form of [*cryptography*](../secgloss/c-gly.md).</span></span> <span data-ttu-id="15155-114">在儲存或傳送訊息之前，會使用密碼編譯技術來加密 (加密) 訊息。</span><span class="sxs-lookup"><span data-stu-id="15155-114">Cryptographic techniques are used to encrypt (scramble) messages before the messages are stored or transmitted.</span></span>

<span data-ttu-id="15155-115">資料加密會將 [*純文字*](../secgloss/p-gly.md) 轉換成 [*加密*](../secgloss/c-gly.md)文字。</span><span class="sxs-lookup"><span data-stu-id="15155-115">Data encryption transforms [*plaintext*](../secgloss/p-gly.md) into [*ciphertext*](../secgloss/c-gly.md).</span></span> <span data-ttu-id="15155-116">要加密的資料可以是 [*ASCII*](../secgloss/a-gly.md) 文字、資料庫檔案或任何其他資料。</span><span class="sxs-lookup"><span data-stu-id="15155-116">The data to be encrypted can be [*ASCII*](../secgloss/a-gly.md) text, a database file, or any other data.</span></span> <span data-ttu-id="15155-117">在此檔中，「 [*詞彙」*](../secgloss/m-gly.md) 一詞是用來參考任何資料片段，而純文字則是指未加密的資料 *，而加密* 文字則是指已加密的資料。</span><span class="sxs-lookup"><span data-stu-id="15155-117">In this documentation, the term [*message*](../secgloss/m-gly.md) is used to refer to any piece of data, plaintext refers to data that has not been encrypted, and *ciphertext* refers to data that has been encrypted.</span></span> <span data-ttu-id="15155-118">良好的資料加密系統可讓您難以將加密的資料轉換回純文字，而不需要秘密金鑰。</span><span class="sxs-lookup"><span data-stu-id="15155-118">A good data encryption system makes it difficult to transform encrypted data back to plaintext without a secret key.</span></span>

<span data-ttu-id="15155-119">加密的資料可以儲存在非安全的媒體上，或透過非安全的網路傳輸。</span><span class="sxs-lookup"><span data-stu-id="15155-119">Encrypted data can be stored on non-secure media or transmitted over a non-secure network.</span></span> <span data-ttu-id="15155-120">之後，資料可以解密為其原始格式。</span><span class="sxs-lookup"><span data-stu-id="15155-120">Later, the data can be decrypted into its original form.</span></span> <span data-ttu-id="15155-121">下圖顯示此程式。</span><span class="sxs-lookup"><span data-stu-id="15155-121">This process is shown in the following illustration.</span></span>

![協助在加密和解密期間保有隱私權](images/capi01.png)

<span data-ttu-id="15155-123">加密資料時，會將訊息和 [*加密*](../secgloss/e-gly.md) 金鑰傳遞至加密演算法。</span><span class="sxs-lookup"><span data-stu-id="15155-123">When data is encrypted, the message and an [*encryption*](../secgloss/e-gly.md) key are passed to the encryption algorithm.</span></span> <span data-ttu-id="15155-124">若要將資料解密，加密文字和 [*解密*](../secgloss/d-gly.md) 金鑰會傳遞給解密演算法。</span><span class="sxs-lookup"><span data-stu-id="15155-124">To decrypt the data, the ciphertext and a [*decryption*](../secgloss/d-gly.md) key are passed to the decryption algorithm.</span></span> <span data-ttu-id="15155-125">在稱為對稱式加密的進程中使用單一金鑰，即可完成加密和解密。</span><span class="sxs-lookup"><span data-stu-id="15155-125">Encryption and decryption can be done by using a single key in a process called symmetric encryption.</span></span>

<span data-ttu-id="15155-126">用來解密訊息的金鑰必須盡可能保持機密和安全，而且必須使用安全性增強技術來傳送給其他使用者。</span><span class="sxs-lookup"><span data-stu-id="15155-126">Keys used to decrypt a message must be kept as secret and safe as possible, and must be transmitted to other users by using security-enhancing techniques.</span></span> <span data-ttu-id="15155-127">這會在 [資料加密和解密](data-encryption-and-decryption.md)中進一步討論。</span><span class="sxs-lookup"><span data-stu-id="15155-127">This is discussed further in [Data Encryption and Decryption](data-encryption-and-decryption.md).</span></span> <span data-ttu-id="15155-128">主要的挑戰是適當地限制解密金鑰的存取權，因為任何人只要擁有此金鑰，就能將以其對應的加密金鑰加密的所有訊息解密。</span><span class="sxs-lookup"><span data-stu-id="15155-128">The main challenge is properly restricting access to the decryption key because anyone who possesses it will be able to decrypt all messages that were encrypted with its corresponding encryption key.</span></span>

<span data-ttu-id="15155-129">為了解決所述的隱私權目標，開發人員可以使用 [*CryptoAPI*](../secgloss/c-gly.md) 以彈性的方式加密和數位簽署資料，同時協助提供使用者機密資料的保護。</span><span class="sxs-lookup"><span data-stu-id="15155-129">To address the stated goals of privacy, developers can use [*CryptoAPI*](../secgloss/c-gly.md) to encrypt and digitally sign data in a flexible manner, while helping to provide protection for the user's sensitive private key data.</span></span>

<span data-ttu-id="15155-130">[*CryptoAPI*](../secgloss/c-gly.md) 提供下列功能區域來執行加密/解密、訊息簽署和金鑰儲存的工作：</span><span class="sxs-lookup"><span data-stu-id="15155-130">[*CryptoAPI*](../secgloss/c-gly.md) provides the following areas of functionality to perform the tasks of encryption/decryption, message signing, and key storage:</span></span>

-   [<span data-ttu-id="15155-131">基礎密碼編譯功能</span><span class="sxs-lookup"><span data-stu-id="15155-131">Base Cryptography Functions</span></span>](cryptography-functions.md)
-   [<span data-ttu-id="15155-132">簡化的訊息函數</span><span class="sxs-lookup"><span data-stu-id="15155-132">Simplified Message Functions</span></span>](cryptography-functions.md)
-   [<span data-ttu-id="15155-133">低層級訊息函數</span><span class="sxs-lookup"><span data-stu-id="15155-133">Low-Level Message Functions</span></span>](cryptography-functions.md)

## <a name="authentication"></a><span data-ttu-id="15155-134">驗證</span><span class="sxs-lookup"><span data-stu-id="15155-134">Authentication</span></span>

<span data-ttu-id="15155-135">安全通訊需要個人通訊，才能得知與其通訊之人員的身分識別。</span><span class="sxs-lookup"><span data-stu-id="15155-135">Secure communications require that the individuals communicating know the identity of those with whom they communicate.</span></span> <span data-ttu-id="15155-136">驗證是驗證人員或實體身分識別的程式。</span><span class="sxs-lookup"><span data-stu-id="15155-136">Authentication is the process of verifying the identity of a person or entity.</span></span>

<span data-ttu-id="15155-137">例如，在日常生命中，實體檔（通常稱為認證）會用來驗證個人的身分識別。</span><span class="sxs-lookup"><span data-stu-id="15155-137">For example, in day to day life, physical documentation, often called credentials, are used to verify a person's identity.</span></span> <span data-ttu-id="15155-138">Cashed 檢查時，cashing 檢查的人員可要求查看驅動程式的授權。</span><span class="sxs-lookup"><span data-stu-id="15155-138">When a check is cashed, the person cashing the check can ask to see a driver's license.</span></span> <span data-ttu-id="15155-139">此驅動程式的授權是一份實體檔，可增加商家在 cashing 檢查的身分識別上的信賴度。</span><span class="sxs-lookup"><span data-stu-id="15155-139">The driver's license is a physical document that increases the merchant's confidence in the identity of the person cashing the check.</span></span> <span data-ttu-id="15155-140">在此情況下，cashing 該檢查的人員會信任發出授權的狀態已充分驗證授權持有者的身分識別。</span><span class="sxs-lookup"><span data-stu-id="15155-140">In this case, the person cashing the check trusts that the state issuing the license adequately verified the license holder's identity.</span></span>

<span data-ttu-id="15155-141">護照提供另一個範例。</span><span class="sxs-lookup"><span data-stu-id="15155-141">Passports provide another example.</span></span> <span data-ttu-id="15155-142">海關官方會探討 passport，並將其視為證明，告訴他他的身分。</span><span class="sxs-lookup"><span data-stu-id="15155-142">A customs official looks at a passport and accepts it as proof that a person is who he says he is.</span></span> <span data-ttu-id="15155-143">官方信任政府部門在發行 passport 之前，已執行適當的識別 passport 持有者作業。</span><span class="sxs-lookup"><span data-stu-id="15155-143">The official trusts that the government did an adequate job of identifying the passport holder before issuing the passport.</span></span> <span data-ttu-id="15155-144">在這兩個範例中，實體檔的簽發者中都有信任層級。</span><span class="sxs-lookup"><span data-stu-id="15155-144">In both examples, a level of trust exists in the issuer of the physical document.</span></span>

<span data-ttu-id="15155-145">驗證也會涉及確定所接收的資料是已傳送的資料。</span><span class="sxs-lookup"><span data-stu-id="15155-145">Authentication also involves making sure that the data received is the data that was sent.</span></span> <span data-ttu-id="15155-146">如果合作物件 A 將訊息傳送給合作物件 B，則合作物件 B 必須能夠證明收到的訊息是傳送給合作物件的訊息，而不是取代該訊息的訊息。</span><span class="sxs-lookup"><span data-stu-id="15155-146">If party A sends a message to party B, party B needs to be able to prove that the message received was the message that party A sent and not a message that was substituted for that message.</span></span> <span data-ttu-id="15155-147">為了提供這種形式的驗證， [*CryptoAPI*](../secgloss/c-gly.md) 提供使用公開/私密金鑰組來簽署資料和驗證簽章的功能。</span><span class="sxs-lookup"><span data-stu-id="15155-147">To provide this form of authentication, [*CryptoAPI*](../secgloss/c-gly.md) provides functions for signing data and verifying signatures by using public/private key pairs.</span></span>

<span data-ttu-id="15155-148">由於透過電腦網路進行通訊時，外部之間並沒有實體連絡人，因此驗證身分識別通常取決於可透過網路傳送和接收的認證。</span><span class="sxs-lookup"><span data-stu-id="15155-148">Because communications over a computer network take place with no physical contact between the communicators, verifying identity often depends upon a credential that can be sent and received over a network.</span></span> <span data-ttu-id="15155-149">這類認證必須由憑證的受信任簽發者發出。</span><span class="sxs-lookup"><span data-stu-id="15155-149">Such a credential must be issued by a trusted issuer of credentials.</span></span> <span data-ttu-id="15155-150">數位憑證（通常稱為憑證）就是這種認證。</span><span class="sxs-lookup"><span data-stu-id="15155-150">Digital certificates, commonly known as certificates, are just such a credential.</span></span> <span data-ttu-id="15155-151">它們是驗證身分識別並在電腦網路上達成驗證的一種方式。</span><span class="sxs-lookup"><span data-stu-id="15155-151">They are a way to verify identity and achieve authentication on a computer network.</span></span>

<span data-ttu-id="15155-152">數位憑證是信任的組織或稱為憑證授權單位單位 (CA) 的實體所簽發的認證。</span><span class="sxs-lookup"><span data-stu-id="15155-152">A digital certificate is a credential issued by a trusted organization or entity called a certification authority (CA).</span></span> <span data-ttu-id="15155-153">此認證包含公開金鑰 (請參閱 [公開/私密金鑰](public-private-key-pairs.md) 組) 和識別憑證主體的資料。</span><span class="sxs-lookup"><span data-stu-id="15155-153">This credential contains a public key (see [Public/Private Key Pairs](public-private-key-pairs.md)) and data that identifies the certificate's subject.</span></span> <span data-ttu-id="15155-154">只有在 CA 驗證了憑證主體的身分識別，並確認憑證隨附的公開金鑰屬於該主體之後，CA 才會簽發憑證。</span><span class="sxs-lookup"><span data-stu-id="15155-154">A certificate is issued by a CA only after the CA has verified the certificate subject's identity and has confirmed that the public key included with the certificate belongs to that subject.</span></span>

<span data-ttu-id="15155-155">CA 與憑證要求者之間的通訊，可由要求者實際攜帶必要資訊（可能儲存在磁片上）給 CA 來完成。</span><span class="sxs-lookup"><span data-stu-id="15155-155">The communication between a CA and a certificate requester could be accomplished by the requester physically carrying the necessary information, perhaps stored on a floppy disk, to the CA.</span></span> <span data-ttu-id="15155-156">不過，通常會透過網路傳送已簽署的訊息來完成通訊。</span><span class="sxs-lookup"><span data-stu-id="15155-156">However, the communication is usually accomplished with a signed message sent over a network.</span></span> <span data-ttu-id="15155-157">CA 通常會使用名為憑證伺服器的受信任應用程式來頒發證書。</span><span class="sxs-lookup"><span data-stu-id="15155-157">The CA often uses a trusted application called a certificate server to issues certificates.</span></span>

<span data-ttu-id="15155-158">[*CryptoAPI*](../secgloss/c-gly.md) 透過使用數位憑證、憑證編碼/解碼功能，以及 [*憑證存放區*](../secgloss/c-gly.md) 功能，來支援驗證。</span><span class="sxs-lookup"><span data-stu-id="15155-158">[*CryptoAPI*](../secgloss/c-gly.md) supports authentication through the use of digital certificates, with certificate encode/decode functions, and [*certificate store*](../secgloss/c-gly.md) functions.</span></span>

<span data-ttu-id="15155-159">如需透過使用憑證進行身分識別驗證和驗證的詳細資訊，請參閱 [數位憑證](digital-certificates.md)。</span><span class="sxs-lookup"><span data-stu-id="15155-159">For more information about identity verification and authentication through the use of certificates, see [Digital Certificates](digital-certificates.md).</span></span>

## <a name="integrity"></a><span data-ttu-id="15155-160">完整性</span><span class="sxs-lookup"><span data-stu-id="15155-160">Integrity</span></span>

<span data-ttu-id="15155-161">任何透過非安全媒體傳送的資料，都可以在意外或基於用途時變更。</span><span class="sxs-lookup"><span data-stu-id="15155-161">Any data sent over a non-secure media can be changed either by accident or on purpose.</span></span> <span data-ttu-id="15155-162">在真實世界中，會使用「密封」來提供並證明完整性。</span><span class="sxs-lookup"><span data-stu-id="15155-162">In the real world, seals are used to provide and prove integrity.</span></span> <span data-ttu-id="15155-163">例如，aspirin 的瓶可能會產生經過篡改的封包，以證明在套件離開製造商之後，未將任何專案放入套件中。</span><span class="sxs-lookup"><span data-stu-id="15155-163">A bottle of aspirin, for example, can come in tamper-proof packaging that has an unbroken seal to prove that nothing was put into the package after the package left the manufacturer.</span></span>

<span data-ttu-id="15155-164">同樣地，資料接收器必須能夠驗證資料寄件者的身分識別，並確定所接收的資料與傳送的資料完全相同;也就是，它尚未遭到篡改。</span><span class="sxs-lookup"><span data-stu-id="15155-164">In the same manner, a receiver of data must be able to verify the identity of the sender of the data and be sure that the data received is exactly the data that was sent; that is, that it has not been tampered with.</span></span> <span data-ttu-id="15155-165">若要建立所接收資料的 [*完整性*](../secgloss/i-gly.md) ，通常只會傳送原始資料，但也不會傳送資料的驗證訊息（稱為 [*雜湊*](../secgloss/h-gly.md)）。</span><span class="sxs-lookup"><span data-stu-id="15155-165">Establishing the [*integrity*](../secgloss/i-gly.md) of data received is often done by sending not only the original data but also a verification message, called a [*hash*](../secgloss/h-gly.md), about that data.</span></span> <span data-ttu-id="15155-166">您可以使用可證明兩者來源的 [*數位簽章*](../secgloss/d-gly.md) 來傳送資料和驗證訊息。</span><span class="sxs-lookup"><span data-stu-id="15155-166">Both the data and the verification message can be sent with a [*digital signature*](../secgloss/d-gly.md) that proves the origin of both.</span></span>

<span data-ttu-id="15155-167">您可以使用 [數位簽章](digital-signatures.md) 和 [資料雜湊](data-hashes.md)，在 CryptoAPI 中提供完整性。</span><span class="sxs-lookup"><span data-stu-id="15155-167">Integrity is provided in CryptoAPI by means of using [Digital Signatures](digital-signatures.md) and [Data Hashes](data-hashes.md).</span></span>

<span data-ttu-id="15155-168">[*CryptoAPI*](../secgloss/c-gly.md) 透過使用訊息函式來簽署資料和驗證數位簽章，以支援完整性。</span><span class="sxs-lookup"><span data-stu-id="15155-168">[*CryptoAPI*](../secgloss/c-gly.md) supports integrity through the use of message functions to sign data and to verify digital signatures.</span></span>

 

 
