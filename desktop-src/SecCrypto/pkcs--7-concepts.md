---
description: CryptoAPI 訊息函式遵守 PKCS \# 7 密碼編譯訊息語法 (CMS) 標準。 開發人員必須熟悉此規格，以最有效率的方式使用低層級的訊息功能。 這裡有幾個定義會反白顯示。
ms.assetid: 99b633fe-9898-4570-ba8b-16ee78d351da
title: PKCS \# 7 密碼編譯訊息語法概念
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d218fea2aecebb6ccdbd8e7bbf1d63aa897e48f4bb2a20eb4a22f14cca2c1b27
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/11/2021
ms.locfileid: "117978984"
---
# <a name="pkcs-7-cryptographic-messaging-syntax-concepts"></a>PKCS \# 7 密碼編譯訊息語法概念

CryptoAPI 訊息函式遵守 [*PKCS \# 7*](../secgloss/p-gly.md) [密碼編譯訊息語法 (CMS) 標準](https://www.ietf.org/rfc/rfc3369.txt)。 開發人員必須熟悉此規格，以最有效率的方式使用 [*低層級的訊息功能*](../secgloss/l-gly.md)。 這裡有幾個定義會反白顯示。

PKCS \# 7 standard 描述可能已套用 [*加密*](../secgloss/c-gly.md) 的資料的一般語法，例如 [*數位簽章*](../secgloss/d-gly.md) 和 [*數位信封*](../secgloss/d-gly.md)。 語法認可遞迴，如此一來，就可以將一個信封放在另一個，或一個合作物件簽署已放入信封中的數位資料。 它也可讓您使用任意屬性，例如簽章時間，以及訊息的內容進行驗證。 此外，它還提供其他屬性（例如 [*副署*](../secgloss/c-gly.md)）與簽章相關聯。

PKCS 7 訊息中包含的資料類型 \# 稱為其內容類型。 有兩種類別的內容類型： Base 和增強型別。

-   基底內容類型只包含沒有密碼編譯增強功能的資料。 目前這個類別中只有一個內容類型，也就是 [*資料內容類型*](../secgloss/d-gly.md)。
-   [*增強的內容類型*](../secgloss/e-gly.md) 包含某些類型 (可能已加密) 的資料，以及其他 (例如雜湊或簽章) 的密碼編譯增強功能。

增強型類別中的內容採用封裝，提供 [*外部內容*](../secgloss/o-gly.md) (，其中包含增強功能) 和 [*內部內容*](../secgloss/i-gly.md) ， () 的增強功能。 例如，增強型類別可能包含 (基類) 的 [*資料內容類型*](../secgloss/d-gly.md) ，其中包含簽章。 在此情況下，資料內容類型是 *內部內容* ，且資料內容類型和簽章的組合會形成外部內容。

PKCS 7 標準中定義的內容類型如下所示 \# 。



| 內容類型              | 描述                                                                                                                                                                                                                                                                                                           |
|---------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 資料                      | 八位 (**位元組**) 字串。                                                                                                                                                                                                                                                                                           |
| 簽署的資料               | 任何類型和加密訊息 [*雜湊*](../secgloss/h-gly.md) 的內容 () 或多個簽署者的內容 [*摘要*](../secgloss/m-gly.md) 。                                                                           |
| 封包資料            | 一或多個收件者的任何類型和加密內容加密金鑰的加密內容。 收件者的加密內容和加密內容加密金鑰的組合是該收件者的 [*數位信封*](../secgloss/d-gly.md) 。 |
| 已簽署和封包的資料 | 針對一或多個收件者的任何類型、加密的內容加密金鑰加密的內容，以及一或多個簽署者的雙向加密訊息摘要。 雙重加密包含使用簽署者的私密金鑰進行加密，後面接著具有內容加密金鑰的加密。                     |
| 子集資料             | 任何類型的內容和訊息 [*雜湊*](../secgloss/h-gly.md) (內容的摘要) 。                                                                                                                                                                                             |
| 加密的資料            | 任何類型的加密內容。 與封包 [*資料內容類型*](../secgloss/d-gly.md)不同的是，加密資料內容類型不具有收件者和加密的內容加密金鑰。 系統會假設您可以使用其他方法來管理金鑰。               |



 

> [!Note]  
> 在 PKCS \# 7 規格中，「 *摘要* 」和「 [*子集*](../secgloss/d-gly.md) 」一詞指的是將 [*雜湊演算法*](../secgloss/h-gly.md) 套用至資料所產生的值。 本檔 *會針對相同* 的目的使用「[*雜湊*](../secgloss/h-gly.md)」和「雜湊」這一詞。 例如，搭配 [*低層級訊息函數*](../secgloss/l-gly.md) 使用的資料類型稱為雜湊，而不是子集。 基於本檔的目的，您可以交替使用這兩組條款。

 

 

 
