---
description: CryptoAPI 提供的函式可用來處理憑證、憑證撤銷清單 (Crl) 和 (Ctl) 的憑證信任清單。
ms.assetid: 23460329-44ed-4bcb-9727-5c841070f093
title: 具有憑證的作業
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ab2f9f5d6d541b452741f2e4634752b979f26107
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/08/2021
ms.locfileid: "103851280"
---
# <a name="operations-with-certificates"></a><span data-ttu-id="19827-103">具有憑證的作業</span><span class="sxs-lookup"><span data-stu-id="19827-103">Operations with Certificates</span></span>

<span data-ttu-id="19827-104">[*CryptoAPI*](../secgloss/c-gly.md) 提供的函式可用來處理 [*憑證*](../secgloss/c-gly.md)、 [*憑證撤銷清單*](../secgloss/c-gly.md) (crl) 和 (ctl) 的 [*憑證信任清單*](../secgloss/c-gly.md) 。</span><span class="sxs-lookup"><span data-stu-id="19827-104">[*CryptoAPI*](../secgloss/c-gly.md) provides functions to work with [*certificates*](../secgloss/c-gly.md), [*certificate revocation lists*](../secgloss/c-gly.md) (CRLs) and [*certificate trust lists*](../secgloss/c-gly.md) (CTLs).</span></span> <span data-ttu-id="19827-105">這些函數包括將編碼的型別轉換成內容類型的函式、重複物件的函式，以及釋放這些物件的函式。</span><span class="sxs-lookup"><span data-stu-id="19827-105">These include functions for converting encoded types to context types, functions that duplicate objects, and functions that free these objects.</span></span> <span data-ttu-id="19827-106">這些函式會將資訊編碼為內容，但不會將此內容新增至任何存放區。</span><span class="sxs-lookup"><span data-stu-id="19827-106">These functions encode information into contexts but do not add this context to any store.</span></span> <span data-ttu-id="19827-107">這些函數包括 [**CertCreateCertificateCoNtext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certcreatecertificatecontext)、 [**CertCreateCRLCoNtext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certcreatecrlcontext)和 [**CertCreateCTLCoNtext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certcreatectlcontext)。</span><span class="sxs-lookup"><span data-stu-id="19827-107">These functions are [**CertCreateCertificateContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certcreatecertificatecontext), [**CertCreateCRLContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certcreatecrlcontext), and [**CertCreateCTLContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certcreatectlcontext).</span></span> <span data-ttu-id="19827-108">使用適當的 CertFree 函式來釋放這些函式的其中一個所建立的內容。</span><span class="sxs-lookup"><span data-stu-id="19827-108">Use the appropriate CertFree function to free contexts created by one of these functions.</span></span>

<span data-ttu-id="19827-109">重複憑證、Crl 和 Ctl 的 CryptoAPI 函式會遞增指定內容中的 [*參考計數器*](../secgloss/r-gly.md) ，並傳回內容的指標。</span><span class="sxs-lookup"><span data-stu-id="19827-109">The CryptoAPI functions to duplicate certificates, CRLs, and CTLs increment the [*reference counter*](../secgloss/r-gly.md) in the specified context and return a pointer to the context.</span></span> <span data-ttu-id="19827-110">複製函式不會配置額外的空間，也不會將資料從內容複寫到新的記憶體位置。</span><span class="sxs-lookup"><span data-stu-id="19827-110">The duplicating functions do not allocate additional space or copy the data from a context into a new memory location.</span></span> <span data-ttu-id="19827-111">這些函數包括 [**CertDuplicateCertificateCoNtext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certduplicatecertificatecontext)、 [**CertDuplicateCRLCoNtext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certduplicatecrlcontext)和 [**CertDuplicateCTLCoNtext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certduplicatectlcontext)。</span><span class="sxs-lookup"><span data-stu-id="19827-111">These functions are [**CertDuplicateCertificateContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certduplicatecertificatecontext), [**CertDuplicateCRLContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certduplicatecrlcontext), and [**CertDuplicateCTLContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certduplicatectlcontext).</span></span> <span data-ttu-id="19827-112">使用任何這些函式所建立的內容，必須使用適當的 CertFree 函式來釋放。</span><span class="sxs-lookup"><span data-stu-id="19827-112">Contexts created with any of these functions must be freed using the appropriate CertFree function.</span></span>

<span data-ttu-id="19827-113">可用憑證、Crl 和 Ctl 的 CryptoAPI 函數有 [**CertFreeCertificateCoNtext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certfreecertificatecontext)、 [**CertFreeCRLCoNtext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certfreecrlcontext)和 [**CertFreeCTLCoNtext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certfreectlcontext)。</span><span class="sxs-lookup"><span data-stu-id="19827-113">The CryptoAPI functions that free certificates, CRLs, and CTLs are [**CertFreeCertificateContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certfreecertificatecontext), [**CertFreeCRLContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certfreecrlcontext), and [**CertFreeCTLContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-certfreectlcontext).</span></span> <span data-ttu-id="19827-114">這些函式中的每一個都會減少內容中的 [*參考計數*](../secgloss/r-gly.md) 。</span><span class="sxs-lookup"><span data-stu-id="19827-114">Each of these functions decreases the [*reference count*](../secgloss/r-gly.md) in a context.</span></span> <span data-ttu-id="19827-115">如果參考計數到達零，則會釋放配置給內容的記憶體。</span><span class="sxs-lookup"><span data-stu-id="19827-115">If the reference count reaches zero, the memory allocated for the context is released.</span></span>

<span data-ttu-id="19827-116">如需使用憑證、Crl 和 Ctl 之函式的完整清單，請參閱 [憑證和憑證存放區維護功能](cryptography-functions.md)、 [憑證功能](cryptography-functions.md)、 [憑證撤銷清單](cryptography-functions.md)函式和 [憑證信任清單](cryptography-functions.md)函式。</span><span class="sxs-lookup"><span data-stu-id="19827-116">For complete lists of functions for working with certificates, CRLs, and CTLs, see [Certificate and Certificate Store Maintenance Functions](cryptography-functions.md), [Certificate Functions](cryptography-functions.md), [Certificate Revocation List Functions](cryptography-functions.md), and [Certificate Trust List Functions](cryptography-functions.md).</span></span>

 

 
