---
description: 公開金鑰加密 (也稱為非對稱金鑰加密) 使用金鑰組來加密和解密內容。
ms.assetid: 93f65367-ca4b-4b44-9833-0653cfd3f3d3
title: 公開金鑰基礎結構
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 09a306f227a3e39c32b7e0eef2dbf1dc4ae9d59942096fb71428339d8a166a04
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/11/2021
ms.locfileid: "120101128"
---
# <a name="public-key-infrastructure"></a>公開金鑰基礎結構

公開金鑰加密 (也稱為非對稱金鑰加密) 使用金鑰組來加密和解密內容。 金鑰組包含一個與數學相關的公用和一個私密金鑰。 想要與其他人安全地通訊的個人可以散發 [*公開金鑰*](/windows/desktop/SecGloss/p-gly) ，但必須保留 [*私密金鑰*](/windows/desktop/SecGloss/p-gly) 秘密。 使用其中一個金鑰加密的內容，可以使用其他金鑰進行解密。 例如，假設 Bob 想要傳送安全的電子郵件訊息給 Alice。 您可以透過下列方式來完成這項作業：

1.  Bob 和 Alice 都有自己的金鑰組。 他們將其私用金鑰安全地保留給自己，並將其公開金鑰直接傳送給彼此。
2.  Bob 使用 Alice 的公開金鑰來加密訊息，並將訊息傳送給她。
3.  Alice 會使用她的私密金鑰來解密訊息。

這個簡化的範例醒目提示 Bob 必須知道他用來加密訊息的公開金鑰。 也就是說，他無法確定他用來加密的金鑰實際上屬於 Alice。 另一方可能會監視 Bob 與 Alice 之間的通道替代不同的金鑰。

公開金鑰基礎結構概念已演進，可協助解決此問題和其他問題。  (PKI) 的公開金鑰基礎結構是由受信任的協力廠商可用來建立公開金鑰完整性和擁有權的軟體和硬體元素所組成。 受信任的合作物件（稱為 [*憑證授權單位*](/windows/desktop/SecGloss/c-gly) 單位 (CA) ）通常會將已簽署的 (加密) 二進位憑證來確認憑證主體的身分識別，並將該身分識別系結至憑證中包含的公開金鑰。 CA 會使用私密金鑰來簽署憑證。 它會向自我簽署 CA 憑證中的所有感興趣的合作物件發出對應的公開金鑰。 使用 CA 時，可以透過下列方式修改上述範例：

1.  假設 CA 已發出包含其公開金鑰的帶正負號數位憑證。 CA 會使用與憑證中公開金鑰對應的私密金鑰來自我簽署此憑證。
2.  Alice 和 Bob 同意使用 CA 來驗證其身分識別。
3.  Alice 向 CA 要求公開金鑰憑證。
4.  CA 會驗證她的身分識別、計算將構成憑證之內容的雜湊、使用對應至已發佈 CA 憑證中公開金鑰的私密金鑰來簽署雜湊、串連憑證內容和簽署的雜湊來建立新的憑證，以及讓新的憑證公開可用。
5.  Bob 抓取憑證、使用 CA 的公開金鑰解密簽署的雜湊、計算憑證內容的新雜湊，以及比較這兩個雜湊。 如果雜湊相符，則會驗證簽章，而 Bob 可以假設憑證中的公開金鑰確實屬於 Alice。
6.  Bob 使用 Alice 驗證的公開金鑰來加密訊息給她。
7.  Alice 會使用她的私密金鑰來解密來自 Bob 的訊息。

總而言之，憑證簽署程式可讓 Bob 驗證公開金鑰未在傳輸期間遭到篡改或損毀。 發出憑證之前，CA 會雜湊內容、簽署 (使用自己的私密金鑰來加密) 雜湊，並在發行的憑證中包含加密的雜湊。 Bob 藉由使用 CA 公開金鑰解密雜湊、執行個別的憑證內容雜湊，以及比較這兩個雜湊來驗證憑證內容。 如果兩者相符，則 Bob 可以合理確定憑證和它所包含的公開金鑰尚未改變。

一般 PKI 是由下列元素所組成。

| 元素                            | 描述                                                                                                                                                                               |
|------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 憑證授權單位<br/> | 作為公開金鑰基礎結構中的根信任，並提供服務來驗證網路中的個人、電腦和其他實體的身分識別。<br/>      |
| 註冊授權單位<br/>  | 由根 CA 認證，可針對根目錄允許的特定用途發出憑證。 在 Microsoft PKI 中， (RA) 的註冊授權單位通常稱為「次級 CA」。<br/> |
| 憑證資料庫<br/>    | 儲存憑證要求，並在 CA 或 RA 上儲存和撤銷憑證和憑證要求。<br/>                                                                       |
| 憑證存放區<br/>       | 在本機電腦上儲存已發行的憑證，以及暫止或已拒絕的憑證要求。<br/>                                                                                  |
| 金鑰保存伺服器<br/>     | 在憑證資料庫中儲存加密的私密金鑰，以在遺失之後復原。<br/>                                                                                              |



 

憑證註冊 API 可讓您將憑證和金鑰保存要求提交給認證和登錄授權單位，並在本機電腦上安裝已發行的憑證。 它不能讓您直接操作憑證資料庫或憑證存放區。

下列主題會更詳細地討論 Microsoft 公開金鑰基礎結構：

-   [X.509 公開金鑰憑證](about-x-509-public-key-certificates.md)
-   [PKI 元素](about-pki-components.md)
-   [信任模型](about-trust-models.md)

## <a name="related-topics"></a>相關主題

<dl> <dt>

[關於憑證註冊 API](about-the-certificate-enrollment-api.md)
</dt> </dl>

 

