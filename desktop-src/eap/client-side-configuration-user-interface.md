---
title: Client-Side 設定消費者介面
description: 實行驗證通訊協定的廠商也可以為通訊協定提供設定使用者介面 (UI) 。
ms.assetid: 956a7ad6-1fd5-4938-aa2f-4de646dfd6c2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1d7296f6afd8fd84f287b6c2c7085e5ed92685f5
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/19/2020
ms.locfileid: "104314887"
---
# <a name="client-side-configuration-user-interface"></a><span data-ttu-id="5da5d-103">Client-Side 設定消費者介面</span><span class="sxs-lookup"><span data-stu-id="5da5d-103">Client-Side Configuration User Interface</span></span>

<span data-ttu-id="5da5d-104">實行驗證通訊協定的廠商也可以為通訊協定提供設定使用者介面 (UI) 。</span><span class="sxs-lookup"><span data-stu-id="5da5d-104">The vendor that implements the authentication protocol may also provide a configuration user interface (UI) for the protocol.</span></span> <span data-ttu-id="5da5d-105">設定 UI 可在與驗證通訊協定相同的 DLL 中，或在個別的 DLL 中執行。</span><span class="sxs-lookup"><span data-stu-id="5da5d-105">The configuration UI may be implemented in the same DLL as the authentication protocol, or in a separate DLL.</span></span> <span data-ttu-id="5da5d-106">此外，執行設定 UI 的 DLL 可能會支援一個以上的驗證通訊協定。</span><span class="sxs-lookup"><span data-stu-id="5da5d-106">Also, the DLL that implements the configuration UI may support more than one authentication protocol.</span></span> <span data-ttu-id="5da5d-107">設定 UI 的 DLL 路徑會儲存在「RAS \_ EAP VALUENAME CONFIGUI 登錄」 \_ 值的「 \_ 驗證通訊協定」機碼下。</span><span class="sxs-lookup"><span data-stu-id="5da5d-107">The path to the DLL for the configuration UI is stored in the RAS\_EAP\_VALUENAME\_CONFIGUI registry value, under the key for the authentication protocol.</span></span> <span data-ttu-id="5da5d-108">如需有關建立此登錄值的詳細資訊，請參閱 [EAP 安裝](eap-installation.md)。</span><span class="sxs-lookup"><span data-stu-id="5da5d-108">For more information about creating this registry value, see [EAP Installation](eap-installation.md).</span></span>

<span data-ttu-id="5da5d-109">設定使用者介面的 DLL 應匯出下列函式的進入點：</span><span class="sxs-lookup"><span data-stu-id="5da5d-109">The DLL for the configuration user interface should export entry points for the following functions:</span></span>

[<span data-ttu-id="5da5d-110">**RasEapInvokeConfigUI**</span><span class="sxs-lookup"><span data-stu-id="5da5d-110">**RasEapInvokeConfigUI**</span></span>](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapinvokeconfigui)

[<span data-ttu-id="5da5d-111">**RasEapFreeMemory**</span><span class="sxs-lookup"><span data-stu-id="5da5d-111">**RasEapFreeMemory**</span></span>](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapfreememory)

<span data-ttu-id="5da5d-112">當使用者建立特定連線的設定專案時，無論是針對 RAS 或無線用戶端，使用者都可以選取服務應該與該專案搭配使用的驗證通訊協定。</span><span class="sxs-lookup"><span data-stu-id="5da5d-112">When the user creates a configuration entry for a particular connection, whether for a RAS or wireless client, the user is able to select the authentication protocol that the service should use with that entry.</span></span> <span data-ttu-id="5da5d-113">如果驗證通訊協定是可設定的，則服務會呼叫 [**RasEapInvokeConfigUI**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapinvokeconfigui) 來叫用設定 UI。</span><span class="sxs-lookup"><span data-stu-id="5da5d-113">If the authentication protocol is configurable, the service calls [**RasEapInvokeConfigUI**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapinvokeconfigui) to invoke the configuration UI.</span></span> <span data-ttu-id="5da5d-114">設定 UI 會將 **RasEapInvokeConfigUI** 傳回的設定資訊儲存在設定專案中。</span><span class="sxs-lookup"><span data-stu-id="5da5d-114">The configuration UI stores the configuration information returned by **RasEapInvokeConfigUI** in the configuration entry.</span></span>

<span data-ttu-id="5da5d-115">設定資訊對用戶端電腦上的所有使用者都是通用的。</span><span class="sxs-lookup"><span data-stu-id="5da5d-115">The configuration information should be generic to all users on the client computer.</span></span> <span data-ttu-id="5da5d-116">特定使用者或使用者的特定資訊不應儲存在專案中。</span><span class="sxs-lookup"><span data-stu-id="5da5d-116">Information specific to a particular user or users should not be stored in the entry.</span></span> <span data-ttu-id="5da5d-117">驗證通訊協定應該使用身分 [識別](obtaining-identity-information.md) 函 [式或互動式使用者介面](interactive-user-interface.md)來取得使用者特定的資訊。</span><span class="sxs-lookup"><span data-stu-id="5da5d-117">The authentication protocol should obtain user-specific information by using the [identity functions](obtaining-identity-information.md) or [interactive user-interface](interactive-user-interface.md).</span></span> <span data-ttu-id="5da5d-118">驗證通訊協定可以將這項資訊儲存在登錄中，方法是將它傳遞至 [**RasEapMakeMessage**](/previous-versions/windows/desktop/legacy/aa363532(v=vs.85))的 *pEapOutput* 參數中的驗證服務。</span><span class="sxs-lookup"><span data-stu-id="5da5d-118">The authentication protocol can store this information in the registry by passing it to the authentication service in the *pEapOutput* parameter of [**RasEapMakeMessage**](/previous-versions/windows/desktop/legacy/aa363532(v=vs.85)).</span></span>

<span data-ttu-id="5da5d-119">設定資訊也應該不是目前電腦的特定資訊;它應該可從機器移植到電腦。</span><span class="sxs-lookup"><span data-stu-id="5da5d-119">The configuration information should also not be specific to the current machine; it should be portable from machine to machine.</span></span>

<span data-ttu-id="5da5d-120">當驗證服務針對驗證通訊協定呼叫 [**RasEapBegin**](/previous-versions/windows/desktop/legacy/aa363520(v=vs.85)) 函式時，它會將包含指標的 [**PPP \_ EAP \_ 輸入**](/windows/desktop/api/Raseapif/ns-raseapif-ppp_eap_input) 結構傳遞至設定資訊。</span><span class="sxs-lookup"><span data-stu-id="5da5d-120">When the authentication service calls the [**RasEapBegin**](/previous-versions/windows/desktop/legacy/aa363520(v=vs.85)) function for the authentication protocol, it passes a [**PPP\_EAP\_INPUT**](/windows/desktop/api/Raseapif/ns-raseapif-ppp_eap_input) structure that contains a pointer to the configuration information.</span></span> <span data-ttu-id="5da5d-121">呼叫 **RasEapBegin** 完成之後，驗證服務會呼叫 [**RasEapFreeMemory**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapfreememory) 來釋放設定資訊所佔用的記憶體。</span><span class="sxs-lookup"><span data-stu-id="5da5d-121">After the call to **RasEapBegin** completes, the authentication service calls [**RasEapFreeMemory**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapfreememory) to free the memory occupied by the configuration information.</span></span> <span data-ttu-id="5da5d-122">因此，在呼叫 **RasEapBegin** 期間，驗證通訊協定應該會將設定資訊複製到私用記憶體緩衝區。</span><span class="sxs-lookup"><span data-stu-id="5da5d-122">Therefore, the authentication protocol should copy the configuration information into a private memory buffer during the call to **RasEapBegin**.</span></span>

<span data-ttu-id="5da5d-123">廠商可以在指定通訊協定預設設定資訊的驗證通訊協定的登錄機碼下新增值。</span><span class="sxs-lookup"><span data-stu-id="5da5d-123">The vendor may add a value under the registry key for the authentication protocol that specifies default configuration information for the protocol.</span></span> <span data-ttu-id="5da5d-124">廠商也可以新增值，指定使用者建立電話簿專案時是否需要輸入設定資訊。</span><span class="sxs-lookup"><span data-stu-id="5da5d-124">The vendor may also add a value that specifies whether the user is required to enter configuration information when they create a phone-book entry.</span></span> <span data-ttu-id="5da5d-125">如需詳細資訊，請參閱 [驗證通訊協定登錄值](authentication-protocol-registry-values.md)。</span><span class="sxs-lookup"><span data-stu-id="5da5d-125">For more information, see [Authentication Protocol Registry Values](authentication-protocol-registry-values.md).</span></span>

 

 