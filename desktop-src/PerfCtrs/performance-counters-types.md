---
description: PDH 定義下列資料類型。
ms.assetid: 8a2e8683-502a-4893-8b4f-5e2cf464a933
title: 效能計數器資料類型
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 38f9800288494eb82f675265b6e0b801c783668d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "106989405"
---
# <a name="performance-counters-data-types"></a><span data-ttu-id="6a99d-103">效能計數器資料類型</span><span class="sxs-lookup"><span data-stu-id="6a99d-103">Performance Counters Data Types</span></span>

## <a name="performance-data-helper-pdh-types"></a><span data-ttu-id="6a99d-104">效能資料協助程式 (PDH) 類型</span><span class="sxs-lookup"><span data-stu-id="6a99d-104">Performance Data Helper (PDH) types</span></span>

<span data-ttu-id="6a99d-105">使用 [效能資料協助程式 (PDH) ](using-the-pdh-functions-to-consume-counter-data.md) 函數的取用者會使用下列類型：</span><span class="sxs-lookup"><span data-stu-id="6a99d-105">Consumers that use the [Performance Data Helper (PDH)](using-the-pdh-functions-to-consume-counter-data.md) functions use the following types:</span></span>

| <span data-ttu-id="6a99d-106">資料類型</span><span class="sxs-lookup"><span data-stu-id="6a99d-106">Data type</span></span> | <span data-ttu-id="6a99d-107">描述</span><span class="sxs-lookup"><span data-stu-id="6a99d-107">Description</span></span>
|-----------|------------
| <span data-ttu-id="6a99d-108">**PDH \_ HQUERY**</span><span class="sxs-lookup"><span data-stu-id="6a99d-108">**PDH\_HQUERY**</span></span>   | <span data-ttu-id="6a99d-109">查詢的控制碼。</span><span class="sxs-lookup"><span data-stu-id="6a99d-109">Handle to a query.</span></span> <span data-ttu-id="6a99d-110">[**PdhOpenQuery**](/windows/win32/api/pdh/nf-pdh-pdhopenqueryw)函式會傳回這個控制碼。</span><span class="sxs-lookup"><span data-stu-id="6a99d-110">The [**PdhOpenQuery**](/windows/win32/api/pdh/nf-pdh-pdhopenqueryw) function returns this handle.</span></span> <span data-ttu-id="6a99d-111">使用 [**PdhCloseQuery**](/windows/win32/api/pdh/nf-pdh-pdhclosequery)關閉控制碼。</span><span class="sxs-lookup"><span data-stu-id="6a99d-111">Close the handle using [**PdhCloseQuery**](/windows/win32/api/pdh/nf-pdh-pdhclosequery).</span></span>
| <span data-ttu-id="6a99d-112">**PDH \_ HCOUNTER**</span><span class="sxs-lookup"><span data-stu-id="6a99d-112">**PDH\_HCOUNTER**</span></span> | <span data-ttu-id="6a99d-113">計數器的控制碼。</span><span class="sxs-lookup"><span data-stu-id="6a99d-113">Handle to a counter.</span></span> <span data-ttu-id="6a99d-114">[**PdhAddCounter**](/windows/win32/api/pdh/nf-pdh-pdhaddcounterw)函式會傳回這個控制碼。</span><span class="sxs-lookup"><span data-stu-id="6a99d-114">The [**PdhAddCounter**](/windows/win32/api/pdh/nf-pdh-pdhaddcounterw) function returns this handle.</span></span> <span data-ttu-id="6a99d-115">使用 [**PdhRemoveCounter**](/windows/win32/api/pdh/nf-pdh-pdhremovecounter) 關閉控制碼，或關閉包含計數器的查詢控制碼。</span><span class="sxs-lookup"><span data-stu-id="6a99d-115">Close the handle using [**PdhRemoveCounter**](/windows/win32/api/pdh/nf-pdh-pdhremovecounter) or by closing the handle to the query that contains the counter.</span></span> <span data-ttu-id="6a99d-116">如果對應的查詢已經關閉，請勿在計數器上呼叫 **PdhRemoveCounter** 。</span><span class="sxs-lookup"><span data-stu-id="6a99d-116">Do not call **PdhRemoveCounter** on a counter if the corresponding query has already been closed.</span></span> <span data-ttu-id="6a99d-117">PDH 會維護計數器和查詢之間的連結，並且在對應的查詢控制碼關閉時，自動關閉計數器控制碼。</span><span class="sxs-lookup"><span data-stu-id="6a99d-117">PDH maintains the linkage between counters and queries and will automatically close counter handles when the corresponding query handle is closed.</span></span>
| <span data-ttu-id="6a99d-118">**PDH \_ HLOG**</span><span class="sxs-lookup"><span data-stu-id="6a99d-118">**PDH\_HLOG**</span></span>     | <span data-ttu-id="6a99d-119">記錄檔的控制碼。</span><span class="sxs-lookup"><span data-stu-id="6a99d-119">Handle to a log file.</span></span> <span data-ttu-id="6a99d-120">[**PdhOpenLog**](/windows/desktop/api/Pdh/nf-pdh-pdhopenloga)和 [**PdhBindInputDataSource**](/windows/desktop/api/Pdh/nf-pdh-pdhbindinputdatasourcea)函數會傳回此控制碼。</span><span class="sxs-lookup"><span data-stu-id="6a99d-120">The [**PdhOpenLog**](/windows/desktop/api/Pdh/nf-pdh-pdhopenloga) and [**PdhBindInputDataSource**](/windows/desktop/api/Pdh/nf-pdh-pdhbindinputdatasourcea) functions return this handle.</span></span> <span data-ttu-id="6a99d-121">使用 [**PdhCloseLog**](/windows/win32/api/pdh/nf-pdh-pdhcloselog)關閉控制碼。</span><span class="sxs-lookup"><span data-stu-id="6a99d-121">Close the handle using [**PdhCloseLog**](/windows/win32/api/pdh/nf-pdh-pdhcloselog).</span></span>
| <span data-ttu-id="6a99d-122">**PDH \_ 狀態**</span><span class="sxs-lookup"><span data-stu-id="6a99d-122">**PDH\_STATUS**</span></span>   | <span data-ttu-id="6a99d-123">PDH 狀態值。</span><span class="sxs-lookup"><span data-stu-id="6a99d-123">PDH status value.</span></span> <span data-ttu-id="6a99d-124">所有 PDH 函數都會傳回類型為 **PDH 的 \_** 值。</span><span class="sxs-lookup"><span data-stu-id="6a99d-124">All PDH functions return a value of type **PDH\_STATUS**.</span></span> <span data-ttu-id="6a99d-125">如果函式成功，則傳回值為「錯誤 \_ 成功」。</span><span class="sxs-lookup"><span data-stu-id="6a99d-125">If the function succeeds, the return value is ERROR\_SUCCESS.</span></span> <span data-ttu-id="6a99d-126">否則，函數會傳回 [系統錯誤碼](/windows/desktop/Debug/system-error-codes) 或 [PDH 錯誤碼](pdh-error-codes.md)。</span><span class="sxs-lookup"><span data-stu-id="6a99d-126">Otherwise, the function returns a [system error code](/windows/desktop/Debug/system-error-codes) or a [PDH error code](pdh-error-codes.md).</span></span>
