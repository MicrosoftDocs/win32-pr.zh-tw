---
description: 定義邏輯上相關的計數器清單。
ms.assetid: d094146a-389e-4053-8ee5-acd29254e817
title: counterSet 複雜類型
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- kbSyntax
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: 95d3abd57a14648013a74b841b898c8a4abf229815e56a68ffc95dbafa1567f0
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/11/2021
ms.locfileid: "119775398"
---
# <a name="counterset-complex-type"></a>counterSet 複雜類型

定義邏輯上相關的計數器清單。

``` syntax
<xs:complexType name="counterSet">
    <xs:sequence>
        <xs:element name="structs"
            type="man:structs"
            minOccurs="0"
            maxOccurs="1"
         />
        <xs:element name="counter"
            type="man:counter"
            minOccurs="1"
            maxOccurs="unbounded"
         />
    </xs:sequence>
    <xs:attribute name="symbol"
        type="man:CSymbolType"
        use="required"
     />
    <xs:attribute name="guid"
        type="man:GUIDType"
        use="required"
     />
    <xs:attribute name="uri"
        type="xs:anyURI"
        use="required"
     />
    <xs:attribute name="name"
        use="required"
    >
        <xs:simpleType>
            <xs:restriction
                base="xs:string"
            >
                <xs:maxLength
                    value="1023"
                 />
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="description"
        type="xs:string"
        use="required"
     />
    <xs:attribute name="instances"
        use="optional"
        default="single"
    >
        <xs:simpleType>
            <xs:restriction
                base="xs:string"
            >
                <xs:enumeration
                    value="single"
                 />
                <xs:enumeration
                    value="multiple"
                 />
                <xs:enumeration
                    value="globalAggregate"
                 />
                <xs:enumeration
                    value="multipleAggregate"
                 />
                <xs:enumeration
                    value="globalAggregateHistory"
                 />
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>
</xs:complexType>
```

## <a name="child-elements"></a>子元素



| 元素     | 類型                                                             | 描述                                                                                            |
|-------------|------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| **計數器** | [**man：計數器**](performance-counters-counter-complex-type.md) | 定義提供者所提供的計數器。<br/>                                               |
| **結構** | [**man：結構**](performance-counters-structs-complex-type.md) | 結構元素的清單，其中包含此計數器集合中定義之計數器的值。<br/> |



## <a name="attributes"></a>屬性



| 名稱        | 類型                                                                    | 描述                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-------------|-------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| description | **xs:string**                                                           | 計數器集合的簡短描述。 <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| guid        | [**男人： GUIDType**](performance-counters-guidtype-simple-type.md)       | 可唯一識別計數器集合的 GUID。 如果已註冊 GUID，則計數器集合註冊會失敗。 若要更新已註冊的計數器集合，您必須先卸載計數器集合，然後再註冊一次。 <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 執行個體   |                                                                         | 判斷計數器集合是否可包含多個實例。 以下列出可能的值：<br/> <dl> <dt><span id="single"></span><span id="SINGLE"></span>單</dt> <dd> 定義計數器集合，其中計數器集合中只能存在一個計數器的實例。 如果計數器提供整個系統的測量（例如實體記憶體），請指定此值。 此為預設值。<br/> </dd> <dt><span id="multiple"></span><span id="MULTIPLE"></span>多個</dt> <dd> 定義計數器集合，其中計數器集合中的多個計數器實例可以存在。 如果計數器提供依實例測量的度量，例如每個進程的處理器時間，請指定此值。<br/> </dd> <dt><span id="globalAggregate"></span><span id="globalaggregate"></span><span id="GLOBALAGGREGATE"></span>globalAggregate</dt> <dd> 定義單一實例計數器集合，其中計數器集合中的計數器必須從不同的使用中來源進行匯總。 例如，您可以建立包含計數器的計數器集合，該計數器會計算硬碟的磁片讀取次數。 如果電腦有三個硬碟，而取用者查詢磁片讀取次數，PERFLIB 會取得每個磁片的讀取次數，並加總其個別值。 <br/> </dd> <dt><span id="multipleAggregate"></span><span id="multipleaggregate"></span><span id="MULTIPLEAGGREGATE"></span>multipleAggregate</dt> <dd> 定義多個實例計數器集合，其中計數器集合中的計數器必須在該計數器的所有實例之間進行匯總。 例如，您可以建立多執行緒應用程式的計數器集合，其中包含計數器來測量執行緒效能 (每個執行緒都會參考計數器集合) 的實例。 當取用者查詢執行緒總執行時間計數器時，PERFLIB 會加匯流排程執行時間與每個實例的總執行時間。<br/> </dd> <dt><span id="globalAggregateHistory"></span><span id="globalaggregatehistory"></span><span id="GLOBALAGGREGATEHISTORY"></span>globalAggregateHistory</dt> <dd> 定義單一實例計數器集合，其計數器值會在取用者的存留期內快取。 請注意，系統會快取計數器集合中的所有計數器。 若只要快取特定計數器，請使用歷程記錄屬性來裝飾這些計數器。<br/> 使用 globalAggregate 的 disk read 範例，會快取計數器集合中的所有計數器值。 如果有一個磁片無法使用，該磁片所讀取之位元組總數的最後一個快取值仍可供取用者應用程式使用。<br/> </dd> </dl> |
| NAME        |                                                                         | 計數器集合的顯示名稱。 必須少於1024個字元。 名稱區分大小寫。 <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 符號      | [**男人： CSymbolType**](performance-counters-csymboltype-simple-type.md) | 識別計數器集合的符號名稱。 [CTRPP](ctrpp.md)工具會建立 GUID 變數，您可以在呼叫需要計數器集 GUID (例如 [**PerfCreateInstance**](/windows/desktop/api/Perflib/nf-perflib-perfcreateinstance)) 的函式時使用。 變數名稱的格式為 *symbolicname* Guid。 <br/> 如果您在呼叫 [CTRPP](ctrpp.md)時包含 **-prefix** 引數，則前置詞字串會加入符號名稱的開頭。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| uri         | **xs： anyURI**                                                           | 唯一的統一資源識別項，可讓使用者從任何位置存取計數器集合中的計數器。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |



## <a name="requirements"></a>規格需求



| 需求 | 值 |
|-------------------------------------|------------------------------------------------------|
| 最低支援的用戶端<br/> | Windows\[僅限 Vista desktop 應用程式\]<br/>       |
| 最低支援的伺服器<br/> | Windows\[僅限 Server 2008 desktop 應用程式\]<br/> |



 

 




