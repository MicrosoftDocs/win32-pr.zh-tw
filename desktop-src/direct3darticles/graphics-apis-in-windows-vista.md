---
title: Windows 中的圖形 Api
description: 本文討論 Windows 圖形功能和 Api。
ms.assetid: 54cd5027-cdcf-fc4a-40a9-beacfaa08681
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7543ee7c5e3cdbfb022cc9299dd5ddd3cdd36981
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/20/2020
ms.locfileid: "104382565"
---
# <a name="graphics-apis-in-windows"></a><span data-ttu-id="f6424-103">Windows 中的圖形 Api</span><span class="sxs-lookup"><span data-stu-id="f6424-103">Graphics APIs in Windows</span></span>

<span data-ttu-id="f6424-104">Windows Vista 支援全新的顯示器驅動程式模型，此模型在引進 Windows Driver Model (適用于 Windows 98 的 WDM) 之後，可代表視頻驅動程式設計的主要修訂。</span><span class="sxs-lookup"><span data-stu-id="f6424-104">Windows Vista includes support for an entirely new display driver model that represents a major revision in the design of video drivers since the introduction of the Windows Driver Model (WDM) for Windows 98.</span></span> <span data-ttu-id="f6424-105">這個經過重新設計的模型反映2D 光柵作業和 GDI 應用程式世界的影片硬體演進，以及具有固定函式圖形硬體的3D 遊戲，最後到可支援多種高效能圖形應用程式的新式可程式化圖形處理單元 (GPU) 。</span><span class="sxs-lookup"><span data-stu-id="f6424-105">This redesigned model reflects the evolution of video hardware from the world of 2D raster operations and GDI applications to that of 3D games with fixed-function graphics hardware, and finally to that of the modern programmable graphics processing unit (GPU) that supports a wide-range of high-performance graphics applications.</span></span> <span data-ttu-id="f6424-106">Windows 7 和 Windows 8 在 Windows Vista 圖形基礎結構上提供其他圖形功能和 Api 來建立。</span><span class="sxs-lookup"><span data-stu-id="f6424-106">Windows 7 and Windows 8 build on the Windows Vista graphics infrastructure by providing additional graphics features and APIs.</span></span> <span data-ttu-id="f6424-107">本文討論 Windows 圖形功能和 Api。</span><span class="sxs-lookup"><span data-stu-id="f6424-107">This articles discusses Windows graphics features and APIs.</span></span>

-   [<span data-ttu-id="f6424-108">背景</span><span class="sxs-lookup"><span data-stu-id="f6424-108">Background</span></span>](#background)
-   [<span data-ttu-id="f6424-109">Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="f6424-109">Direct3D 9</span></span>](#direct3d-9)
-   [<span data-ttu-id="f6424-110">Direct3D 9Ex</span><span class="sxs-lookup"><span data-stu-id="f6424-110">Direct3D 9Ex</span></span>](#direct3d-9ex)
-   [<span data-ttu-id="f6424-111">Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="f6424-111">Direct3D 10</span></span>](#direct3d-10)
-   [<span data-ttu-id="f6424-112">Direct3D 10。1</span><span class="sxs-lookup"><span data-stu-id="f6424-112">Direct3D 10.1</span></span>](#direct3d-101)
-   [<span data-ttu-id="f6424-113">Direct3D 11</span><span class="sxs-lookup"><span data-stu-id="f6424-113">Direct3D 11</span></span>](#direct3d-11)
-   [<span data-ttu-id="f6424-114">Direct3D 11。1</span><span class="sxs-lookup"><span data-stu-id="f6424-114">Direct3D 11.1</span></span>](#direct3d-111)
-   [<span data-ttu-id="f6424-115">Opengl</span><span class="sxs-lookup"><span data-stu-id="f6424-115">OpenGL</span></span>](#opengl)
-   [<span data-ttu-id="f6424-116">應用程式相容性、GDI 及舊版的 Direct3D</span><span class="sxs-lookup"><span data-stu-id="f6424-116">Application Compatibility, GDI, and older versions of Direct3D</span></span>](#application-compatibility-gdi-and-older-versions-of-direct3d)
-   [<span data-ttu-id="f6424-117">建議</span><span class="sxs-lookup"><span data-stu-id="f6424-117">Recommendations</span></span>](#recommendations)

## <a name="background"></a><span data-ttu-id="f6424-118">背景</span><span class="sxs-lookup"><span data-stu-id="f6424-118">Background</span></span>

<span data-ttu-id="f6424-119">從 Windows 的早期日子起，程式設計圖形的主要 API 是圖形裝置介面 (GDI) 。</span><span class="sxs-lookup"><span data-stu-id="f6424-119">The primary API for programming graphics since the early days of Windows has been the Graphical Device Interface (GDI).</span></span> <span data-ttu-id="f6424-120">此 API 設計用來處理許多2D 輸出裝置，並形成 Windows 使用者介面體驗的基礎。</span><span class="sxs-lookup"><span data-stu-id="f6424-120">This API was designed to handle numerous 2D output devices, and it formed the basis for the Windows user interface experience.</span></span> <span data-ttu-id="f6424-121">DirectDraw 和 Direct3D 是以替代 Api 的形式導入，可支援全螢幕遊戲和3D 轉譯為現有硬體的延伸模組。</span><span class="sxs-lookup"><span data-stu-id="f6424-121">DirectDraw and Direct3D were introduced as alternative APIs to support full-screen games and 3D rendering as extensions to the existing hardware of the time.</span></span> <span data-ttu-id="f6424-122">與 GDI 的互動相當複雜。</span><span class="sxs-lookup"><span data-stu-id="f6424-122">Interactions with GDI were complicated.</span></span> <span data-ttu-id="f6424-123">使用 Direct3D 元素之傳統 GDI 元素的有效混合已受到此設計的限制。</span><span class="sxs-lookup"><span data-stu-id="f6424-123">The effective intermixing of traditional GDI elements with Direct3D elements has been limited by this design.</span></span> <span data-ttu-id="f6424-124">Windows XP 版本的 WDM （稱為 XPDM）會反映 GDI 和 Direct3D 的並存本質 (請參閱 [圖 1]) 。</span><span class="sxs-lookup"><span data-stu-id="f6424-124">The Windows XP version of WDM, known as XPDM, reflects the side-by-side nature of GDI and Direct3D (see Figure 1).</span></span>

<span data-ttu-id="f6424-125">**圖1。Windows XP 中的圖形 Api**</span><span class="sxs-lookup"><span data-stu-id="f6424-125">**Figure 1. Graphics APIs in Windows XP**</span></span>

![xpdm](images/graphics-apis-in-windows-xp.gif)

<span data-ttu-id="f6424-127">多年來，3D 視訊卡的威力大幅增加了這項功能專用的大部分硬體。</span><span class="sxs-lookup"><span data-stu-id="f6424-127">Over the years, the power of 3D video cards has grown dramatically to the point where the vast majority of hardware is dedicated to this function.</span></span> <span data-ttu-id="f6424-128">新的驅動程式模型、Windows 顯示驅動程式模型 (WDDM) 、將 GPU 和 Direct3D 帶到 forefront，讓您能夠建立全新的3D 桌面體驗，以完美地將 GDI 的2D 世界與新式可程式化 Gpu 的強大混合。</span><span class="sxs-lookup"><span data-stu-id="f6424-128">A new driver model, Windows Display Driver Model (WDDM), brings the GPU and Direct3D to the forefront, allowing the creation of an entirely new experience, the 3D desktop, that seamlessly blends the 2D world of GDI with the power of modern programmable GPUs.</span></span> <span data-ttu-id="f6424-129">使用 WDDM，影片硬體會完全由 Direct3D 驅動，而所有其他圖形介面會透過以 Direct3D 為中心的新驅動程式模型與視頻硬體通訊 (請參閱 [圖 2]) 。</span><span class="sxs-lookup"><span data-stu-id="f6424-129">With WDDM, the video hardware is driven entirely by Direct3D, and all other graphics interfaces communicate with the video hardware via the new Direct3D–centric driver model (see Figure 2).</span></span>

<span data-ttu-id="f6424-130">**[圖 2]Windows Vista 中的圖形 Api**</span><span class="sxs-lookup"><span data-stu-id="f6424-130">**Figure 2. Graphics APIs in Windows Vista**</span></span>

![wddm](images/graphics-apis-in-windows-vista.gif)

<span data-ttu-id="f6424-132">如需有關 WDDM 的詳細資訊，請參閱 MSDN 上的 [Windows Vista 顯示驅動程式模型 (WDDM) 設計指南](/windows-hardware/drivers/display/windows-vista-display-driver-model-design-guide) 。</span><span class="sxs-lookup"><span data-stu-id="f6424-132">For more information about the WDDM, see [Windows Vista Display Driver Model (WDDM) Design Guide](/windows-hardware/drivers/display/windows-vista-display-driver-model-design-guide) on MSDN.</span></span>

## <a name="direct3d-9"></a><span data-ttu-id="f6424-133">Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="f6424-133">Direct3D 9</span></span>

<span data-ttu-id="f6424-134">第9版的 DirectX 首次發行于2002的 Windows 中，後續更新為2003和2004。</span><span class="sxs-lookup"><span data-stu-id="f6424-134">Version 9 of DirectX was first released for Windows in 2002, with subsequent updates in 2003 and 2004.</span></span> <span data-ttu-id="f6424-135">此 API 代表多年來的 DirectX 技術演進，為 Direct3D 引進功能更強大的著色器程式設計模型，以及由數以千計的出貨標題所支援的成熟度。</span><span class="sxs-lookup"><span data-stu-id="f6424-135">This API represents a decade of evolution of the DirectX technologies, the introduction of more powerful shader programming models for Direct3D, and a maturity backed by thousands of shipping titles.</span></span> <span data-ttu-id="f6424-136">Direct3D 9 是 Windows Vista 上的主要圖形介面。</span><span class="sxs-lookup"><span data-stu-id="f6424-136">Direct3D 9 is the primary graphics interface on Windows Vista.</span></span> <span data-ttu-id="f6424-137">它仍然是理想的 API，可用來撰寫需要在各種現有硬體和 Windows 版本上執行的3D 遊戲和應用程式。</span><span class="sxs-lookup"><span data-stu-id="f6424-137">It remains the ideal API to use for writing 3D games and applications that need to run on the broad range of existing hardware and Windows releases.</span></span> <span data-ttu-id="f6424-138">使用 Direct3D 9 介面的應用程式不會隱藏新驅動程式模型的詳細資料，但在幕後，作業系統會充分利用新功能，以提供真正多工的 GPU、更有效率的資源管理和健全的效能。</span><span class="sxs-lookup"><span data-stu-id="f6424-138">The details of the new driver model are hidden from applications using the Direct3D 9 interfaces, but behind the scenes the operating system is taking full advantage of the new capabilities to provide true multitasking of the GPU, more efficient resource management, and robust performance.</span></span>

<span data-ttu-id="f6424-139">為了確保與舊版 Windows 的完全相容，舊有的驅動程式模型必須使用新的 Windows Vista 顯示驅動程式模型來模擬。</span><span class="sxs-lookup"><span data-stu-id="f6424-139">To ensure full compatibility with older versions of Windows, some quirks of the old driver model must be emulated even with the new Windows Vista display driver model.</span></span> <span data-ttu-id="f6424-140">例如，當全螢幕應用程式失去焦點時，它必須假設它已遺失視訊記憶體中的所有資源 (VRAM) 並重載建立為非受控資源的資源，即使新的驅動程式模型會以透明的方式處理資源，而不會從裝置內容中收回這些資源也是一樣。</span><span class="sxs-lookup"><span data-stu-id="f6424-140">For example, when a full-screen application loses focus, it must assume it has lost all the resources in video memory (VRAM) and reload those it created as unmanaged resources even though the new driver model handles the resources transparently without evicting them from the device context.</span></span> <span data-ttu-id="f6424-141">即使是受管理的和預設資源類型的概念，也是舊的驅動程式模型所特有。</span><span class="sxs-lookup"><span data-stu-id="f6424-141">Even the concept of a managed vs. default resource type is specific to the old driver model.</span></span> <span data-ttu-id="f6424-142">另一個範例是在配置非受控 (預設集區) 資源超過可用 VRAM 數量時的預期失敗，即使新的驅動程式模型可提供幾乎無限的虛擬視訊記憶體數量也是一樣。</span><span class="sxs-lookup"><span data-stu-id="f6424-142">Another example is the expectation of failure when allocating unmanaged (default pool) resources in excess of the amount of VRAM available, even though the new driver model can provide a nearly unlimited amount of virtual video memory.</span></span> <span data-ttu-id="f6424-143">基於這些需求，在 Windows Vista 上執行的 Direct3D 應用程式仍會收到這些錯誤狀況。</span><span class="sxs-lookup"><span data-stu-id="f6424-143">Because of these requirements, Direct3D applications running on Windows Vista will still receive these error conditions.</span></span> <span data-ttu-id="f6424-144">因此，他們在使用基本 Direct3D 9 介面完全使用新驅動程式模型的某些功能時，將會受到限制。</span><span class="sxs-lookup"><span data-stu-id="f6424-144">Thus, they are limited in their ability to use the basic Direct3D 9 interfaces to fully use some features of the new driver model.</span></span>

<span data-ttu-id="f6424-145">雖然 Windows Vista 的新系統隨附的視訊卡將包含 WDDM 驅動程式，而新的驅動程式有許多常用的視訊卡，但 Windows Vista 仍繼續支援使用較舊的 XPDM 驅動程式進行升級和公司版本的能力。</span><span class="sxs-lookup"><span data-stu-id="f6424-145">While new systems shipping with Windows Vista will include video cards with WDDM drivers, and new drivers for a number of popular video cards are included in the box, Windows Vista continues to support the ability to use older XPDM drivers for upgrades and corporate editions.</span></span> <span data-ttu-id="f6424-146">在使用舊驅動程式模型的系統上，您必須使用 Direct3D 9 和舊版介面，而圖形系統的操作與 Windows XP (圖 1) 的作業非常類似。</span><span class="sxs-lookup"><span data-stu-id="f6424-146">On systems using the old driver model, Direct3D 9 and older interfaces must be used, and the operation of the graphics system is very similar to that of Windows XP (Figure 1).</span></span> <span data-ttu-id="f6424-147">需要 WDDM 才能讓應用程式使用 Direct3D 9Ex、Direct3D 10 和更新版本。</span><span class="sxs-lookup"><span data-stu-id="f6424-147">WDDM is required for applications to use Direct3D 9Ex, Direct3D 10, and later versions.</span></span>

## <a name="direct3d-9ex"></a><span data-ttu-id="f6424-148">Direct3D 9Ex</span><span class="sxs-lookup"><span data-stu-id="f6424-148">Direct3D 9Ex</span></span>

<span data-ttu-id="f6424-149">Direct3D 9Ex 介面可讓您存取標準 Direct3D 9 API 的一些延伸模組，以公開虛擬資源配置、新的遺失裝置語義，以及一些在 Windows Vista 上執行時可用的其他新功能。</span><span class="sxs-lookup"><span data-stu-id="f6424-149">The Direct3D 9Ex interface provides access to a slight extension of the standard Direct3D 9 API that exposes the virtualized resource allocation, new lost device semantics, and some other new features available while running on Windows Vista.</span></span> <span data-ttu-id="f6424-150">藉由建立此擴充物件，Direct3D 9 API 會使用新的語義，因此需要應用程式使用不同的邏輯 (因此，您可以) 不同的程式碼路徑，以針對新的條件類型建立、管理和錯誤處理。</span><span class="sxs-lookup"><span data-stu-id="f6424-150">By creating this extended object, the Direct3D 9 API uses the new semantics, and therefore requires the application to use different logic (and therefore different code paths) for resource creation, management, and error handling for new kinds of conditions.</span></span> <span data-ttu-id="f6424-151">此 API 僅適用于 Windows Vista，且需要 WDDM 驅動程式。</span><span class="sxs-lookup"><span data-stu-id="f6424-151">This API is only available on Windows Vista, and it requires WDDM drivers.</span></span> <span data-ttu-id="f6424-152">由於 Direct3D 9Ex 使用的 API 和驅動程式程式碼路徑與 Direct3D 9 不同，因此支援此 API 需要您應用程式的額外測試案例。</span><span class="sxs-lookup"><span data-stu-id="f6424-152">Because Direct3D 9Ex uses a separate API and driver code path than Direct3D 9, supporting this API requires additional test cases for your application.</span></span>

<span data-ttu-id="f6424-153">建立新 Direct3D 9Ex API 的主要原因，是為了讓您能夠完整存取 WDDM 的新功能，同時維持對現有 Direct3D 應用程式的相容性。</span><span class="sxs-lookup"><span data-stu-id="f6424-153">The primary reason for creating the new Direct3D 9Ex API was to allow full access to the new capabilities of WDDM while maintaining compatibility for existing Direct3D applications.</span></span> <span data-ttu-id="f6424-154">新的3D 桌面以及許多 Windows Vista 特定的應用程式會使用這個版本的 Direct3D 9，但是在舊版的 XPDM 驅動程式上執行時，這些應用程式無法運作。</span><span class="sxs-lookup"><span data-stu-id="f6424-154">The new 3D desktop and many Windows Vista-specific applications make use of this version of Direct3D 9, but they are not functional when running on older XPDM drivers.</span></span> <span data-ttu-id="f6424-155">由於 Direct3D 9Ex API 將永遠不會出現在舊版的 Windows 上，因為不支援 WDDM，所以標準 Direct3D 9 介面涵蓋了更廣大的系統組合。</span><span class="sxs-lookup"><span data-stu-id="f6424-155">Because the Direct3D 9Ex API will never appear on older versions of Windows due to a lack of support for the WDDM, the standard Direct3D 9 interfaces cover a much broader set of systems.</span></span> <span data-ttu-id="f6424-156">針對可利用下一代影片硬體的高效能應用程式，最新版本10的 Direct3D 提供許多不是由 Direct3D 9Ex 所公開的新功能。</span><span class="sxs-lookup"><span data-stu-id="f6424-156">For high-performance applications that can take advantage of the next generation of video hardware, the entirely new version 10 of Direct3D provides many new capabilities not exposed by Direct3D 9Ex.</span></span> <span data-ttu-id="f6424-157">因此，針對遊戲和大部分其他應用程式，Direct3D 9 或 Direct3D 10 是建議使用的 API。</span><span class="sxs-lookup"><span data-stu-id="f6424-157">As a result, for games and most other applications, Direct3D 9 or Direct3D 10 is the recommended API.</span></span>

> [!Note]  
> <span data-ttu-id="f6424-158">DirectX SDK 不提供適用于 Direct3D 9Ex 介面的範例、標頭或程式庫。</span><span class="sxs-lookup"><span data-stu-id="f6424-158">The DirectX SDK does not provide samples, headers, or libraries for the Direct3D 9Ex interface.</span></span> <span data-ttu-id="f6424-159">MSDN Library 和 Windows SDK (先前稱為 Platform SDK) 包含可用的檔、標頭和程式庫。</span><span class="sxs-lookup"><span data-stu-id="f6424-159">The MSDN Library and Windows SDK (formerly known as the Platform SDK) contain the available documentation, headers, and libraries.</span></span>

 

<span data-ttu-id="f6424-160">如需 Direct3D 9Ex 的詳細資訊，請參閱 MDSN 上 [的適用于 Windows Vista 的 DirectX](/previous-versions//ms681824(v=vs.85)) 。</span><span class="sxs-lookup"><span data-stu-id="f6424-160">For more information about Direct3D 9Ex, see [DirectX for Windows Vista](/previous-versions//ms681824(v=vs.85)) on MDSN.</span></span>

## <a name="direct3d-10"></a><span data-ttu-id="f6424-161">Direct3D 10</span><span class="sxs-lookup"><span data-stu-id="f6424-161">Direct3D 10</span></span>

<span data-ttu-id="f6424-162">為了充分瞭解新的 Windows Vista 驅動程式模型和新一代硬體的潛力，已建立全新版本的 Direct3D API。</span><span class="sxs-lookup"><span data-stu-id="f6424-162">To fully realize the potential of the new Windows Vista driver model and next-generation hardware, an entirely new version of the Direct3D API has been created.</span></span> <span data-ttu-id="f6424-163">雖然 WDDM 消除了對現有圖形系統效能的一些限制，但是 Direct3D 10 更進一步地探討現有 Direct3D API 中的設計瓶頸，並大幅簡化 GPU 程式設計工作。</span><span class="sxs-lookup"><span data-stu-id="f6424-163">While WDDM eliminates some of the limitations on performance in the existing graphics system, Direct3D 10 goes further by removing design bottlenecks in the existing Direct3D API, and greatly simplifies the task of programming the GPU.</span></span>

<span data-ttu-id="f6424-164">新的 API 完全消除了一些固定函式的層面，並以可程式化的結構來取代，並大幅簡化內部實作為。</span><span class="sxs-lookup"><span data-stu-id="f6424-164">The new API completely eliminates all but a few fixed-function aspects, replacing them with programmable constructs and greatly streamlining the internal implementation.</span></span> <span data-ttu-id="f6424-165">舊版 Direct3D 中數百項功能位已完全消除並取代為一組定義完善的功能，而這些功能對特定的資源格式只有一些選擇性的使用案例。</span><span class="sxs-lookup"><span data-stu-id="f6424-165">The hundreds of capability bits in previous versions of Direct3D have been completely eliminated and replaced with a well-defined, inclusive set of functionality that has only a few optional usage scenarios for specific resource formats.</span></span> <span data-ttu-id="f6424-166">需要大量 CPU 的資源建立和驗證現在在新的 API 中具有明確的語法。</span><span class="sxs-lookup"><span data-stu-id="f6424-166">CPU-intensive resource creation and validation now have explicit semantics in the new API.</span></span> <span data-ttu-id="f6424-167">這可讓您更容易預測效能行為，並大幅減少個別繪製的額外負荷。</span><span class="sxs-lookup"><span data-stu-id="f6424-167">This allows for much more predictable performance behavior, and greatly reduced per-draw overhead.</span></span> <span data-ttu-id="f6424-168">您可以將資源重新設定為多個表單，以在各種階段有效率地使用，而此功能集會在格式的使用案例上施加較少的限制。</span><span class="sxs-lookup"><span data-stu-id="f6424-168">Resources can be reconfigured into multiple forms to allow efficient use at various stages, and the feature set imposes far fewer restrictions on usage scenarios for formats.</span></span> <span data-ttu-id="f6424-169">另外還有新的區塊壓縮的一般地圖材質格式。</span><span class="sxs-lookup"><span data-stu-id="f6424-169">There are also new block-compressed normal-map texture formats.</span></span>

<span data-ttu-id="f6424-170">在新的 API 中，著色器常數和裝置狀態是明確的資源，可讓您更有效率地在硬體上進行快取，並大幅簡化驅動程式驗證。</span><span class="sxs-lookup"><span data-stu-id="f6424-170">In the new API, shader constants and device state are explicit resources, allowing for far more efficient caching on the hardware and greatly simplified driver validation.</span></span> <span data-ttu-id="f6424-171">可程式化著色器模型已跨頂點和圖元著色器進行整合，並使用定義完善的計算模型和運算子來更具表達性。</span><span class="sxs-lookup"><span data-stu-id="f6424-171">The programmable shader model has been unified across both vertex and pixel shaders, and made more expressive with a well-defined computational model and operator set.</span></span> <span data-ttu-id="f6424-172">此外，已新增幾何著色器階段，以在頂點著色器階段之後對基本專案運作。</span><span class="sxs-lookup"><span data-stu-id="f6424-172">Also, a new geometry shader stage has been added to operate on primitives after the vertex shader stage.</span></span> <span data-ttu-id="f6424-173">在管線的頂點和幾何著色器階段中，GPU 工作的結果可以串流處理至影片 RAM 以供重複使用，以提供極複雜的多階段 GPU 作業，並使 CPU 的互動降到最短。</span><span class="sxs-lookup"><span data-stu-id="f6424-173">The results of the GPU’s work in the vertex and geometry shader stages of the pipeline can be streamed out to video RAM for reuse, allowing for the possibility of extremely complex multi-pass GPU operations with minimal CPU interaction.</span></span>

<span data-ttu-id="f6424-174">所有這些增強功能都能提供下一代的圖形技術，並擴充應用程式將工作離線載入至 GPU 的能力。</span><span class="sxs-lookup"><span data-stu-id="f6424-174">All of these enhancements enable next-generation graphics technology and expand the ability of applications to off-load work to the GPU.</span></span> <span data-ttu-id="f6424-175">卸載可讓您以 GPU 為基礎的更複雜的字元外觀、加速變形技術、陰影磁片區產生和延伸、物件和物理系統，這些都是以 GPU 為基礎、更複雜的資料，結合成有效率的大型繪圖批次、程式詳細資料、即時的光線追蹤置換對應、單一傳遞 cube 對應產生，以及許多其他技術—全都可釋出 CPU</span><span class="sxs-lookup"><span data-stu-id="f6424-175">Offloading allows more complex GPU-based character skinning, accelerated morphing techniques, shadow volume generation and extrusion, particle and physics systems that are entirely GPU-based, more complex materials combined into efficient large-draw batches, procedural detailing, real-time ray-traced displacement mapping, single-pass cube-map generation, and many more techniques—all while freeing up CPU resources for more complex applications.</span></span>

<span data-ttu-id="f6424-176">為了在 Direct3D 10 中提供此層級的創新，較舊的硬體無法表示為新介面的部分實作為。</span><span class="sxs-lookup"><span data-stu-id="f6424-176">To provide this level of innovation in Direct3D 10, older hardware cannot be expressed as a partial implementation of a new interface.</span></span> <span data-ttu-id="f6424-177">視訊卡可以支援所有的新功能，或它不是支援 Direct3D 10 功能的卡片。</span><span class="sxs-lookup"><span data-stu-id="f6424-177">A video card is either capable of supporting all of the new features, or it’s not a Direct3D 10–capable card.</span></span> <span data-ttu-id="f6424-178">因此，雖然 Direct3D 9 可以驅動具有許多缺少功能位和使用限制的 DirectX7 紀元硬體，但是 Direct3D 10 只適用于新一代的視訊卡。</span><span class="sxs-lookup"><span data-stu-id="f6424-178">Therefore, while Direct3D 9 could drive DirectX7-era hardware with many missing capability bits and usage limitations, Direct3D 10 only works on a new generation of video cards.</span></span> <span data-ttu-id="f6424-179">若要讓應用程式支援較舊的影片硬體，它也必須支援 Direct3D 9 介面。</span><span class="sxs-lookup"><span data-stu-id="f6424-179">For an application to support older video hardware, it must also support the Direct3D 9 interfaces.</span></span> <span data-ttu-id="f6424-180">未來的 Direct3D 版本將會建立在第10版上，將它擴充至新版的 API，同時確保 Direct3D 10 功能的嚴格超集合。</span><span class="sxs-lookup"><span data-stu-id="f6424-180">Future versions of Direct3D will build on version 10, extending it to new versions of the API while ensuring a strict superset of Direct3D 10 functionality.</span></span>

<span data-ttu-id="f6424-181">如需 Direct3D 10 的詳細資訊，請參閱 [direct3d 10](/windows/desktop/direct3d10/d3d10-graphics)。</span><span class="sxs-lookup"><span data-stu-id="f6424-181">For more information about Direct3D 10, see [Direct3D 10](/windows/desktop/direct3d10/d3d10-graphics).</span></span>

## <a name="direct3d-101"></a><span data-ttu-id="f6424-182">Direct3D 10。1</span><span class="sxs-lookup"><span data-stu-id="f6424-182">Direct3D 10.1</span></span>

<span data-ttu-id="f6424-183">Windows Vista Service Pack 1 擴充了 Direct3D 10 API 與 Direct3D 10.1，這會新增選用介面和額外的著色器模型，以支援支援 Direct3D 10.1 的視訊卡的新硬體功能。</span><span class="sxs-lookup"><span data-stu-id="f6424-183">Windows Vista Service Pack 1 extends the Direct3D 10 API with Direct3D 10.1, which adds optional interfaces and an additional shader model to support new hardware features of video cards that support Direct3D 10.1.</span></span> <span data-ttu-id="f6424-184">所有能夠支援 Direct3D 10.1 的硬體也都能完全支援 Direct3D 10 的所有功能，而遊戲開發人員可以利用 Direct3D 10.1 的其他功能（如果有的話）。</span><span class="sxs-lookup"><span data-stu-id="f6424-184">All hardware that is capable of supporting Direct3D 10.1 also fully supports all features of Direct3D 10, and game developers can make use of the additional features of Direct3D 10.1, when available.</span></span>

> [!Note]  
> <span data-ttu-id="f6424-185">Direct3D 10.1 是 Windows 7 desktop 所使用的圖形 API。</span><span class="sxs-lookup"><span data-stu-id="f6424-185">Direct3D 10.1 is the graphics API used by the Windows 7 desktop.</span></span>

 

> [!Note]  
> <span data-ttu-id="f6424-186">Windows 7 和 Windows Vista update ([KB 971644](https://support.microsoft.com/kb/971644)) 將 DXGI 1.1、10level9 功能等級和 WARP10 裝置的支援新增至現有的 DIRECT3D 10.1 API。</span><span class="sxs-lookup"><span data-stu-id="f6424-186">Windows 7 and the Windows Vista update ([KB 971644](https://support.microsoft.com/kb/971644)) add support for DXGI 1.1, 10level9 feature levels, and the WARP10 device to the existing Direct3D 10.1 API.</span></span>

 

## <a name="direct3d-11"></a><span data-ttu-id="f6424-187">Direct3D 11</span><span class="sxs-lookup"><span data-stu-id="f6424-187">Direct3D 11</span></span>

<span data-ttu-id="f6424-188">Windows 7 支援以 Direct3D 10.1 API 設計為基礎的新版本 Direct3D （Direct3D 11）。</span><span class="sxs-lookup"><span data-stu-id="f6424-188">Windows 7 supports a new revision of Direct3D, Direct3D 11, built on the design of Direct3D 10.1 API.</span></span> <span data-ttu-id="f6424-189">API 的新功能包括多執行緒轉譯和資源建立、計算著色器、10level9 功能等級和 WARP10 軟體轉譯裝置的支援，以及新的 Direct3D 11 類別硬體功能，例如使用輪廓 & 網域著色器、BC6H 和 BC7 材質壓縮格式、著色器模型5.0，以及動態著色器連結。</span><span class="sxs-lookup"><span data-stu-id="f6424-189">New features of the API include multithreaded rendering and resource creation, Compute Shader, support for 10level9 feature levels and the WARP10 software rendering device, and new Direct3D 11 class hardware features such as tessellation using hull & domain shaders, BC6H and BC7 texture compression formats, Shader Model 5.0, and Dynamic Shader Linkage.</span></span> <span data-ttu-id="f6424-190">新的 API 可以使用現有的 Direct3D 10 和10.1 類別的視訊卡、某些 Direct3D 9 卡透過10level9 功能等級（具有有限的功能支援），以及最新一代的 Direct3D 11 類別視訊卡。</span><span class="sxs-lookup"><span data-stu-id="f6424-190">The new API can use existing Direct3D 10 and 10.1 class video cards, some Direct3D 9 cards through the 10level9 feature levels with limited feature support, and the latest generation Direct3D 11 class video cards.</span></span>

<span data-ttu-id="f6424-191">除了 Direct3D 11 API，Windows 7 還包含 DXGI 1.1、Direct2D、DirectWrite 和 WDDM 1.1 驅動程式的支援。</span><span class="sxs-lookup"><span data-stu-id="f6424-191">In addition to the Direct3D 11 API, Windows 7 includes DXGI 1.1, Direct2D, DirectWrite, and support for WDDM 1.1 drivers.</span></span>

> [!Note]  
> <span data-ttu-id="f6424-192">Direct3D 11 和相關 Api 也可作為 Windows Vista 的更新 (請參閱 [KB 971644](https://support.microsoft.com/kb/971644)) 。</span><span class="sxs-lookup"><span data-stu-id="f6424-192">The Direct3D 11 and related APIs are also available as an update to Windows Vista (see [KB 971644](https://support.microsoft.com/kb/971644)).</span></span>

 

## <a name="direct3d-111"></a><span data-ttu-id="f6424-193">Direct3D 11。1</span><span class="sxs-lookup"><span data-stu-id="f6424-193">Direct3D 11.1</span></span>

<span data-ttu-id="f6424-194">Windows 8 使用 Direct3D 11.1 擴充 [direct3d 11 API](#direct3d-11) 。</span><span class="sxs-lookup"><span data-stu-id="f6424-194">Windows 8 extends the [Direct3D 11 API](#direct3d-11) with Direct3D 11.1.</span></span> <span data-ttu-id="f6424-195">Direct3D 11.1 支援 [功能等級](/windows/desktop/direct3d11/overviews-direct3d-11-devices-downlevel-intro) 為11、10 \_ x 和 9 x 支援的所有現有硬體 \_ ，以及新的11個 \_ 功能等級。</span><span class="sxs-lookup"><span data-stu-id="f6424-195">Direct3D 11.1 supports all existing hardware that [feature levels](/windows/desktop/direct3d11/overviews-direct3d-11-devices-downlevel-intro) 11, 10\_x, and 9\_x support, as well as a new 11\_1 feature level.</span></span>

<span data-ttu-id="f6424-196">除了 [Direct3D 11.1 API](/windows/desktop/direct3d11/direct3d-11-1-features)之外，Windows 8 還包含 [DXGI 1.2](/windows/desktop/direct3ddxgi/dxgi-1-2-improvements)、 [DIRECT2D 裝置](/windows/desktop/Direct2D/devices-and-device-contexts)內容，以及 WDDM 1.2 驅動程式的支援。</span><span class="sxs-lookup"><span data-stu-id="f6424-196">In addition to the [Direct3D 11.1 API](/windows/desktop/direct3d11/direct3d-11-1-features), Windows 8 includes [DXGI 1.2](/windows/desktop/direct3ddxgi/dxgi-1-2-improvements), [Direct2D device contexts](/windows/desktop/Direct2D/devices-and-device-contexts), and support for WDDM 1.2 drivers.</span></span>

> [!Note]  
> <span data-ttu-id="f6424-197">如果您想要讓 Windows Store 應用程式使用 DirectX 來設計3D 圖形程式，您可以使用 Direct3D 11.1 API。</span><span class="sxs-lookup"><span data-stu-id="f6424-197">If you want your Windows Store apps to program 3D graphics with DirectX, you can use the Direct3D 11.1 API.</span></span> <span data-ttu-id="f6424-198">如需使用 DirectX 進行3D 圖形程式設計的詳細資訊，請參閱 [使用 directx 的3d 圖形簡介](/previous-versions/windows/apps/hh465137(v=win.10))。</span><span class="sxs-lookup"><span data-stu-id="f6424-198">For more info about programming 3D graphics with DirectX, see [Introduction to 3D graphics with DirectX](/previous-versions/windows/apps/hh465137(v=win.10)).</span></span>

 

<span data-ttu-id="f6424-199">**適用于 Windows 7 的平臺更新：** Windows 7 或 Windows Server 2008 R2 上的 [Direct3D 11.1 API](/windows/desktop/direct3d11/direct3d-11-1-features) 已安裝適用于 [Windows 7 的 Platform Update](https://support.microsoft.com/kb/2670838) 的部分支援。</span><span class="sxs-lookup"><span data-stu-id="f6424-199">**Platform Update for Windows 7:** Partial support is available for the [Direct3D 11.1 API](/windows/desktop/direct3d11/direct3d-11-1-features) on Windows 7 or Windows Server 2008 R2 with the [Platform Update for Windows 7](https://support.microsoft.com/kb/2670838) installed.</span></span> <span data-ttu-id="f6424-200">如需 Windows 7 平臺更新的詳細資訊，請參閱 [windows 7 的平臺更新](platform-update-for-windows-7.md)。</span><span class="sxs-lookup"><span data-stu-id="f6424-200">For more info about the Platform Update for Windows 7, see [Platform Update for Windows 7](platform-update-for-windows-7.md).</span></span>

## <a name="opengl"></a><span data-ttu-id="f6424-201">Opengl</span><span class="sxs-lookup"><span data-stu-id="f6424-201">OpenGL</span></span>

<span data-ttu-id="f6424-202">Windows Vista、Windows 7 和 Windows 8 提供與 Windows XP for OpenGL 相同的支援，可讓視訊卡製造商為 OpenGL 提供可安裝的用戶端驅動程式 (ICD) 提供硬體加速支援。</span><span class="sxs-lookup"><span data-stu-id="f6424-202">Windows Vista, Windows 7, and Windows 8 provide the same support as Windows XP for OpenGL, which allows video card manufactures to provide an installable client driver (ICD) for OpenGL that provides hardware-accelerated support.</span></span> <span data-ttu-id="f6424-203">請注意，這類 ICDs 的較新版本需要完整支援 Windows Vista、Windows 7 或 Windows 8。</span><span class="sxs-lookup"><span data-stu-id="f6424-203">Note that newer versions of such ICDs are required to fully support Windows Vista, or Windows 7, or Windows 8.</span></span> <span data-ttu-id="f6424-204">如果未安裝任何 ICD，系統會在大部分情況下切換回 OpenGL v1.1 軟體層。</span><span class="sxs-lookup"><span data-stu-id="f6424-204">If no ICD is installed, the system will fall back to the OpenGL v1.1 software layer in most cases.</span></span>

## <a name="application-compatibility-gdi-and-older-versions-of-direct3d"></a><span data-ttu-id="f6424-205">應用程式相容性、GDI 及舊版的 Direct3D</span><span class="sxs-lookup"><span data-stu-id="f6424-205">Application Compatibility, GDI, and older versions of Direct3D</span></span>

<span data-ttu-id="f6424-206">Windows Vista、Windows 7 和 Windows 8 圖形系統都是設計來支援各種不同的硬體和使用案例，以啟用新的技術，同時繼續支援現有的系統。</span><span class="sxs-lookup"><span data-stu-id="f6424-206">The Windows Vista, Windows 7, and Windows 8 graphics systems are designed to support a broad range of hardware and usage scenarios to enable new technology while continuing to support existing systems.</span></span> <span data-ttu-id="f6424-207">現有的圖形介面（例如 GDI、GDI + 和舊版的 Direct3D）仍會繼續在 Windows Vista 和 Windows 7 上運作，但可能的話，會在內部重新對應。</span><span class="sxs-lookup"><span data-stu-id="f6424-207">Existing graphics interfaces, such as GDI, GDI+, and older versions of Direct3D, continue to work on Windows Vista and Windows 7, but are internally remapped where possible.</span></span> <span data-ttu-id="f6424-208">這表示大部分現有的 Windows 應用程式將會繼續運作。</span><span class="sxs-lookup"><span data-stu-id="f6424-208">This means that the majority of existing Windows applications will continue to work.</span></span>

<span data-ttu-id="f6424-209">Windows Vista、Windows 7 和 Windows 8 繼續支援與 Windows XP 相同的 Direct3D 和 DirectDraw 介面，再改回 DirectX (的第3版，但 Direct3D's 保留模式除外，但已移除) 。</span><span class="sxs-lookup"><span data-stu-id="f6424-209">Windows Vista, Windows 7, and Windows 8 continue to support the same Direct3D and DirectDraw interfaces as Windows XP, back to version 3 of DirectX (with the exception of Direct3D's Retained Mode, which has been removed).</span></span> <span data-ttu-id="f6424-210">就像 Windows XP Professional x64 Edition 一樣，在較新版本的 Windows 上的64位原生應用程式僅限於 Direct3D9、DirectDraw7 或較新的介面。</span><span class="sxs-lookup"><span data-stu-id="f6424-210">Just as with Windows XP Professional x64 Edition, 64-bit native applications on newer versions of Windows are limited to Direct3D9, DirectDraw7, or newer interfaces.</span></span> <span data-ttu-id="f6424-211">高效能應用程式應該使用 Direct3D 9 或更新版本，以確保它們具有最接近硬體功能的相符項。</span><span class="sxs-lookup"><span data-stu-id="f6424-211">High-performance applications should make use of Direct3D 9 or later to ensure that they have the closest match to the hardware capabilities.</span></span>

## <a name="recommendations"></a><span data-ttu-id="f6424-212">建議</span><span class="sxs-lookup"><span data-stu-id="f6424-212">Recommendations</span></span>

<span data-ttu-id="f6424-213">為圖形化應用程式選取 API 時，請考慮下列建議：</span><span class="sxs-lookup"><span data-stu-id="f6424-213">Consider the following recommendations when selecting an API for your graphical application:</span></span>

-   <span data-ttu-id="f6424-214">如果您的應用程式必須支援 Windows XP 或較早的 Windows 版本，請使用 Direct3D 9。</span><span class="sxs-lookup"><span data-stu-id="f6424-214">Use Direct3D 9 if your application must support Windows XP or an earlier version of Windows.</span></span>
-   <span data-ttu-id="f6424-215">如果您想要支援使用 XPDM 驅動程式執行的 Windows Vista 或 Windows 7，請使用 Direct3D 9。</span><span class="sxs-lookup"><span data-stu-id="f6424-215">Use Direct3D 9 if you want to support Windows Vista or Windows 7 running with XPDM drivers.</span></span> <span data-ttu-id="f6424-216">如果是 Windows Vista 或 Windows 7 系統，但缺少 Direct3D 10 或更佳的影片硬體，您可以選擇使用現有的 Windows XP Direct3D 9 程式碼路徑，或透過 Direct3D 10.1 或 Direct3D 11 API 使用10level9 功能等級。</span><span class="sxs-lookup"><span data-stu-id="f6424-216">For Windows Vista or Windows 7 systems that lack Direct3D 10 or better video hardware, you can either choose to use the existing Windows XP Direct3D 9 code path or use the 10level9 feature levels through the Direct3D 10.1 or Direct3D 11 API.</span></span>
-   <span data-ttu-id="f6424-217">使用 Direct3D 11 來充分利用 Windows Vista、Windows 7 和 Windows 8 下一代的影片硬體。</span><span class="sxs-lookup"><span data-stu-id="f6424-217">Use Direct3D 11 to take advantage of the next generation of video hardware on Windows Vista, Windows 7, and Windows 8.</span></span> <span data-ttu-id="f6424-218">Windows Store 應用程式必須使用 Direct3D 11 或更新版本。</span><span class="sxs-lookup"><span data-stu-id="f6424-218">Windows Store apps must use Direct3D 11 or later.</span></span>

 

 