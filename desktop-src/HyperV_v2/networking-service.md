---
description: 網路設定檔說明用來設定系統以允許虛擬機器透過網路進行通訊的物件。
ms.assetid: A5C4866B-0F65-47B5-8FC4-B92943842B86
title: 網路服務
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fc85b7a5121a3e7e42f333f829816184b57bd8eb
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "106972843"
---
# <a name="networking-service"></a><span data-ttu-id="ceaac-103">網路服務</span><span class="sxs-lookup"><span data-stu-id="ceaac-103">Networking service</span></span>

<span data-ttu-id="ceaac-104">網路設定檔說明用來設定系統以允許虛擬機器透過網路進行通訊的物件。</span><span class="sxs-lookup"><span data-stu-id="ceaac-104">The networking profile describes the objects used for configuring the system to allow virtual machines to communicate over the network.</span></span> <span data-ttu-id="ceaac-105">用來在管理作業系統中設定網路交換器的全域網路物件，包括 [**Msvm \_ VirtualEthernetSwitchManagementService**](msvm-virtualethernetswitchmanagementservice.md)、 [**Msvm \_ VirtualEthernetSwitch**](msvm-virtualethernetswitch.md)和 [**Msvm \_ EthernetSwitchPort**](msvm-ethernetswitchport.md) 類別。</span><span class="sxs-lookup"><span data-stu-id="ceaac-105">The global networking objects, used to configure the network switch in the management operating system, include the [**Msvm\_VirtualEthernetSwitchManagementService**](msvm-virtualethernetswitchmanagementservice.md), [**Msvm\_VirtualEthernetSwitch**](msvm-virtualethernetswitch.md), and [**Msvm\_EthernetSwitchPort**](msvm-ethernetswitchport.md) classes.</span></span> <span data-ttu-id="ceaac-106">虛擬機器網路物件，用來設定虛擬機器中 (NIC) 的網路介面卡，包括 [**Msvm \_ EmulatedEthernetPort**](msvm-emulatedethernetport.md)、 [**Msvm \_ ResourceAllocationSettingData**](msvm-resourceallocationsettingdata.md)和 [**Msvm \_ LANEndpoint**](msvm-lanendpoint.md) 類別。</span><span class="sxs-lookup"><span data-stu-id="ceaac-106">The virtual machine networking objects, used to configure the network interface card (NIC) in the virtual machine, include the [**Msvm\_EmulatedEthernetPort**](msvm-emulatedethernetport.md), [**Msvm\_ResourceAllocationSettingData**](msvm-resourceallocationsettingdata.md), and [**Msvm\_LANEndpoint**](msvm-lanendpoint.md) classes.</span></span>

<span data-ttu-id="ceaac-107">全域網路設定檔的根目錄是 [**Msvm \_ VirtualEthernetSwitch**](msvm-virtualethernetswitch.md) 類別。</span><span class="sxs-lookup"><span data-stu-id="ceaac-107">The root of the global networking profile is the [**Msvm\_VirtualEthernetSwitch**](msvm-virtualethernetswitch.md) class.</span></span> <span data-ttu-id="ceaac-108">此類別代表管理作業系統中的虛擬交換器裝置。</span><span class="sxs-lookup"><span data-stu-id="ceaac-108">This class represents a virtual switch device in the management operating system.</span></span> <span data-ttu-id="ceaac-109">**Msvm \_VirtualEthernetSwitch** 與 Msvm 的同等級器 [**類別 \_**](https://www.bing.com/search?q=**Msvm\_SwitchPort**) 的實例相關聯，代表虛擬交換器上的埠。</span><span class="sxs-lookup"><span data-stu-id="ceaac-109">**Msvm\_VirtualEthernetSwitch** is associated with instances of the [**Msvm\_SwitchPort**](https://www.bing.com/search?q=**Msvm\_SwitchPort**) class, which represents the ports on the virtual switch.</span></span> <span data-ttu-id="ceaac-110">**Msvm \_ VirtualEthernetSwitch** 和 [**Msvm \_ EthernetSwitchPort**](msvm-ethernetswitchport.md)類別的實例是透過 [**Msvm \_ VirtualEthernetSwitchManagementService**](msvm-virtualethernetswitchmanagementservice.md)類別來建立、刪除和連接， (不會在前面的) 所示。</span><span class="sxs-lookup"><span data-stu-id="ceaac-110">Instances of the **Msvm\_VirtualEthernetSwitch** and [**Msvm\_EthernetSwitchPort**](msvm-ethernetswitchport.md) classes are created, deleted, and connected via the [**Msvm\_VirtualEthernetSwitchManagementService**](msvm-virtualethernetswitchmanagementservice.md) class (not shown in the illustration earlier).</span></span>

<span data-ttu-id="ceaac-111">虛擬交換器管理服務 (VSMS) 代表單一 Hyper-v 主機上的網路服務，並包含 [**Msvm \_ VirtualEthernetSwitchManagementService**](msvm-virtualethernetswitchmanagementservice.md) 的方法，可用來控制全域網路資源的定義、修改和終結，例如虛擬交換器、交換器埠和內部乙太網路埠。</span><span class="sxs-lookup"><span data-stu-id="ceaac-111">Virtual Switch Management Service (VSMS) represents the networking service present on a single Hyper-V host and contains methods for [**Msvm\_VirtualEthernetSwitchManagementService**](msvm-virtualethernetswitchmanagementservice.md) used to control the definition, modification, and destruction of global networking resources such as virtual switches, switch ports and internal Ethernet ports.</span></span>

<span data-ttu-id="ceaac-112">虛擬機器中 Ethernet NIC 裝置的表示方式與任何其他裝置的表示類似，如 [**虛擬系統管理服務**](virtual-system-management-service.md)中所述。</span><span class="sxs-lookup"><span data-stu-id="ceaac-112">The representation of the Ethernet NIC device in the virtual machine looks very similar to that of any other device, as described in the [**Virtual System Management Service**](virtual-system-management-service.md).</span></span> <span data-ttu-id="ceaac-113">[**Msvm \_ EmulatedEthernetPort**](msvm-emulatedethernetport.md)和 [**Msvm \_ SyntheticEthernetPort**](msvm-syntheticethernetport.md)類別代表虛擬 NIC 裝置，並透過相關聯的 [**Msvm \_ ResourceAllocationSettingData**](msvm-resourceallocationsettingdata.md) (RASD) 實例來設定。</span><span class="sxs-lookup"><span data-stu-id="ceaac-113">The [**Msvm\_EmulatedEthernetPort**](msvm-emulatedethernetport.md) and [**Msvm\_SyntheticEthernetPort**](msvm-syntheticethernetport.md) classes represent the virtual NIC device, and are configured via an associated [**Msvm\_ResourceAllocationSettingData**](msvm-resourceallocationsettingdata.md) (RASD) instance.</span></span> <span data-ttu-id="ceaac-114">此標記法的唯一不尋常特性是，當虛擬機器具現化並接著建立 **Msvm \_ EmulatedEthernetPort** 和 **Msvm \_ SyntheticEthernetPort** 裝置時，它也會為虛擬 NIC 建立相關聯的 [**Msvm \_ LANEndpoint**](msvm-lanendpoint.md) 實例。</span><span class="sxs-lookup"><span data-stu-id="ceaac-114">The only unusual characteristic of this representation is that, when the virtual machine is instantiated and in turn creates the **Msvm\_EmulatedEthernetPort** and **Msvm\_SyntheticEthernetPort** devices, it also creates an associated [**Msvm\_LANEndpoint**](msvm-lanendpoint.md) instance for the virtual NIC.</span></span> <span data-ttu-id="ceaac-115">同樣地，當虛擬機器儲存或關閉，且 **Msvm \_ EmulatedEthernetPort** 和 **Msvm \_ SyntheticEthernetPort** 實例損毀時，相關聯的 [**Msvm \_ VmLANEndpoint**](https://www.bing.com/search?q=**Msvm\_VmLANEndpoint**) 實例也會終結。</span><span class="sxs-lookup"><span data-stu-id="ceaac-115">Similarly, when the virtual machine is saved or turned off and the **Msvm\_EmulatedEthernetPort** and **Msvm\_SyntheticEthernetPort** instances are destroyed, the associated [**Msvm\_VmLANEndpoint**](https://www.bing.com/search?q=**Msvm\_VmLANEndpoint**) instance is also destroyed.</span></span> <span data-ttu-id="ceaac-116">**Msvm \_ LANEndpoint** 的目的是做為連接兩個網路埠的橋樑。</span><span class="sxs-lookup"><span data-stu-id="ceaac-116">The purpose of the **Msvm\_LANEndpoint** is to serve as a bridge for connecting two networking ports to each other.</span></span> <span data-ttu-id="ceaac-117">在此情況下，它是用來將虛擬 NIC 連線到虛擬交換器裝置上的埠。</span><span class="sxs-lookup"><span data-stu-id="ceaac-117">In this case, it is used to connect a virtual NIC to a port on the virtual switch device.</span></span> <span data-ttu-id="ceaac-118">換句話說，它會將虛擬機器上的 **Msvm \_ EmulatedEthernetPort** 和 **Msvm \_ SyntheticEthernetPort** 實例連接至虛擬交換器上的特定 [**Msvm \_ EthernetSwitchPort**](msvm-ethernetswitchport.md) 實例。</span><span class="sxs-lookup"><span data-stu-id="ceaac-118">In other words, it connects the **Msvm\_EmulatedEthernetPort** and **Msvm\_SyntheticEthernetPort** instances on the virtual machine to a particular [**Msvm\_EthernetSwitchPort**](msvm-ethernetswitchport.md) instance on the virtual switch.</span></span> <span data-ttu-id="ceaac-119">若要將交換器連接到外部，您必須透過 [**BindExternalEthernetPort**](https://www.bing.com/search?q=**BindExternalEthernetPort**)將實體乙太網路埠系結至 [**Msvm \_ VirtualSwitch**](https://www.bing.com/search?q=**Msvm\_VirtualSwitch**) 。</span><span class="sxs-lookup"><span data-stu-id="ceaac-119">To connect a switch to the outside, you must bind the physical Ethernet port to the [**Msvm\_VirtualSwitch**](https://www.bing.com/search?q=**Msvm\_VirtualSwitch**) through [**BindExternalEthernetPort**](https://www.bing.com/search?q=**BindExternalEthernetPort**).</span></span> <span data-ttu-id="ceaac-120">相反地，當您將交換器連接到主機網路堆疊或內部 NIC 時，請使用 ConnectInternal 讓虛擬機器與主機通訊，而不是在外界。</span><span class="sxs-lookup"><span data-stu-id="ceaac-120">Adversely, when connecting a switch to the host networking stack, or internal NIC, use ConnectInternal to have a virtual machine talk to the host and not the outside world.</span></span> <span data-ttu-id="ceaac-121">[**Msvm \_ActiveConnection**](msvm-activeconnection.md) 會將交換器埠連接到在 hyper-v 內連線埠的 [**Msvm \_ SwitchLANEndpoint**](https://www.bing.com/search?q=**Msvm\_SwitchLANEndpoint**) 。</span><span class="sxs-lookup"><span data-stu-id="ceaac-121">[**Msvm\_ActiveConnection**](msvm-activeconnection.md) connects a switch port to the [**Msvm\_SwitchLANEndpoint**](https://www.bing.com/search?q=**Msvm\_SwitchLANEndpoint**) to which the port is connected inside of Hyper-V.</span></span> <span data-ttu-id="ceaac-122">此物件的存在表示交換器埠和 **Msvm \_ SwitchLANEndpoint** 會主動連線，而且與 **Msvm \_ LANEndpoint** 相關聯的乙太網路埠可透過交換器埠與網路通訊。</span><span class="sxs-lookup"><span data-stu-id="ceaac-122">The existence of this object means that the switch port and the **Msvm\_SwitchLANEndpoint** are actively connected and the Ethernet port associated with **Msvm\_LANEndpoint** can communicate with the network through the switch port.</span></span>

 

 



