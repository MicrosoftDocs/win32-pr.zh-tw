---
description: Windows 可攜式裝置支援下列用戶端屬性。
ms.assetid: 6ab75b58-7216-47f6-97fa-0c8fff656eb0
title: '用戶端屬性 (PortableDevice .h) '
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- Client
api_type:
- HeaderDef
api_location:
- PortableDevice.h
ms.openlocfilehash: 840516f9cd5571946d45d00cb1203d47d42dee07
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/22/2021
ms.locfileid: "106983159"
---
# <a name="client-properties"></a><span data-ttu-id="f2c30-103">用戶端屬性</span><span class="sxs-lookup"><span data-stu-id="f2c30-103">Client Properties</span></span>

<span data-ttu-id="f2c30-104">Windows 可攜式裝置支援下列用戶端屬性。</span><span class="sxs-lookup"><span data-stu-id="f2c30-104">Windows Portable Devices supports the following client properties.</span></span>



| <span data-ttu-id="f2c30-105">屬性</span><span class="sxs-lookup"><span data-stu-id="f2c30-105">Property</span></span>                                          | <span data-ttu-id="f2c30-106">VarType</span><span class="sxs-lookup"><span data-stu-id="f2c30-106">VarType</span></span>                   | <span data-ttu-id="f2c30-107">Description</span><span class="sxs-lookup"><span data-stu-id="f2c30-107">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|---------------------------------------------------|---------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f2c30-108">**WPD \_ 用戶端 \_ 所需的 \_ 存取**</span><span class="sxs-lookup"><span data-stu-id="f2c30-108">**WPD\_CLIENT\_DESIRED\_ACCESS**</span></span>                  | <span data-ttu-id="f2c30-109">**VT \_ UI4**</span><span class="sxs-lookup"><span data-stu-id="f2c30-109">**VT\_UI4**</span></span>               | <span data-ttu-id="f2c30-110">值，指定用戶端需要唯一的存取權限，例如泛型 \_ 唯讀。</span><span class="sxs-lookup"><span data-stu-id="f2c30-110">A value that specifies that the client requires unique access permissions, such as GENERIC\_READ only.</span></span> <span data-ttu-id="f2c30-111">如果未設定此屬性，WPD 會採用一般 \_ 讀取 \| 一般 \_ 寫入，這是建議的預設值。</span><span class="sxs-lookup"><span data-stu-id="f2c30-111">If this property is not set, WPD assumes GENERIC\_READ \| GENERIC\_WRITE, which is the recommended default.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="f2c30-112">**WPD \_ 用戶端 \_ 主要 \_ 版本**</span><span class="sxs-lookup"><span data-stu-id="f2c30-112">**WPD\_CLIENT\_MAJOR\_VERSION**</span></span>                   | <span data-ttu-id="f2c30-113">**VT \_ UI4**</span><span class="sxs-lookup"><span data-stu-id="f2c30-113">**VT\_UI4**</span></span>               | <span data-ttu-id="f2c30-114">指定用戶端主要版本的數位。</span><span class="sxs-lookup"><span data-stu-id="f2c30-114">A number that specifies the major version of the client.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="f2c30-115">**WPD \_ 用戶端 \_ 次要 \_ 版本**</span><span class="sxs-lookup"><span data-stu-id="f2c30-115">**WPD\_CLIENT\_MINOR\_VERSION**</span></span>                   | <span data-ttu-id="f2c30-116">**VT \_ UI4**</span><span class="sxs-lookup"><span data-stu-id="f2c30-116">**VT\_UI4**</span></span>               | <span data-ttu-id="f2c30-117">指定用戶端次要版本的數位。</span><span class="sxs-lookup"><span data-stu-id="f2c30-117">A number that specifies the minor version of the client.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="f2c30-118">**WPD \_ 用戶端 \_ 名稱**</span><span class="sxs-lookup"><span data-stu-id="f2c30-118">**WPD\_CLIENT\_NAME**</span></span>                             | <span data-ttu-id="f2c30-119">**VT \_ LPWSTR**</span><span class="sxs-lookup"><span data-stu-id="f2c30-119">**VT\_LPWSTR**</span></span>            | <span data-ttu-id="f2c30-120">用戶端應用程式的名稱字串。</span><span class="sxs-lookup"><span data-stu-id="f2c30-120">A name string for the client application.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="f2c30-121">**WPD \_ 用戶端 \_ 修訂**</span><span class="sxs-lookup"><span data-stu-id="f2c30-121">**WPD\_CLIENT\_REVISION**</span></span>                         | <span data-ttu-id="f2c30-122">**VT \_ UI4**</span><span class="sxs-lookup"><span data-stu-id="f2c30-122">**VT\_UI4**</span></span>               | <span data-ttu-id="f2c30-123">指定用戶端 (或組建編號) 修訂的數位。</span><span class="sxs-lookup"><span data-stu-id="f2c30-123">A number that specifies the revision (or build number) of the client.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="f2c30-124">**WPD \_ 客戶 \_ 端 \_ 安全性 \_ \_ 服務品質**</span><span class="sxs-lookup"><span data-stu-id="f2c30-124">**WPD\_CLIENT\_SECURITY\_QUALITY\_OF\_SERVICE**</span></span>   | <span data-ttu-id="f2c30-125">**VT \_ UI4**</span><span class="sxs-lookup"><span data-stu-id="f2c30-125">**VT\_UI4**</span></span>               | <span data-ttu-id="f2c30-126">值，指定連接至驅動程式的安全性服務品質。</span><span class="sxs-lookup"><span data-stu-id="f2c30-126">A value that specifies the security quality of service for the connection to the driver.</span></span> <span data-ttu-id="f2c30-127">這與 **CreateFile** 的服務旗標安全性品質有關。</span><span class="sxs-lookup"><span data-stu-id="f2c30-127">This relates to the Security Quality of Service flags for **CreateFile**.</span></span><br/> <span data-ttu-id="f2c30-128">例如，這些旗標允許或不允許驅動程式模擬用戶端。</span><span class="sxs-lookup"><span data-stu-id="f2c30-128">For example, these flags allow or disallow a driver to impersonate the client.</span></span> <span data-ttu-id="f2c30-129">\_如果未提供此值，則會假設為安全性識別。</span><span class="sxs-lookup"><span data-stu-id="f2c30-129">SECURITY\_IDENTIFICATION is assumed if this value is not provided.</span></span> <span data-ttu-id="f2c30-130">一般而言，應用程式應該將此值設定為安全性模擬 \_ ，因為某些驅動程式需要模擬才能運作。</span><span class="sxs-lookup"><span data-stu-id="f2c30-130">Typically, applications should set this value to SECURITY\_IMPERSONATION, since some drivers will require impersonation in order to function.</span></span> <span data-ttu-id="f2c30-131">不過，在具有已知裝置子集的嚴格安全性需求下執行的應用程式，可能會想要限制驅動程式識別或模擬呼叫者的能力。</span><span class="sxs-lookup"><span data-stu-id="f2c30-131">However, applications running under strict security requirements with a known subset of devices may want to restrict the driver's ability to identify or impersonate the caller.</span></span> <span data-ttu-id="f2c30-132">請注意，將模擬等級減少為低於安全性模擬的任何 \_ 部分，可能會導致某些驅動程式功能降低。</span><span class="sxs-lookup"><span data-stu-id="f2c30-132">Note that reducing the impersonation level to anything lower than SECURITY\_IMPERSONATION may result in some drivers having reduced functionality.</span></span><br/>                                         |
| <span data-ttu-id="f2c30-133">**WPD \_ 用戶端 \_ 共用 \_ 模式**</span><span class="sxs-lookup"><span data-stu-id="f2c30-133">**WPD\_CLIENT\_SHARE\_MODE**</span></span>                      | <span data-ttu-id="f2c30-134">**VT \_ UI4**</span><span class="sxs-lookup"><span data-stu-id="f2c30-134">**VT\_UI4**</span></span>               | <span data-ttu-id="f2c30-135">值，指定用戶端從驅動程式要求的共用模式。</span><span class="sxs-lookup"><span data-stu-id="f2c30-135">A value that specifies the share mode the client is requesting from the driver.</span></span> <span data-ttu-id="f2c30-136">可能的值與 **CreateFile** 相同，例如，檔案 \_ 共用 \_ 讀取、檔案 \_ 共用 \_ 寫入等等。</span><span class="sxs-lookup"><span data-stu-id="f2c30-136">The possible values are the same as for **CreateFile**, for example, FILE\_SHARE\_READ, FILE\_SHARE\_WRITE, and so on.</span></span><br/> <span data-ttu-id="f2c30-137">\_ \_ \| \_ \_ 如果用戶端未指定此參數，則會假設為檔案共用讀取檔案共用寫入。</span><span class="sxs-lookup"><span data-stu-id="f2c30-137">FILE\_SHARE\_READ \| FILE\_SHARE\_WRITE is assumed if the client does not specify this parameter.</span></span> <span data-ttu-id="f2c30-138">這是建議的預設值。</span><span class="sxs-lookup"><span data-stu-id="f2c30-138">This is the recommended default.</span></span> <span data-ttu-id="f2c30-139">但是，如果需要不同的共用模式，例如， \_ \_ 唯讀取要求讀取共用的檔案共用，則需要此參數。</span><span class="sxs-lookup"><span data-stu-id="f2c30-139">However, where a different share mode is required, for example, FILE\_SHARE\_READ to request read sharing only, this parameter is required.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="f2c30-140">**WPD \_ 用戶端 \_ WMDRM \_ 應用程式 \_ 私用 \_ 金鑰**</span><span class="sxs-lookup"><span data-stu-id="f2c30-140">**WPD\_CLIENT\_WMDRM\_APPLICATION\_PRIVATE\_KEY**</span></span> | <span data-ttu-id="f2c30-141">**VT \_ 向量 \_ \| vt \_ UI1**</span><span class="sxs-lookup"><span data-stu-id="f2c30-141">**VT\_VECTOR\_\|VT\_UI1**</span></span> | <span data-ttu-id="f2c30-142">值，指定用戶端的 Windows Media DRM 應用程式私用金鑰。</span><span class="sxs-lookup"><span data-stu-id="f2c30-142">A value that specifies the Windows Media DRM application private key of the client.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="f2c30-143">**WPD \_ 用戶端 \_ WMDRM \_ 應用程式 \_ 憑證**</span><span class="sxs-lookup"><span data-stu-id="f2c30-143">**WPD\_CLIENT\_WMDRM\_APPLICATION\_CERTIFICATE**</span></span>  | <span data-ttu-id="f2c30-144">**VT \_ 向量 \_ \| vt \_ UI1**</span><span class="sxs-lookup"><span data-stu-id="f2c30-144">**VT\_VECTOR\_\|VT\_UI1**</span></span> | <span data-ttu-id="f2c30-145">值，指定用戶端的 Windows Media DRM 憑證。</span><span class="sxs-lookup"><span data-stu-id="f2c30-145">A value that specifies the Windows Media DRM certificate of the client.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="f2c30-146">**WPD \_ 用戶端 \_ 事件 \_ COOKIE**</span><span class="sxs-lookup"><span data-stu-id="f2c30-146">**WPD\_CLIENT\_EVENT\_COOKIE**</span></span>                    | <span data-ttu-id="f2c30-147">**VT \_ LPWSTR**</span><span class="sxs-lookup"><span data-stu-id="f2c30-147">**VT\_LPWSTR**</span></span>            | <span data-ttu-id="f2c30-148">用戶端提供的 cookie，是由這個用戶端發出的作業直接結果所張貼的事件中的驅動程式所傳回。</span><span class="sxs-lookup"><span data-stu-id="f2c30-148">A Client supplied cookie returned by the driver in events posted as a direct result of operations issued by this client.</span></span> <span data-ttu-id="f2c30-149">這是選擇性的屬性，驅動程式可以提供此屬性作為事件參數。</span><span class="sxs-lookup"><span data-stu-id="f2c30-149">This is an optional property which the driver may supply as an event parameter.</span></span> <span data-ttu-id="f2c30-150">用戶端通常會使用此值來優化其事件處理。</span><span class="sxs-lookup"><span data-stu-id="f2c30-150">Clients typically use this value to optimize their event handling.</span></span> <span data-ttu-id="f2c30-151">例如，如果用戶端刪除物件，其事件處理常式可能會選擇忽略產生的事件，並瞭解它是否已採取適當的動作 (例如，在發出 delete) 的執行緒中更新視圖。</span><span class="sxs-lookup"><span data-stu-id="f2c30-151">For example if the client deletes an object, its event handler may choose to ignore the resulting event knowing that it already took the appropriate action (e.g. updated the view in the thread that issued the delete).</span></span>                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="f2c30-152">**WPD \_ 用戶端 \_ 最小 \_ 結果 \_ 緩衝區 \_ 大小**</span><span class="sxs-lookup"><span data-stu-id="f2c30-152">**WPD\_CLIENT\_MINIMUM\_RESULTS\_BUFFER\_SIZE**</span></span>   | <span data-ttu-id="f2c30-153">**VT \_ UI4**</span><span class="sxs-lookup"><span data-stu-id="f2c30-153">**VT\_UI4**</span></span>               | <span data-ttu-id="f2c30-154">指定傳送命令至驅動程式的緩衝區大小下限 (位元組) 。</span><span class="sxs-lookup"><span data-stu-id="f2c30-154">Specifies the minimum buffer size (in bytes) for sending commands to the driver.</span></span> <span data-ttu-id="f2c30-155">用戶端可以使用這個選項，來建議用來將命令傳送至驅動程式的內部緩衝區大小下限。</span><span class="sxs-lookup"><span data-stu-id="f2c30-155">Clients can use this option to recommend the minimum size of the internal buffer that is used for sending commands to the driver.</span></span> <span data-ttu-id="f2c30-156">這可能會導致用戶端的記憶體使用量較小，只會傳送具有小型資料大小的命令，例如取得或設定屬性。</span><span class="sxs-lookup"><span data-stu-id="f2c30-156">This can result in a smaller memory footprint for clients that only send commands with small data sizes, such as getting or setting properties.</span></span> <span data-ttu-id="f2c30-157">驅動程式可以在其裝置參數區段中設定 **PortableDeviceResultsBufferMin** 來覆寫此緩衝區大小。</span><span class="sxs-lookup"><span data-stu-id="f2c30-157">The driver can override this buffer size by setting **PortableDeviceResultsBufferMin** in its Device Parameters section.</span></span> <span data-ttu-id="f2c30-158">此緩衝區大小必須是1024或更新版本。</span><span class="sxs-lookup"><span data-stu-id="f2c30-158">This buffer size must be 1024 or above.</span></span> <span data-ttu-id="f2c30-159">如果用戶端和驅動程式都沒有設定緩衝區大小，則預設為 1 MB。</span><span class="sxs-lookup"><span data-stu-id="f2c30-159">If neither the client nor the driver sets the buffer size, it defaults to 1 MB.</span></span>                                                                                                                                                                                                                                                  |
| <span data-ttu-id="f2c30-160">**\_中斷連線時 WPD 用戶端 \_ 手動 \_ 關閉 \_ \_**</span><span class="sxs-lookup"><span data-stu-id="f2c30-160">**WPD\_CLIENT\_MANUAL\_CLOSE\_ON\_DISCONNECT**</span></span>    | <span data-ttu-id="f2c30-161">**VT \_ BOOL**</span><span class="sxs-lookup"><span data-stu-id="f2c30-161">**VT\_BOOL**</span></span>              | <span data-ttu-id="f2c30-162">用戶端的 advanced 選項，會針對每個已中斷連線的物件手動呼叫 **IPortableDevice：： close** 或 **IPortableDeviceService：： close** ，而不是依賴 API 來執行這項作業。</span><span class="sxs-lookup"><span data-stu-id="f2c30-162">An advanced option for clients that manually call **IPortableDevice::Close** or **IPortableDeviceService::Close** for each disconnected object, instead of relying on the API to do this.</span></span> <span data-ttu-id="f2c30-163">如果用戶端未指定此參數，則會假設為 FALSE。</span><span class="sxs-lookup"><span data-stu-id="f2c30-163">FALSE is assumed if the client does not specify this parameter.</span></span> <span data-ttu-id="f2c30-164">如果用戶端未接聽 **WM \_ DEVICECHANGE** 訊息，則這是建議的預設值。</span><span class="sxs-lookup"><span data-stu-id="f2c30-164">This is the recommended default if the client is not listening for **WM\_DEVICECHANGE** messages.</span></span> <span data-ttu-id="f2c30-165">指定此選項的用戶端通常會接聽裝置的 **WM \_ DEVICECHANGE** 訊息，然後在裝置中斷連線時手動關閉 **IPortableDevice** 和 **IPortableDeviceService** 實例。</span><span class="sxs-lookup"><span data-stu-id="f2c30-165">Clients that specify this option typically listen for **WM\_DEVICECHANGE** messages for the device and then manually close the **IPortableDevice** and **IPortableDeviceService** instances on device disconnect.</span></span> <span data-ttu-id="f2c30-166">選擇此選項的用戶端，必須在裝置中斷連線時釋出這些物件，以謹慎地管理每個 **IPortableDevice** 和 **IPortableDeviceService** 實例的存留期。</span><span class="sxs-lookup"><span data-stu-id="f2c30-166">Clients that choose this option must carefully manage the lifetime of each **IPortableDevice** and **IPortableDeviceService** instance by releasing these objects when the device is disconnected.</span></span> <span data-ttu-id="f2c30-167">若未這麼做，將會導致驅動程式的 WUDFHost.exe 進程流失。</span><span class="sxs-lookup"><span data-stu-id="f2c30-167">Failure to do so will result in leaks in the WUDFHost.exe processes for the driver.</span></span> |



 

## <a name="requirements"></a><span data-ttu-id="f2c30-168">規格需求</span><span class="sxs-lookup"><span data-stu-id="f2c30-168">Requirements</span></span>



| <span data-ttu-id="f2c30-169">需求</span><span class="sxs-lookup"><span data-stu-id="f2c30-169">Requirement</span></span> | <span data-ttu-id="f2c30-170">值</span><span class="sxs-lookup"><span data-stu-id="f2c30-170">Value</span></span> |
|-------------------|---------------------------------------------------------------------------------------------|
| <span data-ttu-id="f2c30-171">標頭</span><span class="sxs-lookup"><span data-stu-id="f2c30-171">Header</span></span><br/> | <dl> <span data-ttu-id="f2c30-172"><dt>PortableDevice。h</dt></span><span class="sxs-lookup"><span data-stu-id="f2c30-172"><dt>PortableDevice.h</dt></span></span> </dl> |



## <a name="see-also"></a><span data-ttu-id="f2c30-173">另請參閱</span><span class="sxs-lookup"><span data-stu-id="f2c30-173">See also</span></span>

<dl> <dt>

[<span data-ttu-id="f2c30-174">**WPD 屬性和屬性**</span><span class="sxs-lookup"><span data-stu-id="f2c30-174">**WPD Properties and Attributes**</span></span>](properties-and-attributes.md)
</dt> </dl>

 

 




