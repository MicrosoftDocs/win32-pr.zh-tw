---
description: 呼叫佇列或路由點是參數內的特殊位址，其中呼叫會暫時保留暫止的動作。
ms.assetid: 1c801401-be05-4b5f-bc4f-628dde0f3cf7
title: 呼叫佇列和路由點
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 66895101b72ca8e16810d3766edf897efcfedddd
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "104192616"
---
# <a name="call-queues-and-route-points"></a><span data-ttu-id="6d167-103">呼叫佇列和路由點</span><span class="sxs-lookup"><span data-stu-id="6d167-103">Call Queues and Route Points</span></span>

<span data-ttu-id="6d167-104">呼叫佇列或路由點是參數內的特殊位址，其中呼叫會暫時保留暫止的動作。</span><span class="sxs-lookup"><span data-stu-id="6d167-104">A call queue or route point is a special address within the switch where calls are temporarily held pending action.</span></span> <span data-ttu-id="6d167-105">這個特性是以 LINEADDRESSCAPS 中 DwAddrCapFlags 成員的 bits LINEADDRCAPFLAGS \_ QUEUE 和 LINEADDRCAPFLAGS ROUTEPOINT 來表示 \_ 。  [](/windows/desktop/api/Tapi/ns-tapi-lineaddresscaps)</span><span class="sxs-lookup"><span data-stu-id="6d167-105">This characteristic is represented by the bits LINEADDRCAPFLAGS\_QUEUE and LINEADDRCAPFLAGS\_ROUTEPOINT in the **dwAddrCapFlags** member in [**LINEADDRESSCAPS**](/windows/desktop/api/Tapi/ns-tapi-lineaddresscaps).</span></span> <span data-ttu-id="6d167-106">出現在這類位址上的所有呼叫都是由應用程式等候動作，而且可能會有執行的預設動作 (例如，如果應用程式在定義的期間內不採取任何動作，請傳送至代理程式或主幹) 。</span><span class="sxs-lookup"><span data-stu-id="6d167-106">All calls appearing on such an address are awaiting action by the application, and there can be default actions that take place (for example, transfer to an agent or trunk) if the application takes no action within a defined period of time.</span></span> <span data-ttu-id="6d167-107">應用程式必須由系統管理員設定，如此一來，它就能知道應該對每個佇列或路由點位址上出現的呼叫採取哪些動作，以及可用來決定要採取之動作的時間量。</span><span class="sxs-lookup"><span data-stu-id="6d167-107">The application must be configured by the system administrator so that it knows what actions it should take regarding calls appearing on each queue or route point address, and the amount of time available to decide on the action to take.</span></span>

<span data-ttu-id="6d167-108">應用程式可以使用 [**lineGetAddressStatus**](/windows/desktop/api/Tapi/nf-tapi-linegetaddressstatus)來判斷佇列或路由點中暫止的呼叫數目。</span><span class="sxs-lookup"><span data-stu-id="6d167-108">Applications can determine the number of calls pending in a queue or route point using [**lineGetAddressStatus**](/windows/desktop/api/Tapi/nf-tapi-linegetaddressstatus).</span></span> <span data-ttu-id="6d167-109">[**LineGetCallInfo**](/windows/desktop/api/Tapi/nf-tapi-linegetcallinfo)函式可用來取得資訊，例如呼叫識別碼、傳入或傳出來源等，以及應用程式用來進行呼叫處理的決策;您可以重新導向、轉型、捨棄等呼叫，或只允許自動將佇列傳遞至目的地。</span><span class="sxs-lookup"><span data-stu-id="6d167-109">The [**lineGetCallInfo**](/windows/desktop/api/Tapi/nf-tapi-linegetcallinfo) function can be used to obtain information such as calling ID, called ID, incoming or outgoing origin, and so on, and used by the application to make decisions on call handling; calls can be redirected, blind-transferred, dropped, and so on, or just allowed to automatically pass out of the queue to a destination.</span></span> <span data-ttu-id="6d167-110">若已放棄，則呼叫 LINECALLSTATE \_ 中斷連線。</span><span class="sxs-lookup"><span data-stu-id="6d167-110">A call goes to LINECALLSTATE\_DISCONNECTED if it is abandoned.</span></span> <span data-ttu-id="6d167-111">離開佇列時，呼叫進入 *閒置狀態* ; **lineGetCallInfo** 可以用來讀取重新導向識別碼，以判斷它們的傳送位置。</span><span class="sxs-lookup"><span data-stu-id="6d167-111">Calls go *idle* when they leave the queue; **lineGetCallInfo** can be used to read the redirection identifier to determine where they were transferred.</span></span>

<span data-ttu-id="6d167-112">某些參數允許在佇列中進行呼叫，或在保存時接收特定的處理，例如無聲、回電、忙碌信號、音樂或接聽錄製的公告。</span><span class="sxs-lookup"><span data-stu-id="6d167-112">Some switches allow calls in a queue or on hold to receive particular treatment such as silence, ringback, busy signal, music, or listening to a recorded announcement.</span></span> <span data-ttu-id="6d167-113">[**LineSetCallTreatment**](/windows/desktop/api/Tapi/nf-tapi-linesetcalltreatment)函式可讓應用程式控制處理。</span><span class="sxs-lookup"><span data-stu-id="6d167-113">The [**lineSetCallTreatment**](/windows/desktop/api/Tapi/nf-tapi-linesetcalltreatment) function allows the application to control the treatment.</span></span> <span data-ttu-id="6d167-114">[**LINEADDRESSCAPS**](/windows/desktop/api/Tapi/ns-tapi-lineaddresscaps)中的 **dwCallTreatmentListSize** 和 **dwCallTreatmentListOffset** 成員所分隔的結構，可讓應用程式判斷支援的治療。</span><span class="sxs-lookup"><span data-stu-id="6d167-114">The structure delimited by the **dwCallTreatmentListSize** and **dwCallTreatmentListOffset** members in [**LINEADDRESSCAPS**](/windows/desktop/api/Tapi/ns-tapi-lineaddresscaps) allows applications to determine the supported treatments.</span></span> <span data-ttu-id="6d167-115">[**LINECALLINFO**](/windows/desktop/api/Tapi/ns-tapi-linecallinfo)中的 **dwCallTreatment** 成員表示目前的處理，而具有 LINECALLINFOSTATE 處理的 [**行 \_ CALLINFO**](line-callinfo.md)訊息會 \_ 指出此變更的時間。</span><span class="sxs-lookup"><span data-stu-id="6d167-115">The **dwCallTreatment** member in [**LINECALLINFO**](/windows/desktop/api/Tapi/ns-tapi-linecallinfo) indicates the current treatment, and a [**LINE\_CALLINFO**](line-callinfo.md) message with LINECALLINFOSTATE\_TREATMENT indicates when this changes.</span></span> <span data-ttu-id="6d167-116">LINECALLSTATUS 中 \_ **dwCallFeatures** 成員的 LINECALLFEATURE SETTREATMENT 位表示 [](/windows/desktop/api/Tapi/ns-tapi-linecallstatus)允許應用程式變更處理的時間。</span><span class="sxs-lookup"><span data-stu-id="6d167-116">The LINECALLFEATURE\_SETTREATMENT bit in the **dwCallFeatures** member in [**LINECALLSTATUS**](/windows/desktop/api/Tapi/ns-tapi-linecallstatus) indicates when the application is permitted to change the treatment.</span></span> <span data-ttu-id="6d167-117">LINECALLTREATMENT \_ 常數集定義一組有限的預先定義呼叫處理; 服務提供者可以定義更多。</span><span class="sxs-lookup"><span data-stu-id="6d167-117">The LINECALLTREATMENT\_ set of constants defines a limited set of predefined call treatments; service providers can define many more.</span></span>

 

 



