---
description: 擴充行服務 (或裝置專屬的線路服務) 包含 API 的所有服務提供者定義延伸模組。
ms.assetid: 0f01509e-caa5-4f79-be78-36bd5f23c5d7
title: 擴充行函式
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3531a63357276e6b2ea37365b5d5078d5c1de324
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "104511537"
---
# <a name="extended-line-functions"></a><span data-ttu-id="40304-103">擴充行函式</span><span class="sxs-lookup"><span data-stu-id="40304-103">Extended Line Functions</span></span>

<span data-ttu-id="40304-104">擴充行服務 (或裝置專屬的線路服務) 包含 API 的所有服務提供者定義延伸模組。</span><span class="sxs-lookup"><span data-stu-id="40304-104">Extended line services (or device-specific line services) include all service-provider defined extensions to the API.</span></span> <span data-ttu-id="40304-105">此 API 定義了一種機制，可讓服務提供者廠商使用裝置專屬的延伸模組來擴充 TAPI。</span><span class="sxs-lookup"><span data-stu-id="40304-105">The API defines a mechanism that enables service-provider vendors to extend TAPI using device-specific extensions.</span></span> <span data-ttu-id="40304-106">API 只會定義擴充機制，藉由這樣做可存取裝置專屬的延伸模組，但 API 不會定義其行為。</span><span class="sxs-lookup"><span data-stu-id="40304-106">The API only defines the extension mechanism, and by doing so provides access to device-specific extensions, but the API does not define their behavior.</span></span> <span data-ttu-id="40304-107">行為完全由服務提供者定義。</span><span class="sxs-lookup"><span data-stu-id="40304-107">Behavior is completely defined by the service provider.</span></span>

<span data-ttu-id="40304-108">TAPI 包含純量和位旗標常數定義、資料結構、函數和訊息。</span><span class="sxs-lookup"><span data-stu-id="40304-108">TAPI consists of scalar and bit-flag constant definitions, data structures, functions, and messages.</span></span> <span data-ttu-id="40304-109">定義的程式可讓廠商擴充大部分的程式，如下所示。</span><span class="sxs-lookup"><span data-stu-id="40304-109">Procedures are defined that enable a vendor to extend most of these as follows.</span></span>

<span data-ttu-id="40304-110">針對可延伸的純量資料常數，服務提供者廠商可以在指定的範圍內定義新值。</span><span class="sxs-lookup"><span data-stu-id="40304-110">For extensible scalar data constants, a service-provider vendor can define new values in a specified range.</span></span> <span data-ttu-id="40304-111">因為大部分的資料常數都是 **DWORD**，所以通常會將0X00000000 到0x7fffffff 的範圍保留給一般未來的延伸模組，而透過0xffffffff 的0x80000000 則適用于供應商專屬的延伸模組。</span><span class="sxs-lookup"><span data-stu-id="40304-111">As most data constants are **DWORD** s, typically the range 0x00000000 through 0x7FFFFFFF is reserved for common future extensions, while 0x80000000 through 0xFFFFFFFF are available for vendor-specific extensions.</span></span> <span data-ttu-id="40304-112">假設廠商會定義值，這些值是 API 所定義之資料類型的自然延伸。</span><span class="sxs-lookup"><span data-stu-id="40304-112">The assumption is that a vendor would define values that are natural extensions of the data types defined by the API.</span></span>

<span data-ttu-id="40304-113">針對可延伸位旗標資料常數，服務提供者廠商可以定義指定位的新值。</span><span class="sxs-lookup"><span data-stu-id="40304-113">For extensible bit-flag data constants, a service-provider vendor can define new values for specified bits.</span></span> <span data-ttu-id="40304-114">因為大部分的位旗標常數都是 **DWORD**，所以一般的延伸模組通常會保留較低的特定數目，而剩餘的較高位則適用于廠商專屬的延伸模組。</span><span class="sxs-lookup"><span data-stu-id="40304-114">As most bit-flag constants are **DWORD** s, typically a specific number of the lower bits are reserved for common extensions while the remaining upper bits are available for vendor-specific extensions.</span></span> <span data-ttu-id="40304-115">一般位旗標是從位零向上指派;廠商專屬的延伸模組應從位31下指派。</span><span class="sxs-lookup"><span data-stu-id="40304-115">Common bit flags are assigned from bit zero up; vendor-specific extensions should be assigned from bit 31 down.</span></span> <span data-ttu-id="40304-116">這可提供最大的彈性，可將位位置指派給一般擴充功能與特定廠商的延伸模組。</span><span class="sxs-lookup"><span data-stu-id="40304-116">This provides maximum flexibility in assigning bit positions to common extensions versus vendor-specific extensions.</span></span> <span data-ttu-id="40304-117">廠商預期會定義新的值，這些值是 API 所定義之位旗標的自然延伸。</span><span class="sxs-lookup"><span data-stu-id="40304-117">A vendor is expected to define new values that are natural extensions of the bit flags defined by the API.</span></span>

<span data-ttu-id="40304-118">可擴充的資料結構具有大小可變大小的欄位，保留給裝置特定用途。</span><span class="sxs-lookup"><span data-stu-id="40304-118">Extensible data structures have a variably sized field that is reserved for device-specific use.</span></span> <span data-ttu-id="40304-119">在大小可變調整大小的情況下，服務提供者會決定資訊數量和轉譯。</span><span class="sxs-lookup"><span data-stu-id="40304-119">Being variably sized, the service provider decides the amount of information and the interpretation.</span></span> <span data-ttu-id="40304-120">定義裝置特定欄位的廠商預期會讓 API 所定義的原始資料結構自然擴充。</span><span class="sxs-lookup"><span data-stu-id="40304-120">A vendor that defines a device-specific field is expected to make these natural extensions of the original data structure defined by the API.</span></span>

<span data-ttu-id="40304-121">[**LineDevSpecific**](/windows/desktop/api/Tapi/nf-tapi-linedevspecific)和 [**lineDevSpecificFeature**](/windows/desktop/api/Tapi/nf-tapi-linedevspecificfeature)這兩個函式，以及兩個相關訊息（[**行 \_ DEVSPECIFIC**](line-devspecific.md)和 [**行 \_ DEVSPECIFICFEATURE**](line-devspecificfeature.md)）提供廠商專屬的擴充機制。</span><span class="sxs-lookup"><span data-stu-id="40304-121">Two functions, [**lineDevSpecific**](/windows/desktop/api/Tapi/nf-tapi-linedevspecific) and [**lineDevSpecificFeature**](/windows/desktop/api/Tapi/nf-tapi-linedevspecificfeature), and two related messages, [**LINE\_DEVSPECIFIC**](line-devspecific.md) and [**LINE\_DEVSPECIFICFEATURE**](line-devspecificfeature.md), provide a vendor-specific extension mechanism.</span></span> <span data-ttu-id="40304-122">**LineDevSpecific** 函式和相關行 \_ DEVSPECIFIC 訊息可讓應用程式存取基本或補充電話語音服務無法使用的裝置專屬行、位址或呼叫功能。</span><span class="sxs-lookup"><span data-stu-id="40304-122">The **lineDevSpecific** function and associated LINE\_DEVSPECIFIC message enable an application to access device-specific line, address, or call features that are unavailable with the Basic or Supplementary Telephony services.</span></span> <span data-ttu-id="40304-123">**LineDevSpecific** 函式的參數設定檔是泛型，因為這些參數的小部分解釋是由 API 所組成。</span><span class="sxs-lookup"><span data-stu-id="40304-123">The parameter profile of the **lineDevSpecific** function is generic in that little interpretation of the parameters is made by the API.</span></span> <span data-ttu-id="40304-124">參數的解讀是由服務提供者所定義，而且必須由使用這些參數的應用程式加以瞭解。</span><span class="sxs-lookup"><span data-stu-id="40304-124">The interpretation of the parameters is defined by the service provider and must be understood by an application that uses them.</span></span> <span data-ttu-id="40304-125">這些參數只會透過 TAPI 從應用程式傳遞至服務提供者。</span><span class="sxs-lookup"><span data-stu-id="40304-125">The parameters are simply passed through TAPI from the application to the service provider.</span></span> <span data-ttu-id="40304-126">依賴裝置專屬延伸模組的應用程式通常不會與其他服務提供者搭配使用;不過，寫入基本和補充電話語音服務的應用程式將會與擴充的服務提供者合作。</span><span class="sxs-lookup"><span data-stu-id="40304-126">An application that relies on device-specific extensions will not generally work with other service providers; however, applications written to the Basic and Supplementary Telephony services will work with the extended service provider.</span></span>

<span data-ttu-id="40304-127">為了方便起見，也提供更特製化的 escape 函數。</span><span class="sxs-lookup"><span data-stu-id="40304-127">For convenience, a more specialized escape function is also provided.</span></span> <span data-ttu-id="40304-128">它類似于 [**lineDevSpecific**](/windows/desktop/api/Tapi/nf-tapi-linedevspecific)，但會對某些參數進行轉譯。</span><span class="sxs-lookup"><span data-stu-id="40304-128">It is similar to [**lineDevSpecific**](/windows/desktop/api/Tapi/nf-tapi-linedevspecific), but places interpretation on some of the parameters.</span></span> <span data-ttu-id="40304-129">這個更特製化的函式是 [**lineDevSpecificFeature**](/windows/desktop/api/Tapi/nf-tapi-linedevspecificfeature)，這是裝置特定的 escape 函式，可讓您將交換器功能傳送至交換器。</span><span class="sxs-lookup"><span data-stu-id="40304-129">This more specialized function is [**lineDevSpecificFeature**](/windows/desktop/api/Tapi/nf-tapi-linedevspecificfeature), a device-specific escape function to allow sending switch features to the switch.</span></span> <span data-ttu-id="40304-130">訊息 [**行 \_ DEVSPECIFICFEATURE**](line-devspecificfeature.md) 是傳送至應用程式的裝置特定訊息，以指出傳送至交換器的功能。</span><span class="sxs-lookup"><span data-stu-id="40304-130">The message [**LINE\_DEVSPECIFICFEATURE**](line-devspecificfeature.md) is the device-specific message sent to the application as an indication of features sent to the switch.</span></span> <span data-ttu-id="40304-131">此函式及其相關聯的訊息可讓應用程式在行的功能電話上模擬按鈕按下。</span><span class="sxs-lookup"><span data-stu-id="40304-131">This function and its associated message allow an application to emulate button presses at the line's feature phone.</span></span> <span data-ttu-id="40304-132">隨著功能電話和其按鈕的意義是廠商專屬的，使用 [**lineDevSpecificFeature**](/windows/desktop/api/Tapi/nf-tapi-linedevspecificfeature) 的功能叫用也是廠商特定的。</span><span class="sxs-lookup"><span data-stu-id="40304-132">As feature phones and the meanings of their buttons are vendor-specific, feature invocation using [**lineDevSpecificFeature**](/windows/desktop/api/Tapi/nf-tapi-linedevspecificfeature) is also vendor specific.</span></span>

<span data-ttu-id="40304-133">如先前所述，製造商識別碼沒有中央登錄。</span><span class="sxs-lookup"><span data-stu-id="40304-133">As mentioned earlier, there is no central registry for manufacturer identifiers.</span></span> <span data-ttu-id="40304-134">相反地， (EXTIDGEN) 的唯一識別碼產生器可供使用。</span><span class="sxs-lookup"><span data-stu-id="40304-134">Instead, a unique identifier generator (EXTIDGEN) is made available.</span></span>

 

 



