---
description: 使用者電腦可以存取使用者可選取的多個裝置，並使用這些裝置進行互動式語音交談。
ms.assetid: cc7ad70a-157e-4db4-b5e4-00d25686a9dd
title: 設定電話通話的終端機
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 75b12e772d8f941cb7c68e25136a843ec5f9a1f2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/08/2021
ms.locfileid: "106975323"
---
# <a name="setting-a-terminal-for-phone-conversations"></a><span data-ttu-id="ef4a1-103">設定電話通話的終端機</span><span class="sxs-lookup"><span data-stu-id="ef4a1-103">Setting a Terminal for Phone Conversations</span></span>

<span data-ttu-id="ef4a1-104">使用者的電腦可能可以存取由使用者選取的多個裝置，以及用來進行互動式語音對話。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-104">The user's computer may have access to multiple devices that are selectable by the user and used to conduct interactive voice conversations.</span></span> <span data-ttu-id="ef4a1-105">首先，電話裝置本身、完成燈、按鈕、顯示、響鈴和聲音 i/o 裝置 (話筒、話筒、耳機) 。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-105">First, there is the phone device itself, complete with lamps, buttons, display, ringer, and voice I/O device (handset, speakerphone, headset).</span></span> <span data-ttu-id="ef4a1-106">使用者的電腦可能也會有不同的語音 i/o 裝置 (例如，耳機或連接至音效卡的麥克風/喇叭組合) 以用於電話交談。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-106">The user's computer may also have a separate voice I/O device (such as a headset or a microphone/speaker combination attached to a sound card) for use with phone conversations.</span></span>

<span data-ttu-id="ef4a1-107">TSPI 可讓使用者選取要將交換器傳送的資訊傳送到行、位址或呼叫的位置。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-107">TSPI enables the user to select where to route the information that the switch sends over the line, address, or call.</span></span> <span data-ttu-id="ef4a1-108">交換器通常會預期此為其中一個電話集合，並傳送環形要求、燈泡事件 (給刺激電話) 、顯示資料，以及適當的語音資料。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-108">The switch normally expects this to be one of its phone sets, and sends ring requests, lamp events (for stimulus phones), display data, and voice data as appropriate.</span></span> <span data-ttu-id="ef4a1-109">然後，電話會傳送 hookswitch 事件、按下事件 (的) ，然後將語音資料送回交換器。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-109">The phone in turn sends hookswitch events, button press events (for stimulus phones), and voice data back to the switch.</span></span>

<span data-ttu-id="ef4a1-110">TSPI 的 *行* 部分會將燈光事件、顯示事件和環形事件提供給可用，例如 TSPI 中各種不同行作業的功能性傳回碼，或是傳送至應用程式回呼的未經要求的功能性通話狀態訊息。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-110">The *line* portion of TSPI makes lamp events, display events, and ring events available, either as functional return codes to the various line operations in TSPI, or as unsolicited functional call status messages that are sent to the application callback.</span></span> <span data-ttu-id="ef4a1-111">服務提供者的執行負責在功能 TSPI 層級以及電話語音網路所使用的基礎促進或功能訊息之間進行對應。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-111">The service provider implementation is responsible for mapping between the functional TSPI level and the underlying stimulus or functional messages used by the telephony network.</span></span> <span data-ttu-id="ef4a1-112">在功能性電話語音環境中，TSPI 函式會對應至功能性通訊協定。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-112">In functional telephony environments, TSPI functions are mapped to the functional protocol.</span></span>

<span data-ttu-id="ef4a1-113">使用 [**TSPI \_ lineSetTerminal**](/windows/win32/api/tspi/nf-tspi-tspi_linesetterminal) 函式時，TAPI 可以控制在交換器和站之間交換的不同低層級事件的路由，也可以決定不要將部分低層級事件路由傳送至裝置。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-113">Using the [**TSPI\_lineSetTerminal**](/windows/win32/api/tspi/nf-tspi-tspi_linesetterminal) function, TAPI can control the routing of different low-level events exchanged between the switch and the station; it can also decide not to route some of these low-level events to a device.</span></span> <span data-ttu-id="ef4a1-114">您可以個別控制不同類別的事件路由。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-114">The routing of the different classes of events can be individually controlled.</span></span> <span data-ttu-id="ef4a1-115">例如，如果服務提供者和硬體能夠這樣做，則呼叫 (的媒體串流（例如語音) ）可以傳送至任何感應器裝置。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-115">For example, the media stream of a call (such as voice) can be sent to any transducer device if the service provider and hardware are capable of doing so.</span></span> <span data-ttu-id="ef4a1-116">從切換至電話的響鈴事件可以對應到電腦畫面上的視覺效果警示，也可以將它們路由傳送至電話裝置。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-116">Ring events from the switch to the phone can be mapped into a visual alert on the computer's screen or they can be routed to a phone device.</span></span> <span data-ttu-id="ef4a1-117">您可以忽略燈泡事件和顯示事件，或將其路由傳送至電話裝置， (看起來會像一般的電話設定) 。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-117">Lamp events and display events can be ignored or routed to a phone device (which appears to behave as a normal phone set).</span></span> <span data-ttu-id="ef4a1-118">最後，在手機裝置上按下按鈕時，可能會或不會傳遞至該行。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-118">Finally, button presses at a phone device may or may not be passed on to the line.</span></span> <span data-ttu-id="ef4a1-119">在任何情況下，這一行的低層級信號路由並不會影響 TSPI 行部分的作業，這會一律將低層級的事件對應至其功能對等專案。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-119">In any case, this routing of low-level signals from the line does not affect the operation of TSPI's line portion, which always maps the low-level events to their functional equivalent.</span></span> <span data-ttu-id="ef4a1-120">應用程式可以輔助線路的裝置功能，以判斷其可用的終端機。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-120">Applications can consult a line's device capabilities to determine the terminals it has available.</span></span>

<span data-ttu-id="ef4a1-121">換句話說， [**TSPI \_ lineSetTerminal**](/windows/win32/api/tspi/nf-tspi-tspi_linesetterminal) 函式會指定終端機裝置，指定的行、位址事件或呼叫媒體串流事件會路由傳送到該裝置。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-121">In other words, the [**TSPI\_lineSetTerminal**](/windows/win32/api/tspi/nf-tspi-tspi_linesetterminal) function specifies the terminal device to which the specified line, address events or call media stream events are routed.</span></span> <span data-ttu-id="ef4a1-122">您可以針對每個事件類別指定個別的終端機。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-122">Separate terminals can be specified for each event class.</span></span> <span data-ttu-id="ef4a1-123">事件類別包括燈、按鈕、顯示、響鈴、hookswitch 和媒體串流。</span><span class="sxs-lookup"><span data-stu-id="ef4a1-123">Event classes include lamps, buttons, display, ringer, hookswitch, and media stream.</span></span>

 

 
