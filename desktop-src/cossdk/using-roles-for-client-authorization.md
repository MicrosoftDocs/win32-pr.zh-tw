---
description: 您可以使用以角色為基礎的安全性來建立授權原則，以決定要讓哪個用戶端或用戶端使用哪些授權單位。 您要決定誰可以執行哪些動作並存取哪些資源。
ms.assetid: 8fc27fe1-e50a-44ba-a595-70b1fe463e24
title: 使用角色進行用戶端授權
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a8ae748ddfec438a79e3d0440a00ed7c2f672aed
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "104110889"
---
# <a name="using-roles-for-client-authorization"></a>使用角色進行用戶端授權

您可以使用以角色為基礎的安全性來建立授權原則，以決定要讓哪個用戶端或用戶端使用哪些授權單位。 您要決定誰可以執行哪些動作並存取哪些資源。

角色可作為每次使用者嘗試存取任何應用程式資源時所叫用的存取控制機制，以協助達成。 角色基本上是使用者清單，更精確地說，是共用相同安全性許可權之使用者的符號類別。 當您將角色指派給應用程式資源時，您會將該資源的存取權限授與該角色的成員。

因此，您可以藉由將它宣告為角色，然後將角色指派給特定資源，來定義非常特殊的安全性許可權。 部署應用程式時，系統管理員可以在角色中填入實際的使用者和使用者群組。 當應用程式執行時，COM + 會執行角色檢查來強制執行原則。

基本上，角色可協助保護您的程式碼，也就是 COM + 應用程式的用戶端可以呼叫的方法。 每當用戶端嘗試呼叫應用程式中的元件所公開的方法時，就會檢查角色成員資格。 如果呼叫端是在指派給被呼叫方法或資源的角色中，則呼叫會成功;否則，它會失敗。

## <a name="declarative-role-based-security"></a>宣告式 Role-Based 安全性

使用宣告式以角色為基礎的安全性時，您系統管理員可以使用「元件服務」系統管理工具或系統管理功能來宣告角色，並以系統管理員的方式將它們指派給應用程式資源。 設定宣告式安全性的位置和方式將會決定您的應用程式在何處繪製安全性界限。 如需詳細資訊，請參閱 [安全性界限](security-boundaries.md)。

您可以將指定的角色指派給整個應用程式、特定元件、元件中的特定介面，或指派給介面上的特定方法。 角色指派是繼承自包含的自然鏈，也就是說，如果您將角色指派給元件，它會隱含地指派給該元件所公開的每個介面和方法。

有了方法層級角色指派的可用性之後，您就可以有效地協助保護尚未考慮安全性的元件和介面。 但是，如果方法本身並未使用宣告式角色指派進行安全性實體，您可能需要進行程式設計的角色檢查。 一般來說，當您決定如何透過方法來建立商務功能的考慮時，請記住安全性的好主意。否則，您可能會發現自己在最後一分鐘新增安全性相關程式碼。

如需設定以角色為基礎之安全性的詳細程式，請參閱設定 [Role-Based 安全性](configuring-role-based-security.md)。

## <a name="programmatic-security"></a>程式設計安全性

在某些情況下，您可能會想要將安全性邏輯放入元件，同時仍然使用以角色為基礎的安全性。 您可能無法（或選擇不是）透過方法來構成所有存取決策。 例如，您可能會有私用應用程式資源（可能是特定的資料庫），而您只想要允許某些方法的呼叫端存取，同時排除其他呼叫者。 或者，您可能會有單一的 TransferMoney 方法，而且想要藉由限制可傳送的數量來限制某些呼叫者。

在這種情況下，您可以在程式碼中進行角色檢查。 提供簡單的 API，可讓您檢查安全性是否已開啟，以及呼叫者或特定使用者是否在指定的角色中。 只有啟用以角色為基礎的安全性時，才能使用此功能。 這表示，您仍然可以利用宣告式以角色為基礎的安全性尾碼，然後在必要時，以程式設計的方式將它擴充到更精細的資料細微性層級。

此外，當您使用以角色為基礎的安全性時，您可以透過程式設計方式存取您的元件呼叫鏈中所有上游呼叫端的相關資訊。 當您想要保留詳細的審核記錄時，這特別有用。

如需如何在程式碼中進行角色檢查，以及如何存取安全性呼叫內容資訊的說明，請參閱程式 [設計元件安全性](programmatic-component-security.md)。

## <a name="authorization-and-authentication"></a>授權和驗證

有意義的授權 presupposes，您確信用戶端實際上是他們所聲稱的身分。 驗證服務會分別處理用戶端身分識別的驗證。 在沒有驗證的情況下，基本上是讓呼叫者在接受系統上。 如需在影響 COM + 應用程式時進行驗證的說明，請參閱 [用戶端驗證](client-authentication.md)。

## <a name="related-topics"></a>相關主題

<dl> <dt>

[有效設計角色](designing-roles-effectively.md)
</dt> <dt>

[安全性界限](security-boundaries.md)
</dt> <dt>

[安全性呼叫內容資訊](security-call-context-information.md)
</dt> <dt>

[資訊安全內容屬性](security-context-property.md)
</dt> </dl>

 

 



