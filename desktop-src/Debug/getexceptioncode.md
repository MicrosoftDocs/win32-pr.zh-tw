---
description: 抓取可識別發生之例外狀況類型的程式碼。 函數只能從例外狀況處理常式的篩選運算式或例外狀況處理常式區塊內呼叫。
ms.assetid: f3c4a9f3-c9ae-4d20-85a7-787cb32278d1
title: GetExceptionCode 宏
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- GetExceptionCode
api_type:
- NA
api_location: ''
ms.openlocfilehash: 3b87b77ddb2d2e2af3a22e30d1204cf178ee6981
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "106972788"
---
# <a name="getexceptioncode-macro"></a><span data-ttu-id="49e3c-104">GetExceptionCode 宏</span><span class="sxs-lookup"><span data-stu-id="49e3c-104">GetExceptionCode macro</span></span>

<span data-ttu-id="49e3c-105">抓取可識別發生之例外狀況類型的程式碼。</span><span class="sxs-lookup"><span data-stu-id="49e3c-105">Retrieves a code that identifies the type of exception that occurs.</span></span> <span data-ttu-id="49e3c-106">函數只能從例外狀況處理常式的篩選運算式或例外狀況處理常式區塊內呼叫。</span><span class="sxs-lookup"><span data-stu-id="49e3c-106">The function can be called only from within the filter expression or exception-handler block of an exception handler.</span></span>

> [!Note]  
> <span data-ttu-id="49e3c-107">Microsoft C/c + + 優化編譯器會將此函式解釋為關鍵字，而在適當的例外狀況處理語法外部使用會產生編譯器錯誤。</span><span class="sxs-lookup"><span data-stu-id="49e3c-107">The Microsoft C/C++ Optimizing Compiler interprets this function as a keyword, and its use outside the appropriate exception-handling syntax generates a compiler error.</span></span>

 

## <a name="syntax"></a><span data-ttu-id="49e3c-108">語法</span><span class="sxs-lookup"><span data-stu-id="49e3c-108">Syntax</span></span>


```C++
DWORD GetExceptionCode(void);
```



## <a name="parameters"></a><span data-ttu-id="49e3c-109">參數</span><span class="sxs-lookup"><span data-stu-id="49e3c-109">Parameters</span></span>

<span data-ttu-id="49e3c-110">這個宏沒有任何參數。</span><span class="sxs-lookup"><span data-stu-id="49e3c-110">This macro has no parameters.</span></span>

## <a name="return-value"></a><span data-ttu-id="49e3c-111">傳回值</span><span class="sxs-lookup"><span data-stu-id="49e3c-111">Return value</span></span>

<span data-ttu-id="49e3c-112">傳回值會識別例外狀況的類型。</span><span class="sxs-lookup"><span data-stu-id="49e3c-112">The return value identifies the type of exception.</span></span> <span data-ttu-id="49e3c-113">下表指出由於常見的程式設計錯誤而可能發生的例外狀況代碼。</span><span class="sxs-lookup"><span data-stu-id="49e3c-113">The following table identifies the exception codes that can occur due to common programming errors.</span></span> <span data-ttu-id="49e3c-114">這些值定義于 WinBase .h 和 WinNT 中。</span><span class="sxs-lookup"><span data-stu-id="49e3c-114">These values are defined in WinBase.h and WinNT.h.</span></span>



| <span data-ttu-id="49e3c-115">傳回碼</span><span class="sxs-lookup"><span data-stu-id="49e3c-115">Return code</span></span>                                                                                                         | <span data-ttu-id="49e3c-116">Description</span><span class="sxs-lookup"><span data-stu-id="49e3c-116">Description</span></span>                                                                                                                                                                                                                                                                                                                 |
|---------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <span data-ttu-id="49e3c-117"><dt>**例外狀況 \_ 存取 \_ 違規**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-117"><dt>**EXCEPTION\_ACCESS\_VIOLATION**</dt></span></span> </dl>         | <span data-ttu-id="49e3c-118">執行緒嘗試讀取或寫入其沒有存取權的虛擬位址。</span><span class="sxs-lookup"><span data-stu-id="49e3c-118">The thread attempts to read from or write to a virtual address for which it does not have access.</span></span><br/> <span data-ttu-id="49e3c-119">此值定義為狀態 \_ 存取 \_ 違規。</span><span class="sxs-lookup"><span data-stu-id="49e3c-119">This value is defined as STATUS\_ACCESS\_VIOLATION.</span></span><br/>                                                                                                                                                 |
| <dl> <span data-ttu-id="49e3c-120"><dt>**超出例外狀況 \_ 陣列 \_ 界限 \_**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-120"><dt>**EXCEPTION\_ARRAY\_BOUNDS\_EXCEEDED**</dt></span></span> </dl>   | <span data-ttu-id="49e3c-121">執行緒嘗試存取超出範圍的陣列元素，且基礎硬體支援界限檢查。</span><span class="sxs-lookup"><span data-stu-id="49e3c-121">The thread attempts to access an array element that is out of bounds, and the underlying hardware supports bounds checking.</span></span><br/> <span data-ttu-id="49e3c-122">此值定義為已 \_ 超過狀態陣列 \_ 界限 \_ 。</span><span class="sxs-lookup"><span data-stu-id="49e3c-122">This value is defined as STATUS\_ARRAY\_BOUNDS\_EXCEEDED.</span></span><br/>                                                                                                                 |
| <dl> <span data-ttu-id="49e3c-123"><dt>**例外狀況 \_ 中斷點**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-123"><dt>**EXCEPTION\_BREAKPOINT**</dt></span></span> </dl>                | <span data-ttu-id="49e3c-124">遇到中斷點。</span><span class="sxs-lookup"><span data-stu-id="49e3c-124">A breakpoint is encountered.</span></span><br/> <span data-ttu-id="49e3c-125">此值會定義為狀態 \_ 中斷點。</span><span class="sxs-lookup"><span data-stu-id="49e3c-125">This value is defined as STATUS\_BREAKPOINT.</span></span><br/>                                                                                                                                                                                                                             |
| <dl> <span data-ttu-id="49e3c-126"><dt>**例外狀況 \_ 資料類型 \_ 對齊**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-126"><dt>**EXCEPTION\_DATATYPE\_MISALIGNMENT**</dt></span></span> </dl>    | <span data-ttu-id="49e3c-127">執行緒嘗試讀取或寫入未提供對齊的硬體上未對齊的資料。</span><span class="sxs-lookup"><span data-stu-id="49e3c-127">The thread attempts to read or write data that is misaligned on hardware that does not provide alignment.</span></span> <span data-ttu-id="49e3c-128">例如，16位值必須對齊2個位元組的界限、4位元組界限上的32位值等等。</span><span class="sxs-lookup"><span data-stu-id="49e3c-128">For example, 16-bit values must be aligned on 2-byte boundaries, 32-bit values on 4-byte boundaries, and so on.</span></span><br/> <span data-ttu-id="49e3c-129">此值會定義為狀態 \_ 資料類型的 \_ 對齊方式。</span><span class="sxs-lookup"><span data-stu-id="49e3c-129">This value is defined as STATUS\_DATATYPE\_MISALIGNMENT.</span></span><br/>                    |
| <dl> <span data-ttu-id="49e3c-130"><dt>**例外狀況 \_ FLT \_ DENORMAL \_ 運算元**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-130"><dt>**EXCEPTION\_FLT\_DENORMAL\_OPERAND**</dt></span></span> </dl>    | <span data-ttu-id="49e3c-131">浮點運算中的其中一個運算元是 denormal。</span><span class="sxs-lookup"><span data-stu-id="49e3c-131">One of the operands in a floating point operation is denormal.</span></span> <span data-ttu-id="49e3c-132">Denormal 值是太小而無法表示為標準浮點值的值。</span><span class="sxs-lookup"><span data-stu-id="49e3c-132">A denormal value is one that is too small to represent as a standard floating point value.</span></span><br/> <span data-ttu-id="49e3c-133">此值會定義為狀態 \_ FLOAT \_ DENORMAL \_ 運算元。</span><span class="sxs-lookup"><span data-stu-id="49e3c-133">This value is defined as STATUS\_FLOAT\_DENORMAL\_OPERAND.</span></span><br/>                                                                                  |
| <dl> <span data-ttu-id="49e3c-134"><dt>**例外 \_ 狀況 \_ FLT \_ 除以 \_ 零**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-134"><dt>**EXCEPTION\_FLT\_DIVIDE\_BY\_ZERO**</dt></span></span> </dl>     | <span data-ttu-id="49e3c-135">執行緒嘗試將浮點值除以 0 (零) 的浮點除數。</span><span class="sxs-lookup"><span data-stu-id="49e3c-135">The thread attempts to divide a floating point value by a floating point divisor of 0 (zero).</span></span><br/> <span data-ttu-id="49e3c-136">此值定義為狀態 \_ FLOAT \_ 除以 \_ \_ 零。</span><span class="sxs-lookup"><span data-stu-id="49e3c-136">This value is defined as STATUS\_FLOAT\_DIVIDE\_BY\_ZERO.</span></span><br/>                                                                                                                                               |
| <dl> <span data-ttu-id="49e3c-137"><dt>**例外狀況 \_ FLT 不 \_ 精確的 \_ 結果**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-137"><dt>**EXCEPTION\_FLT\_INEXACT\_RESULT**</dt></span></span> </dl>      | <span data-ttu-id="49e3c-138">浮點運算的結果不能完全以小數小數表示。</span><span class="sxs-lookup"><span data-stu-id="49e3c-138">The result of a floating point operation cannot be represented exactly as a decimal fraction.</span></span><br/> <span data-ttu-id="49e3c-139">此值定義為狀態 \_ FLOAT 不 \_ 精確 \_ 的結果。</span><span class="sxs-lookup"><span data-stu-id="49e3c-139">This value is defined as STATUS\_FLOAT\_INEXACT\_RESULT.</span></span><br/>                                                                                                                                                |
| <dl> <span data-ttu-id="49e3c-140"><dt>**例外狀況 \_ FLT \_ 不正確 \_ 作業**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-140"><dt>**EXCEPTION\_FLT\_INVALID\_OPERATION**</dt></span></span> </dl>   | <span data-ttu-id="49e3c-141">不包含在此清單中的浮點例外狀況。</span><span class="sxs-lookup"><span data-stu-id="49e3c-141">A floating point exception that is not included in this list.</span></span><br/> <span data-ttu-id="49e3c-142">此值定義為狀態 \_ FLOAT \_ 無效作業 \_ 。</span><span class="sxs-lookup"><span data-stu-id="49e3c-142">This value is defined as STATUS\_FLOAT\_INVALID\_OPERATION.</span></span><br/>                                                                                                                                                                             |
| <dl> <span data-ttu-id="49e3c-143"><dt>**例外狀況 \_ FLT \_ 溢位**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-143"><dt>**EXCEPTION\_FLT\_OVERFLOW**</dt></span></span> </dl>             | <span data-ttu-id="49e3c-144">浮點運算的指數大於對應類型所允許的大小。</span><span class="sxs-lookup"><span data-stu-id="49e3c-144">The exponent of a floating point operation is greater than the magnitude allowed by the corresponding type.</span></span><br/> <span data-ttu-id="49e3c-145">此值定義為狀態 \_ FLOAT \_ 溢位。</span><span class="sxs-lookup"><span data-stu-id="49e3c-145">This value is defined as STATUS\_FLOAT\_OVERFLOW.</span></span><br/>                                                                                                                                         |
| <dl> <span data-ttu-id="49e3c-146"><dt>**例外狀況 \_ FLT \_ 堆疊 \_ 檢查**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-146"><dt>**EXCEPTION\_FLT\_STACK\_CHECK**</dt></span></span> </dl>         | <span data-ttu-id="49e3c-147">由於浮點運算的原因，堆疊已溢位或 underflowed。</span><span class="sxs-lookup"><span data-stu-id="49e3c-147">The stack has overflowed or underflowed, because of a floating point operation.</span></span><br/> <span data-ttu-id="49e3c-148">此值定義為狀態 \_ FLOAT \_ STACK \_ 檢查。</span><span class="sxs-lookup"><span data-stu-id="49e3c-148">This value is defined as STATUS\_FLOAT\_STACK\_CHECK.</span></span><br/>                                                                                                                                                                 |
| <dl> <span data-ttu-id="49e3c-149"><dt>**例外狀況 \_ FLT \_ 下溢**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-149"><dt>**EXCEPTION\_FLT\_UNDERFLOW**</dt></span></span> </dl>            | <span data-ttu-id="49e3c-150">浮點運算的指數小於對應類型所允許的大小。</span><span class="sxs-lookup"><span data-stu-id="49e3c-150">The exponent of a floating point operation is less than the magnitude allowed by the corresponding type.</span></span><br/> <span data-ttu-id="49e3c-151">此值會定義為狀態 \_ FLOAT \_ 下溢。</span><span class="sxs-lookup"><span data-stu-id="49e3c-151">This value is defined as STATUS\_FLOAT\_UNDERFLOW.</span></span><br/>                                                                                                                                           |
| <dl> <span data-ttu-id="49e3c-152"><dt>**例外狀況 \_ 防護 \_ 頁面**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-152"><dt>**EXCEPTION\_GUARD\_PAGE**</dt></span></span> </dl>               | <span data-ttu-id="49e3c-153">執行緒存取以 PAGE GUARD 修飾詞配置的記憶體 \_ 。</span><span class="sxs-lookup"><span data-stu-id="49e3c-153">The thread accessed memory allocated with the PAGE\_GUARD modifier.</span></span><br/> <span data-ttu-id="49e3c-154">此值定義為狀態 \_ 防護 \_ 頁面 \_ 違規。</span><span class="sxs-lookup"><span data-stu-id="49e3c-154">This value is defined as STATUS\_GUARD\_PAGE\_VIOLATION.</span></span><br/>                                                                                                                                                                          |
| <dl> <span data-ttu-id="49e3c-155"><dt>**例外狀況不 \_ 合法的 \_ 指令**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-155"><dt>**EXCEPTION\_ILLEGAL\_INSTRUCTION**</dt></span></span> </dl>      | <span data-ttu-id="49e3c-156">執行緒嘗試執行不正確指令。</span><span class="sxs-lookup"><span data-stu-id="49e3c-156">The thread tries to execute an invalid instruction.</span></span><br/> <span data-ttu-id="49e3c-157">此值定義為狀態不 \_ 合法 \_ 的指令。</span><span class="sxs-lookup"><span data-stu-id="49e3c-157">This value is defined as STATUS\_ILLEGAL\_INSTRUCTION.</span></span><br/>                                                                                                                                                                                            |
| <dl> <span data-ttu-id="49e3c-158"><dt>**\_ \_ 分頁錯誤的 \_ 例外狀況**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-158"><dt>**EXCEPTION\_IN\_PAGE\_ERROR**</dt></span></span> </dl>           | <span data-ttu-id="49e3c-159">執行緒嘗試存取不存在的頁面，而且系統無法載入頁面。</span><span class="sxs-lookup"><span data-stu-id="49e3c-159">The thread tries to access a page that is not present, and the system is unable to load the page.</span></span> <span data-ttu-id="49e3c-160">例如，如果在網路上執行程式時發生網路連線遺失，就可能發生此例外狀況。</span><span class="sxs-lookup"><span data-stu-id="49e3c-160">For example, this exception might occur if a network connection is lost while running a program over a network.</span></span><br/> <span data-ttu-id="49e3c-161">此值會定義為 \_ 分頁錯誤中的狀態 \_ \_ 。</span><span class="sxs-lookup"><span data-stu-id="49e3c-161">This value is defined as STATUS\_IN\_PAGE\_ERROR.</span></span><br/>                                   |
| <dl> <span data-ttu-id="49e3c-162"><dt>**例外 \_ 狀況 \_ INT \_ 除以 \_ 零**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-162"><dt>**EXCEPTION\_INT\_DIVIDE\_BY\_ZERO**</dt></span></span> </dl>     | <span data-ttu-id="49e3c-163">執行緒嘗試將整數值除以0的整數除數 (零) 。</span><span class="sxs-lookup"><span data-stu-id="49e3c-163">The thread attempts to divide an integer value by an integer divisor of 0 (zero).</span></span><br/> <span data-ttu-id="49e3c-164">此值定義為以 \_ \_ \_ 零零除的狀態整數 \_ 。</span><span class="sxs-lookup"><span data-stu-id="49e3c-164">This value is defined as STATUS\_INTEGER\_DIVIDE\_BY\_ZERO.</span></span><br/>                                                                                                                                                         |
| <dl> <span data-ttu-id="49e3c-165"><dt>**例外狀況 \_ INT \_ 溢位**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-165"><dt>**EXCEPTION\_INT\_OVERFLOW**</dt></span></span> </dl>             | <span data-ttu-id="49e3c-166">整數運算的結果會建立太大而無法由目的地暫存器保留的值。</span><span class="sxs-lookup"><span data-stu-id="49e3c-166">The result of an integer operation creates a value that is too large to be held by the destination register.</span></span> <span data-ttu-id="49e3c-167">在某些情況下，這會導致執行最重要的結果位。</span><span class="sxs-lookup"><span data-stu-id="49e3c-167">In some cases, this will result in a carry out of the most significant bit of the result.</span></span> <span data-ttu-id="49e3c-168">某些作業不會設定 [執行] 旗標。</span><span class="sxs-lookup"><span data-stu-id="49e3c-168">Some operations do not set the carry flag.</span></span><br/> <span data-ttu-id="49e3c-169">此值定義為狀態 \_ 整數 \_ 溢位。</span><span class="sxs-lookup"><span data-stu-id="49e3c-169">This value is defined as STATUS\_INTEGER\_OVERFLOW.</span></span><br/> |
| <dl> <span data-ttu-id="49e3c-170"><dt>**例外狀況 \_ 不正確 \_ 處置**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-170"><dt>**EXCEPTION\_INVALID\_DISPOSITION**</dt></span></span> </dl>      | <span data-ttu-id="49e3c-171">例外狀況處理常式會將不正確處置傳回給例外狀況發送器。</span><span class="sxs-lookup"><span data-stu-id="49e3c-171">An exception handler returns an invalid disposition to the exception dispatcher.</span></span> <span data-ttu-id="49e3c-172">使用高階語言（例如 C）的程式設計人員永遠不會遇到這個例外狀況。</span><span class="sxs-lookup"><span data-stu-id="49e3c-172">Programmers using a high-level language such as C should never encounter this exception.</span></span><br/> <span data-ttu-id="49e3c-173">此值定義為狀態 \_ 無效 \_ 的處置。</span><span class="sxs-lookup"><span data-stu-id="49e3c-173">This value is defined as STATUS\_INVALID\_DISPOSITION.</span></span><br/>                                                                      |
| <dl> <span data-ttu-id="49e3c-174"><dt>**例外狀況 \_ 不正確 \_ 控制碼**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-174"><dt>**EXCEPTION\_INVALID\_HANDLE**</dt></span></span> </dl>           | <span data-ttu-id="49e3c-175">執行緒使用的核心物件控制碼無效 (可能是因為它已關閉。 ) </span><span class="sxs-lookup"><span data-stu-id="49e3c-175">The thread used a handle to a kernel object that was invalid (probably because it had been closed.)</span></span><br/> <span data-ttu-id="49e3c-176">此值定義為狀態 \_ 無效 \_ 控制碼。</span><span class="sxs-lookup"><span data-stu-id="49e3c-176">This value is defined as STATUS\_INVALID\_HANDLE.</span></span><br/>                                                                                                                                                 |
| <dl> <span data-ttu-id="49e3c-177"><dt>**例外狀況 \_ NONCONTINUABLE \_ 例外狀況**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-177"><dt>**EXCEPTION\_NONCONTINUABLE\_EXCEPTION**</dt></span></span> </dl> | <span data-ttu-id="49e3c-178">執行緒在發生非持續性例外狀況之後，會嘗試繼續執行。</span><span class="sxs-lookup"><span data-stu-id="49e3c-178">The thread attempts to continue execution after a non-continuable exception occurs.</span></span><br/> <span data-ttu-id="49e3c-179">此值定義為狀態 \_ NONCONTINUABLE \_ 例外狀況。</span><span class="sxs-lookup"><span data-stu-id="49e3c-179">This value is defined as STATUS\_NONCONTINUABLE\_EXCEPTION.</span></span><br/>                                                                                                                                                       |
| <dl> <span data-ttu-id="49e3c-180"><dt>**例外狀況的 \_ PRIV.EDB \_ 指令**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-180"><dt>**EXCEPTION\_PRIV\_INSTRUCTION**</dt></span></span> </dl>         | <span data-ttu-id="49e3c-181">執行緒嘗試使用目前電腦模式中不允許的作業來執行指令。</span><span class="sxs-lookup"><span data-stu-id="49e3c-181">The thread attempts to execute an instruction with an operation that is not allowed in the current computer mode.</span></span><br/> <span data-ttu-id="49e3c-182">此值定義為狀態 \_ 許可權 \_ 指令。</span><span class="sxs-lookup"><span data-stu-id="49e3c-182">This value is defined as STATUS\_PRIVILEGED\_INSTRUCTION.</span></span><br/>                                                                                                                           |
| <dl> <span data-ttu-id="49e3c-183"><dt>**例外狀況 \_ 單一 \_ 步驟**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-183"><dt>**EXCEPTION\_SINGLE\_STEP**</dt></span></span> </dl>              | <span data-ttu-id="49e3c-184">追蹤陷阱或其他單一指令機制會發出一個指令。</span><span class="sxs-lookup"><span data-stu-id="49e3c-184">A trace trap or other single instruction mechanism signals that one instruction is executed.</span></span><br/> <span data-ttu-id="49e3c-185">此值會定義為 \_ 單一步驟的狀態 \_ 。</span><span class="sxs-lookup"><span data-stu-id="49e3c-185">This value is defined as STATUS\_SINGLE\_STEP.</span></span><br/>                                                                                                                                                           |
| <dl> <span data-ttu-id="49e3c-186"><dt>**例外狀況 \_ 堆疊 \_ 溢位**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-186"><dt>**EXCEPTION\_STACK\_OVERFLOW**</dt></span></span> </dl>           | <span data-ttu-id="49e3c-187">執行緒會使用它的堆疊。</span><span class="sxs-lookup"><span data-stu-id="49e3c-187">The thread uses up its stack.</span></span><br/> <span data-ttu-id="49e3c-188">此值定義為狀態 \_ 堆疊 \_ 溢位。</span><span class="sxs-lookup"><span data-stu-id="49e3c-188">This value is defined as STATUS\_STACK\_OVERFLOW.</span></span><br/>                                                                                                                                                                                                                       |
| <dl> <span data-ttu-id="49e3c-189"><dt>**狀態 \_ 回溯 \_ 合併**</dt></span><span class="sxs-lookup"><span data-stu-id="49e3c-189"><dt>**STATUS\_UNWIND\_CONSOLIDATE**</dt></span></span> </dl>          | <span data-ttu-id="49e3c-190">已執行框架合併。</span><span class="sxs-lookup"><span data-stu-id="49e3c-190">A frame consolidation has been executed.</span></span><br/>                                                                                                                                                                                                                                                                         |



 

## <a name="remarks"></a><span data-ttu-id="49e3c-191">備註</span><span class="sxs-lookup"><span data-stu-id="49e3c-191">Remarks</span></span>

<span data-ttu-id="49e3c-192">您只能從例外狀況處理常式的篩選運算式或例外狀況處理常式區塊內呼叫 **GetExceptionCode** 函數。</span><span class="sxs-lookup"><span data-stu-id="49e3c-192">The **GetExceptionCode** function can be called only from within the filter expression or exception-handler block of an exception handler.</span></span> <span data-ttu-id="49e3c-193">如果在 **\_ \_ try** 區塊執行期間發生例外狀況，則會評估篩選運算式，並判斷是否執行 **\_ \_ except** 區塊。</span><span class="sxs-lookup"><span data-stu-id="49e3c-193">The filter expression is evaluated if an exception occurs during execution of the **\_\_try** block, and it determines whether or not the **\_\_except** block is executed.</span></span>

<span data-ttu-id="49e3c-194">篩選運算式可以叫用篩選函數。</span><span class="sxs-lookup"><span data-stu-id="49e3c-194">The filter expression can invoke a filter function.</span></span> <span data-ttu-id="49e3c-195">篩選函數無法呼叫 **GetExceptionCode**。</span><span class="sxs-lookup"><span data-stu-id="49e3c-195">The filter function cannot call **GetExceptionCode**.</span></span> <span data-ttu-id="49e3c-196">不過， **GetExceptionCode** 的傳回值可以做為參數傳遞至篩選函數。</span><span class="sxs-lookup"><span data-stu-id="49e3c-196">However, the return value of **GetExceptionCode** can be passed as a parameter to a filter function.</span></span> <span data-ttu-id="49e3c-197">[**GetExceptionInformation**](getexceptioninformation.md)函式的傳回值也可以做為參數傳遞至篩選函數。</span><span class="sxs-lookup"><span data-stu-id="49e3c-197">The return value of the [**GetExceptionInformation**](getexceptioninformation.md) function can also be passed as a parameter to a filter function.</span></span> <span data-ttu-id="49e3c-198">**GetExceptionInformation** 會傳回結構的指標，其中包含例外狀況程式碼資訊。</span><span class="sxs-lookup"><span data-stu-id="49e3c-198">**GetExceptionInformation** returns a pointer to a structure that includes the exception code information.</span></span>

<span data-ttu-id="49e3c-199">當嵌套處理常式存在時，會評估每個篩選運算式，直到一個評估為例外狀況 \_ 執行 \_ 處理常式或例外狀況 \_ 繼續 \_ 執行為止。</span><span class="sxs-lookup"><span data-stu-id="49e3c-199">When nested handlers exist, each filter expression is evaluated until one is evaluated as EXCEPTION\_EXECUTE\_HANDLER or EXCEPTION\_CONTINUE\_EXECUTION.</span></span> <span data-ttu-id="49e3c-200">每個篩選運算式都可以叫用 **GetExceptionCode** 來取得例外狀況程式碼。</span><span class="sxs-lookup"><span data-stu-id="49e3c-200">Each filter expression can invoke **GetExceptionCode** to get the exception code.</span></span>

<span data-ttu-id="49e3c-201">傳回的例外狀況程式碼是硬體例外狀況所產生的程式碼，或在 [**RaiseException**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-raiseexception) 函式中針對軟體產生的例外狀況所指定的程式碼。</span><span class="sxs-lookup"><span data-stu-id="49e3c-201">The exception code returned is the code generated by a hardware exception, or the code specified in the [**RaiseException**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-raiseexception) function for a software generated exception.</span></span>

<span data-ttu-id="49e3c-202">處理中斷點例外狀況時，請務必遞增內容記錄中的指令指標，以便從此例外狀況繼續。</span><span class="sxs-lookup"><span data-stu-id="49e3c-202">When handling the breakpoint exception, it is important to increment the instruction pointer in the context record to continue from this exception.</span></span>

## <a name="examples"></a><span data-ttu-id="49e3c-203">範例</span><span class="sxs-lookup"><span data-stu-id="49e3c-203">Examples</span></span>

<span data-ttu-id="49e3c-204">如需範例，請參閱 [使用例外狀況處理常式](using-an-exception-handler.md)。</span><span class="sxs-lookup"><span data-stu-id="49e3c-204">For an example, see [Using an Exception Handler](using-an-exception-handler.md).</span></span>

## <a name="requirements"></a><span data-ttu-id="49e3c-205">規格需求</span><span class="sxs-lookup"><span data-stu-id="49e3c-205">Requirements</span></span>



| <span data-ttu-id="49e3c-206">需求</span><span class="sxs-lookup"><span data-stu-id="49e3c-206">Requirement</span></span> | <span data-ttu-id="49e3c-207">值</span><span class="sxs-lookup"><span data-stu-id="49e3c-207">Value</span></span> |
|-------------------------------------|------------------------------------------------------|
| <span data-ttu-id="49e3c-208">最低支援的用戶端</span><span class="sxs-lookup"><span data-stu-id="49e3c-208">Minimum supported client</span></span><br/> | <span data-ttu-id="49e3c-209">\[僅限 WINDOWS XP desktop 應用程式\]</span><span class="sxs-lookup"><span data-stu-id="49e3c-209">Windows XP \[desktop apps only\]</span></span><br/>          |
| <span data-ttu-id="49e3c-210">最低支援的伺服器</span><span class="sxs-lookup"><span data-stu-id="49e3c-210">Minimum supported server</span></span><br/> | <span data-ttu-id="49e3c-211">僅限 Windows Server 2003 \[ desktop 應用程式\]</span><span class="sxs-lookup"><span data-stu-id="49e3c-211">Windows Server 2003 \[desktop apps only\]</span></span><br/> |



## <a name="see-also"></a><span data-ttu-id="49e3c-212">另請參閱</span><span class="sxs-lookup"><span data-stu-id="49e3c-212">See also</span></span>

<dl> <dt>

[<span data-ttu-id="49e3c-213">**GetExceptionInformation**</span><span class="sxs-lookup"><span data-stu-id="49e3c-213">**GetExceptionInformation**</span></span>](getexceptioninformation.md)
</dt> <dt>

[<span data-ttu-id="49e3c-214">**RaiseException**</span><span class="sxs-lookup"><span data-stu-id="49e3c-214">**RaiseException**</span></span>](/windows/win32/api/errhandlingapi/nf-errhandlingapi-raiseexception)
</dt> <dt>

[<span data-ttu-id="49e3c-215">結構化例外狀況處理函式</span><span class="sxs-lookup"><span data-stu-id="49e3c-215">Structured Exception Handling Functions</span></span>](structured-exception-handling-functions.md)
</dt> <dt>

[<span data-ttu-id="49e3c-216">結構化例外狀況處理總覽</span><span class="sxs-lookup"><span data-stu-id="49e3c-216">Structured Exception Handling Overview</span></span>](structured-exception-handling.md)
</dt> </dl>

 

 
