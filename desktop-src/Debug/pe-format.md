---
description: 此規格描述 Windows 系列作業系統下的可執行檔 (映射) 檔案和物件檔案的結構。 這些檔案分別稱為可攜式可執行檔 (PE) 和通用物件檔案格式 (COFF) 檔。
ms.assetid: 3dbfbf7f-6662-45a4-99f1-e0e24c370dee
title: PE 格式
ms.topic: article
ms.date: 03/31/2021
ms.custom: contperf-fy21q1
ms.openlocfilehash: 3cc6fd777bca831ca4424baaa81c5525a24556ec
ms.sourcegitcommit: 3b9424e1dcd951b2a73e47de3c7f4d734de4263b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/31/2021
ms.locfileid: "106984493"
---
# <a name="pe-format"></a><span data-ttu-id="cbcd2-104">PE 格式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-104">PE Format</span></span>

<span data-ttu-id="cbcd2-105">此規格描述 Windows 系列作業系統下的可執行檔 (映射) 檔案和物件檔案的結構。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-105">This specification describes the structure of executable (image) files and object files under the Windows family of operating systems.</span></span> <span data-ttu-id="cbcd2-106">這些檔案分別稱為可攜式可執行檔 (PE) 和通用物件檔案格式 (COFF) 檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-106">These files are referred to as Portable Executable (PE) and Common Object File Format (COFF) files, respectively.</span></span>

> [!Note]  
> <span data-ttu-id="cbcd2-107">本檔的目的是協助開發 Windows 的工具和應用程式，但不保證在所有方面都是完整的規格。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-107">This document is provided to aid in the development of tools and applications for Windows but is not guaranteed to be a complete specification in all respects.</span></span> <span data-ttu-id="cbcd2-108">Microsoft 保留修改本檔的權利，恕不另行通知。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-108">Microsoft reserves the right to alter this document without notice.</span></span>

<span data-ttu-id="cbcd2-109">此 Microsoft 可攜性可執行檔和通用物件檔案格式規格的修訂，會取代此規格的所有先前修訂。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-109">This revision of the Microsoft Portable Executable and Common Object File Format Specification replaces all previous revisions of this specification.</span></span>

## <a name="general-concepts"></a><span data-ttu-id="cbcd2-110">一般概念</span><span class="sxs-lookup"><span data-stu-id="cbcd2-110">General Concepts</span></span>

<span data-ttu-id="cbcd2-111">本檔會指定 Microsoft Windows 系列作業系統下可執行檔 (映射的結構) 檔案和物件檔案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-111">This document specifies the structure of executable (image) files and object files under the Microsoft Windows family of operating systems.</span></span> <span data-ttu-id="cbcd2-112">這些檔案分別稱為可攜式可執行檔 (PE) 和通用物件檔案格式 (COFF) 檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-112">These files are referred to as Portable Executable (PE) and Common Object File Format (COFF) files, respectively.</span></span> <span data-ttu-id="cbcd2-113">「可移植的可執行檔」名稱是指格式不是架構特定的事實。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-113">The name "Portable Executable" refers to the fact that the format is not architecture specific.</span></span>

<span data-ttu-id="cbcd2-114">下表說明在此規格中出現的特定概念：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-114">Certain concepts that appear throughout this specification are described in the following table:</span></span>

| <span data-ttu-id="cbcd2-115">Name</span><span class="sxs-lookup"><span data-stu-id="cbcd2-115">Name</span></span>                              | <span data-ttu-id="cbcd2-116">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-116">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|-----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-117">屬性憑證</span><span class="sxs-lookup"><span data-stu-id="cbcd2-117">attribute certificate</span></span> <br/> | <span data-ttu-id="cbcd2-118">用來將可驗證的語句與影像建立關聯的憑證。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-118">A certificate that is used to associate verifiable statements with an image.</span></span> <span data-ttu-id="cbcd2-119">有許多不同的可驗證語句可以與檔案產生關聯;其中一個最實用的方法是軟體製造商的陳述，指出影像的訊息摘要應該是什麼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-119">A number of different verifiable statements can be associated with a file; one of the most useful ones is a statement by a software manufacturer that indicates what the message digest of the image is expected to be.</span></span> <span data-ttu-id="cbcd2-120">訊息摘要類似于總和檢查碼，但非常難以偽造。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-120">A message digest is similar to a checksum except that it is extremely difficult to forge.</span></span> <span data-ttu-id="cbcd2-121">因此，很難修改檔案，使其具有與原始檔案相同的訊息摘要。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-121">Therefore, it is very difficult to modify a file to have the same message digest as the original file.</span></span> <span data-ttu-id="cbcd2-122">您可以使用公開或私密金鑰密碼編譯配置，來驗證該語句是否由製造商進行。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-122">The statement can be verified as being made by the manufacturer by using public or private key cryptography schemes.</span></span> <span data-ttu-id="cbcd2-123">本檔將說明除了允許其插入影像檔案之外的屬性憑證的詳細資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-123">This document describes details about attribute certificates other than to allow for their insertion into image files.</span></span> <br/> |
| <span data-ttu-id="cbcd2-124">日期/時間戳記</span><span class="sxs-lookup"><span data-stu-id="cbcd2-124">date/time stamp</span></span> <br/>       | <span data-ttu-id="cbcd2-125">在 PE 或 COFF 檔案的數個位置中，用於不同用途的戳記。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-125">A stamp that is used for different purposes in several places in a PE or COFF file.</span></span> <span data-ttu-id="cbcd2-126">在大部分的情況下，每個戳記的格式與 C 執行時間程式庫中的時間函式所使用的格式相同。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-126">In most cases, the format of each stamp is the same as that used by the time functions in the C run-time library.</span></span> <span data-ttu-id="cbcd2-127">如需例外狀況，請參閱 \_ 偵錯工具 \_ \_ [類型](#debug-type)中的影像偵錯工具類型重現 descriptor。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-127">For exceptions, see the descripton of IMAGE\_DEBUG\_TYPE\_REPRO in [Debug Type](#debug-type).</span></span> <span data-ttu-id="cbcd2-128">如果戳記值為0或0xFFFFFFFF，則不代表實際或有意義的日期/時間戳記。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-128">If the stamp value is 0 or 0xFFFFFFFF, it does not represent a real or meaningful date/time stamp.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-129">檔案指標</span><span class="sxs-lookup"><span data-stu-id="cbcd2-129">file pointer</span></span> <br/>          | <span data-ttu-id="cbcd2-130">專案在檔案本身的位置，在連結器處理之前， (在) 或載入器的情況下， () 的影像檔案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-130">The location of an item within the file itself, before being processed by the linker (in the case of object files) or the loader (in the case of image files).</span></span> <span data-ttu-id="cbcd2-131">換句話說，這是儲存在磁片上的檔案中的位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-131">In other words, this is a position within the file as stored on disk.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="cbcd2-132">連結器</span><span class="sxs-lookup"><span data-stu-id="cbcd2-132">linker</span></span> <br/>                | <span data-ttu-id="cbcd2-133">Microsoft Visual Studio 所提供連結器的參考。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-133">A reference to the linker that is provided with Microsoft Visual Studio.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="cbcd2-134">目的檔</span><span class="sxs-lookup"><span data-stu-id="cbcd2-134">object file</span></span> <br/>           | <span data-ttu-id="cbcd2-135">提供給連結器輸入的檔案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-135">A file that is given as input to the linker.</span></span> <span data-ttu-id="cbcd2-136">連結器會產生影像檔案，然後將它當做載入器的輸入使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-136">The linker produces an image file, which in turn is used as input by the loader.</span></span> <span data-ttu-id="cbcd2-137">「目的檔」一詞不一定意指與物件導向程式設計的任何連接。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-137">The term "object file" does not necessarily imply any connection to object-oriented programming.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="cbcd2-138">保留，必須為0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-138">reserved, must be 0</span></span> <br/>   | <span data-ttu-id="cbcd2-139">欄位的描述，表示產生器的欄位值必須為零，而且取用者必須忽略欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-139">A description of a field that indicates that the value of the field must be zero for generators and consumers must ignore the field.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="cbcd2-140"> (RVA) 的相對虛擬位址</span><span class="sxs-lookup"><span data-stu-id="cbcd2-140">Relative virtual address (RVA)</span></span> <br/>                   | <span data-ttu-id="cbcd2-141">在影像檔案中，這是載入記憶體後，將專案的位址從其減去之影像檔的基底位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-141">In an image file, this is the address of an item after it is loaded into memory, with the base address of the image file subtracted from it.</span></span> <span data-ttu-id="cbcd2-142">專案的 RVA 幾乎一律與其在磁片 (檔指標) 上的位置不同。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-142">The RVA of an item almost always differs from its position within the file on disk (file pointer).</span></span> <br/> <span data-ttu-id="cbcd2-143">在目的檔中，RVA 的意義較低，因為未指派記憶體位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-143">In an object file, an RVA is less meaningful because memory locations are not assigned.</span></span> <span data-ttu-id="cbcd2-144">在此情況下，RVA 會是區段內的位址 (下表稍後所述的位址) ，稍後會在連結期間套用重新配置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-144">In this case, an RVA would be an address within a section (described later in this table), to which a relocation is later applied during linking.</span></span> <span data-ttu-id="cbcd2-145">為了簡單起見，編譯器應該只將每個區段中的第一個 RVA 設為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-145">For simplicity, a compiler should just set the first RVA in each section to zero.</span></span> <br/>                                                                                                                                         |
| <span data-ttu-id="cbcd2-146">section</span><span class="sxs-lookup"><span data-stu-id="cbcd2-146">section</span></span> <br/>               | <span data-ttu-id="cbcd2-147">PE 或 COFF 檔案內的程式碼或資料的基本單位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-147">The basic unit of code or data within a PE or COFF file.</span></span> <span data-ttu-id="cbcd2-148">例如，在單一區段或 (中的所有程式碼都可以在單一區段內合併，也可以根據編譯器的行為，) 每個函式可能會佔用自己的區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-148">For example, all code in an object file can be combined within a single section or (depending on compiler behavior) each function can occupy its own section.</span></span> <span data-ttu-id="cbcd2-149">使用更多區段時，會有更多的檔案額外負荷，但連結器可以更有選擇性地連結到程式碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-149">With more sections, there is more file overhead, but the linker is able to link in code more selectively.</span></span> <span data-ttu-id="cbcd2-150">區段類似于 Intel 8086 架構中的區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-150">A section is similar to a segment in Intel 8086 architecture.</span></span> <span data-ttu-id="cbcd2-151">您必須連續載入區段中的所有原始資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-151">All the raw data in a section must be loaded contiguously.</span></span> <span data-ttu-id="cbcd2-152">此外，影像檔案也可以包含許多區段，例如 tls 或 reloc，而這些區段具有特殊用途。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-152">In addition, an image file can contain a number of sections, such as .tls or .reloc , which have special purposes.</span></span> <br/>                                                                                                                                                                      |
| <span data-ttu-id="cbcd2-153">虛擬位址 (VA) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-153">Virtual Address (VA)</span></span> <br/>                    | <span data-ttu-id="cbcd2-154">與 RVA 相同，不同之處在于影像檔案的基底位址不會被扣除。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-154">Same as RVA, except that the base address of the image file is not subtracted.</span></span> <span data-ttu-id="cbcd2-155">位址稱為 VA，因為 Windows 會為每個進程建立不同的 VA 空間，與實體記憶體無關。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-155">The address is called a VA because Windows creates a distinct VA space for each process, independent of physical memory.</span></span> <span data-ttu-id="cbcd2-156">針對幾乎所有用途，VA 應該只視為位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-156">For almost all purposes, a VA should be considered just an address.</span></span> <span data-ttu-id="cbcd2-157">VA 無法預測為 RVA，因為載入器可能不會在其慣用位置載入映射。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-157">A VA is not as predictable as an RVA because the loader might not load the image at its preferred location.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                        |

## <a name="overview"></a><span data-ttu-id="cbcd2-158">概觀</span><span class="sxs-lookup"><span data-stu-id="cbcd2-158">Overview</span></span>

<span data-ttu-id="cbcd2-159">下列清單描述 Microsoft PE 可執行檔案格式，其頂端有影像標頭的基底。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-159">The following list describes the Microsoft PE executable format, with the base of the image header at the top.</span></span> <span data-ttu-id="cbcd2-160">在 PE 標頭之前，從 MS-DOS 2.0 相容 EXE 標頭到未使用區段的區段是 MS-DOS 2.0 區段，而且僅適用于 MS-DOS 相容性。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-160">The section from the MS-DOS 2.0 Compatible EXE Header through to the unused section just before the PE header is the MS-DOS 2.0 Section, and is used for MS-DOS compatibility only.</span></span>

-   <span data-ttu-id="cbcd2-161">MS-DOS 2.0 相容 EXE 標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-161">MS-DOS 2.0 Compatible EXE Header</span></span>
-   <span data-ttu-id="cbcd2-162">unused</span><span class="sxs-lookup"><span data-stu-id="cbcd2-162">unused</span></span>
-   <span data-ttu-id="cbcd2-163">OEM 識別碼</span><span class="sxs-lookup"><span data-stu-id="cbcd2-163">OEM Identifier</span></span>

    <span data-ttu-id="cbcd2-164">OEM 資訊</span><span class="sxs-lookup"><span data-stu-id="cbcd2-164">OEM Information</span></span>

    <span data-ttu-id="cbcd2-165">PE 標頭的位移</span><span class="sxs-lookup"><span data-stu-id="cbcd2-165">Offset to PE Header</span></span>

-   <span data-ttu-id="cbcd2-166">MS-DOS 2.0 Stub 程式和重新配置表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-166">MS-DOS 2.0 Stub Program and Relocation Table</span></span>

-   <span data-ttu-id="cbcd2-167">unused</span><span class="sxs-lookup"><span data-stu-id="cbcd2-167">unused</span></span>

-   <span data-ttu-id="cbcd2-168">PE 標頭 (對齊8位元組界限) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-168">PE Header (aligned on 8-byte boundary)</span></span>

-   <span data-ttu-id="cbcd2-169">區段標題</span><span class="sxs-lookup"><span data-stu-id="cbcd2-169">Section Headers</span></span>
-   <span data-ttu-id="cbcd2-170">影像頁面：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-170">Image Pages:</span></span>

    <span data-ttu-id="cbcd2-171">匯入資訊</span><span class="sxs-lookup"><span data-stu-id="cbcd2-171">import info</span></span>

    <span data-ttu-id="cbcd2-172">匯出資訊</span><span class="sxs-lookup"><span data-stu-id="cbcd2-172">export info</span></span>

    <span data-ttu-id="cbcd2-173">基底重新置放</span><span class="sxs-lookup"><span data-stu-id="cbcd2-173">base relocations</span></span>

    <span data-ttu-id="cbcd2-174">資源資訊</span><span class="sxs-lookup"><span data-stu-id="cbcd2-174">resource info</span></span>

<span data-ttu-id="cbcd2-175">下列清單說明 Microsoft COFF 物件模組格式：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-175">The following list describes the Microsoft COFF object-module format:</span></span>

-   <span data-ttu-id="cbcd2-176">Microsoft COFF 標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-176">Microsoft COFF Header</span></span>
-   <span data-ttu-id="cbcd2-177">區段標題</span><span class="sxs-lookup"><span data-stu-id="cbcd2-177">Section Headers</span></span>
-   <span data-ttu-id="cbcd2-178">原始資料：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-178">Raw Data:</span></span>

    <span data-ttu-id="cbcd2-179">code</span><span class="sxs-lookup"><span data-stu-id="cbcd2-179">code</span></span>

    <span data-ttu-id="cbcd2-180">data</span><span class="sxs-lookup"><span data-stu-id="cbcd2-180">data</span></span>

    <span data-ttu-id="cbcd2-181">調試資訊</span><span class="sxs-lookup"><span data-stu-id="cbcd2-181">debug info</span></span>

    <span data-ttu-id="cbcd2-182">定位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-182">relocations</span></span>

## <a name="file-headers"></a><span data-ttu-id="cbcd2-183">檔案標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-183">File Headers</span></span>

- [<span data-ttu-id="cbcd2-184">只有) 的 MS-DOS 存根 (映射 </span><span class="sxs-lookup"><span data-stu-id="cbcd2-184">MS-DOS Stub (Image Only)</span></span>](#ms-dos-stub-image-only)
- [<span data-ttu-id="cbcd2-185">只有) 的簽章 (映射 </span><span class="sxs-lookup"><span data-stu-id="cbcd2-185">Signature (Image Only)</span></span>](#signature-image-only)
- [<span data-ttu-id="cbcd2-186">COFF 檔案標頭 (物件和影像) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-186">COFF File Header (Object and Image)</span></span>](#coff-file-header-object-and-image)
  - [<span data-ttu-id="cbcd2-187">電腦類型</span><span class="sxs-lookup"><span data-stu-id="cbcd2-187">Machine Types</span></span>](#machine-types)
  - [<span data-ttu-id="cbcd2-188">特性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-188">Characteristics</span></span>](#characteristics)
- [<span data-ttu-id="cbcd2-189">選用的標頭 (僅限映射) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-189">Optional Header (Image Only)</span></span>](#optional-header-image-only)
  - [<span data-ttu-id="cbcd2-190">選擇性的標頭標準欄位僅 (映射) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-190">Optional Header Standard Fields (Image Only)</span></span>](#optional-header-standard-fields-image-only)
  - [<span data-ttu-id="cbcd2-191">選擇性的標頭 Windows-Specific 欄位僅 (影像) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-191">Optional Header Windows-Specific Fields (Image Only)</span></span>](#optional-header-windows-specific-fields-image-only)
  - [<span data-ttu-id="cbcd2-192">選擇性的標頭資料目錄僅 (映射) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-192">Optional Header Data Directories (Image Only)</span></span>](#optional-header-data-directories-image-only)

<span data-ttu-id="cbcd2-193">PE 檔案標頭包含 Microsoft MS-DOS 存根、PE 簽章、COFF 檔案標頭，以及選用的標頭。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-193">The PE file header consists of a Microsoft MS-DOS stub, the PE signature, the COFF file header, and an optional header.</span></span> <span data-ttu-id="cbcd2-194">COFF 物件檔標頭包含 COFF 檔案標頭和選擇性標頭。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-194">A COFF object file header consists of a COFF file header and an optional header.</span></span> <span data-ttu-id="cbcd2-195">在這兩種情況下，檔案標頭後面都會緊接著區段標頭。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-195">In both cases, the file headers are followed immediately by section headers.</span></span>

### <a name="ms-dos-stub-image-only"></a><span data-ttu-id="cbcd2-196">只有) 的 MS-DOS 存根 (映射</span><span class="sxs-lookup"><span data-stu-id="cbcd2-196">MS-DOS Stub (Image Only)</span></span>

<span data-ttu-id="cbcd2-197">MS-DOS 存根是在 MS-DOS 下執行的有效應用程式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-197">The MS-DOS stub is a valid application that runs under MS-DOS.</span></span> <span data-ttu-id="cbcd2-198">它會放在 EXE 映射的前方。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-198">It is placed at the front of the EXE image.</span></span> <span data-ttu-id="cbcd2-199">連結器會在此放置預設的存根，這會在執行映射時，于 MS-DOS 中列印出「此程式無法在 DOS 模式下執行」訊息。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-199">The linker places a default stub here, which prints out the message "This program cannot be run in DOS mode" when the image is run in MS-DOS.</span></span> <span data-ttu-id="cbcd2-200">使用者可以使用/STUB 連結器選項指定不同的存根。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-200">The user can specify a different stub by using the /STUB linker option.</span></span>

<span data-ttu-id="cbcd2-201">在位置0x3c，存根具有 PE 簽章的檔案位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-201">At location 0x3c, the stub has the file offset to the PE signature.</span></span> <span data-ttu-id="cbcd2-202">此資訊可讓 Windows 適當地執行影像檔案，即使它有 MS-DOS 存根也一樣。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-202">This information enables Windows to properly execute the image file, even though it has an MS-DOS stub.</span></span> <span data-ttu-id="cbcd2-203">這個檔案位移是在連結期間放置於位置0x3c。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-203">This file offset is placed at location 0x3c during linking.</span></span>

### <a name="signature-image-only"></a><span data-ttu-id="cbcd2-204">只有) 的簽章 (映射</span><span class="sxs-lookup"><span data-stu-id="cbcd2-204">Signature (Image Only)</span></span>

<span data-ttu-id="cbcd2-205">在 MS-DOS 存根之後，在位移0x3c 指定的檔案位移中，是一個4位元組簽章，可將檔案識別為 PE 格式的影像檔案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-205">After the MS-DOS stub, at the file offset specified at offset 0x3c, is a 4-byte signature that identifies the file as a PE format image file.</span></span> <span data-ttu-id="cbcd2-206">此簽章是 "PE \\ 0 \\ 0" (字母 "P" 和 "E"，後面接著兩個 null 位元組) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-206">This signature is "PE\\0\\0" (the letters "P" and "E" followed by two null bytes).</span></span>

### <a name="coff-file-header-object-and-image"></a><span data-ttu-id="cbcd2-207">COFF 檔案標頭 (物件和影像) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-207">COFF File Header (Object and Image)</span></span>

<span data-ttu-id="cbcd2-208">在物件檔案的開頭，或在影像檔案的簽章之後緊接在影像檔案的開頭，是採用下列格式的標準 COFF 檔案標頭。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-208">At the beginning of an object file, or immediately after the signature of an image file, is a standard COFF file header in the following format.</span></span> <span data-ttu-id="cbcd2-209">請注意，Windows 載入器會將區段數限制為96。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-209">Note that the Windows loader limits the number of sections to 96.</span></span>

| <span data-ttu-id="cbcd2-210">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-210">Offset</span></span>         | <span data-ttu-id="cbcd2-211">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-211">Size</span></span>          | <span data-ttu-id="cbcd2-212">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-212">Field</span></span>                            | <span data-ttu-id="cbcd2-213">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-213">Description</span></span>                                                                                                                                                                                                                                                          |
|----------------|---------------|----------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-214">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-214">0</span></span> <br/>  | <span data-ttu-id="cbcd2-215">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-215">2</span></span> <br/> | <span data-ttu-id="cbcd2-216">電腦</span><span class="sxs-lookup"><span data-stu-id="cbcd2-216">Machine</span></span> <br/>              | <span data-ttu-id="cbcd2-217">識別目的電腦類型的數位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-217">The number that identifies the type of target machine.</span></span> <span data-ttu-id="cbcd2-218">如需詳細資訊，請參閱 [電腦類型](#machine-types)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-218">For more information, see [Machine Types](#machine-types).</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="cbcd2-219">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-219">2</span></span> <br/>  | <span data-ttu-id="cbcd2-220">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-220">2</span></span> <br/> | <span data-ttu-id="cbcd2-221">NumberOfSections</span><span class="sxs-lookup"><span data-stu-id="cbcd2-221">NumberOfSections</span></span> <br/>     | <span data-ttu-id="cbcd2-222">區段數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-222">The number of sections.</span></span> <span data-ttu-id="cbcd2-223">這指出區段表 (緊接在標頭之後) 的大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-223">This indicates the size of the section table, which immediately follows the headers.</span></span> <br/>                                                                                                                                             |
| <span data-ttu-id="cbcd2-224">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-224">4</span></span> <br/>  | <span data-ttu-id="cbcd2-225">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-225">4</span></span> <br/> | <span data-ttu-id="cbcd2-226">TimeDateStamp</span><span class="sxs-lookup"><span data-stu-id="cbcd2-226">TimeDateStamp</span></span> <br/>        | <span data-ttu-id="cbcd2-227">自00:00 年1月 1970 1 日起的秒數的低32位 (C 執行時間時間 \_ t 值) ，指出檔案的建立時間。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-227">The low 32 bits of the number of seconds since 00:00 January 1, 1970 (a C run-time time\_t value), which indicates when the file was created.</span></span> <br/>                                                                                                             |
| <span data-ttu-id="cbcd2-228">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-228">8</span></span> <br/>  | <span data-ttu-id="cbcd2-229">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-229">4</span></span> <br/> | <span data-ttu-id="cbcd2-230">PointerToSymbolTable</span><span class="sxs-lookup"><span data-stu-id="cbcd2-230">PointerToSymbolTable</span></span> <br/> | <span data-ttu-id="cbcd2-231">COFF 符號表的檔案位移，如果沒有任何 COFF 符號表存在，則為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-231">The file offset of the COFF symbol table, or zero if no COFF symbol table is present.</span></span> <span data-ttu-id="cbcd2-232">因為 COFF 偵錯工具資訊已被取代，所以影像的這個值應該為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-232">This value should be zero for an image because COFF debugging information is deprecated.</span></span> <br/>                                                                           |
| <span data-ttu-id="cbcd2-233">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-233">12</span></span> <br/> | <span data-ttu-id="cbcd2-234">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-234">4</span></span> <br/> | <span data-ttu-id="cbcd2-235">NumberOfSymbols</span><span class="sxs-lookup"><span data-stu-id="cbcd2-235">NumberOfSymbols</span></span> <br/>      | <span data-ttu-id="cbcd2-236">符號表中的專案數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-236">The number of entries in the symbol table.</span></span> <span data-ttu-id="cbcd2-237">此資料可以用來尋找字串表 (緊接在符號表之後)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-237">This data can be used to locate the string table, which immediately follows the symbol table.</span></span> <span data-ttu-id="cbcd2-238">因為 COFF 偵錯工具資訊已被取代，所以影像的這個值應該為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-238">This value should be zero for an image because COFF debugging information is deprecated.</span></span> <br/>                        |
| <span data-ttu-id="cbcd2-239">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-239">16</span></span> <br/> | <span data-ttu-id="cbcd2-240">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-240">2</span></span> <br/> | <span data-ttu-id="cbcd2-241">SizeOfOptionalHeader</span><span class="sxs-lookup"><span data-stu-id="cbcd2-241">SizeOfOptionalHeader</span></span> <br/> | <span data-ttu-id="cbcd2-242">選用標頭的大小，這是可執行檔所需的大小，但不適用於物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-242">The size of the optional header, which is required for executable files but not for object files.</span></span> <span data-ttu-id="cbcd2-243">物件檔案的這個值應該為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-243">This value should be zero for an object file.</span></span> <span data-ttu-id="cbcd2-244">如需標頭格式的描述，請參閱 [選用標頭 (僅限映射) ](#optional-header-image-only)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-244">For a description of the header format, see [Optional Header (Image Only)](#optional-header-image-only).</span></span> <br/> |
| <span data-ttu-id="cbcd2-245">18</span><span class="sxs-lookup"><span data-stu-id="cbcd2-245">18</span></span> <br/> | <span data-ttu-id="cbcd2-246">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-246">2</span></span> <br/> | <span data-ttu-id="cbcd2-247">特性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-247">Characteristics</span></span> <br/>      | <span data-ttu-id="cbcd2-248">指出檔案屬性的旗標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-248">The flags that indicate the attributes of the file.</span></span> <span data-ttu-id="cbcd2-249">如需特定的旗標值，請參閱 [特性](#characteristics)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-249">For specific flag values, see [Characteristics](#characteristics).</span></span> <br/>                                                                                                                               |

#### <a name="machine-types"></a><span data-ttu-id="cbcd2-250">電腦類型</span><span class="sxs-lookup"><span data-stu-id="cbcd2-250">Machine Types</span></span>

<span data-ttu-id="cbcd2-251">電腦欄位具有下列其中一個值，可指定 CPU 類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-251">The Machine field has one of the following values, which specify the CPU type.</span></span> <span data-ttu-id="cbcd2-252">影像檔案只能在指定的電腦上執行，或在模擬指定電腦的系統上執行。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-252">An image file can be run only on the specified machine or on a system that emulates the specified machine.</span></span>

| <span data-ttu-id="cbcd2-253">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-253">Constant</span></span>                                    | <span data-ttu-id="cbcd2-254">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-254">Value</span></span>              | <span data-ttu-id="cbcd2-255">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-255">Description</span></span>                                                                             |
|---------------------------------------------|--------------------|-----------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-256">圖像 \_ 檔 \_ 電腦 \_ 不明</span><span class="sxs-lookup"><span data-stu-id="cbcd2-256">IMAGE\_FILE\_MACHINE\_UNKNOWN</span></span> <br/>   | <span data-ttu-id="cbcd2-257">0x0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-257">0x0</span></span> <br/>    | <span data-ttu-id="cbcd2-258">此欄位的內容假設適用于任何電腦類型</span><span class="sxs-lookup"><span data-stu-id="cbcd2-258">The content of this field is assumed to be applicable to any machine type</span></span> <br/> |
| <span data-ttu-id="cbcd2-259">圖像 \_ 檔 \_ 機器 \_ AM33</span><span class="sxs-lookup"><span data-stu-id="cbcd2-259">IMAGE\_FILE\_MACHINE\_AM33</span></span> <br/>      | <span data-ttu-id="cbcd2-260">0x1d3</span><span class="sxs-lookup"><span data-stu-id="cbcd2-260">0x1d3</span></span> <br/>  | <span data-ttu-id="cbcd2-261">Matsushita AM33</span><span class="sxs-lookup"><span data-stu-id="cbcd2-261">Matsushita AM33</span></span> <br/>                                                             |
| <span data-ttu-id="cbcd2-262">圖像 \_ 檔 \_ 電腦 \_ AMD64</span><span class="sxs-lookup"><span data-stu-id="cbcd2-262">IMAGE\_FILE\_MACHINE\_AMD64</span></span> <br/>     | <span data-ttu-id="cbcd2-263">0x8664</span><span class="sxs-lookup"><span data-stu-id="cbcd2-263">0x8664</span></span> <br/> | <span data-ttu-id="cbcd2-264">x64</span><span class="sxs-lookup"><span data-stu-id="cbcd2-264">x64</span></span> <br/>                                                                         |
| <span data-ttu-id="cbcd2-265">圖像 \_ 檔 \_ 機器 \_ ARM</span><span class="sxs-lookup"><span data-stu-id="cbcd2-265">IMAGE\_FILE\_MACHINE\_ARM</span></span> <br/>       | <span data-ttu-id="cbcd2-266">0x1c0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-266">0x1c0</span></span> <br/>  | <span data-ttu-id="cbcd2-267">ARM 位元組由小到大</span><span class="sxs-lookup"><span data-stu-id="cbcd2-267">ARM little endian</span></span> <br/>                                                           |
| <span data-ttu-id="cbcd2-268">圖像 \_ 檔 \_ 機器 \_ ARM64</span><span class="sxs-lookup"><span data-stu-id="cbcd2-268">IMAGE\_FILE\_MACHINE\_ARM64</span></span> <br/>     | <span data-ttu-id="cbcd2-269">0xaa64</span><span class="sxs-lookup"><span data-stu-id="cbcd2-269">0xaa64</span></span> <br/> | <span data-ttu-id="cbcd2-270">ARM64 位元組由小到大</span><span class="sxs-lookup"><span data-stu-id="cbcd2-270">ARM64 little endian</span></span> <br/>                                                         |
| <span data-ttu-id="cbcd2-271">圖像 \_ 檔 \_ 機器 \_ ARMNT</span><span class="sxs-lookup"><span data-stu-id="cbcd2-271">IMAGE\_FILE\_MACHINE\_ARMNT</span></span> <br/>     | <span data-ttu-id="cbcd2-272">0x1c4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-272">0x1c4</span></span> <br/>  | <span data-ttu-id="cbcd2-273">ARM Thumb-2 個位元組由小到大</span><span class="sxs-lookup"><span data-stu-id="cbcd2-273">ARM Thumb-2 little endian</span></span> <br/>                                                   |
| <span data-ttu-id="cbcd2-274">圖像 \_ 檔 \_ 機器 \_ EBC</span><span class="sxs-lookup"><span data-stu-id="cbcd2-274">IMAGE\_FILE\_MACHINE\_EBC</span></span> <br/>       | <span data-ttu-id="cbcd2-275">0xebc</span><span class="sxs-lookup"><span data-stu-id="cbcd2-275">0xebc</span></span> <br/>  | <span data-ttu-id="cbcd2-276">EFI 位元組碼</span><span class="sxs-lookup"><span data-stu-id="cbcd2-276">EFI byte code</span></span> <br/>                                                               |
| <span data-ttu-id="cbcd2-277">圖像 \_ 檔 \_ 機器 \_ I386</span><span class="sxs-lookup"><span data-stu-id="cbcd2-277">IMAGE\_FILE\_MACHINE\_I386</span></span> <br/>      | <span data-ttu-id="cbcd2-278">0x14c</span><span class="sxs-lookup"><span data-stu-id="cbcd2-278">0x14c</span></span> <br/>  | <span data-ttu-id="cbcd2-279">Intel 386 或更新版本的處理器和相容處理器</span><span class="sxs-lookup"><span data-stu-id="cbcd2-279">Intel 386 or later processors and compatible processors</span></span> <br/>                     |
| <span data-ttu-id="cbcd2-280">圖像 \_ 檔案 \_ 電腦 \_ IA64</span><span class="sxs-lookup"><span data-stu-id="cbcd2-280">IMAGE\_FILE\_MACHINE\_IA64</span></span> <br/>      | <span data-ttu-id="cbcd2-281">0x200</span><span class="sxs-lookup"><span data-stu-id="cbcd2-281">0x200</span></span> <br/>  | <span data-ttu-id="cbcd2-282">Intel Itanium 處理器系列</span><span class="sxs-lookup"><span data-stu-id="cbcd2-282">Intel Itanium processor family</span></span> <br/>                                              |
| <span data-ttu-id="cbcd2-283">圖像 \_ 檔 \_ 機器 \_ M32R</span><span class="sxs-lookup"><span data-stu-id="cbcd2-283">IMAGE\_FILE\_MACHINE\_M32R</span></span> <br/>      | <span data-ttu-id="cbcd2-284">0x9041</span><span class="sxs-lookup"><span data-stu-id="cbcd2-284">0x9041</span></span> <br/> | <span data-ttu-id="cbcd2-285">Mitsubishi M32R 位元組由小到大</span><span class="sxs-lookup"><span data-stu-id="cbcd2-285">Mitsubishi M32R little endian</span></span> <br/>                                               |
| <span data-ttu-id="cbcd2-286">圖像 \_ 檔 \_ 機器 \_ MIPS16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-286">IMAGE\_FILE\_MACHINE\_MIPS16</span></span> <br/>    | <span data-ttu-id="cbcd2-287">0x266</span><span class="sxs-lookup"><span data-stu-id="cbcd2-287">0x266</span></span> <br/>  | <span data-ttu-id="cbcd2-288">MIPS16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-288">MIPS16</span></span> <br/>                                                                      |
| <span data-ttu-id="cbcd2-289">圖像 \_ 檔 \_ 機器 \_ MIPSFPU</span><span class="sxs-lookup"><span data-stu-id="cbcd2-289">IMAGE\_FILE\_MACHINE\_MIPSFPU</span></span> <br/>   | <span data-ttu-id="cbcd2-290">0x366</span><span class="sxs-lookup"><span data-stu-id="cbcd2-290">0x366</span></span> <br/>  | <span data-ttu-id="cbcd2-291">具有 FPU 的 MIPS</span><span class="sxs-lookup"><span data-stu-id="cbcd2-291">MIPS with FPU</span></span> <br/>                                                               |
| <span data-ttu-id="cbcd2-292">圖像 \_ 檔 \_ 機器 \_ MIPSFPU16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-292">IMAGE\_FILE\_MACHINE\_MIPSFPU16</span></span> <br/> | <span data-ttu-id="cbcd2-293">0x466</span><span class="sxs-lookup"><span data-stu-id="cbcd2-293">0x466</span></span> <br/>  | <span data-ttu-id="cbcd2-294">具有 FPU 的 MIPS16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-294">MIPS16 with FPU</span></span> <br/>                                                             |
| <span data-ttu-id="cbcd2-295">圖像 \_ 檔 \_ 機器 \_ POWERPC</span><span class="sxs-lookup"><span data-stu-id="cbcd2-295">IMAGE\_FILE\_MACHINE\_POWERPC</span></span> <br/>   | <span data-ttu-id="cbcd2-296">0x1f0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-296">0x1f0</span></span> <br/>  | <span data-ttu-id="cbcd2-297">強大電腦的位元組由大到小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-297">Power PC little endian</span></span> <br/>                                                      |
| <span data-ttu-id="cbcd2-298">圖像 \_ 檔 \_ 機器 \_ POWERPCFP</span><span class="sxs-lookup"><span data-stu-id="cbcd2-298">IMAGE\_FILE\_MACHINE\_POWERPCFP</span></span> <br/> | <span data-ttu-id="cbcd2-299">0x1f1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-299">0x1f1</span></span> <br/>  | <span data-ttu-id="cbcd2-300">具有浮點支援的電源電腦</span><span class="sxs-lookup"><span data-stu-id="cbcd2-300">Power PC with floating point support</span></span> <br/>                                        |
| <span data-ttu-id="cbcd2-301">圖像 \_ 檔 \_ 機器 \_ R4000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-301">IMAGE\_FILE\_MACHINE\_R4000</span></span> <br/>     | <span data-ttu-id="cbcd2-302">0x166</span><span class="sxs-lookup"><span data-stu-id="cbcd2-302">0x166</span></span> <br/>  | <span data-ttu-id="cbcd2-303">MIPS 小位元組由小到大</span><span class="sxs-lookup"><span data-stu-id="cbcd2-303">MIPS little endian</span></span> <br/>                                                          |
| <span data-ttu-id="cbcd2-304">圖像 \_ 檔 \_ 機器 \_ RISCV32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-304">IMAGE\_FILE\_MACHINE\_RISCV32</span></span> <br/>   | <span data-ttu-id="cbcd2-305">0x5032</span><span class="sxs-lookup"><span data-stu-id="cbcd2-305">0x5032</span></span> <br/> | <span data-ttu-id="cbcd2-306">RISC-V 32-bit 位址空間</span><span class="sxs-lookup"><span data-stu-id="cbcd2-306">RISC-V 32-bit address space</span></span> <br/>                                                 |
| <span data-ttu-id="cbcd2-307">圖像 \_ 檔 \_ 機器 \_ RISCV64</span><span class="sxs-lookup"><span data-stu-id="cbcd2-307">IMAGE\_FILE\_MACHINE\_RISCV64</span></span> <br/>   | <span data-ttu-id="cbcd2-308">0x5064</span><span class="sxs-lookup"><span data-stu-id="cbcd2-308">0x5064</span></span> <br/> | <span data-ttu-id="cbcd2-309">RISC-V 64-bit 位址空間</span><span class="sxs-lookup"><span data-stu-id="cbcd2-309">RISC-V 64-bit address space</span></span> <br/>                                                 |
| <span data-ttu-id="cbcd2-310">圖像 \_ 檔 \_ 機器 \_ RISCV128</span><span class="sxs-lookup"><span data-stu-id="cbcd2-310">IMAGE\_FILE\_MACHINE\_RISCV128</span></span> <br/>  | <span data-ttu-id="cbcd2-311">0x5128</span><span class="sxs-lookup"><span data-stu-id="cbcd2-311">0x5128</span></span> <br/> | <span data-ttu-id="cbcd2-312">RISC-V 128-bit 位址空間</span><span class="sxs-lookup"><span data-stu-id="cbcd2-312">RISC-V 128-bit address space</span></span> <br/>                                                |
| <span data-ttu-id="cbcd2-313">圖像 \_ 檔 \_ 機器 \_ SH3</span><span class="sxs-lookup"><span data-stu-id="cbcd2-313">IMAGE\_FILE\_MACHINE\_SH3</span></span> <br/>       | <span data-ttu-id="cbcd2-314">0x1a2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-314">0x1a2</span></span> <br/>  | <span data-ttu-id="cbcd2-315">Hitachi SH3</span><span class="sxs-lookup"><span data-stu-id="cbcd2-315">Hitachi SH3</span></span> <br/>                                                                 |
| <span data-ttu-id="cbcd2-316">圖像 \_ 檔 \_ 機器 \_ SH3DSP</span><span class="sxs-lookup"><span data-stu-id="cbcd2-316">IMAGE\_FILE\_MACHINE\_SH3DSP</span></span> <br/>    | <span data-ttu-id="cbcd2-317">0x1a3</span><span class="sxs-lookup"><span data-stu-id="cbcd2-317">0x1a3</span></span> <br/>  | <span data-ttu-id="cbcd2-318">Hitachi SH3 DSP</span><span class="sxs-lookup"><span data-stu-id="cbcd2-318">Hitachi SH3 DSP</span></span> <br/>                                                             |
| <span data-ttu-id="cbcd2-319">圖像 \_ 檔 \_ 機器 \_ SH4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-319">IMAGE\_FILE\_MACHINE\_SH4</span></span> <br/>       | <span data-ttu-id="cbcd2-320">0x1a6</span><span class="sxs-lookup"><span data-stu-id="cbcd2-320">0x1a6</span></span> <br/>  | <span data-ttu-id="cbcd2-321">Hitachi SH4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-321">Hitachi SH4</span></span> <br/>                                                                 |
| <span data-ttu-id="cbcd2-322">圖像 \_ 檔 \_ 機器 \_ SH5</span><span class="sxs-lookup"><span data-stu-id="cbcd2-322">IMAGE\_FILE\_MACHINE\_SH5</span></span> <br/>       | <span data-ttu-id="cbcd2-323">0x1a8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-323">0x1a8</span></span> <br/>  | <span data-ttu-id="cbcd2-324">Hitachi SH5</span><span class="sxs-lookup"><span data-stu-id="cbcd2-324">Hitachi SH5</span></span> <br/>                                                                 |
| <span data-ttu-id="cbcd2-325">圖像 \_ 檔 \_ 機器 \_ 經驗</span><span class="sxs-lookup"><span data-stu-id="cbcd2-325">IMAGE\_FILE\_MACHINE\_THUMB</span></span> <br/>     | <span data-ttu-id="cbcd2-326">0x1c2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-326">0x1c2</span></span> <br/>  | <span data-ttu-id="cbcd2-327">Thumb</span><span class="sxs-lookup"><span data-stu-id="cbcd2-327">Thumb</span></span> <br/>                                                                       |
| <span data-ttu-id="cbcd2-328">圖像 \_ 檔 \_ 機器 \_ WCEMIPSV2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-328">IMAGE\_FILE\_MACHINE\_WCEMIPSV2</span></span> <br/> | <span data-ttu-id="cbcd2-329">0x169</span><span class="sxs-lookup"><span data-stu-id="cbcd2-329">0x169</span></span> <br/>  | <span data-ttu-id="cbcd2-330">MIPS 位元組由小到小 WCE v2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-330">MIPS little-endian WCE v2</span></span> <br/>                                                   |

#### <a name="characteristics"></a><span data-ttu-id="cbcd2-331">特性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-331">Characteristics</span></span>

<span data-ttu-id="cbcd2-332">[特性] 欄位包含的旗標會指出物件或影像檔的屬性。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-332">The Characteristics field contains flags that indicate attributes of the object or image file.</span></span> <span data-ttu-id="cbcd2-333">目前已定義下列旗標：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-333">The following flags are currently defined:</span></span>

| <span data-ttu-id="cbcd2-334">旗標</span><span class="sxs-lookup"><span data-stu-id="cbcd2-334">Flag</span></span>                                                 | <span data-ttu-id="cbcd2-335">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-335">Value</span></span>              | <span data-ttu-id="cbcd2-336">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-336">Description</span></span>                                                                                                                                                                                                                                                                                                                                                        |
|------------------------------------------------------|--------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-337">圖像 \_ 檔案 \_ RELOCS 已 \_ 移除</span><span class="sxs-lookup"><span data-stu-id="cbcd2-337">IMAGE\_FILE\_RELOCS\_STRIPPED</span></span> <br/>            | <span data-ttu-id="cbcd2-338">0x0001</span><span class="sxs-lookup"><span data-stu-id="cbcd2-338">0x0001</span></span> <br/> | <span data-ttu-id="cbcd2-339">僅限 Image、Windows CE 和 Microsoft Windows NT 和更新版本。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-339">Image only, Windows CE, and Microsoft Windows NT and later.</span></span> <span data-ttu-id="cbcd2-340">這表示檔案不包含基底重新置放，因此必須載入其慣用基底位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-340">This indicates that the file does not contain base relocations and must therefore be loaded at its preferred base address.</span></span> <span data-ttu-id="cbcd2-341">如果無法使用基底位址，則載入器會報告錯誤。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-341">If the base address is not available, the loader reports an error.</span></span> <span data-ttu-id="cbcd2-342">連結器的預設行為是從可執行檔 (EXE 中去除基底重新置放) 檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-342">The default behavior of the linker is to strip base relocations from executable (EXE) files.</span></span> <br/> |
| <span data-ttu-id="cbcd2-343">圖像 \_ 檔 \_ 可執行 \_ 映射</span><span class="sxs-lookup"><span data-stu-id="cbcd2-343">IMAGE\_FILE\_EXECUTABLE\_IMAGE</span></span> <br/>           | <span data-ttu-id="cbcd2-344">0x0002</span><span class="sxs-lookup"><span data-stu-id="cbcd2-344">0x0002</span></span> <br/> | <span data-ttu-id="cbcd2-345">僅限映射。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-345">Image only.</span></span> <span data-ttu-id="cbcd2-346">這表示影像檔案有效且可以執行。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-346">This indicates that the image file is valid and can be run.</span></span> <span data-ttu-id="cbcd2-347">如果未設定此旗標，則會指出連結器錯誤。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-347">If this flag is not set, it indicates a linker error.</span></span> <br/>                                                                                                                                                                                                                          |
| <span data-ttu-id="cbcd2-348">圖像 \_ 檔 \_ 行 \_ NUMS \_ 已移除</span><span class="sxs-lookup"><span data-stu-id="cbcd2-348">IMAGE\_FILE\_LINE\_NUMS\_STRIPPED</span></span> <br/>        | <span data-ttu-id="cbcd2-349">0x0004</span><span class="sxs-lookup"><span data-stu-id="cbcd2-349">0x0004</span></span> <br/> | <span data-ttu-id="cbcd2-350">已移除 COFF 行號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-350">COFF line numbers have been removed.</span></span> <span data-ttu-id="cbcd2-351">此旗標已被取代，應為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-351">This flag is deprecated and should be zero.</span></span> <br/>                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="cbcd2-352">已移除的圖像 \_ 檔案 \_ 本機 \_ SYMS \_</span><span class="sxs-lookup"><span data-stu-id="cbcd2-352">IMAGE\_FILE\_LOCAL\_SYMS\_STRIPPED</span></span> <br/>       | <span data-ttu-id="cbcd2-353">0x0008</span><span class="sxs-lookup"><span data-stu-id="cbcd2-353">0x0008</span></span> <br/> | <span data-ttu-id="cbcd2-354">已移除區域符號的 COFF 符號表專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-354">COFF symbol table entries for local symbols have been removed.</span></span> <span data-ttu-id="cbcd2-355">此旗標已被取代，應為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-355">This flag is deprecated and should be zero.</span></span> <br/>                                                                                                                                                                                                                                             |
| <span data-ttu-id="cbcd2-356">圖像 \_ 檔 \_ 積極的 \_ WS \_ 修剪</span><span class="sxs-lookup"><span data-stu-id="cbcd2-356">IMAGE\_FILE\_AGGRESSIVE\_WS\_TRIM</span></span> <br/>        | <span data-ttu-id="cbcd2-357">0x0010</span><span class="sxs-lookup"><span data-stu-id="cbcd2-357">0x0010</span></span> <br/> | <span data-ttu-id="cbcd2-358">已過時。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-358">Obsolete.</span></span> <span data-ttu-id="cbcd2-359">積極修剪工作集。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-359">Aggressively trim working set.</span></span> <span data-ttu-id="cbcd2-360">此旗標在 Windows 2000 和更新版本中已被取代，而且必須為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-360">This flag is deprecated for Windows 2000 and later and must be zero.</span></span> <br/>                                                                                                                                                                                                                                          |
| <span data-ttu-id="cbcd2-361">圖像 \_ 檔案 \_ 大型 \_ 位址 \_ 感知</span><span class="sxs-lookup"><span data-stu-id="cbcd2-361">IMAGE\_FILE\_LARGE\_ADDRESS\_ AWARE</span></span> <br/>      | <span data-ttu-id="cbcd2-362">0x0020</span><span class="sxs-lookup"><span data-stu-id="cbcd2-362">0x0020</span></span> <br/> | <span data-ttu-id="cbcd2-363">應用程式可以處理 > 2 GB 的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-363">Application can handle > 2-GB addresses.</span></span> <br/>                                                                                                                                                                                                                                                                                                            |
|                                                      | <span data-ttu-id="cbcd2-364">0x0040</span><span class="sxs-lookup"><span data-stu-id="cbcd2-364">0x0040</span></span> <br/> | <span data-ttu-id="cbcd2-365">此旗標已保留供日後使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-365">This flag is reserved for future use.</span></span> <br/>                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="cbcd2-366">圖像 \_ 檔案 \_ 位元組 \_ 反轉 \_ LO</span><span class="sxs-lookup"><span data-stu-id="cbcd2-366">IMAGE\_FILE\_BYTES\_REVERSED\_LO</span></span> <br/>         | <span data-ttu-id="cbcd2-367">0x0080</span><span class="sxs-lookup"><span data-stu-id="cbcd2-367">0x0080</span></span> <br/> | <span data-ttu-id="cbcd2-368">以位元組由小到大： (LSB) 最不重要的位會在記憶體中 (MSB) 最重要的位之前。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-368">Little endian: the least significant bit (LSB) precedes the most significant bit (MSB) in memory.</span></span> <span data-ttu-id="cbcd2-369">此旗標已被取代，應為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-369">This flag is deprecated and should be zero.</span></span> <br/>                                                                                                                                                                                                          |
| <span data-ttu-id="cbcd2-370">圖像 \_ 檔案 \_ 32 位 \_ 電腦</span><span class="sxs-lookup"><span data-stu-id="cbcd2-370">IMAGE\_FILE\_32BIT\_MACHINE</span></span> <br/>              | <span data-ttu-id="cbcd2-371">0x0100</span><span class="sxs-lookup"><span data-stu-id="cbcd2-371">0x0100</span></span> <br/> | <span data-ttu-id="cbcd2-372">電腦以32位字架構為基礎。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-372">Machine is based on a 32-bit-word architecture.</span></span> <br/>                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="cbcd2-373">已移除圖像 \_ 檔案 \_ 調試 \_</span><span class="sxs-lookup"><span data-stu-id="cbcd2-373">IMAGE\_FILE\_DEBUG\_STRIPPED</span></span> <br/>             | <span data-ttu-id="cbcd2-374">0x0200</span><span class="sxs-lookup"><span data-stu-id="cbcd2-374">0x0200</span></span> <br/> | <span data-ttu-id="cbcd2-375">從影像檔中移除偵錯工具資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-375">Debugging information is removed from the image file.</span></span> <br/>                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="cbcd2-376">\_ \_ \_ \_ 從 \_ 交換的影像檔案可移動執行</span><span class="sxs-lookup"><span data-stu-id="cbcd2-376">IMAGE\_FILE\_REMOVABLE\_RUN\_ FROM\_SWAP</span></span> <br/> | <span data-ttu-id="cbcd2-377">0x0400</span><span class="sxs-lookup"><span data-stu-id="cbcd2-377">0x0400</span></span> <br/> | <span data-ttu-id="cbcd2-378">如果映射位於卸載式媒體上，請將它完整載入，並將它複製到交換檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-378">If the image is on removable media, fully load it and copy it to the swap file.</span></span> <br/>                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="cbcd2-379">\_ \_ \_ \_ 從 \_ 交換執行影像檔案網路</span><span class="sxs-lookup"><span data-stu-id="cbcd2-379">IMAGE\_FILE\_NET\_RUN\_FROM\_SWAP</span></span> <br/>        | <span data-ttu-id="cbcd2-380">0x0800</span><span class="sxs-lookup"><span data-stu-id="cbcd2-380">0x0800</span></span> <br/> | <span data-ttu-id="cbcd2-381">如果映射位於網路媒體上，請將它完整載入，並將它複製到分頁檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-381">If the image is on network media, fully load it and copy it to the swap file.</span></span> <br/>                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="cbcd2-382">圖像 \_ 檔 \_ 系統</span><span class="sxs-lookup"><span data-stu-id="cbcd2-382">IMAGE\_FILE\_SYSTEM</span></span> <br/>                      | <span data-ttu-id="cbcd2-383">0x1000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-383">0x1000</span></span> <br/> | <span data-ttu-id="cbcd2-384">影像檔案是系統檔案，而不是使用者程式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-384">The image file is a system file, not a user program.</span></span> <br/>                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="cbcd2-385">圖像 \_ 檔案 \_ DLL</span><span class="sxs-lookup"><span data-stu-id="cbcd2-385">IMAGE\_FILE\_DLL</span></span> <br/>                         | <span data-ttu-id="cbcd2-386">0x2000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-386">0x2000</span></span> <br/> | <span data-ttu-id="cbcd2-387">影像檔案是動態連結程式庫 (DLL) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-387">The image file is a dynamic-link library (DLL).</span></span> <span data-ttu-id="cbcd2-388">這類檔案可視為可執行檔供幾乎所有用途使用，但無法直接執行。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-388">Such files are considered executable files for almost all purposes, although they cannot be directly run.</span></span> <br/>                                                                                                                                                                                              |
| <span data-ttu-id="cbcd2-389">\_ \_ 僅限影像檔 \_ 系統 \_</span><span class="sxs-lookup"><span data-stu-id="cbcd2-389">IMAGE\_FILE\_UP\_SYSTEM\_ONLY</span></span> <br/>            | <span data-ttu-id="cbcd2-390">0x4000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-390">0x4000</span></span> <br/> | <span data-ttu-id="cbcd2-391">檔案只能在單處理器機器上執行。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-391">The file should be run only on a uniprocessor machine.</span></span> <br/>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-392">圖像 \_ 檔案 \_ 位元組已 \_ 反轉 \_</span><span class="sxs-lookup"><span data-stu-id="cbcd2-392">IMAGE\_FILE\_BYTES\_REVERSED\_HI</span></span> <br/>         | <span data-ttu-id="cbcd2-393">0x8000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-393">0x8000</span></span> <br/> | <span data-ttu-id="cbcd2-394">位元組由大到小： MSB 在記憶體中的 LSB 之前。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-394">Big endian: the MSB precedes the LSB in memory.</span></span> <span data-ttu-id="cbcd2-395">此旗標已被取代，應為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-395">This flag is deprecated and should be zero.</span></span> <br/>                                                                                                                                                                                                                                                            |

### <a name="optional-header-image-only"></a><span data-ttu-id="cbcd2-396">選用的標頭 (僅限映射) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-396">Optional Header (Image Only)</span></span>

<span data-ttu-id="cbcd2-397">每個影像檔案都有選擇性的標頭，可提供資訊給載入器。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-397">Every image file has an optional header that provides information to the loader.</span></span> <span data-ttu-id="cbcd2-398">此標頭是選擇性的，因為某些檔案 (特別是) 沒有的物件檔案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-398">This header is optional in the sense that some files (specifically, object files) do not have it.</span></span> <span data-ttu-id="cbcd2-399">若為影像檔案，則需要此標頭。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-399">For image files, this header is required.</span></span> <span data-ttu-id="cbcd2-400">物件檔案可以有選擇性的標頭，但此標頭通常在物件檔案中沒有函式，但會增加其大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-400">An object file can have an optional header, but generally this header has no function in an object file except to increase its size.</span></span>

<span data-ttu-id="cbcd2-401">請注意，選擇性標頭的大小不是固定的。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-401">Note that the size of the optional header is not fixed.</span></span> <span data-ttu-id="cbcd2-402">COFF 標頭中的 **SizeOfOptionalHeader** 欄位必須用來驗證特定資料目錄的檔案探查不會超過 **SizeOfOptionalHeader**。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-402">The **SizeOfOptionalHeader** field in the COFF header must be used to validate that a probe into the file for a particular data directory does not go beyond **SizeOfOptionalHeader**.</span></span> <span data-ttu-id="cbcd2-403">如需詳細資訊，請參閱 [COFF 檔案標頭 (物件和影像) ](#coff-file-header-object-and-image)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-403">For more information, see [COFF File Header (Object and Image)](#coff-file-header-object-and-image).</span></span>

<span data-ttu-id="cbcd2-404">選用標頭的 **NumberOfRvaAndSizes** 欄位也應該用來確保特定資料目錄專案的探查不會超出選擇性標頭。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-404">The **NumberOfRvaAndSizes** field of the optional header should also be used to ensure that no probe for a particular data directory entry goes beyond the optional header.</span></span> <span data-ttu-id="cbcd2-405">此外，請務必驗證格式相容性的選用標頭魔術號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-405">In addition, it is important to validate the optional header magic number for format compatibility.</span></span>

<span data-ttu-id="cbcd2-406">選用標頭魔術數位可判斷影像是 PE32 或 PE32 + 可執行檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-406">The optional header magic number determines whether an image is a PE32 or PE32+ executable.</span></span>

| <span data-ttu-id="cbcd2-407">魔術數位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-407">Magic number</span></span>      | <span data-ttu-id="cbcd2-408">PE 格式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-408">PE format</span></span>         |
|-------------------|-------------------|
| <span data-ttu-id="cbcd2-409">0x10b</span><span class="sxs-lookup"><span data-stu-id="cbcd2-409">0x10b</span></span> <br/> | <span data-ttu-id="cbcd2-410">PE32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-410">PE32</span></span> <br/>  |
| <span data-ttu-id="cbcd2-411">0x20b</span><span class="sxs-lookup"><span data-stu-id="cbcd2-411">0x20b</span></span> <br/> | <span data-ttu-id="cbcd2-412">PE32 +</span><span class="sxs-lookup"><span data-stu-id="cbcd2-412">PE32+</span></span> <br/> |

<span data-ttu-id="cbcd2-413">PE32 + 影像允許64位位址空間，同時將映射大小限制為 2 gb。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-413">PE32+ images allow for a 64-bit address space while limiting the image size to 2 gigabytes.</span></span> <span data-ttu-id="cbcd2-414">其他 PE32 + 修改會在其各自的章節中解決。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-414">Other PE32+ modifications are addressed in their respective sections.</span></span>

<span data-ttu-id="cbcd2-415">選用的標頭本身有三個主要部分。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-415">The optional header itself has three major parts.</span></span>

| <span data-ttu-id="cbcd2-416">Offset (PE32/PE32 +) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-416">Offset (PE32/PE32+)</span></span> | <span data-ttu-id="cbcd2-417">大小 (PE32/PE32 +) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-417">Size (PE32/PE32+)</span></span>    | <span data-ttu-id="cbcd2-418">標頭部分</span><span class="sxs-lookup"><span data-stu-id="cbcd2-418">Header part</span></span>                         | <span data-ttu-id="cbcd2-419">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-419">Description</span></span>                                                                                                                                                                   |
|---------------------|----------------------|-------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-420">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-420">0</span></span> <br/>       | <span data-ttu-id="cbcd2-421">28/24</span><span class="sxs-lookup"><span data-stu-id="cbcd2-421">28/24</span></span> <br/>    | <span data-ttu-id="cbcd2-422">標準欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-422">Standard fields</span></span> <br/>         | <span data-ttu-id="cbcd2-423">針對所有 COFF （包括 UNIX）執行所定義的欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-423">Fields that are defined for all implementations of COFF, including UNIX.</span></span> <br/>                                                                                          |
| <span data-ttu-id="cbcd2-424">28/24</span><span class="sxs-lookup"><span data-stu-id="cbcd2-424">28/24</span></span> <br/>   | <span data-ttu-id="cbcd2-425">68/88</span><span class="sxs-lookup"><span data-stu-id="cbcd2-425">68/88</span></span> <br/>    | <span data-ttu-id="cbcd2-426">Windows 特定欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-426">Windows-specific fields</span></span> <br/> | <span data-ttu-id="cbcd2-427">支援 Windows (特定功能的其他欄位，例如子系統) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-427">Additional fields to support specific features of Windows (for example, subsystems).</span></span> <br/>                                                                              |
| <span data-ttu-id="cbcd2-428">96/112</span><span class="sxs-lookup"><span data-stu-id="cbcd2-428">96/112</span></span> <br/>  | <span data-ttu-id="cbcd2-429">變數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-429">Variable</span></span> <br/> | <span data-ttu-id="cbcd2-430">資料目錄</span><span class="sxs-lookup"><span data-stu-id="cbcd2-430">Data directories</span></span> <br/>        | <span data-ttu-id="cbcd2-431">在影像檔案中找到且由作業系統使用的特殊資料表的位址/大小組 (例如，匯入資料表和匯出資料表) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-431">Address/size pairs for special tables that are found in the image file and are used by the operating system (for example, the import table and the export table).</span></span> <br/> |

#### <a name="optional-header-standard-fields-image-only"></a><span data-ttu-id="cbcd2-432">選擇性的標頭標準欄位僅 (映射) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-432">Optional Header Standard Fields (Image Only)</span></span>

<span data-ttu-id="cbcd2-433">選用標頭的前八個欄位是為每個 COFF 的執行所定義的標準欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-433">The first eight fields of the optional header are standard fields that are defined for every implementation of COFF.</span></span> <span data-ttu-id="cbcd2-434">這些欄位包含適用于載入和執行可執行檔的一般資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-434">These fields contain general information that is useful for loading and running an executable file.</span></span> <span data-ttu-id="cbcd2-435">PE32 + 格式的設定都不會變更。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-435">They are unchanged for the PE32+ format.</span></span>

| <span data-ttu-id="cbcd2-436">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-436">Offset</span></span>         | <span data-ttu-id="cbcd2-437">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-437">Size</span></span>          | <span data-ttu-id="cbcd2-438">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-438">Field</span></span>                               | <span data-ttu-id="cbcd2-439">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-439">Description</span></span>                                                                                                                                                                                                                                                                                                                                   |
|----------------|---------------|-------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-440">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-440">0</span></span> <br/>  | <span data-ttu-id="cbcd2-441">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-441">2</span></span> <br/> | <span data-ttu-id="cbcd2-442">Magic</span><span class="sxs-lookup"><span data-stu-id="cbcd2-442">Magic</span></span> <br/>                   | <span data-ttu-id="cbcd2-443">識別影像檔案狀態的不帶正負號的整數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-443">The unsigned integer that identifies the state of the image file.</span></span> <span data-ttu-id="cbcd2-444">最常見的數位是0x10B，它會將它識別為一般可執行檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-444">The most common number is 0x10B, which identifies it as a normal executable file.</span></span> <span data-ttu-id="cbcd2-445">0x107 會將它識別為 ROM 映射，而0x20B 會將它識別為 PE32 + 可執行檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-445">0x107 identifies it as a ROM image, and 0x20B identifies it as a PE32+ executable.</span></span> <br/>                                                                                            |
| <span data-ttu-id="cbcd2-446">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-446">2</span></span> <br/>  | <span data-ttu-id="cbcd2-447">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-447">1</span></span> <br/> | <span data-ttu-id="cbcd2-448">MajorLinkerVersion</span><span class="sxs-lookup"><span data-stu-id="cbcd2-448">MajorLinkerVersion</span></span> <br/>      | <span data-ttu-id="cbcd2-449">連結器主要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-449">The linker major version number.</span></span> <br/>                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="cbcd2-450">3</span><span class="sxs-lookup"><span data-stu-id="cbcd2-450">3</span></span> <br/>  | <span data-ttu-id="cbcd2-451">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-451">1</span></span> <br/> | <span data-ttu-id="cbcd2-452">MinorLinkerVersion</span><span class="sxs-lookup"><span data-stu-id="cbcd2-452">MinorLinkerVersion</span></span> <br/>      | <span data-ttu-id="cbcd2-453">連結器次要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-453">The linker minor version number.</span></span> <br/>                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="cbcd2-454">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-454">4</span></span> <br/>  | <span data-ttu-id="cbcd2-455">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-455">4</span></span> <br/> | <span data-ttu-id="cbcd2-456">SizeOfCode</span><span class="sxs-lookup"><span data-stu-id="cbcd2-456">SizeOfCode</span></span> <br/>              | <span data-ttu-id="cbcd2-457">如果有多個區段，則程式碼 (文字) 區段的大小，或所有程式碼區段的總和。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-457">The size of the code (text) section, or the sum of all code sections if there are multiple sections.</span></span> <br/>                                                                                                                                                                                                                              |
| <span data-ttu-id="cbcd2-458">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-458">8</span></span> <br/>  | <span data-ttu-id="cbcd2-459">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-459">4</span></span> <br/> | <span data-ttu-id="cbcd2-460">SizeOfInitializedData</span><span class="sxs-lookup"><span data-stu-id="cbcd2-460">SizeOfInitializedData</span></span> <br/>   | <span data-ttu-id="cbcd2-461">如果有多個資料區段，則為已初始化資料區段的大小，或所有這類區段的總和。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-461">The size of the initialized data section, or the sum of all such sections if there are multiple data sections.</span></span> <br/>                                                                                                                                                                                                                    |
| <span data-ttu-id="cbcd2-462">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-462">12</span></span> <br/> | <span data-ttu-id="cbcd2-463">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-463">4</span></span> <br/> | <span data-ttu-id="cbcd2-464">SizeOfUninitializedData</span><span class="sxs-lookup"><span data-stu-id="cbcd2-464">SizeOfUninitializedData</span></span> <br/> | <span data-ttu-id="cbcd2-465">未初始化資料區段的大小 (BSS) ，或如果有多個 BSS 區段，則為所有這類區段的總和。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-465">The size of the uninitialized data section (BSS), or the sum of all such sections if there are multiple BSS sections.</span></span> <br/>                                                                                                                                                                                                             |
| <span data-ttu-id="cbcd2-466">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-466">16</span></span> <br/> | <span data-ttu-id="cbcd2-467">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-467">4</span></span> <br/> | <span data-ttu-id="cbcd2-468">AddressOfEntryPoint</span><span class="sxs-lookup"><span data-stu-id="cbcd2-468">AddressOfEntryPoint</span></span> <br/>     | <span data-ttu-id="cbcd2-469">當可執行檔載入記憶體時，相對於映射基底的進入點位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-469">The address of the entry point relative to the image base when the executable file is loaded into memory.</span></span> <span data-ttu-id="cbcd2-470">針對程式影像，這是起始位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-470">For program images, this is the starting address.</span></span> <span data-ttu-id="cbcd2-471">針對設備磁碟機，這是初始化函式的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-471">For device drivers, this is the address of the initialization function.</span></span> <span data-ttu-id="cbcd2-472">Dll 的進入點是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-472">An entry point is optional for DLLs.</span></span> <span data-ttu-id="cbcd2-473">如果沒有任何進入點，則此欄位必須為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-473">When no entry point is present, this field must be zero.</span></span> <br/> |
| <span data-ttu-id="cbcd2-474">20</span><span class="sxs-lookup"><span data-stu-id="cbcd2-474">20</span></span> <br/> | <span data-ttu-id="cbcd2-475">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-475">4</span></span> <br/> | <span data-ttu-id="cbcd2-476">BaseOfCode</span><span class="sxs-lookup"><span data-stu-id="cbcd2-476">BaseOfCode</span></span> <br/>              | <span data-ttu-id="cbcd2-477">載入記憶體時，相對於程式碼開頭區段之影像基底的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-477">The address that is relative to the image base of the beginning-of-code section when it is loaded into memory.</span></span> <br/>                                                                                                                                                                                                                    |

<span data-ttu-id="cbcd2-478">PE32 包含這個額外的欄位，此欄位在 PE32 + 中不存在，請遵循 BaseOfCode。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-478">PE32 contains this additional field, which is absent in PE32+, following BaseOfCode.</span></span>

| <span data-ttu-id="cbcd2-479">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-479">Offset</span></span>         | <span data-ttu-id="cbcd2-480">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-480">Size</span></span>          | <span data-ttu-id="cbcd2-481">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-481">Field</span></span>                  | <span data-ttu-id="cbcd2-482">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-482">Description</span></span>                                                                                                                |
|----------------|---------------|------------------------|----------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-483">24</span><span class="sxs-lookup"><span data-stu-id="cbcd2-483">24</span></span> <br/> | <span data-ttu-id="cbcd2-484">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-484">4</span></span> <br/> | <span data-ttu-id="cbcd2-485">BaseOfData</span><span class="sxs-lookup"><span data-stu-id="cbcd2-485">BaseOfData</span></span> <br/> | <span data-ttu-id="cbcd2-486">當載入記憶體時，相對於資料開頭區段之影像基底的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-486">The address that is relative to the image base of the beginning-of-data section when it is loaded into memory.</span></span> <br/> |

#### <a name="optional-header-windows-specific-fields-image-only"></a><span data-ttu-id="cbcd2-487">選擇性的標頭 Windows-Specific 欄位僅 (影像) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-487">Optional Header Windows-Specific Fields (Image Only)</span></span>

<span data-ttu-id="cbcd2-488">接下來的21個欄位是 COFF 選用標頭格式的延伸。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-488">The next 21 fields are an extension to the COFF optional header format.</span></span> <span data-ttu-id="cbcd2-489">其中包含 Windows 中的連結器和載入器所需的其他資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-489">They contain additional information that is required by the linker and loader in Windows.</span></span>

| <span data-ttu-id="cbcd2-490">Offset (PE32/PE32 +) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-490">Offset (PE32/ PE32+)</span></span> | <span data-ttu-id="cbcd2-491">大小 (PE32/PE32 +) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-491">Size (PE32/ PE32+)</span></span> | <span data-ttu-id="cbcd2-492">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-492">Field</span></span>                                   | <span data-ttu-id="cbcd2-493">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-493">Description</span></span>                                                                                                                                                                                                                                                                                                            |
|----------------------|--------------------|-----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-494">28/24</span><span class="sxs-lookup"><span data-stu-id="cbcd2-494">28/24</span></span> <br/>    | <span data-ttu-id="cbcd2-495">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-495">4/8</span></span> <br/>    | <span data-ttu-id="cbcd2-496">Imagebase 設定</span><span class="sxs-lookup"><span data-stu-id="cbcd2-496">ImageBase</span></span> <br/>                   | <span data-ttu-id="cbcd2-497">載入記憶體時，第一個位元組影像的慣用位址;必須是 64 K 的倍數。Dll 的預設值是0x10000000。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-497">The preferred address of the first byte of image when loaded into memory; must be a multiple of 64 K. The default for DLLs is 0x10000000.</span></span> <span data-ttu-id="cbcd2-498">Windows CE Exe 的預設值為0x00010000。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-498">The default for Windows CE EXEs is 0x00010000.</span></span> <span data-ttu-id="cbcd2-499">Windows NT、Windows 2000、Windows XP、Windows 95、Windows 98 和 Windows Me 的預設值為0x00400000。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-499">The default for Windows NT, Windows 2000, Windows XP, Windows 95, Windows 98, and Windows Me is 0x00400000.</span></span> <br/>       |
| <span data-ttu-id="cbcd2-500">32/32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-500">32/32</span></span> <br/>    | <span data-ttu-id="cbcd2-501">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-501">4</span></span> <br/>      | <span data-ttu-id="cbcd2-502">SectionAlignment</span><span class="sxs-lookup"><span data-stu-id="cbcd2-502">SectionAlignment</span></span> <br/>            | <span data-ttu-id="cbcd2-503">載入至記憶體時對齊區段 (以位元組為單位)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-503">The alignment (in bytes) of sections when they are loaded into memory.</span></span> <span data-ttu-id="cbcd2-504">它必須大於或等於 FileAlignment。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-504">It must be greater than or equal to FileAlignment.</span></span> <span data-ttu-id="cbcd2-505">預設值為架構的頁面大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-505">The default is the page size for the architecture.</span></span> <br/>                                                                                                                               |
| <span data-ttu-id="cbcd2-506">36/36</span><span class="sxs-lookup"><span data-stu-id="cbcd2-506">36/36</span></span> <br/>    | <span data-ttu-id="cbcd2-507">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-507">4</span></span> <br/>      | <span data-ttu-id="cbcd2-508">FileAlignment</span><span class="sxs-lookup"><span data-stu-id="cbcd2-508">FileAlignment</span></span> <br/>               | <span data-ttu-id="cbcd2-509">對齊因素 (以位元組為單位)，用來對齊映像檔中的區段原始資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-509">The alignment factor (in bytes) that is used to align the raw data of sections in the image file.</span></span> <span data-ttu-id="cbcd2-510">值應為介於512到 64 K （含）之間的2乘冪。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-510">The value should be a power of 2 between 512 and 64 K, inclusive.</span></span> <span data-ttu-id="cbcd2-511">預設值為 512。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-511">The default is 512.</span></span> <span data-ttu-id="cbcd2-512">如果 SectionAlignment 小於架構的頁面大小，則 FileAlignment 必須符合 SectionAlignment。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-512">If the SectionAlignment is less than the architecture's page size, then FileAlignment must match SectionAlignment.</span></span> <br/> |
| <span data-ttu-id="cbcd2-513">40/40</span><span class="sxs-lookup"><span data-stu-id="cbcd2-513">40/40</span></span> <br/>    | <span data-ttu-id="cbcd2-514">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-514">2</span></span> <br/>      | <span data-ttu-id="cbcd2-515">MajorOperatingSystemVersion</span><span class="sxs-lookup"><span data-stu-id="cbcd2-515">MajorOperatingSystemVersion</span></span> <br/> | <span data-ttu-id="cbcd2-516">所需作業系統的主要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-516">The major version number of the required operating system.</span></span> <br/>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-517">42/42</span><span class="sxs-lookup"><span data-stu-id="cbcd2-517">42/42</span></span> <br/>    | <span data-ttu-id="cbcd2-518">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-518">2</span></span> <br/>      | <span data-ttu-id="cbcd2-519">MinorOperatingSystemVersion</span><span class="sxs-lookup"><span data-stu-id="cbcd2-519">MinorOperatingSystemVersion</span></span> <br/> | <span data-ttu-id="cbcd2-520">所需作業系統的次要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-520">The minor version number of the required operating system.</span></span> <br/>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-521">44/44</span><span class="sxs-lookup"><span data-stu-id="cbcd2-521">44/44</span></span> <br/>    | <span data-ttu-id="cbcd2-522">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-522">2</span></span> <br/>      | <span data-ttu-id="cbcd2-523">MajorImageVersion</span><span class="sxs-lookup"><span data-stu-id="cbcd2-523">MajorImageVersion</span></span> <br/>           | <span data-ttu-id="cbcd2-524">映像的主要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-524">The major version number of the image.</span></span> <br/>                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-525">46/46</span><span class="sxs-lookup"><span data-stu-id="cbcd2-525">46/46</span></span> <br/>    | <span data-ttu-id="cbcd2-526">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-526">2</span></span> <br/>      | <span data-ttu-id="cbcd2-527">MinorImageVersion</span><span class="sxs-lookup"><span data-stu-id="cbcd2-527">MinorImageVersion</span></span> <br/>           | <span data-ttu-id="cbcd2-528">映像的次要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-528">The minor version number of the image.</span></span> <br/>                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-529">48/48</span><span class="sxs-lookup"><span data-stu-id="cbcd2-529">48/48</span></span> <br/>    | <span data-ttu-id="cbcd2-530">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-530">2</span></span> <br/>      | <span data-ttu-id="cbcd2-531">MajorSubsystemVersion</span><span class="sxs-lookup"><span data-stu-id="cbcd2-531">MajorSubsystemVersion</span></span> <br/>       | <span data-ttu-id="cbcd2-532">子系統的主要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-532">The major version number of the subsystem.</span></span> <br/>                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-533">50/50</span><span class="sxs-lookup"><span data-stu-id="cbcd2-533">50/50</span></span> <br/>    | <span data-ttu-id="cbcd2-534">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-534">2</span></span> <br/>      | <span data-ttu-id="cbcd2-535">MinorSubsystemVersion</span><span class="sxs-lookup"><span data-stu-id="cbcd2-535">MinorSubsystemVersion</span></span> <br/>       | <span data-ttu-id="cbcd2-536">子系統的次要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-536">The minor version number of the subsystem.</span></span> <br/>                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-537">52/52</span><span class="sxs-lookup"><span data-stu-id="cbcd2-537">52/52</span></span> <br/>    | <span data-ttu-id="cbcd2-538">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-538">4</span></span> <br/>      | <span data-ttu-id="cbcd2-539">Win32VersionValue</span><span class="sxs-lookup"><span data-stu-id="cbcd2-539">Win32VersionValue</span></span> <br/>           | <span data-ttu-id="cbcd2-540">Reserved，必須為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-540">Reserved, must be zero.</span></span> <br/>                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="cbcd2-541">56/56</span><span class="sxs-lookup"><span data-stu-id="cbcd2-541">56/56</span></span> <br/>    | <span data-ttu-id="cbcd2-542">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-542">4</span></span> <br/>      | <span data-ttu-id="cbcd2-543">SizeOfImage</span><span class="sxs-lookup"><span data-stu-id="cbcd2-543">SizeOfImage</span></span> <br/>                 | <span data-ttu-id="cbcd2-544">當映射載入記憶體時，影像的大小 (（以位元組為單位）) （包括所有標頭）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-544">The size (in bytes) of the image, including all headers, as the image is loaded in memory.</span></span> <span data-ttu-id="cbcd2-545">它必須是 SectionAlignment 的倍數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-545">It must be a multiple of SectionAlignment.</span></span> <br/>                                                                                                                                                                      |
| <span data-ttu-id="cbcd2-546">60/60</span><span class="sxs-lookup"><span data-stu-id="cbcd2-546">60/60</span></span> <br/>    | <span data-ttu-id="cbcd2-547">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-547">4</span></span> <br/>      | <span data-ttu-id="cbcd2-548">SizeOfHeaders</span><span class="sxs-lookup"><span data-stu-id="cbcd2-548">SizeOfHeaders</span></span> <br/>               | <span data-ttu-id="cbcd2-549">MS-DOS 存根、PE 標頭和區段標頭的合併大小，四捨五入為 FileAlignment 的倍數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-549">The combined size of an MS-DOS stub, PE header, and section headers rounded up to a multiple of FileAlignment.</span></span> <br/>                                                                                                                                                                                             |
| <span data-ttu-id="cbcd2-550">64/64</span><span class="sxs-lookup"><span data-stu-id="cbcd2-550">64/64</span></span> <br/>    | <span data-ttu-id="cbcd2-551">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-551">4</span></span> <br/>      | <span data-ttu-id="cbcd2-552">校驗</span><span class="sxs-lookup"><span data-stu-id="cbcd2-552">CheckSum</span></span> <br/>                    | <span data-ttu-id="cbcd2-553">影像檔案總和檢查碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-553">The image file checksum.</span></span> <span data-ttu-id="cbcd2-554">計算總和檢查碼的演算法會併入 IMAGHELP.DLL 中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-554">The algorithm for computing the checksum is incorporated into IMAGHELP.DLL.</span></span> <span data-ttu-id="cbcd2-555">系統會在載入時檢查下列各項的驗證：所有驅動程式、在開機時載入的任何 DLL，以及任何載入至重要 Windows 進程的 DLL。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-555">The following are checked for validation at load time: all drivers, any DLL loaded at boot time, and any DLL that is loaded into a critical Windows process.</span></span> <br/>                                          |
| <span data-ttu-id="cbcd2-556">68/68</span><span class="sxs-lookup"><span data-stu-id="cbcd2-556">68/68</span></span> <br/>    | <span data-ttu-id="cbcd2-557">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-557">2</span></span> <br/>      | <span data-ttu-id="cbcd2-558">Subsystem</span><span class="sxs-lookup"><span data-stu-id="cbcd2-558">Subsystem</span></span> <br/>                   | <span data-ttu-id="cbcd2-559">執行此映像所需的子系統。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-559">The subsystem that is required to run this image.</span></span> <span data-ttu-id="cbcd2-560">如需詳細資訊，請參閱 [Windows 子系統](#windows-subsystem)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-560">For more information, see [Windows Subsystem](#windows-subsystem).</span></span> <br/>                                                                                                                                                                                       |
| <span data-ttu-id="cbcd2-561">70/70</span><span class="sxs-lookup"><span data-stu-id="cbcd2-561">70/70</span></span> <br/>    | <span data-ttu-id="cbcd2-562">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-562">2</span></span> <br/>      | <span data-ttu-id="cbcd2-563">DllCharacteristics</span><span class="sxs-lookup"><span data-stu-id="cbcd2-563">DllCharacteristics</span></span> <br/>          | <span data-ttu-id="cbcd2-564">如需詳細資訊，請參閱此規格稍後的 [DLL 特性](#dll-characteristics) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-564">For more information, see [DLL Characteristics](#dll-characteristics) later in this specification.</span></span> <br/>                                                                                                                                                                                                         |
| <span data-ttu-id="cbcd2-565">72/72</span><span class="sxs-lookup"><span data-stu-id="cbcd2-565">72/72</span></span> <br/>    | <span data-ttu-id="cbcd2-566">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-566">4/8</span></span> <br/>    | <span data-ttu-id="cbcd2-567">SizeOfStackReserve</span><span class="sxs-lookup"><span data-stu-id="cbcd2-567">SizeOfStackReserve</span></span> <br/>          | <span data-ttu-id="cbcd2-568">要保留的堆疊大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-568">The size of the stack to reserve.</span></span> <span data-ttu-id="cbcd2-569">僅認可 SizeOfStackCommit;其餘部分會一次提供一個頁面，直到達到保留大小為止。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-569">Only SizeOfStackCommit is committed; the rest is made available one page at a time until the reserve size is reached.</span></span> <br/>                                                                                                                                                    |
| <span data-ttu-id="cbcd2-570">76/80</span><span class="sxs-lookup"><span data-stu-id="cbcd2-570">76/80</span></span> <br/>    | <span data-ttu-id="cbcd2-571">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-571">4/8</span></span> <br/>    | <span data-ttu-id="cbcd2-572">SizeOfStackCommit</span><span class="sxs-lookup"><span data-stu-id="cbcd2-572">SizeOfStackCommit</span></span> <br/>           | <span data-ttu-id="cbcd2-573">要認可的堆疊大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-573">The size of the stack to commit.</span></span> <br/>                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-574">80/88</span><span class="sxs-lookup"><span data-stu-id="cbcd2-574">80/88</span></span> <br/>    | <span data-ttu-id="cbcd2-575">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-575">4/8</span></span> <br/>    | <span data-ttu-id="cbcd2-576">SizeOfHeapReserve</span><span class="sxs-lookup"><span data-stu-id="cbcd2-576">SizeOfHeapReserve</span></span> <br/>           | <span data-ttu-id="cbcd2-577">要保留的區域堆積空間大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-577">The size of the local heap space to reserve.</span></span> <span data-ttu-id="cbcd2-578">僅認可 SizeOfHeapCommit;其餘部分會一次提供一個頁面，直到達到保留大小為止。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-578">Only SizeOfHeapCommit is committed; the rest is made available one page at a time until the reserve size is reached.</span></span> <br/>                                                                                                                                          |
| <span data-ttu-id="cbcd2-579">84/96</span><span class="sxs-lookup"><span data-stu-id="cbcd2-579">84/96</span></span> <br/>    | <span data-ttu-id="cbcd2-580">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-580">4/8</span></span> <br/>    | <span data-ttu-id="cbcd2-581">SizeOfHeapCommit</span><span class="sxs-lookup"><span data-stu-id="cbcd2-581">SizeOfHeapCommit</span></span> <br/>            | <span data-ttu-id="cbcd2-582">要認可的區域堆積空間大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-582">The size of the local heap space to commit.</span></span> <br/>                                                                                                                                                                                                                                                                |
| <span data-ttu-id="cbcd2-583">88/104</span><span class="sxs-lookup"><span data-stu-id="cbcd2-583">88/104</span></span> <br/>   | <span data-ttu-id="cbcd2-584">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-584">4</span></span> <br/>      | <span data-ttu-id="cbcd2-585">LoaderFlags</span><span class="sxs-lookup"><span data-stu-id="cbcd2-585">LoaderFlags</span></span> <br/>                 | <span data-ttu-id="cbcd2-586">Reserved，必須為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-586">Reserved, must be zero.</span></span> <br/>                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="cbcd2-587">92/108</span><span class="sxs-lookup"><span data-stu-id="cbcd2-587">92/108</span></span> <br/>   | <span data-ttu-id="cbcd2-588">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-588">4</span></span> <br/>      | <span data-ttu-id="cbcd2-589">NumberOfRvaAndSizes</span><span class="sxs-lookup"><span data-stu-id="cbcd2-589">NumberOfRvaAndSizes</span></span> <br/>         | <span data-ttu-id="cbcd2-590">選用標頭其餘部分中的資料目錄專案數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-590">The number of data-directory entries in the remainder of the optional header.</span></span> <span data-ttu-id="cbcd2-591">每一個都描述位置和大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-591">Each describes a location and size.</span></span> <br/>                                                                                                                                                                                          |

##### <a name="windows-subsystem"></a><span data-ttu-id="cbcd2-592">Windows 子系統</span><span class="sxs-lookup"><span data-stu-id="cbcd2-592">Windows Subsystem</span></span>

<span data-ttu-id="cbcd2-593">針對選擇性標頭的子系統欄位所定義的下列值，會決定執行映射所需的任何)  (的 Windows 子系統。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-593">The following values defined for the Subsystem field of the optional header determine which Windows subsystem (if any) is required to run the image.</span></span>

| <span data-ttu-id="cbcd2-594">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-594">Constant</span></span>                                                  | <span data-ttu-id="cbcd2-595">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-595">Value</span></span>          | <span data-ttu-id="cbcd2-596">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-596">Description</span></span>                                                      |
|-----------------------------------------------------------|----------------|------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-597">映射 \_ 子系統 \_ 不明</span><span class="sxs-lookup"><span data-stu-id="cbcd2-597">IMAGE\_SUBSYSTEM\_UNKNOWN</span></span> <br/>                     | <span data-ttu-id="cbcd2-598">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-598">0</span></span> <br/>  | <span data-ttu-id="cbcd2-599">未知的子系統</span><span class="sxs-lookup"><span data-stu-id="cbcd2-599">An unknown subsystem</span></span> <br/>                                 |
| <span data-ttu-id="cbcd2-600">映射 \_ 子系統 \_ 原生</span><span class="sxs-lookup"><span data-stu-id="cbcd2-600">IMAGE\_SUBSYSTEM\_NATIVE</span></span> <br/>                      | <span data-ttu-id="cbcd2-601">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-601">1</span></span> <br/>  | <span data-ttu-id="cbcd2-602">設備磁碟機和原生 Windows 進程</span><span class="sxs-lookup"><span data-stu-id="cbcd2-602">Device drivers and native Windows processes</span></span> <br/>          |
| <span data-ttu-id="cbcd2-603">映射 \_ 子系統 \_ WINDOWS \_ GUI</span><span class="sxs-lookup"><span data-stu-id="cbcd2-603">IMAGE\_SUBSYSTEM\_WINDOWS\_GUI</span></span> <br/>                | <span data-ttu-id="cbcd2-604">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-604">2</span></span> <br/>  | <span data-ttu-id="cbcd2-605">Windows 圖形化使用者介面 (GUI) 子系統</span><span class="sxs-lookup"><span data-stu-id="cbcd2-605">The Windows graphical user interface (GUI) subsystem</span></span> <br/> |
| <span data-ttu-id="cbcd2-606">映射 \_ 子系統 \_ 視窗 \_ CUI</span><span class="sxs-lookup"><span data-stu-id="cbcd2-606">IMAGE\_SUBSYSTEM\_WINDOWS\_CUI</span></span> <br/>                | <span data-ttu-id="cbcd2-607">3</span><span class="sxs-lookup"><span data-stu-id="cbcd2-607">3</span></span> <br/>  | <span data-ttu-id="cbcd2-608">Windows 字元子系統</span><span class="sxs-lookup"><span data-stu-id="cbcd2-608">The Windows character subsystem</span></span> <br/>                      |
| <span data-ttu-id="cbcd2-609">映射 \_ 子系統 \_ OS2 \_ CUI</span><span class="sxs-lookup"><span data-stu-id="cbcd2-609">IMAGE\_SUBSYSTEM\_OS2\_CUI</span></span> <br/>                    | <span data-ttu-id="cbcd2-610">5</span><span class="sxs-lookup"><span data-stu-id="cbcd2-610">5</span></span> <br/>  | <span data-ttu-id="cbcd2-611">OS/2 字元子系統</span><span class="sxs-lookup"><span data-stu-id="cbcd2-611">The OS/2 character subsystem</span></span> <br/>                         |
| <span data-ttu-id="cbcd2-612">映射 \_ 子系統 \_ POSIX \_ CUI</span><span class="sxs-lookup"><span data-stu-id="cbcd2-612">IMAGE\_SUBSYSTEM\_POSIX\_CUI</span></span> <br/>                  | <span data-ttu-id="cbcd2-613">7</span><span class="sxs-lookup"><span data-stu-id="cbcd2-613">7</span></span> <br/>  | <span data-ttu-id="cbcd2-614">Posix 字元子系統</span><span class="sxs-lookup"><span data-stu-id="cbcd2-614">The Posix character subsystem</span></span> <br/>                        |
| <span data-ttu-id="cbcd2-615">映射 \_ 子系統 \_ 原生 \_ 視窗</span><span class="sxs-lookup"><span data-stu-id="cbcd2-615">IMAGE\_SUBSYSTEM\_NATIVE\_WINDOWS</span></span> <br/>             | <span data-ttu-id="cbcd2-616">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-616">8</span></span> <br/>  | <span data-ttu-id="cbcd2-617">原生的 Win9x 驅動程式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-617">Native Win9x driver</span></span> <br/>                                  |
| <span data-ttu-id="cbcd2-618">映射 \_ 子系統 \_ WINDOWS \_ CE \_ GUI</span><span class="sxs-lookup"><span data-stu-id="cbcd2-618">IMAGE\_SUBSYSTEM\_WINDOWS\_CE\_GUI</span></span> <br/>            | <span data-ttu-id="cbcd2-619">9</span><span class="sxs-lookup"><span data-stu-id="cbcd2-619">9</span></span> <br/>  | <span data-ttu-id="cbcd2-620">Windows CE</span><span class="sxs-lookup"><span data-stu-id="cbcd2-620">Windows CE</span></span> <br/>                                           |
| <span data-ttu-id="cbcd2-621">映射 \_ 子系統 \_ EFI \_ 應用程式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-621">IMAGE\_SUBSYSTEM\_EFI\_APPLICATION</span></span> <br/>            | <span data-ttu-id="cbcd2-622">10</span><span class="sxs-lookup"><span data-stu-id="cbcd2-622">10</span></span> <br/> | <span data-ttu-id="cbcd2-623"> (EFI) 應用程式的可延伸韌體介面</span><span class="sxs-lookup"><span data-stu-id="cbcd2-623">An Extensible Firmware Interface (EFI) application</span></span> <br/>   |
| <span data-ttu-id="cbcd2-624">映射 \_ 子系統 \_ EFI \_ 開機 \_ 服務 \_ 驅動程式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-624">IMAGE\_SUBSYSTEM\_EFI\_BOOT\_ SERVICE\_DRIVER</span></span> <br/> | <span data-ttu-id="cbcd2-625">11</span><span class="sxs-lookup"><span data-stu-id="cbcd2-625">11</span></span> <br/> | <span data-ttu-id="cbcd2-626">具有開機服務的 EFI 驅動程式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-626">An EFI driver with boot services</span></span> <br/>                     |
| <span data-ttu-id="cbcd2-627">映射 \_ 子系統 \_ EFI \_ 執行時間 \_ 驅動程式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-627">IMAGE\_SUBSYSTEM\_EFI\_RUNTIME\_ DRIVER</span></span> <br/>       | <span data-ttu-id="cbcd2-628">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-628">12</span></span> <br/> | <span data-ttu-id="cbcd2-629">EFI 驅動程式與執行時間服務</span><span class="sxs-lookup"><span data-stu-id="cbcd2-629">An EFI driver with run-time services</span></span> <br/>                 |
| <span data-ttu-id="cbcd2-630">映射 \_ 子系統 \_ EFI \_ ROM</span><span class="sxs-lookup"><span data-stu-id="cbcd2-630">IMAGE\_SUBSYSTEM\_EFI\_ROM</span></span> <br/>                    | <span data-ttu-id="cbcd2-631">13</span><span class="sxs-lookup"><span data-stu-id="cbcd2-631">13</span></span> <br/> | <span data-ttu-id="cbcd2-632">EFI ROM 映射</span><span class="sxs-lookup"><span data-stu-id="cbcd2-632">An EFI ROM image</span></span> <br/>                                     |
| <span data-ttu-id="cbcd2-633">映射 \_ 子系統 \_ XBOX</span><span class="sxs-lookup"><span data-stu-id="cbcd2-633">IMAGE\_SUBSYSTEM\_XBOX</span></span> <br/>                        | <span data-ttu-id="cbcd2-634">14</span><span class="sxs-lookup"><span data-stu-id="cbcd2-634">14</span></span> <br/> | <span data-ttu-id="cbcd2-635">XBOX</span><span class="sxs-lookup"><span data-stu-id="cbcd2-635">XBOX</span></span> <br/>                                                 |
| <span data-ttu-id="cbcd2-636">映射 \_ 子系統 \_ WINDOWS \_ 開機 \_ 應用程式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-636">IMAGE\_SUBSYSTEM\_WINDOWS\_BOOT\_APPLICATION</span></span> <br/>  | <span data-ttu-id="cbcd2-637">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-637">16</span></span> <br/> | <span data-ttu-id="cbcd2-638">Windows 開機應用程式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-638">Windows boot application.</span></span> <br/>                            |

##### <a name="dll-characteristics"></a><span data-ttu-id="cbcd2-639">DLL 特性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-639">DLL Characteristics</span></span>

<span data-ttu-id="cbcd2-640">下列值是針對選擇性標頭的 DllCharacteristics 欄位所定義。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-640">The following values are defined for the DllCharacteristics field of the optional header.</span></span>

| <span data-ttu-id="cbcd2-641">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-641">Constant</span></span>                                                             | <span data-ttu-id="cbcd2-642">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-642">Value</span></span>              | <span data-ttu-id="cbcd2-643">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-643">Description</span></span>                                                                                             |
|----------------------------------------------------------------------|--------------------|---------------------------------------------------------------------------------------------------------|
|                                                                      | <span data-ttu-id="cbcd2-644">0x0001</span><span class="sxs-lookup"><span data-stu-id="cbcd2-644">0x0001</span></span> <br/> | <span data-ttu-id="cbcd2-645">Reserved，必須為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-645">Reserved, must be zero.</span></span> <br/>                                                                     |
|                                                                      | <span data-ttu-id="cbcd2-646">0x0002</span><span class="sxs-lookup"><span data-stu-id="cbcd2-646">0x0002</span></span> <br/> | <span data-ttu-id="cbcd2-647">Reserved，必須為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-647">Reserved, must be zero.</span></span> <br/>                                                                     |
|                                                                      | <span data-ttu-id="cbcd2-648">0x0004</span><span class="sxs-lookup"><span data-stu-id="cbcd2-648">0x0004</span></span> <br/> | <span data-ttu-id="cbcd2-649">Reserved，必須為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-649">Reserved, must be zero.</span></span> <br/>                                                                     |
|                                                                      | <span data-ttu-id="cbcd2-650">0x0008</span><span class="sxs-lookup"><span data-stu-id="cbcd2-650">0x0008</span></span> <br/> | <span data-ttu-id="cbcd2-651">Reserved，必須為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-651">Reserved, must be zero.</span></span> <br/>                                                                     |
| <span data-ttu-id="cbcd2-652">影像 \_ DLLCHARACTERISTICS \_ 高 \_ 熵 \_ VA</span><span class="sxs-lookup"><span data-stu-id="cbcd2-652">IMAGE\_DLLCHARACTERISTICS\_HIGH\_ENTROPY\_VA</span></span> <br/>             | <span data-ttu-id="cbcd2-653">0x0020</span><span class="sxs-lookup"><span data-stu-id="cbcd2-653">0x0020</span></span> <br/> | <span data-ttu-id="cbcd2-654">映射可以處理高熵64位虛擬位址空間。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-654">Image can handle a high entropy 64-bit virtual address space.</span></span> <br/>                               |
| <span data-ttu-id="cbcd2-655">影像 \_ DLLCHARACTERISTICS\_</span><span class="sxs-lookup"><span data-stu-id="cbcd2-655">IMAGE\_DLLCHARACTERISTICS\_</span></span> <br/> <span data-ttu-id="cbcd2-656">動態 \_ 基底</span><span class="sxs-lookup"><span data-stu-id="cbcd2-656">DYNAMIC\_BASE</span></span> <br/>    | <span data-ttu-id="cbcd2-657">0x0040</span><span class="sxs-lookup"><span data-stu-id="cbcd2-657">0x0040</span></span> <br/> | <span data-ttu-id="cbcd2-658">DLL 可以在載入時重新置放。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-658">DLL can be relocated at load time.</span></span> <br/>                                                          |
| <span data-ttu-id="cbcd2-659">影像 \_ DLLCHARACTERISTICS\_</span><span class="sxs-lookup"><span data-stu-id="cbcd2-659">IMAGE\_DLLCHARACTERISTICS\_</span></span> <br/> <span data-ttu-id="cbcd2-660">強制 \_ 完整性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-660">FORCE\_INTEGRITY</span></span> <br/> | <span data-ttu-id="cbcd2-661">0x0080</span><span class="sxs-lookup"><span data-stu-id="cbcd2-661">0x0080</span></span> <br/> | <span data-ttu-id="cbcd2-662">系統會強制執行程式碼完整性檢查。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-662">Code Integrity checks are enforced.</span></span> <br/>                                                         |
| <span data-ttu-id="cbcd2-663">影像 \_ DLLCHARACTERISTICS\_</span><span class="sxs-lookup"><span data-stu-id="cbcd2-663">IMAGE\_DLLCHARACTERISTICS\_</span></span> <br/> <span data-ttu-id="cbcd2-664">NX \_ 相容性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-664">NX\_COMPAT</span></span> <br/>       | <span data-ttu-id="cbcd2-665">0x0100</span><span class="sxs-lookup"><span data-stu-id="cbcd2-665">0x0100</span></span> <br/> | <span data-ttu-id="cbcd2-666">影像與 NX 相容。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-666">Image is NX compatible.</span></span> <br/>                                                                     |
| <span data-ttu-id="cbcd2-667">映射 \_ DLLCHARACTERISTICS \_ 無 \_ 隔離</span><span class="sxs-lookup"><span data-stu-id="cbcd2-667">IMAGE\_DLLCHARACTERISTICS\_ NO\_ISOLATION</span></span> <br/>                | <span data-ttu-id="cbcd2-668">0x0200</span><span class="sxs-lookup"><span data-stu-id="cbcd2-668">0x0200</span></span> <br/> | <span data-ttu-id="cbcd2-669">隔離感知，但不隔離映射。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-669">Isolation aware, but do not isolate the image.</span></span> <br/>                                              |
| <span data-ttu-id="cbcd2-670">影像 \_ DLLCHARACTERISTICS \_ NO \_ SEH</span><span class="sxs-lookup"><span data-stu-id="cbcd2-670">IMAGE\_DLLCHARACTERISTICS\_ NO\_SEH</span></span> <br/>                      | <span data-ttu-id="cbcd2-671">0x0400</span><span class="sxs-lookup"><span data-stu-id="cbcd2-671">0x0400</span></span> <br/> | <span data-ttu-id="cbcd2-672">不會使用結構化例外狀況 (SE) 處理。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-672">Does not use structured exception (SE) handling.</span></span> <span data-ttu-id="cbcd2-673">在此影像中不能呼叫任何 SE 處理常式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-673">No SE handler may be called in this image.</span></span> <br/> |
| <span data-ttu-id="cbcd2-674">影像 \_ DLLCHARACTERISTICS \_ 沒有系結 \_</span><span class="sxs-lookup"><span data-stu-id="cbcd2-674">IMAGE\_DLLCHARACTERISTICS\_ NO\_BIND</span></span> <br/>                     | <span data-ttu-id="cbcd2-675">0x0800</span><span class="sxs-lookup"><span data-stu-id="cbcd2-675">0x0800</span></span> <br/> | <span data-ttu-id="cbcd2-676">請勿系結此映射。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-676">Do not bind the image.</span></span> <br/>                                                                      |
| <span data-ttu-id="cbcd2-677">映射 \_ DLLCHARACTERISTICS \_ APPCONTAINER</span><span class="sxs-lookup"><span data-stu-id="cbcd2-677">IMAGE\_DLLCHARACTERISTICS\_APPCONTAINER</span></span> <br/>                  | <span data-ttu-id="cbcd2-678">0x1000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-678">0x1000</span></span> <br/> | <span data-ttu-id="cbcd2-679">映射必須在 AppContainer 中執行。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-679">Image must execute in an AppContainer.</span></span> <br/>                                                      |
| <span data-ttu-id="cbcd2-680">影像 \_ DLLCHARACTERISTICS \_ WDM \_ 驅動程式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-680">IMAGE\_DLLCHARACTERISTICS\_ WDM\_DRIVER</span></span> <br/>                  | <span data-ttu-id="cbcd2-681">0x2000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-681">0x2000</span></span> <br/> | <span data-ttu-id="cbcd2-682">WDM 驅動程式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-682">A WDM driver.</span></span> <br/>                                                                               |
| <span data-ttu-id="cbcd2-683">影像 \_ DLLCHARACTERISTICS \_ 防護 \_ CF</span><span class="sxs-lookup"><span data-stu-id="cbcd2-683">IMAGE\_DLLCHARACTERISTICS\_GUARD\_CF</span></span> <br/>                     | <span data-ttu-id="cbcd2-684">0x4000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-684">0x4000</span></span> <br/> | <span data-ttu-id="cbcd2-685">映射支援控制流程防護。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-685">Image supports Control Flow Guard.</span></span> <br/>                                                          |
| <span data-ttu-id="cbcd2-686">影像 \_ DLLCHARACTERISTICS \_ 終端機 \_ 伺服器 \_ 感知</span><span class="sxs-lookup"><span data-stu-id="cbcd2-686">IMAGE\_DLLCHARACTERISTICS\_ TERMINAL\_SERVER\_AWARE</span></span> <br/>      | <span data-ttu-id="cbcd2-687">0x8000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-687">0x8000</span></span> <br/> | <span data-ttu-id="cbcd2-688">終端機伺服器感知。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-688">Terminal Server aware.</span></span> <br/>                                                                      |

#### <a name="optional-header-data-directories-image-only"></a><span data-ttu-id="cbcd2-689">選擇性的標頭資料目錄僅 (映射) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-689">Optional Header Data Directories (Image Only)</span></span>

<span data-ttu-id="cbcd2-690">每個資料目錄都會提供 Windows 所使用之資料表或字串的位址和大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-690">Each data directory gives the address and size of a table or string that Windows uses.</span></span> <span data-ttu-id="cbcd2-691">這些資料目錄專案都會載入至記憶體中，讓系統可以在執行時間使用它們。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-691">These data directory entries are all loaded into memory so that the system can use them at run time.</span></span> <span data-ttu-id="cbcd2-692">資料目錄是具有下列宣告的8位元組欄位：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-692">A data directory is an 8-byte field that has the following declaration:</span></span>

```cpp
typedef struct _IMAGE_DATA_DIRECTORY {
    DWORD   VirtualAddress;
    DWORD   Size;
} IMAGE_DATA_DIRECTORY, *PIMAGE_DATA_DIRECTORY;
```

<span data-ttu-id="cbcd2-693">第一個欄位（VirtualAddress）實際上是資料表的 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-693">The first field, VirtualAddress, is actually the RVA of the table.</span></span> <span data-ttu-id="cbcd2-694">當載入資料表時，RVA 是相對於影像基底位址的資料表位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-694">The RVA is the address of the table relative to the base address of the image when the table is loaded.</span></span> <span data-ttu-id="cbcd2-695">第二個欄位會提供大小（以位元組為單位）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-695">The second field gives the size in bytes.</span></span> <span data-ttu-id="cbcd2-696">下表列出資料目錄（形成選用標頭的最後一部分）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-696">The data directories, which form the last part of the optional header, are listed in the following table.</span></span>

<span data-ttu-id="cbcd2-697">請注意，目錄的數目並不固定。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-697">Note that the number of directories is not fixed.</span></span> <span data-ttu-id="cbcd2-698">在尋找特定目錄之前，請檢查選用標頭中的 NumberOfRvaAndSizes 欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-698">Before looking for a specific directory, check the NumberOfRvaAndSizes field in the optional header.</span></span>

<span data-ttu-id="cbcd2-699">此外，請勿假設這個資料表中的 Rva 指向區段的開頭，或包含特定資料表的區段具有特定名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-699">Also, do not assume that the RVAs in this table point to the beginning of a section or that the sections that contain specific tables have specific names.</span></span>

| <span data-ttu-id="cbcd2-700">Offset (PE/PE32 +) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-700">Offset (PE/PE32+)</span></span>   | <span data-ttu-id="cbcd2-701">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-701">Size</span></span>          | <span data-ttu-id="cbcd2-702">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-702">Field</span></span>                               | <span data-ttu-id="cbcd2-703">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-703">Description</span></span>                                                                                                                                                                          |
|---------------------|---------------|-------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-704">96/112</span><span class="sxs-lookup"><span data-stu-id="cbcd2-704">96/112</span></span> <br/>  | <span data-ttu-id="cbcd2-705">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-705">8</span></span> <br/> | <span data-ttu-id="cbcd2-706">匯出資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-706">Export Table</span></span> <br/>            | <span data-ttu-id="cbcd2-707">匯出資料表位址和大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-707">The export table address and size.</span></span> <span data-ttu-id="cbcd2-708">如需詳細資訊，請參閱 [Edata 一節 (映射) ](#the-edata-section-image-only)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-708">For more information see [.edata Section (Image Only)](#the-edata-section-image-only).</span></span> <br/>                                                |
| <span data-ttu-id="cbcd2-709">104/120</span><span class="sxs-lookup"><span data-stu-id="cbcd2-709">104/120</span></span> <br/> | <span data-ttu-id="cbcd2-710">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-710">8</span></span> <br/> | <span data-ttu-id="cbcd2-711">匯入資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-711">Import Table</span></span> <br/>            | <span data-ttu-id="cbcd2-712">匯入資料表位址和大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-712">The import table address and size.</span></span> <span data-ttu-id="cbcd2-713">如需詳細資訊，請參閱 [Idata 一節](#the-idata-section)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-713">For more information, see [The .idata Section](#the-idata-section).</span></span><br/>                                                                    |
| <span data-ttu-id="cbcd2-714">112/128</span><span class="sxs-lookup"><span data-stu-id="cbcd2-714">112/128</span></span> <br/> | <span data-ttu-id="cbcd2-715">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-715">8</span></span> <br/> | <span data-ttu-id="cbcd2-716">資源表格</span><span class="sxs-lookup"><span data-stu-id="cbcd2-716">Resource Table</span></span> <br/>          | <span data-ttu-id="cbcd2-717">資源資料表的位址和大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-717">The resource table address and size.</span></span> <span data-ttu-id="cbcd2-718">如需詳細資訊，請參閱 [.Rsrc 一節](#the-rsrc-section)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-718">For more information, see [The .rsrc Section](#the-rsrc-section).</span></span><br/>                                                                    |
| <span data-ttu-id="cbcd2-719">120/136</span><span class="sxs-lookup"><span data-stu-id="cbcd2-719">120/136</span></span> <br/> | <span data-ttu-id="cbcd2-720">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-720">8</span></span> <br/> | <span data-ttu-id="cbcd2-721">例外狀況資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-721">Exception Table</span></span> <br/>         | <span data-ttu-id="cbcd2-722">例外狀況資料表位址和大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-722">The exception table address and size.</span></span> <span data-ttu-id="cbcd2-723">如需詳細資訊，請參閱 [.Pdata 一節](#the-pdata-section)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-723">For more information, see [The .pdata Section](#the-pdata-section).</span></span> <br/>                                                                |
| <span data-ttu-id="cbcd2-724">128/144</span><span class="sxs-lookup"><span data-stu-id="cbcd2-724">128/144</span></span> <br/> | <span data-ttu-id="cbcd2-725">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-725">8</span></span> <br/> | <span data-ttu-id="cbcd2-726">憑證資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-726">Certificate Table</span></span> <br/>       | <span data-ttu-id="cbcd2-727">屬性憑證表格位址和大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-727">The attribute certificate table address and size.</span></span> <span data-ttu-id="cbcd2-728">如需詳細資訊，請參閱 [屬性證書表 (只) 的映射 ](#the-attribute-certificate-table-image-only)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-728">For more information, see [The Attribute Certificate Table (Image Only)](#the-attribute-certificate-table-image-only).</span></span> <br/> |
| <span data-ttu-id="cbcd2-729">136/152</span><span class="sxs-lookup"><span data-stu-id="cbcd2-729">136/152</span></span> <br/> | <span data-ttu-id="cbcd2-730">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-730">8</span></span> <br/> | <span data-ttu-id="cbcd2-731">基底重新配置資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-731">Base Relocation Table</span></span> <br/>   | <span data-ttu-id="cbcd2-732">基底重新配置資料表位址和大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-732">The base relocation table address and size.</span></span> <span data-ttu-id="cbcd2-733">如需詳細資訊，請參閱 [Reloc 一節 (映射) ](#the-reloc-section-image-only)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-733">For more information, see [The .reloc Section (Image Only)](#the-reloc-section-image-only).</span></span><br/>                                   |
| <span data-ttu-id="cbcd2-734">144/160</span><span class="sxs-lookup"><span data-stu-id="cbcd2-734">144/160</span></span> <br/> | <span data-ttu-id="cbcd2-735">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-735">8</span></span> <br/> | <span data-ttu-id="cbcd2-736">偵錯</span><span class="sxs-lookup"><span data-stu-id="cbcd2-736">Debug</span></span> <br/>                   | <span data-ttu-id="cbcd2-737">起始位址和大小的 debug 資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-737">The debug data starting address and size.</span></span> <span data-ttu-id="cbcd2-738">如需詳細資訊，請參閱 [Debug 區段](#the-debug-section)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-738">For more information, see [The .debug Section](#the-debug-section).</span></span><br/>                                                             |
| <span data-ttu-id="cbcd2-739">152/168</span><span class="sxs-lookup"><span data-stu-id="cbcd2-739">152/168</span></span> <br/> | <span data-ttu-id="cbcd2-740">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-740">8</span></span> <br/> | <span data-ttu-id="cbcd2-741">架構</span><span class="sxs-lookup"><span data-stu-id="cbcd2-741">Architecture</span></span> <br/>            | <span data-ttu-id="cbcd2-742">保留，必須為0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-742">Reserved, must be 0</span></span> <br/>                                                                                                                                                      |
| <span data-ttu-id="cbcd2-743">160/176</span><span class="sxs-lookup"><span data-stu-id="cbcd2-743">160/176</span></span> <br/> | <span data-ttu-id="cbcd2-744">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-744">8</span></span> <br/> | <span data-ttu-id="cbcd2-745">全域 Ptr</span><span class="sxs-lookup"><span data-stu-id="cbcd2-745">Global Ptr</span></span> <br/>              | <span data-ttu-id="cbcd2-746">要儲存在全域指標暫存器中的值 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-746">The RVA of the value to be stored in the global pointer register.</span></span> <span data-ttu-id="cbcd2-747">此結構的大小成員必須設定為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-747">The size member of this structure must be set to zero.</span></span> <br/>                                                 |
| <span data-ttu-id="cbcd2-748">168/184</span><span class="sxs-lookup"><span data-stu-id="cbcd2-748">168/184</span></span> <br/> | <span data-ttu-id="cbcd2-749">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-749">8</span></span> <br/> | <span data-ttu-id="cbcd2-750">TLS 資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-750">TLS Table</span></span> <br/>               | <span data-ttu-id="cbcd2-751">執行緒區域儲存 (TLS) 資料表位址和大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-751">The thread local storage (TLS) table address and size.</span></span> <span data-ttu-id="cbcd2-752">如需詳細資訊，請輸入 [Tls 區段](#the-tls-section)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-752">For more information, [The .tls Section](#the-tls-section).</span></span><br/>                                                        |
| <span data-ttu-id="cbcd2-753">176/192</span><span class="sxs-lookup"><span data-stu-id="cbcd2-753">176/192</span></span> <br/> | <span data-ttu-id="cbcd2-754">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-754">8</span></span> <br/> | <span data-ttu-id="cbcd2-755">載入設定資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-755">Load Config Table</span></span> <br/>       | <span data-ttu-id="cbcd2-756">載入設定資料表位址和大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-756">The load configuration table address and size.</span></span> <span data-ttu-id="cbcd2-757">如需詳細資訊， [負載設定結構 (映射) ](#the-load-configuration-structure-image-only)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-757">For more information, [The Load Configuration Structure (Image Only)](#the-load-configuration-structure-image-only).</span></span><br/>       |
| <span data-ttu-id="cbcd2-758">184/200</span><span class="sxs-lookup"><span data-stu-id="cbcd2-758">184/200</span></span> <br/> | <span data-ttu-id="cbcd2-759">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-759">8</span></span> <br/> | <span data-ttu-id="cbcd2-760">系結匯入</span><span class="sxs-lookup"><span data-stu-id="cbcd2-760">Bound Import</span></span> <br/>            | <span data-ttu-id="cbcd2-761">系結的匯入資料表位址和大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-761">The bound import table address and size.</span></span> <br/>                                                                                                                                 |
| <span data-ttu-id="cbcd2-762">192/208</span><span class="sxs-lookup"><span data-stu-id="cbcd2-762">192/208</span></span> <br/> | <span data-ttu-id="cbcd2-763">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-763">8</span></span> <br/> | <span data-ttu-id="cbcd2-764">Iat</span><span class="sxs-lookup"><span data-stu-id="cbcd2-764">IAT</span></span> <br/>                     | <span data-ttu-id="cbcd2-765">匯入位址表格位址和大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-765">The import address table address and size.</span></span> <span data-ttu-id="cbcd2-766">如需詳細資訊，請參閱匯 [入位址表格](#import-address-table)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-766">For more information, see [Import Address Table](#import-address-table).</span></span><br/>                                                 |
| <span data-ttu-id="cbcd2-767">200/216</span><span class="sxs-lookup"><span data-stu-id="cbcd2-767">200/216</span></span> <br/> | <span data-ttu-id="cbcd2-768">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-768">8</span></span> <br/> | <span data-ttu-id="cbcd2-769">延遲匯入描述項</span><span class="sxs-lookup"><span data-stu-id="cbcd2-769">Delay Import Descriptor</span></span> <br/> | <span data-ttu-id="cbcd2-770">延遲匯入描述項位址和大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-770">The delay import descriptor address and size.</span></span> <span data-ttu-id="cbcd2-771">如需詳細資訊，請參閱 [僅限延遲載入匯入資料表 (映射) ](#delay-load-import-tables-image-only)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-771">For more information, see [Delay-Load Import Tables (Image Only)](#delay-load-import-tables-image-only).</span></span><br/>                    |
| <span data-ttu-id="cbcd2-772">208/224</span><span class="sxs-lookup"><span data-stu-id="cbcd2-772">208/224</span></span> <br/> | <span data-ttu-id="cbcd2-773">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-773">8</span></span> <br/> | <span data-ttu-id="cbcd2-774">CLR 執行時間標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-774">CLR Runtime Header</span></span> <br/>      | <span data-ttu-id="cbcd2-775">CLR 執行時間標頭位址和大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-775">The CLR runtime header address and size.</span></span> <span data-ttu-id="cbcd2-776">如需詳細資訊，請參閱 [Cormeta 一節， (物件) ](#the-cormeta-section-object-only)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-776">For more information, see [The .cormeta Section (Object Only)](#the-cormeta-section-object-only).</span></span><br/>                                |
| <span data-ttu-id="cbcd2-777">216/232</span><span class="sxs-lookup"><span data-stu-id="cbcd2-777">216/232</span></span> <br/> | <span data-ttu-id="cbcd2-778">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-778">8</span></span> <br/> | <span data-ttu-id="cbcd2-779">保留，必須為零</span><span class="sxs-lookup"><span data-stu-id="cbcd2-779">Reserved, must be zero</span></span> <br/>  |                                                                                                                                                                                      |

<span data-ttu-id="cbcd2-780">憑證資料表專案會指向屬性憑證的資料表。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-780">The Certificate Table entry points to a table of attribute certificates.</span></span> <span data-ttu-id="cbcd2-781">這些憑證不會在映射中載入記憶體中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-781">These certificates are not loaded into memory as part of the image.</span></span> <span data-ttu-id="cbcd2-782">因此，這個專案的第一個欄位（通常是 RVA）會改為檔案指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-782">As such, the first field of this entry, which is normally an RVA, is a file pointer instead.</span></span>

## <a name="section-table-section-headers"></a><span data-ttu-id="cbcd2-783">區段資料表 (區段標題) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-783">Section Table (Section Headers)</span></span>

- [<span data-ttu-id="cbcd2-784">區段旗標</span><span class="sxs-lookup"><span data-stu-id="cbcd2-784">Section Flags</span></span>](#section-flags)
- [<span data-ttu-id="cbcd2-785">群組區段僅 (物件) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-785">Grouped Sections (Object Only)</span></span>](#grouped-sections-object-only)

<span data-ttu-id="cbcd2-786">區段資料表中的每個資料列實際上都是區段標頭。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-786">Each row of the section table is, in effect, a section header.</span></span> <span data-ttu-id="cbcd2-787">此資料表緊接在選用標頭之後（如果有的話）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-787">This table immediately follows the optional header, if any.</span></span> <span data-ttu-id="cbcd2-788">這個位置是必要的，因為檔案標頭未包含對區段資料表的直接指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-788">This positioning is required because the file header does not contain a direct pointer to the section table.</span></span> <span data-ttu-id="cbcd2-789">相反地，區段資料表的位置是藉由計算標頭之後第一個位元組的位置來決定。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-789">Instead, the location of the section table is determined by calculating the location of the first byte after the headers.</span></span> <span data-ttu-id="cbcd2-790">請務必使用檔案標頭中指定的選用標頭大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-790">Make sure to use the size of the optional header as specified in the file header.</span></span>

<span data-ttu-id="cbcd2-791">區段資料表中的專案數是由檔案標頭中的 NumberOfSections 欄位提供。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-791">The number of entries in the section table is given by the NumberOfSections field in the file header.</span></span> <span data-ttu-id="cbcd2-792">區段資料表中的專案會從一個 (1) 開始編號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-792">Entries in the section table are numbered starting from one (1).</span></span> <span data-ttu-id="cbcd2-793">[程式碼] 和 [資料記憶體] 區段專案是以連結器選擇的順序排列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-793">The code and data memory section entries are in the order chosen by the linker.</span></span>

<span data-ttu-id="cbcd2-794">在影像檔案中，區段的 VAs 必須由連結器指派，才能以遞增順序和連續的方式進行，而且它們必須是選擇性標頭中 SectionAlignment 值的倍數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-794">In an image file, the VAs for sections must be assigned by the linker so that they are in ascending order and adjacent, and they must be a multiple of the SectionAlignment value in the optional header.</span></span>

<span data-ttu-id="cbcd2-795">每個區段標題 (區段資料表專案) 具有下列格式，每個專案總共40個位元組。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-795">Each section header (section table entry) has the following format, for a total of 40 bytes per entry.</span></span>



| <span data-ttu-id="cbcd2-796">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-796">Offset</span></span>         | <span data-ttu-id="cbcd2-797">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-797">Size</span></span>          | <span data-ttu-id="cbcd2-798">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-798">Field</span></span>                            | <span data-ttu-id="cbcd2-799">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-799">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|----------------|---------------|----------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-800">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-800">0</span></span> <br/>  | <span data-ttu-id="cbcd2-801">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-801">8</span></span> <br/> | <span data-ttu-id="cbcd2-802">Name</span><span class="sxs-lookup"><span data-stu-id="cbcd2-802">Name</span></span> <br/>                 | <span data-ttu-id="cbcd2-803">8位元組、以 null 填補的 UTF-8 編碼字串。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-803">An 8-byte, null-padded UTF-8 encoded string.</span></span> <span data-ttu-id="cbcd2-804">如果字串長度剛好為8個字元，則不會有結束的 null。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-804">If the string is exactly 8 characters long, there is no terminating null.</span></span> <span data-ttu-id="cbcd2-805">若為較長的名稱，此欄位包含斜線 (/) ，後面接著十進位數的 ASCII 標記法，即字串資料表中的位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-805">For longer names, this field contains a slash (/) that is followed by an ASCII representation of a decimal number that is an offset into the string table.</span></span> <span data-ttu-id="cbcd2-806">可執行檔映射不會使用字串資料表，且不支援長度超過8個字元的區段名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-806">Executable images do not use a string table and do not support section names longer than 8 characters.</span></span> <span data-ttu-id="cbcd2-807">如果物件檔中的長名稱是發出至可執行檔，則會被截斷。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-807">Long names in object files are truncated if they are emitted to an executable file.</span></span> <br/>                                         |
| <span data-ttu-id="cbcd2-808">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-808">8</span></span> <br/>  | <span data-ttu-id="cbcd2-809">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-809">4</span></span> <br/> | <span data-ttu-id="cbcd2-810">VirtualSize</span><span class="sxs-lookup"><span data-stu-id="cbcd2-810">VirtualSize</span></span> <br/>          | <span data-ttu-id="cbcd2-811">載入記憶體時區段的總大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-811">The total size of the section when loaded into memory.</span></span> <span data-ttu-id="cbcd2-812">如果這個值大於 SizeOfRawData，區段就會填補零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-812">If this value is greater than SizeOfRawData, the section is zero-padded.</span></span> <span data-ttu-id="cbcd2-813">此欄位僅適用于可執行檔映射，而且對於物件檔案應設為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-813">This field is valid only for executable images and should be set to zero for object files.</span></span> <br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-814">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-814">12</span></span> <br/> | <span data-ttu-id="cbcd2-815">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-815">4</span></span> <br/> | <span data-ttu-id="cbcd2-816">VirtualAddress</span><span class="sxs-lookup"><span data-stu-id="cbcd2-816">VirtualAddress</span></span> <br/>       | <span data-ttu-id="cbcd2-817">針對可執行檔映射，當區段載入記憶體時，相對於映射基底之區段第一個位元組的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-817">For executable images, the address of the first byte of the section relative to the image base when the section is loaded into memory.</span></span> <span data-ttu-id="cbcd2-818">針對目的檔，此欄位是套用重新配置之前第一個位元組的位址;為了簡單起見，編譯器應該將此值設為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-818">For object files, this field is the address of the first byte before relocation is applied; for simplicity, compilers should set this to zero.</span></span> <span data-ttu-id="cbcd2-819">否則，它是在重新配置期間減去位移的任意值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-819">Otherwise, it is an arbitrary value that is subtracted from offsets during relocation.</span></span> <br/>                                                                                                                                         |
| <span data-ttu-id="cbcd2-820">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-820">16</span></span> <br/> | <span data-ttu-id="cbcd2-821">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-821">4</span></span> <br/> | <span data-ttu-id="cbcd2-822">SizeOfRawData</span><span class="sxs-lookup"><span data-stu-id="cbcd2-822">SizeOfRawData</span></span> <br/>        | <span data-ttu-id="cbcd2-823">物件檔案的區段大小 () 或磁片 (上的已初始化資料大小) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-823">The size of the section (for object files) or the size of the initialized data on disk (for image files).</span></span> <span data-ttu-id="cbcd2-824">針對可執行檔映射，這必須是選擇性標頭中 FileAlignment 的倍數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-824">For executable images, this must be a multiple of FileAlignment from the optional header.</span></span> <span data-ttu-id="cbcd2-825">如果小於 VirtualSize，區段的其餘部分就會填滿零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-825">If this is less than VirtualSize, the remainder of the section is zero-filled.</span></span> <span data-ttu-id="cbcd2-826">因為 SizeOfRawData 欄位已舍入，但 VirtualSize 欄位不是，所以 SizeOfRawData 也可能大於 VirtualSize。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-826">Because the SizeOfRawData field is rounded but the VirtualSize field is not, it is possible for SizeOfRawData to be greater than VirtualSize as well.</span></span> <span data-ttu-id="cbcd2-827">當某個區段只包含未初始化的資料時，此欄位應為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-827">When a section contains only uninitialized data, this field should be zero.</span></span> <br/> |
| <span data-ttu-id="cbcd2-828">20</span><span class="sxs-lookup"><span data-stu-id="cbcd2-828">20</span></span> <br/> | <span data-ttu-id="cbcd2-829">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-829">4</span></span> <br/> | <span data-ttu-id="cbcd2-830">PointerToRawData</span><span class="sxs-lookup"><span data-stu-id="cbcd2-830">PointerToRawData</span></span> <br/>     | <span data-ttu-id="cbcd2-831">COFF 檔案中區段的第一頁的檔案指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-831">The file pointer to the first page of the section within the COFF file.</span></span> <span data-ttu-id="cbcd2-832">針對可執行檔映射，這必須是選擇性標頭中 FileAlignment 的倍數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-832">For executable images, this must be a multiple of FileAlignment from the optional header.</span></span> <span data-ttu-id="cbcd2-833">針對目的檔，此值應對齊4位元組的界限，以獲得最佳效能。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-833">For object files, the value should be aligned on a 4-byte boundary for best performance.</span></span> <span data-ttu-id="cbcd2-834">當某個區段只包含未初始化的資料時，此欄位應為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-834">When a section contains only uninitialized data, this field should be zero.</span></span> <br/>                                                                                                                                                                               |
| <span data-ttu-id="cbcd2-835">24</span><span class="sxs-lookup"><span data-stu-id="cbcd2-835">24</span></span> <br/> | <span data-ttu-id="cbcd2-836">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-836">4</span></span> <br/> | <span data-ttu-id="cbcd2-837">PointerToRelocations</span><span class="sxs-lookup"><span data-stu-id="cbcd2-837">PointerToRelocations</span></span> <br/> | <span data-ttu-id="cbcd2-838">區段重新設定項目開頭的檔案指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-838">The file pointer to the beginning of relocation entries for the section.</span></span> <span data-ttu-id="cbcd2-839">這會針對可執行檔映射設定為零，或如果沒有重新置放則設定為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-839">This is set to zero for executable images or if there are no relocations.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="cbcd2-840">28</span><span class="sxs-lookup"><span data-stu-id="cbcd2-840">28</span></span> <br/> | <span data-ttu-id="cbcd2-841">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-841">4</span></span> <br/> | <span data-ttu-id="cbcd2-842">PointerToLinenumbers</span><span class="sxs-lookup"><span data-stu-id="cbcd2-842">PointerToLinenumbers</span></span> <br/> | <span data-ttu-id="cbcd2-843">區段之行號專案開頭的檔案指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-843">The file pointer to the beginning of line-number entries for the section.</span></span> <span data-ttu-id="cbcd2-844">如果沒有 COFF 行號，這會設為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-844">This is set to zero if there are no COFF line numbers.</span></span> <span data-ttu-id="cbcd2-845">因為 COFF 偵錯工具資訊已被取代，所以影像的這個值應該為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-845">This value should be zero for an image because COFF debugging information is deprecated.</span></span> <br/>                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-846">32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-846">32</span></span> <br/> | <span data-ttu-id="cbcd2-847">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-847">2</span></span> <br/> | <span data-ttu-id="cbcd2-848">NumberOfRelocations</span><span class="sxs-lookup"><span data-stu-id="cbcd2-848">NumberOfRelocations</span></span> <br/>  | <span data-ttu-id="cbcd2-849">區段的重新設定項目數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-849">The number of relocation entries for the section.</span></span> <span data-ttu-id="cbcd2-850">這會針對可執行映射設定為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-850">This is set to zero for executable images.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="cbcd2-851">34</span><span class="sxs-lookup"><span data-stu-id="cbcd2-851">34</span></span> <br/> | <span data-ttu-id="cbcd2-852">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-852">2</span></span> <br/> | <span data-ttu-id="cbcd2-853">NumberOfLinenumbers</span><span class="sxs-lookup"><span data-stu-id="cbcd2-853">NumberOfLinenumbers</span></span> <br/>  | <span data-ttu-id="cbcd2-854">區段的行號專案數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-854">The number of line-number entries for the section.</span></span> <span data-ttu-id="cbcd2-855">因為 COFF 偵錯工具資訊已被取代，所以影像的這個值應該為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-855">This value should be zero for an image because COFF debugging information is deprecated.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="cbcd2-856">36</span><span class="sxs-lookup"><span data-stu-id="cbcd2-856">36</span></span> <br/> | <span data-ttu-id="cbcd2-857">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-857">4</span></span> <br/> | <span data-ttu-id="cbcd2-858">特性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-858">Characteristics</span></span> <br/>      | <span data-ttu-id="cbcd2-859">描述區段特性的旗標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-859">The flags that describe the characteristics of the section.</span></span> <span data-ttu-id="cbcd2-860">如需詳細資訊，請參閱 [區段旗標](#section-flags)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-860">For more information, see [Section Flags](#section-flags).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                |



 

### <a name="section-flags"></a><span data-ttu-id="cbcd2-861">區段旗標</span><span class="sxs-lookup"><span data-stu-id="cbcd2-861">Section Flags</span></span>

<span data-ttu-id="cbcd2-862">區段標頭的 [特性] 欄位中的區段旗標表示區段的特性。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-862">The section flags in the Characteristics field of the section header indicate characteristics of the section.</span></span>



| <span data-ttu-id="cbcd2-863">旗標</span><span class="sxs-lookup"><span data-stu-id="cbcd2-863">Flag</span></span>                                              | <span data-ttu-id="cbcd2-864">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-864">Value</span></span>                  | <span data-ttu-id="cbcd2-865">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-865">Description</span></span>                                                                                                                                                                 |
|---------------------------------------------------|------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                                   | <span data-ttu-id="cbcd2-866">0x00000000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-866">0x00000000</span></span> <br/> | <span data-ttu-id="cbcd2-867">保留供未來使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-867">Reserved for future use.</span></span> <br/>                                                                                                                                        |
|                                                   | <span data-ttu-id="cbcd2-868">0x00000001</span><span class="sxs-lookup"><span data-stu-id="cbcd2-868">0x00000001</span></span> <br/> | <span data-ttu-id="cbcd2-869">保留供未來使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-869">Reserved for future use.</span></span> <br/>                                                                                                                                        |
|                                                   | <span data-ttu-id="cbcd2-870">0x00000002</span><span class="sxs-lookup"><span data-stu-id="cbcd2-870">0x00000002</span></span> <br/> | <span data-ttu-id="cbcd2-871">保留供未來使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-871">Reserved for future use.</span></span> <br/>                                                                                                                                        |
|                                                   | <span data-ttu-id="cbcd2-872">0x00000004</span><span class="sxs-lookup"><span data-stu-id="cbcd2-872">0x00000004</span></span> <br/> | <span data-ttu-id="cbcd2-873">保留供未來使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-873">Reserved for future use.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="cbcd2-874">影像 \_ SCN \_ 類型 \_ 無 \_ 板</span><span class="sxs-lookup"><span data-stu-id="cbcd2-874">IMAGE\_SCN\_TYPE\_NO\_PAD</span></span> <br/>             | <span data-ttu-id="cbcd2-875">0x00000008</span><span class="sxs-lookup"><span data-stu-id="cbcd2-875">0x00000008</span></span> <br/> | <span data-ttu-id="cbcd2-876">區段不應填補至下一個界限。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-876">The section should not be padded to the next boundary.</span></span> <span data-ttu-id="cbcd2-877">此旗標已淘汰，並由 IMAGE \_ SCN \_ ALIGN \_ 1BYTES 取代。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-877">This flag is obsolete and is replaced by IMAGE\_SCN\_ALIGN\_1BYTES.</span></span> <span data-ttu-id="cbcd2-878">這僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-878">This is valid only for object files.</span></span> <br/> |
|                                                   | <span data-ttu-id="cbcd2-879">0x00000010</span><span class="sxs-lookup"><span data-stu-id="cbcd2-879">0x00000010</span></span> <br/> | <span data-ttu-id="cbcd2-880">保留供未來使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-880">Reserved for future use.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="cbcd2-881">影像 \_ SCN \_ CNT 程式 \_ 代碼</span><span class="sxs-lookup"><span data-stu-id="cbcd2-881">IMAGE\_SCN\_CNT\_CODE</span></span> <br/>                 | <span data-ttu-id="cbcd2-882">0x00000020</span><span class="sxs-lookup"><span data-stu-id="cbcd2-882">0x00000020</span></span> <br/> | <span data-ttu-id="cbcd2-883">區段包含可執行程式碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-883">The section contains executable code.</span></span> <br/>                                                                                                                           |
| <span data-ttu-id="cbcd2-884">映射 \_ SCN \_ CNT 已 \_ 初始化 \_ 資料</span><span class="sxs-lookup"><span data-stu-id="cbcd2-884">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA</span></span> <br/>    | <span data-ttu-id="cbcd2-885">0x00000040</span><span class="sxs-lookup"><span data-stu-id="cbcd2-885">0x00000040</span></span> <br/> | <span data-ttu-id="cbcd2-886">區段包含已初始化的資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-886">The section contains initialized data.</span></span> <br/>                                                                                                                          |
| <span data-ttu-id="cbcd2-887">映射 \_ SCN \_ CNT \_ 未初始化的 \_ 資料</span><span class="sxs-lookup"><span data-stu-id="cbcd2-887">IMAGE\_SCN\_CNT\_UNINITIALIZED\_ DATA</span></span> <br/> | <span data-ttu-id="cbcd2-888">0x00000080</span><span class="sxs-lookup"><span data-stu-id="cbcd2-888">0x00000080</span></span> <br/> | <span data-ttu-id="cbcd2-889">區段包含未初始化的資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-889">The section contains uninitialized data.</span></span> <br/>                                                                                                                        |
| <span data-ttu-id="cbcd2-890">影像 \_ SCN \_ .LNK \_ 其他</span><span class="sxs-lookup"><span data-stu-id="cbcd2-890">IMAGE\_SCN\_LNK\_OTHER</span></span> <br/>                | <span data-ttu-id="cbcd2-891">0x00000100</span><span class="sxs-lookup"><span data-stu-id="cbcd2-891">0x00000100</span></span> <br/> | <span data-ttu-id="cbcd2-892">保留供未來使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-892">Reserved for future use.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="cbcd2-893">影像 \_ SCN \_ .LNK \_ 資訊</span><span class="sxs-lookup"><span data-stu-id="cbcd2-893">IMAGE\_SCN\_LNK\_INFO</span></span> <br/>                 | <span data-ttu-id="cbcd2-894">0x00000200</span><span class="sxs-lookup"><span data-stu-id="cbcd2-894">0x00000200</span></span> <br/> | <span data-ttu-id="cbcd2-895">區段包含批註或其他資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-895">The section contains comments or other information.</span></span> <span data-ttu-id="cbcd2-896">Drectve 區段具有這個類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-896">The .drectve section has this type.</span></span> <span data-ttu-id="cbcd2-897">這僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-897">This is valid for object files only.</span></span> <br/>                                    |
|                                                   | <span data-ttu-id="cbcd2-898">0x00000400</span><span class="sxs-lookup"><span data-stu-id="cbcd2-898">0x00000400</span></span> <br/> | <span data-ttu-id="cbcd2-899">保留供未來使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-899">Reserved for future use.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="cbcd2-900">映射 \_ SCN \_ .LNK \_ 移除</span><span class="sxs-lookup"><span data-stu-id="cbcd2-900">IMAGE\_SCN\_LNK\_REMOVE</span></span> <br/>               | <span data-ttu-id="cbcd2-901">0x00000800</span><span class="sxs-lookup"><span data-stu-id="cbcd2-901">0x00000800</span></span> <br/> | <span data-ttu-id="cbcd2-902">區段不會成為映射的一部分。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-902">The section will not become part of the image.</span></span> <span data-ttu-id="cbcd2-903">這僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-903">This is valid only for object files.</span></span> <br/>                                                                             |
| <span data-ttu-id="cbcd2-904">影像 \_ SCN \_ .LNK \_ COMDAT</span><span class="sxs-lookup"><span data-stu-id="cbcd2-904">IMAGE\_SCN\_LNK\_COMDAT</span></span> <br/>               | <span data-ttu-id="cbcd2-905">0x00001000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-905">0x00001000</span></span> <br/> | <span data-ttu-id="cbcd2-906">此區段包含 COMDAT 資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-906">The section contains COMDAT data.</span></span> <span data-ttu-id="cbcd2-907">如需詳細資訊，請參閱 [僅 (物件) 的 COMDAT 章節 ](#comdat-sections-object-only)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-907">For more information, see [COMDAT Sections (Object Only)](#comdat-sections-object-only).</span></span> <span data-ttu-id="cbcd2-908">這僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-908">This is valid only for object files.</span></span> <br/> |
| <span data-ttu-id="cbcd2-909">映射 \_ SCN \_ GPREL</span><span class="sxs-lookup"><span data-stu-id="cbcd2-909">IMAGE\_SCN\_GPREL</span></span> <br/>                     | <span data-ttu-id="cbcd2-910">0x00008000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-910">0x00008000</span></span> <br/> | <span data-ttu-id="cbcd2-911">區段包含透過全域指標 (GP) 參考的資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-911">The section contains data referenced through the global pointer (GP).</span></span> <br/>                                                                                           |
| <span data-ttu-id="cbcd2-912">映射 \_ SCN \_ 記憶體 \_ PURGEABLE</span><span class="sxs-lookup"><span data-stu-id="cbcd2-912">IMAGE\_SCN\_MEM\_PURGEABLE</span></span> <br/>            | <span data-ttu-id="cbcd2-913">0x00020000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-913">0x00020000</span></span> <br/> | <span data-ttu-id="cbcd2-914">保留供未來使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-914">Reserved for future use.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="cbcd2-915">映射 \_ SCN \_ 記憶體 \_ 16BIT</span><span class="sxs-lookup"><span data-stu-id="cbcd2-915">IMAGE\_SCN\_MEM\_16BIT</span></span> <br/>                | <span data-ttu-id="cbcd2-916">0x00020000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-916">0x00020000</span></span> <br/> | <span data-ttu-id="cbcd2-917">保留供未來使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-917">Reserved for future use.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="cbcd2-918">影像 \_ SCN \_ 記憶體已 \_ 鎖定</span><span class="sxs-lookup"><span data-stu-id="cbcd2-918">IMAGE\_SCN\_MEM\_LOCKED</span></span> <br/>               | <span data-ttu-id="cbcd2-919">0x00040000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-919">0x00040000</span></span> <br/> | <span data-ttu-id="cbcd2-920">保留供未來使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-920">Reserved for future use.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="cbcd2-921">映射 \_ SCN \_ 記憶體 \_ 預先載入</span><span class="sxs-lookup"><span data-stu-id="cbcd2-921">IMAGE\_SCN\_MEM\_PRELOAD</span></span> <br/>              | <span data-ttu-id="cbcd2-922">0x00080000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-922">0x00080000</span></span> <br/> | <span data-ttu-id="cbcd2-923">保留供未來使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-923">Reserved for future use.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="cbcd2-924">影像 \_ SCN \_ 對齊 \_ 1BYTES</span><span class="sxs-lookup"><span data-stu-id="cbcd2-924">IMAGE\_SCN\_ALIGN\_1BYTES</span></span> <br/>             | <span data-ttu-id="cbcd2-925">0x00100000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-925">0x00100000</span></span> <br/> | <span data-ttu-id="cbcd2-926">將資料對齊1位元組的界限。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-926">Align data on a 1-byte boundary.</span></span> <span data-ttu-id="cbcd2-927">僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-927">Valid only for object files.</span></span> <br/>                                                                                                   |
| <span data-ttu-id="cbcd2-928">影像 \_ SCN \_ 對齊 \_ 2BYTES</span><span class="sxs-lookup"><span data-stu-id="cbcd2-928">IMAGE\_SCN\_ALIGN\_2BYTES</span></span> <br/>             | <span data-ttu-id="cbcd2-929">0x00200000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-929">0x00200000</span></span> <br/> | <span data-ttu-id="cbcd2-930">將資料對齊2個位元組的界限。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-930">Align data on a 2-byte boundary.</span></span> <span data-ttu-id="cbcd2-931">僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-931">Valid only for object files.</span></span> <br/>                                                                                                   |
| <span data-ttu-id="cbcd2-932">影像 \_ SCN \_ 對齊 \_ 4BYTES</span><span class="sxs-lookup"><span data-stu-id="cbcd2-932">IMAGE\_SCN\_ALIGN\_4BYTES</span></span> <br/>             | <span data-ttu-id="cbcd2-933">0x00300000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-933">0x00300000</span></span> <br/> | <span data-ttu-id="cbcd2-934">將資料對齊4位元組的界限。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-934">Align data on a 4-byte boundary.</span></span> <span data-ttu-id="cbcd2-935">僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-935">Valid only for object files.</span></span> <br/>                                                                                                   |
| <span data-ttu-id="cbcd2-936">影像 \_ SCN \_ 對齊 \_ 8BYTES</span><span class="sxs-lookup"><span data-stu-id="cbcd2-936">IMAGE\_SCN\_ALIGN\_8BYTES</span></span> <br/>             | <span data-ttu-id="cbcd2-937">0x00400000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-937">0x00400000</span></span> <br/> | <span data-ttu-id="cbcd2-938">將資料對齊8位元組的界限。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-938">Align data on an 8-byte boundary.</span></span> <span data-ttu-id="cbcd2-939">僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-939">Valid only for object files.</span></span> <br/>                                                                                                  |
| <span data-ttu-id="cbcd2-940">影像 \_ SCN \_ 對齊 \_ 16BYTES</span><span class="sxs-lookup"><span data-stu-id="cbcd2-940">IMAGE\_SCN\_ALIGN\_16BYTES</span></span> <br/>            | <span data-ttu-id="cbcd2-941">0x00500000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-941">0x00500000</span></span> <br/> | <span data-ttu-id="cbcd2-942">將資料對齊16位元組的界限。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-942">Align data on a 16-byte boundary.</span></span> <span data-ttu-id="cbcd2-943">僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-943">Valid only for object files.</span></span> <br/>                                                                                                  |
| <span data-ttu-id="cbcd2-944">影像 \_ SCN \_ 對齊 \_ 32BYTES</span><span class="sxs-lookup"><span data-stu-id="cbcd2-944">IMAGE\_SCN\_ALIGN\_32BYTES</span></span> <br/>            | <span data-ttu-id="cbcd2-945">0x00600000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-945">0x00600000</span></span> <br/> | <span data-ttu-id="cbcd2-946">將資料對齊32位元組的界限。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-946">Align data on a 32-byte boundary.</span></span> <span data-ttu-id="cbcd2-947">僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-947">Valid only for object files.</span></span> <br/>                                                                                                  |
| <span data-ttu-id="cbcd2-948">影像 \_ SCN \_ 對齊 \_ 64BYTES</span><span class="sxs-lookup"><span data-stu-id="cbcd2-948">IMAGE\_SCN\_ALIGN\_64BYTES</span></span> <br/>            | <span data-ttu-id="cbcd2-949">0x00700000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-949">0x00700000</span></span> <br/> | <span data-ttu-id="cbcd2-950">將資料對齊64位元組的界限。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-950">Align data on a 64-byte boundary.</span></span> <span data-ttu-id="cbcd2-951">僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-951">Valid only for object files.</span></span> <br/>                                                                                                  |
| <span data-ttu-id="cbcd2-952">影像 \_ SCN \_ 對齊 \_ 128BYTES</span><span class="sxs-lookup"><span data-stu-id="cbcd2-952">IMAGE\_SCN\_ALIGN\_128BYTES</span></span> <br/>           | <span data-ttu-id="cbcd2-953">0x00800000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-953">0x00800000</span></span> <br/> | <span data-ttu-id="cbcd2-954">將資料對齊128位元組的界限。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-954">Align data on a 128-byte boundary.</span></span> <span data-ttu-id="cbcd2-955">僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-955">Valid only for object files.</span></span> <br/>                                                                                                 |
| <span data-ttu-id="cbcd2-956">影像 \_ SCN \_ 對齊 \_ 256BYTES</span><span class="sxs-lookup"><span data-stu-id="cbcd2-956">IMAGE\_SCN\_ALIGN\_256BYTES</span></span> <br/>           | <span data-ttu-id="cbcd2-957">0x00900000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-957">0x00900000</span></span> <br/> | <span data-ttu-id="cbcd2-958">將資料對齊256位元組的界限。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-958">Align data on a 256-byte boundary.</span></span> <span data-ttu-id="cbcd2-959">僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-959">Valid only for object files.</span></span> <br/>                                                                                                 |
| <span data-ttu-id="cbcd2-960">影像 \_ SCN \_ 對齊 \_ 512BYTES</span><span class="sxs-lookup"><span data-stu-id="cbcd2-960">IMAGE\_SCN\_ALIGN\_512BYTES</span></span> <br/>           | <span data-ttu-id="cbcd2-961">0x00A00000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-961">0x00A00000</span></span> <br/> | <span data-ttu-id="cbcd2-962">將資料對齊512位元組的界限。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-962">Align data on a 512-byte boundary.</span></span> <span data-ttu-id="cbcd2-963">僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-963">Valid only for object files.</span></span> <br/>                                                                                                 |
| <span data-ttu-id="cbcd2-964">影像 \_ SCN \_ 對齊 \_ 1024BYTES</span><span class="sxs-lookup"><span data-stu-id="cbcd2-964">IMAGE\_SCN\_ALIGN\_1024BYTES</span></span> <br/>          | <span data-ttu-id="cbcd2-965">0x00B00000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-965">0x00B00000</span></span> <br/> | <span data-ttu-id="cbcd2-966">將資料對齊1024位元組的界限。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-966">Align data on a 1024-byte boundary.</span></span> <span data-ttu-id="cbcd2-967">僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-967">Valid only for object files.</span></span> <br/>                                                                                                |
| <span data-ttu-id="cbcd2-968">影像 \_ SCN \_ 對齊 \_ 2048BYTES</span><span class="sxs-lookup"><span data-stu-id="cbcd2-968">IMAGE\_SCN\_ALIGN\_2048BYTES</span></span> <br/>          | <span data-ttu-id="cbcd2-969">0x00C00000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-969">0x00C00000</span></span> <br/> | <span data-ttu-id="cbcd2-970">將資料對齊2048位元組的界限。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-970">Align data on a 2048-byte boundary.</span></span> <span data-ttu-id="cbcd2-971">僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-971">Valid only for object files.</span></span> <br/>                                                                                                |
| <span data-ttu-id="cbcd2-972">影像 \_ SCN \_ 對齊 \_ 4096BYTES</span><span class="sxs-lookup"><span data-stu-id="cbcd2-972">IMAGE\_SCN\_ALIGN\_4096BYTES</span></span> <br/>          | <span data-ttu-id="cbcd2-973">0x00D00000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-973">0x00D00000</span></span> <br/> | <span data-ttu-id="cbcd2-974">將資料對齊4096位元組的界限。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-974">Align data on a 4096-byte boundary.</span></span> <span data-ttu-id="cbcd2-975">僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-975">Valid only for object files.</span></span> <br/>                                                                                                |
| <span data-ttu-id="cbcd2-976">影像 \_ SCN \_ 對齊 \_ 8192BYTES</span><span class="sxs-lookup"><span data-stu-id="cbcd2-976">IMAGE\_SCN\_ALIGN\_8192BYTES</span></span> <br/>          | <span data-ttu-id="cbcd2-977">0x00E00000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-977">0x00E00000</span></span> <br/> | <span data-ttu-id="cbcd2-978">將資料對齊8192位元組的界限。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-978">Align data on an 8192-byte boundary.</span></span> <span data-ttu-id="cbcd2-979">僅適用于物件檔。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-979">Valid only for object files.</span></span> <br/>                                                                                               |
| <span data-ttu-id="cbcd2-980">影像 \_ SCN \_ .LNK \_ NRELOC \_ OVFL</span><span class="sxs-lookup"><span data-stu-id="cbcd2-980">IMAGE\_SCN\_LNK\_NRELOC\_OVFL</span></span> <br/>         | <span data-ttu-id="cbcd2-981">0x01000000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-981">0x01000000</span></span> <br/> | <span data-ttu-id="cbcd2-982">區段包含擴充重新置放。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-982">The section contains extended relocations.</span></span> <br/>                                                                                                                      |
| <span data-ttu-id="cbcd2-983">映射 \_ SCN \_ 記憶體 \_ DISCARDABLE</span><span class="sxs-lookup"><span data-stu-id="cbcd2-983">IMAGE\_SCN\_MEM\_DISCARDABLE</span></span> <br/>          | <span data-ttu-id="cbcd2-984">0x02000000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-984">0x02000000</span></span> <br/> | <span data-ttu-id="cbcd2-985">您可以視需要捨棄區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-985">The section can be discarded as needed.</span></span> <br/>                                                                                                                         |
| <span data-ttu-id="cbcd2-986">未快取映射 \_ SCN \_ 記憶體 \_ \_</span><span class="sxs-lookup"><span data-stu-id="cbcd2-986">IMAGE\_SCN\_MEM\_NOT\_CACHED</span></span> <br/>          | <span data-ttu-id="cbcd2-987">0x04000000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-987">0x04000000</span></span> <br/> | <span data-ttu-id="cbcd2-988">無法快取區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-988">The section cannot be cached.</span></span> <br/>                                                                                                                                   |
| <span data-ttu-id="cbcd2-989">映射 \_ SCN \_ 記憶體 \_ 未 \_ 分頁</span><span class="sxs-lookup"><span data-stu-id="cbcd2-989">IMAGE\_SCN\_MEM\_NOT\_PAGED</span></span> <br/>           | <span data-ttu-id="cbcd2-990">0x08000000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-990">0x08000000</span></span> <br/> | <span data-ttu-id="cbcd2-991">區段不可分頁。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-991">The section is not pageable.</span></span> <br/>                                                                                                                                    |
| <span data-ttu-id="cbcd2-992">共用的映射 \_ SCN \_ 記憶體 \_</span><span class="sxs-lookup"><span data-stu-id="cbcd2-992">IMAGE\_SCN\_MEM\_SHARED</span></span> <br/>               | <span data-ttu-id="cbcd2-993">0x10000000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-993">0x10000000</span></span> <br/> | <span data-ttu-id="cbcd2-994">區段可以在記憶體中共用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-994">The section can be shared in memory.</span></span> <br/>                                                                                                                            |
| <span data-ttu-id="cbcd2-995">映射 \_ SCN \_ 記憶體 \_ 執行</span><span class="sxs-lookup"><span data-stu-id="cbcd2-995">IMAGE\_SCN\_MEM\_EXECUTE</span></span> <br/>              | <span data-ttu-id="cbcd2-996">0x20000000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-996">0x20000000</span></span> <br/> | <span data-ttu-id="cbcd2-997">區段可以用程式碼的形式執行。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-997">The section can be executed as code.</span></span> <br/>                                                                                                                            |
| <span data-ttu-id="cbcd2-998">映射 \_ SCN \_ 記憶體 \_ 讀取</span><span class="sxs-lookup"><span data-stu-id="cbcd2-998">IMAGE\_SCN\_MEM\_READ</span></span> <br/>                 | <span data-ttu-id="cbcd2-999">0x40000000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-999">0x40000000</span></span> <br/> | <span data-ttu-id="cbcd2-1000">可以讀取區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1000">The section can be read.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="cbcd2-1001">映射 \_ SCN \_ 記憶體 \_ 寫入</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1001">IMAGE\_SCN\_MEM\_WRITE</span></span> <br/>                | <span data-ttu-id="cbcd2-1002">0x80000000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1002">0x80000000</span></span> <br/> | <span data-ttu-id="cbcd2-1003">區段可以寫入。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1003">The section can be written to.</span></span> <br/>                                                                                                                                  |



 

<span data-ttu-id="cbcd2-1004">IMAGE \_ SCN \_ .Lnk \_ NRELOC \_ OVFL 指出區段的重新置放計數超過在區段標頭中保留的16個位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1004">IMAGE\_SCN\_LNK\_NRELOC\_OVFL indicates that the count of relocations for the section exceeds the 16 bits that are reserved for it in the section header.</span></span> <span data-ttu-id="cbcd2-1005">如果設定位，而且區段標頭中的 NumberOfRelocations 欄位是0xffff，則實際的重新配置計數會儲存在第一次重新配置的32位 VirtualAddress 欄位中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1005">If the bit is set and the NumberOfRelocations field in the section header is 0xffff, the actual relocation count is stored in the 32-bit VirtualAddress field of the first relocation.</span></span> <span data-ttu-id="cbcd2-1006">如果設定了 IMAGE \_ SCN \_ .Lnk \_ NRELOC \_ OVFL，而且區段中的重新置放少於0xffff，就會發生錯誤。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1006">It is an error if IMAGE\_SCN\_LNK\_NRELOC\_OVFL is set and there are fewer than 0xffff relocations in the section.</span></span>

### <a name="grouped-sections-object-only"></a><span data-ttu-id="cbcd2-1007">群組區段僅 (物件) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1007">Grouped Sections (Object Only)</span></span>

<span data-ttu-id="cbcd2-1008">"$"？</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1008">The "$"?</span></span> <span data-ttu-id="cbcd2-1009">字元 (貨幣正負號) 在物件檔案的區段名稱中有特殊的解讀。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1009">character (dollar sign) has a special interpretation in section names in object files.</span></span>

<span data-ttu-id="cbcd2-1010">當您決定將包含物件區段內容的影像區段時，連結器會捨棄 "$"？</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1010">When determining the image section that will contain the contents of an object section, the linker discards the "$"?</span></span> <span data-ttu-id="cbcd2-1011">和其後的所有字元。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1011">and all characters that follow it.</span></span> <span data-ttu-id="cbcd2-1012">因此，名為的物件區段。**text $ X** 實際上會參與影像中的 **text 區段。**</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1012">Thus, an object section named .**text$X** actually contributes to the **.text** section in the image.</span></span>

<span data-ttu-id="cbcd2-1013">不過，"$" 後面的字元？</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1013">However, the characters following the "$"?</span></span> <span data-ttu-id="cbcd2-1014">判斷對影像區段的貢獻順序。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1014">determine the ordering of the contributions to the image section.</span></span> <span data-ttu-id="cbcd2-1015">所有具有相同物件區段名稱的投稿都會連續配置於影像中，而投稿區塊會依物件區段名稱以詞法順序排序。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1015">All contributions with the same object-section name are allocated contiguously in the image, and the blocks of contributions are sorted in lexical order by object-section name.</span></span> <span data-ttu-id="cbcd2-1016">因此，具有 **區段名稱的** 目的檔中的所有專案都會在 **. text $ W** 投稿內容之後，以及在 **. text $ Y** 投稿內容之前。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1016">Therefore, everything in object files with section name **.text$X** ends up together, after the **.text$W** contributions and before the **.text$Y** contributions.</span></span>

<span data-ttu-id="cbcd2-1017">影像檔案中的區段名稱絕不會包含 "$"？</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1017">The section name in an image file never contains a "$"?</span></span> <span data-ttu-id="cbcd2-1018">字元之後。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1018">character.</span></span>

## <a name="other-contents-of-the-file"></a><span data-ttu-id="cbcd2-1019">檔案的其他內容</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1019">Other Contents of the File</span></span>

- [<span data-ttu-id="cbcd2-1020">區段資料</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1020">Section Data</span></span>](#section-data)
- [<span data-ttu-id="cbcd2-1021">COFF 僅 (物件的重新置放) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1021">COFF Relocations (Object Only)</span></span>](#coff-relocations-object-only)
  - [<span data-ttu-id="cbcd2-1022">類型指標</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1022">Type Indicators</span></span>](#type-indicators)
- [<span data-ttu-id="cbcd2-1023"> (已淘汰的 COFF 行號) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1023">COFF Line Numbers (Deprecated)</span></span>](#coff-line-numbers-deprecated)
- [<span data-ttu-id="cbcd2-1024">COFF 符號表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1024">COFF Symbol Table</span></span>](#coff-symbol-table)
  - [<span data-ttu-id="cbcd2-1025">符號名稱標記法</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1025">Symbol Name Representation</span></span>](#symbol-name-representation)
  - [<span data-ttu-id="cbcd2-1026">區段編號值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1026">Section Number Values</span></span>](#section-number-values)
  - [<span data-ttu-id="cbcd2-1027">類型標記法</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1027">Type Representation</span></span>](#type-representation)
  - [<span data-ttu-id="cbcd2-1028">儲存類別</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1028">Storage Class</span></span>](#storage-class)
- [<span data-ttu-id="cbcd2-1029">輔助符號記錄</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1029">Auxiliary Symbol Records</span></span>](#auxiliary-symbol-records)
  - [<span data-ttu-id="cbcd2-1030">輔助格式1：函式定義</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1030">Auxiliary Format 1: Function Definitions</span></span>](#auxiliary-format-1-function-definitions)
  - [<span data-ttu-id="cbcd2-1031">輔助格式2：. bf 和 ef 符號</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1031">Auxiliary Format 2: .bf and .ef Symbols</span></span>](#auxiliary-format-2-bf-and-ef-symbols)
  - [<span data-ttu-id="cbcd2-1032">輔助格式3：弱式外部</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1032">Auxiliary Format 3: Weak Externals</span></span>](#auxiliary-format-3-weak-externals)
  - [<span data-ttu-id="cbcd2-1033">輔助格式4：檔案</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1033">Auxiliary Format 4: Files</span></span>](#auxiliary-format-4-files)
  - [<span data-ttu-id="cbcd2-1034">輔助格式5：區段定義</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1034">Auxiliary Format 5: Section Definitions</span></span>](#auxiliary-format-5-section-definitions)
  - [<span data-ttu-id="cbcd2-1035">COMDAT 區段僅 (物件) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1035">COMDAT Sections (Object Only)</span></span>](#comdat-sections-object-only)
  - [<span data-ttu-id="cbcd2-1036">CLR 權杖定義僅 (物件) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1036">CLR Token Definition (Object Only)</span></span>](#clr-token-definition-object-only)
- [<span data-ttu-id="cbcd2-1037">COFF 字串資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1037">COFF String Table</span></span>](#coff-string-table)
- [<span data-ttu-id="cbcd2-1038">屬性證書表只 (映射) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1038">The Attribute Certificate Table (Image Only)</span></span>](#the-attribute-certificate-table-image-only)
  - [<span data-ttu-id="cbcd2-1039">憑證資料</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1039">Certificate Data</span></span>](#certificate-data)
- [<span data-ttu-id="cbcd2-1040">延遲-僅將匯入資料表載入 (映射) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1040">Delay-Load Import Tables (Image Only)</span></span>](#delay-load-import-tables-image-only)
  - [<span data-ttu-id="cbcd2-1041">Delay-Load Directory 資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1041">The Delay-Load Directory Table</span></span>](#the-delay-load-directory-table)
  - [<span data-ttu-id="cbcd2-1042">屬性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1042">Attributes</span></span>](#attributes)
  - [<span data-ttu-id="cbcd2-1043">名稱</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1043">Name</span></span>](#name)
  - [<span data-ttu-id="cbcd2-1044">模組控制碼</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1044">Module Handle</span></span>](#module-handle)
  - [<span data-ttu-id="cbcd2-1045">延遲匯入位址表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1045">Delay Import Address Table</span></span>](#delay-import-address-table)
  - [<span data-ttu-id="cbcd2-1046">延遲匯入名稱資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1046">Delay Import Name Table</span></span>](#delay-import-name-table)
  - [<span data-ttu-id="cbcd2-1047">延遲系結匯入位址資料表和時間戳記</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1047">Delay Bound Import Address Table and Time Stamp</span></span>](#delay-bound-import-address-table-and-time-stamp)
  - [<span data-ttu-id="cbcd2-1048">延遲卸載匯入位址表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1048">Delay Unload Import Address Table</span></span>](#delay-unload-import-address-table)

<span data-ttu-id="cbcd2-1049">截至目前為止所描述的資料結構（最多可包含選擇性標頭）都位於檔案開頭的固定位移 (或從 PE 標頭中，如果檔案是包含 MS-DOS 存根) 的映射。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1049">The data structures that were described so far, up to and including the optional header, are all located at a fixed offset from the beginning of the file (or from the PE header if the file is an image that contains an MS-DOS stub).</span></span>

<span data-ttu-id="cbcd2-1050">COFF 物件或影像檔的其餘部分包含不一定是任何特定檔案位移的資料區塊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1050">The remainder of a COFF object or image file contains blocks of data that are not necessarily at any specific file offset.</span></span> <span data-ttu-id="cbcd2-1051">而是透過選擇性標頭或區段標頭中的指標來定義位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1051">Instead, the locations are defined by pointers in the optional header or a section header.</span></span>

<span data-ttu-id="cbcd2-1052">SectionAlignment 值小於架構的頁面大小 (4 K 適用于 Intel x86 和 MIPS 的影像，以及適用于 Itanium) 的 8 K 的影像除外。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1052">An exception is for images with a SectionAlignment value of less than the page size of the architecture (4 K for Intel x86 and for MIPS, and 8 K for Itanium).</span></span> <span data-ttu-id="cbcd2-1053">如需 SectionAlignment 的說明，請參閱 [選擇性標頭 (僅) 的影像 ](#optional-header-image-only)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1053">For a description of SectionAlignment, see [Optional Header (Image Only)](#optional-header-image-only).</span></span> <span data-ttu-id="cbcd2-1054">在此情況下，區段資料的檔案位移上有條件約束，如「區段資料」5.1 一節中所述。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1054">In this case, there are constraints on the file offset of the section data, as described in section 5.1, "Section Data."</span></span> <span data-ttu-id="cbcd2-1055">另一個例外狀況是，屬性憑證和偵錯工具資訊必須放在影像檔案的結尾，並在 [偵錯工具] 區段前面加上屬性憑證表格，因為載入器不會將這些屬性對應到記憶體。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1055">Another exception is that attribute certificate and debug information must be placed at the very end of an image file, with the attribute certificate table immediately preceding the debug section, because the loader does not map these into memory.</span></span> <span data-ttu-id="cbcd2-1056">但是，屬性憑證和調試資訊的規則不會套用至物件檔案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1056">The rule about attribute certificate and debug information does not apply to object files, however.</span></span>

### <a name="section-data"></a><span data-ttu-id="cbcd2-1057">區段資料</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1057">Section Data</span></span>

<span data-ttu-id="cbcd2-1058">區段的初始化資料是由簡單的位元組區塊所組成。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1058">Initialized data for a section consists of simple blocks of bytes.</span></span> <span data-ttu-id="cbcd2-1059">不過，對於包含所有零的區段而言，不需要包含資料區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1059">However, for sections that contain all zeros, the section data need not be included.</span></span>

<span data-ttu-id="cbcd2-1060">每個區段的資料都位於區段標頭中 PointerToRawData 欄位所提供的檔案位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1060">The data for each section is located at the file offset that was given by the PointerToRawData field in the section header.</span></span> <span data-ttu-id="cbcd2-1061">檔案中的此資料大小會以 SizeOfRawData 欄位表示。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1061">The size of this data in the file is indicated by the SizeOfRawData field.</span></span> <span data-ttu-id="cbcd2-1062">如果 SizeOfRawData 小於 VirtualSize，其餘部分會以零填補。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1062">If SizeOfRawData is less than VirtualSize, the remainder is padded with zeros.</span></span>

<span data-ttu-id="cbcd2-1063">在影像檔案中，區段資料必須依照選擇性標頭中 FileAlignment 欄位所指定的界限對齊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1063">In an image file, the section data must be aligned on a boundary as specified by the FileAlignment field in the optional header.</span></span> <span data-ttu-id="cbcd2-1064">區段資料必須以對應區段的 RVA 值順序出現， (與) 一節中的個別區段標頭相同。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1064">Section data must appear in order of the RVA values for the corresponding sections (as do the individual section headers in the section table).</span></span>

<span data-ttu-id="cbcd2-1065">如果選擇性標頭中的 SectionAlignment 值小於架構的頁面大小，則影像檔案會有額外的限制。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1065">There are additional restrictions on image files if the SectionAlignment value in the optional header is less than the page size of the architecture.</span></span> <span data-ttu-id="cbcd2-1066">針對這類檔案，在載入映射時，檔案中區段資料的位置必須符合其在記憶體中的位置，讓區段資料的實體位移與 RVA 相同。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1066">For such files, the location of section data in the file must match its location in memory when the image is loaded, so that the physical offset for section data is the same as the RVA.</span></span>

### <a name="coff-relocations-object-only"></a><span data-ttu-id="cbcd2-1067">COFF 僅 (物件的重新置放) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1067">COFF Relocations (Object Only)</span></span>

<span data-ttu-id="cbcd2-1068">目的檔包含 COFF 重新置放，可指定在放置在影像檔案中並接著載入至記憶體時，應如何修改區段資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1068">Object files contain COFF relocations, which specify how the section data should be modified when placed in the image file and subsequently loaded into memory.</span></span>

<span data-ttu-id="cbcd2-1069">影像檔案不包含 COFF 重新置放，因為所有參考的符號都已指派給一般位址空間中的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1069">Image files do not contain COFF relocations, because all referenced symbols have already been assigned addresses in a flat address space.</span></span> <span data-ttu-id="cbcd2-1070">影像會以 reloc 區段中的基底重新置放格式來包含重新配置資訊 (除非影像 \_ \_ RELOCS 移除 \_ 屬性) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1070">An image contains relocation information in the form of base relocations in the .reloc section (unless the image has the IMAGE\_FILE\_RELOCS\_STRIPPED attribute).</span></span> <span data-ttu-id="cbcd2-1071">如需詳細資訊，請參閱 [Reloc 一節 (映射) ](#the-reloc-section-image-only)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1071">For more information, see [The .reloc Section (Image Only)](#the-reloc-section-image-only).</span></span>

<span data-ttu-id="cbcd2-1072">針對物件檔案中的每個區段，固定長度記錄的陣列會保存區段的 COFF 重新置放。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1072">For each section in an object file, an array of fixed-length records holds the section's COFF relocations.</span></span> <span data-ttu-id="cbcd2-1073">陣列的位置和長度是在區段標頭中指定。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1073">The position and length of the array are specified in the section header.</span></span> <span data-ttu-id="cbcd2-1074">陣列的每個元素都具有下列格式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1074">Each element of the array has the following format.</span></span>



| <span data-ttu-id="cbcd2-1075">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1075">Offset</span></span>        | <span data-ttu-id="cbcd2-1076">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1076">Size</span></span>          | <span data-ttu-id="cbcd2-1077">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1077">Field</span></span>                        | <span data-ttu-id="cbcd2-1078">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1078">Description</span></span>                                                                                                                                                                                                                                                                                                                                                     |
|---------------|---------------|------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1079">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1079">0</span></span> <br/> | <span data-ttu-id="cbcd2-1080">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1080">4</span></span> <br/> | <span data-ttu-id="cbcd2-1081">VirtualAddress</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1081">VirtualAddress</span></span> <br/>   | <span data-ttu-id="cbcd2-1082">要套用重新配置的專案位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1082">The address of the item to which relocation is applied.</span></span> <span data-ttu-id="cbcd2-1083">這是區段開頭的位移，加上區段的 RVA/Offset 欄位的值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1083">This is the offset from the beginning of the section, plus the value of the section's RVA/Offset field.</span></span> <span data-ttu-id="cbcd2-1084">請參閱 [區段表格 (區段標題) ](#section-table-section-headers)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1084">See [Section Table (Section Headers)](#section-table-section-headers).</span></span> <span data-ttu-id="cbcd2-1085">例如，如果區段的第一個位元組具有0x10 的位址，則第三個位元組的位址會是0x12。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1085">For example, if the first byte of the section has an address of 0x10, the third byte has an address of 0x12.</span></span> <br/> |
| <span data-ttu-id="cbcd2-1086">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1086">4</span></span> <br/> | <span data-ttu-id="cbcd2-1087">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1087">4</span></span> <br/> | <span data-ttu-id="cbcd2-1088">SymbolTableIndex</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1088">SymbolTableIndex</span></span> <br/> | <span data-ttu-id="cbcd2-1089">符號表中以零為基底的索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1089">A zero-based index into the symbol table.</span></span> <span data-ttu-id="cbcd2-1090">這個符號會提供要用於重新配置的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1090">This symbol gives the address that is to be used for the relocation.</span></span> <span data-ttu-id="cbcd2-1091">如果指定的符號具有 section 儲存類別，則符號的位址就是具有相同名稱之第一個區段的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1091">If the specified symbol has section storage class, then the symbol's address is the address with the first section of the same name.</span></span> <br/>                                                                                                 |
| <span data-ttu-id="cbcd2-1092">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1092">8</span></span> <br/> | <span data-ttu-id="cbcd2-1093">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1093">2</span></span> <br/> | <span data-ttu-id="cbcd2-1094">類型</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1094">Type</span></span> <br/>             | <span data-ttu-id="cbcd2-1095">值，指出應該執行的重新配置類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1095">A value that indicates the kind of relocation that should be performed.</span></span> <span data-ttu-id="cbcd2-1096">有效的重新配置類型取決於電腦類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1096">Valid relocation types depend on machine type.</span></span> <span data-ttu-id="cbcd2-1097">請參閱 [類型](#type-indicators)指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1097">See [Type Indicators](#type-indicators).</span></span> <br/>                                                                                                                                                                                     |



 

<span data-ttu-id="cbcd2-1098">如果 SymbolTableIndex 欄位所參考的符號具有 [儲存類別影像 \_ SYM 類別] \_ \_ 區段，符號的位址就是區段的開頭。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1098">If the symbol referred to by the SymbolTableIndex field has the storage class IMAGE\_SYM\_CLASS\_SECTION, the symbol's address is the beginning of the section.</span></span> <span data-ttu-id="cbcd2-1099">區段通常會在相同的檔案中，但物件檔案是封存 (程式庫) 的一部分。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1099">The section is usually in the same file, except when the object file is part of an archive (library).</span></span> <span data-ttu-id="cbcd2-1100">在此情況下，您可以在封存中的任何其他目的檔中找到此區段，該檔案的封存成員名稱與目前的物件檔案相同。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1100">In that case, the section can be found in any other object file in the archive that has the same archive-member name as the current object file.</span></span> <span data-ttu-id="cbcd2-1101"> (與封存成員名稱之間的關聯性，是在匯入資料表的連結中使用，也就是 idata 區段。 ) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1101">(The relationship with the archive-member name is used in the linking of import tables, that is, the .idata section.)</span></span>

#### <a name="type-indicators"></a><span data-ttu-id="cbcd2-1102">類型指標</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1102">Type Indicators</span></span>

<span data-ttu-id="cbcd2-1103">重新配置記錄的類型欄位指出應該執行的重新配置類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1103">The Type field of the relocation record indicates what kind of relocation should be performed.</span></span> <span data-ttu-id="cbcd2-1104">針對每一種類型的電腦定義不同的重新配置類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1104">Different relocation types are defined for each type of machine.</span></span>

##### <a name="x64-processors"></a><span data-ttu-id="cbcd2-1105">x64 處理器</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1105">x64 Processors</span></span>

<span data-ttu-id="cbcd2-1106">下列為 x64 和相容處理器定義的重新配置類型指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1106">The following relocation type indicators are defined for x64 and compatible processors.</span></span>



| <span data-ttu-id="cbcd2-1107">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1107">Constant</span></span>                                | <span data-ttu-id="cbcd2-1108">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1108">Value</span></span>              | <span data-ttu-id="cbcd2-1109">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1109">Description</span></span>                                                                                                                                                   |
|-----------------------------------------|--------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1110">影像 \_ REL \_ AMD64 \_ 絕對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1110">IMAGE\_REL\_AMD64\_ABSOLUTE</span></span> <br/> | <span data-ttu-id="cbcd2-1111">0x0000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1111">0x0000</span></span> <br/> | <span data-ttu-id="cbcd2-1112">重新配置會被忽略。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1112">The relocation is ignored.</span></span> <br/>                                                                                                                        |
| <span data-ttu-id="cbcd2-1113">影像 \_ REL \_ AMD64 \_ ADDR64</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1113">IMAGE\_REL\_AMD64\_ADDR64</span></span> <br/>   | <span data-ttu-id="cbcd2-1114">0x0001</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1114">0x0001</span></span> <br/> | <span data-ttu-id="cbcd2-1115">重新配置目標的64位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1115">The 64-bit VA of the relocation target.</span></span> <br/>                                                                                                           |
| <span data-ttu-id="cbcd2-1116">影像 \_ REL \_ AMD64 \_ ADDR32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1116">IMAGE\_REL\_AMD64\_ADDR32</span></span> <br/>   | <span data-ttu-id="cbcd2-1117">0x0002</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1117">0x0002</span></span> <br/> | <span data-ttu-id="cbcd2-1118">重新配置目標的32位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1118">The 32-bit VA of the relocation target.</span></span> <br/>                                                                                                           |
| <span data-ttu-id="cbcd2-1119">影像 \_ REL \_ AMD64 \_ ADDR32NB</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1119">IMAGE\_REL\_AMD64\_ADDR32NB</span></span> <br/> | <span data-ttu-id="cbcd2-1120">0x0003</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1120">0x0003</span></span> <br/> | <span data-ttu-id="cbcd2-1121">沒有映射基底 (RVA) 的32位位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1121">The 32-bit address without an image base (RVA).</span></span> <br/>                                                                                                   |
| <span data-ttu-id="cbcd2-1122">影像 \_ REL \_ AMD64 \_ REL32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1122">IMAGE\_REL\_AMD64\_REL32</span></span> <br/>    | <span data-ttu-id="cbcd2-1123">0x0004</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1123">0x0004</span></span> <br/> | <span data-ttu-id="cbcd2-1124">重新配置之後的位元組中的32位相對位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1124">The 32-bit relative address from the byte following the relocation.</span></span> <br/>                                                                               |
| <span data-ttu-id="cbcd2-1125">影像 \_ REL \_ AMD64 \_ REL32 \_ 1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1125">IMAGE\_REL\_AMD64\_REL32\_1</span></span> <br/> | <span data-ttu-id="cbcd2-1126">0x0005</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1126">0x0005</span></span> <br/> | <span data-ttu-id="cbcd2-1127">從重新配置開始，相對於位元組距離1的32位位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1127">The 32-bit address relative to byte distance 1 from the relocation.</span></span> <br/>                                                                               |
| <span data-ttu-id="cbcd2-1128">影像 \_ REL \_ AMD64 \_ REL32 \_ 2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1128">IMAGE\_REL\_AMD64\_REL32\_2</span></span> <br/> | <span data-ttu-id="cbcd2-1129">0x0006</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1129">0x0006</span></span> <br/> | <span data-ttu-id="cbcd2-1130">從重新配置開始，相對於位元組距離2的32位位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1130">The 32-bit address relative to byte distance 2 from the relocation.</span></span> <br/>                                                                               |
| <span data-ttu-id="cbcd2-1131">影像 \_ REL \_ AMD64 \_ REL32 \_ 3</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1131">IMAGE\_REL\_AMD64\_REL32\_3</span></span> <br/> | <span data-ttu-id="cbcd2-1132">0x0007</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1132">0x0007</span></span> <br/> | <span data-ttu-id="cbcd2-1133">從重新配置開始，相對於位元組距離3的32位位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1133">The 32-bit address relative to byte distance 3 from the relocation.</span></span> <br/>                                                                               |
| <span data-ttu-id="cbcd2-1134">影像 \_ REL \_ AMD64 \_ REL32 \_ 4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1134">IMAGE\_REL\_AMD64\_REL32\_4</span></span> <br/> | <span data-ttu-id="cbcd2-1135">0x0008</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1135">0x0008</span></span> <br/> | <span data-ttu-id="cbcd2-1136">從重新配置開始，相對於位元組距離4的32位位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1136">The 32-bit address relative to byte distance 4 from the relocation.</span></span> <br/>                                                                               |
| <span data-ttu-id="cbcd2-1137">影像 \_ REL \_ AMD64 \_ REL32 \_ 5</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1137">IMAGE\_REL\_AMD64\_REL32\_5</span></span> <br/> | <span data-ttu-id="cbcd2-1138">0x0009</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1138">0x0009</span></span> <br/> | <span data-ttu-id="cbcd2-1139">相對於重新配置中位元組距離5的32位位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1139">The 32-bit address relative to byte distance 5 from the relocation.</span></span> <br/>                                                                               |
| <span data-ttu-id="cbcd2-1140">影像 \_ REL \_ AMD64 \_ 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1140">IMAGE\_REL\_AMD64\_SECTION</span></span> <br/>  | <span data-ttu-id="cbcd2-1141">0x000A</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1141">0x000A</span></span> <br/> | <span data-ttu-id="cbcd2-1142">包含目標之區段的16位區段索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1142">The 16-bit section index of the section that contains the target.</span></span> <span data-ttu-id="cbcd2-1143">這是用來支援偵錯工具資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1143">This is used to support debugging information.</span></span> <br/>                                  |
| <span data-ttu-id="cbcd2-1144">影像 \_ REL \_ AMD64 \_ SECREL</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1144">IMAGE\_REL\_AMD64\_SECREL</span></span> <br/>   | <span data-ttu-id="cbcd2-1145">0x000B</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1145">0x000B</span></span> <br/> | <span data-ttu-id="cbcd2-1146">目標在其區段開頭的32位位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1146">The 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="cbcd2-1147">這是用來支援偵錯工具資訊和靜態執行緒區域儲存區。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1147">This is used to support debugging information and static thread local storage.</span></span> <br/> |
| <span data-ttu-id="cbcd2-1148">影像 \_ REL \_ AMD64 \_ SECREL7</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1148">IMAGE\_REL\_AMD64\_SECREL7</span></span> <br/>  | <span data-ttu-id="cbcd2-1149">0x000C</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1149">0x000C</span></span> <br/> | <span data-ttu-id="cbcd2-1150">包含目標之區段基底的7位不帶正負號位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1150">A 7-bit unsigned offset from the base of the section that contains the target.</span></span> <br/>                                                                    |
| <span data-ttu-id="cbcd2-1151">影像 \_ REL \_ AMD64 \_ TOKEN</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1151">IMAGE\_REL\_AMD64\_TOKEN</span></span> <br/>    | <span data-ttu-id="cbcd2-1152">0x000D</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1152">0x000D</span></span> <br/> | <span data-ttu-id="cbcd2-1153">CLR 標記。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1153">CLR tokens.</span></span> <br/>                                                                                                                                       |
| <span data-ttu-id="cbcd2-1154">影像 \_ REL \_ AMD64 \_ SREL32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1154">IMAGE\_REL\_AMD64\_SREL32</span></span> <br/>   | <span data-ttu-id="cbcd2-1155">0x000E</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1155">0x000E</span></span> <br/> | <span data-ttu-id="cbcd2-1156">發出至物件的32位帶正負號的範圍相依值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1156">A 32-bit signed span-dependent value emitted into the object.</span></span> <br/>                                                                                     |
| <span data-ttu-id="cbcd2-1157">影像 \_ REL \_ AMD64 \_ 配對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1157">IMAGE\_REL\_AMD64\_PAIR</span></span> <br/>     | <span data-ttu-id="cbcd2-1158">0x000F</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1158">0x000F</span></span> <br/> | <span data-ttu-id="cbcd2-1159">必須緊接在每個範圍相依值之後的配對。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1159">A pair that must immediately follow every span-dependent value.</span></span> <br/>                                                                                   |
| <span data-ttu-id="cbcd2-1160">影像 \_ REL \_ AMD64 \_ SSPAN32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1160">IMAGE\_REL\_AMD64\_SSPAN32</span></span> <br/>  | <span data-ttu-id="cbcd2-1161">0x0010</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1161">0x0010</span></span> <br/> | <span data-ttu-id="cbcd2-1162">在連結時套用的32位帶正負號的範圍相依值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1162">A 32-bit signed span-dependent value that is applied at link time.</span></span> <br/>                                                                                |



 

##### <a name="arm-processors"></a><span data-ttu-id="cbcd2-1163">ARM 處理器</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1163">ARM Processors</span></span>

<span data-ttu-id="cbcd2-1164">下列為 ARM 處理器定義的重新配置類型指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1164">The following relocation type indicators are defined for ARM processors.</span></span>



| <span data-ttu-id="cbcd2-1165">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1165">Constant</span></span>                                | <span data-ttu-id="cbcd2-1166">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1166">Value</span></span>              | <span data-ttu-id="cbcd2-1167">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1167">Description</span></span>                                                                                                                                                                                                                                                            |
|-----------------------------------------|--------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1168">影像 \_ REL \_ ARM \_ 絕對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1168">IMAGE\_REL\_ARM\_ABSOLUTE</span></span> <br/>   | <span data-ttu-id="cbcd2-1169">0x0000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1169">0x0000</span></span> <br/> | <span data-ttu-id="cbcd2-1170">重新配置會被忽略。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1170">The relocation is ignored.</span></span> <br/>                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-1171">影像 \_ REL \_ ARM \_ ADDR32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1171">IMAGE\_REL\_ARM\_ADDR32</span></span> <br/>     | <span data-ttu-id="cbcd2-1172">0x0001</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1172">0x0001</span></span> <br/> | <span data-ttu-id="cbcd2-1173">目標的32位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1173">The 32-bit VA of the target.</span></span> <br/>                                                                                                                                                                                                                               |
| <span data-ttu-id="cbcd2-1174">影像 \_ REL \_ ARM \_ ADDR32NB</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1174">IMAGE\_REL\_ARM\_ADDR32NB</span></span> <br/>   | <span data-ttu-id="cbcd2-1175">0x0002</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1175">0x0002</span></span> <br/> | <span data-ttu-id="cbcd2-1176">目標的32位 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1176">The 32-bit RVA of the target.</span></span> <br/>                                                                                                                                                                                                                              |
| <span data-ttu-id="cbcd2-1177">影像 \_ REL \_ ARM \_ BRANCH24</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1177">IMAGE\_REL\_ARM\_BRANCH24</span></span> <br/>   | <span data-ttu-id="cbcd2-1178">0x0003</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1178">0x0003</span></span> <br/> | <span data-ttu-id="cbcd2-1179">目標的24位相對位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1179">The 24-bit relative displacement to the target.</span></span> <br/>                                                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-1180">影像 \_ REL \_ ARM \_ BRANCH11</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1180">IMAGE\_REL\_ARM\_BRANCH11</span></span> <br/>   | <span data-ttu-id="cbcd2-1181">0x0004</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1181">0x0004</span></span> <br/> | <span data-ttu-id="cbcd2-1182">副程式呼叫的參考。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1182">The reference to a subroutine call.</span></span> <span data-ttu-id="cbcd2-1183">參考包含具有11位位移的 2 16 位指令。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1183">The reference consists of two 16-bit instructions with 11-bit offsets.</span></span> <br/>                                                                                                                                                 |
| <span data-ttu-id="cbcd2-1184">影像 \_ REL \_ ARM \_ REL32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1184">IMAGE\_REL\_ARM\_REL32</span></span> <br/>      | <span data-ttu-id="cbcd2-1185">0x000A</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1185">0x000A</span></span> <br/> | <span data-ttu-id="cbcd2-1186">重新配置之後的位元組中的32位相對位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1186">The 32-bit relative address from the byte following the relocation.</span></span> <br/>                                                                                                                                                                                        |
| <span data-ttu-id="cbcd2-1187">影像 \_ REL \_ ARM \_ 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1187">IMAGE\_REL\_ARM\_SECTION</span></span> <br/>    | <span data-ttu-id="cbcd2-1188">0x000E</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1188">0x000E</span></span> <br/> | <span data-ttu-id="cbcd2-1189">包含目標之區段的16位區段索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1189">The 16-bit section index of the section that contains the target.</span></span> <span data-ttu-id="cbcd2-1190">這是用來支援偵錯工具資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1190">This is used to support debugging information.</span></span> <br/>                                                                                                                                           |
| <span data-ttu-id="cbcd2-1191">影像 \_ REL \_ ARM \_ SECREL</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1191">IMAGE\_REL\_ARM\_SECREL</span></span> <br/>     | <span data-ttu-id="cbcd2-1192">0x000F</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1192">0x000F</span></span> <br/> | <span data-ttu-id="cbcd2-1193">目標在其區段開頭的32位位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1193">The 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="cbcd2-1194">這是用來支援偵錯工具資訊和靜態執行緒區域儲存區。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1194">This is used to support debugging information and static thread local storage.</span></span> <br/>                                                                                                          |
| <span data-ttu-id="cbcd2-1195">影像 \_ REL \_ ARM \_ MOV32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1195">IMAGE\_REL\_ARM\_MOV32</span></span> <br/>      | <span data-ttu-id="cbcd2-1196">0x0010</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1196">0x0010</span></span> <br/> | <span data-ttu-id="cbcd2-1197">目標的32位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1197">The 32-bit VA of the target.</span></span> <span data-ttu-id="cbcd2-1198">這項重新配置的套用方式是使用低16位的 MOVW 指令，後面接著高16位的 MOVT。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1198">This relocation is applied using a MOVW instruction for the low 16 bits followed by a MOVT for the high 16 bits.</span></span> <br/>                                                                                                              |
| <span data-ttu-id="cbcd2-1199">影像 \_ REL \_ THUMB \_ MOV32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1199">IMAGE\_REL\_THUMB\_MOV32</span></span> <br/>    | <span data-ttu-id="cbcd2-1200">0x0011</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1200">0x0011</span></span> <br/> | <span data-ttu-id="cbcd2-1201">目標的32位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1201">The 32-bit VA of the target.</span></span> <span data-ttu-id="cbcd2-1202">這項重新配置的套用方式是使用低16位的 MOVW 指令，後面接著高16位的 MOVT。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1202">This relocation is applied using a MOVW instruction for the low 16 bits followed by a MOVT for the high 16 bits.</span></span> <br/>                                                                                                              |
| <span data-ttu-id="cbcd2-1203">影像 \_ REL \_ THUMB \_ BRANCH20</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1203">IMAGE\_REL\_THUMB\_BRANCH20</span></span> <br/> | <span data-ttu-id="cbcd2-1204">0x0012</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1204">0x0012</span></span> <br/> | <span data-ttu-id="cbcd2-1205">此指令會以與2位元組對齊之目標的21位相對位移來修正。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1205">The instruction is fixed up with the 21-bit relative displacement to the 2-byte aligned target.</span></span> <span data-ttu-id="cbcd2-1206">位移的最小位一律為零，且不會儲存。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1206">The least significant bit of the displacement is always zero and is not stored.</span></span> <span data-ttu-id="cbcd2-1207">此重新配置對應于 Thumb-2 32 位條件 B 指令。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1207">This relocation corresponds to a Thumb-2 32-bit conditional B instruction.</span></span> <br/> |
| <span data-ttu-id="cbcd2-1208">未使用</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1208">Unused</span></span> <br/>                      | <span data-ttu-id="cbcd2-1209">0x0013</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1209">0x0013</span></span> <br/> |                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="cbcd2-1210">影像 \_ REL \_ THUMB \_ BRANCH24</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1210">IMAGE\_REL\_THUMB\_BRANCH24</span></span> <br/> | <span data-ttu-id="cbcd2-1211">0x0014</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1211">0x0014</span></span> <br/> | <span data-ttu-id="cbcd2-1212">此指令會以與2位元組對齊之目標的25位相對位移來修正。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1212">The instruction is fixed up with the 25-bit relative displacement to the 2-byte aligned target.</span></span> <span data-ttu-id="cbcd2-1213">取代的最小位是零，且不會儲存。此重新配置對應至 Thumb-2 B 指令。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1213">The least significant bit of the displacement is zero and is not stored.This relocation corresponds to a Thumb-2 B instruction.</span></span> <br/>                            |
| <span data-ttu-id="cbcd2-1214">影像 \_ REL \_ THUMB \_ BLX23</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1214">IMAGE\_REL\_THUMB\_BLX23</span></span> <br/>    | <span data-ttu-id="cbcd2-1215">0x0015</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1215">0x0015</span></span> <br/> | <span data-ttu-id="cbcd2-1216">此指令會以25位的相對位移與4位元組對齊的目標進行修正。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1216">The instruction is fixed up with the 25-bit relative displacement to the 4-byte aligned target.</span></span> <span data-ttu-id="cbcd2-1217">位移的低2位為零，且不會儲存。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1217">The low 2 bits of the displacement are zero and are not stored.</span></span> <br/> <span data-ttu-id="cbcd2-1218">此重新配置對應至 Thumb-2 BLX 指令。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1218">This relocation corresponds to a Thumb-2 BLX instruction.</span></span> <br/>                      |
| <span data-ttu-id="cbcd2-1219">影像 \_ REL \_ ARM \_ 配對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1219">IMAGE\_REL\_ARM\_PAIR</span></span> <br/>       | <span data-ttu-id="cbcd2-1220">0x0016</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1220">0x0016</span></span> <br/> | <span data-ttu-id="cbcd2-1221">重新配置只有在緊接在 ARM \_ REFHI 或 THUMB REFHI 之後才有效 \_ 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1221">The relocation is valid only when it immediately follows a ARM\_REFHI or THUMB\_REFHI.</span></span> <span data-ttu-id="cbcd2-1222">其 SymbolTableIndex 包含替代，而不是符號資料表中的索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1222">Its SymbolTableIndex contains a displacement and not an index into the symbol table.</span></span> <br/>                                                                                |



 

##### <a name="arm64-processors"></a><span data-ttu-id="cbcd2-1223">ARM64 處理器</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1223">ARM64 Processors</span></span>

<span data-ttu-id="cbcd2-1224">下列為 ARM64 處理器定義的重新配置類型指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1224">The following relocation type indicators are defined for ARM64 processors.</span></span>



| <span data-ttu-id="cbcd2-1225">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1225">Constant</span></span>                                       | <span data-ttu-id="cbcd2-1226">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1226">Value</span></span>              | <span data-ttu-id="cbcd2-1227">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1227">Description</span></span>                                                                                                                                                   |
|------------------------------------------------|--------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1228">影像 \_ REL \_ ARM64 \_ 絕對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1228">IMAGE\_REL\_ARM64\_ABSOLUTE</span></span> <br/>        | <span data-ttu-id="cbcd2-1229">0x0000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1229">0x0000</span></span> <br/> | <span data-ttu-id="cbcd2-1230">重新配置會被忽略。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1230">The relocation is ignored.</span></span> <br/>                                                                                                                        |
| <span data-ttu-id="cbcd2-1231">影像 \_ REL \_ ARM64 \_ ADDR32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1231">IMAGE\_REL\_ARM64\_ADDR32</span></span> <br/>          | <span data-ttu-id="cbcd2-1232">0x0001</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1232">0x0001</span></span> <br/> | <span data-ttu-id="cbcd2-1233">目標的32位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1233">The 32-bit VA of the target.</span></span> <br/>                                                                                                                      |
| <span data-ttu-id="cbcd2-1234">影像 \_ REL \_ ARM64 \_ ADDR32NB</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1234">IMAGE\_REL\_ARM64\_ADDR32NB</span></span> <br/>        | <span data-ttu-id="cbcd2-1235">0x0002</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1235">0x0002</span></span> <br/> | <span data-ttu-id="cbcd2-1236">目標的32位 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1236">The 32-bit RVA of the target.</span></span> <br/>                                                                                                                     |
| <span data-ttu-id="cbcd2-1237">影像 \_ REL \_ ARM64 \_ BRANCH26</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1237">IMAGE\_REL\_ARM64\_BRANCH26</span></span> <br/>        | <span data-ttu-id="cbcd2-1238">0x0003</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1238">0x0003</span></span> <br/> | <span data-ttu-id="cbcd2-1239">對目標的26位相對位移，適用于 B 和 BL 的指示。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1239">The 26-bit relative displacement to the target, for B and BL instructions.</span></span> <br/>                                                                        |
| <span data-ttu-id="cbcd2-1240">影像 \_ REL \_ ARM64 \_ PAGEBASE \_ REL21</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1240">IMAGE\_REL\_ARM64\_PAGEBASE\_REL21</span></span> <br/> | <span data-ttu-id="cbcd2-1241">0x0004</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1241">0x0004</span></span> <br/> | <span data-ttu-id="cbcd2-1242">目標的頁面基底（適用于 ADRP 指令）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1242">The page base of the target, for ADRP instruction.</span></span> <br/>                                                                                                |
| <span data-ttu-id="cbcd2-1243">影像 \_ REL \_ ARM64 \_ REL21</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1243">IMAGE\_REL\_ARM64\_REL21</span></span> <br/>           | <span data-ttu-id="cbcd2-1244">0x0005</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1244">0x0005</span></span> <br/> | <span data-ttu-id="cbcd2-1245">目標的12位相對位移，適用于指示 ADR</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1245">The 12-bit relative displacement to the target, for instruction ADR</span></span> <br/>                                                                               |
| <span data-ttu-id="cbcd2-1246">影像 \_ REL \_ ARM64 \_ PAGEOFFSET \_ 12A</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1246">IMAGE\_REL\_ARM64\_PAGEOFFSET\_12A</span></span> <br/> | <span data-ttu-id="cbcd2-1247">0x0006</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1247">0x0006</span></span> <br/> | <span data-ttu-id="cbcd2-1248">目標的12位頁面位移，適用于指示新增/新增 (立即) 零位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1248">The 12-bit page offset of the target, for instructions ADD/ADDS (immediate) with zero shift.</span></span> <br/>                                                      |
| <span data-ttu-id="cbcd2-1249">影像 \_ REL \_ ARM64 \_ PAGEOFFSET \_ 12L</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1249">IMAGE\_REL\_ARM64\_PAGEOFFSET\_12L</span></span> <br/> | <span data-ttu-id="cbcd2-1250">0x0007</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1250">0x0007</span></span> <br/> | <span data-ttu-id="cbcd2-1251">目標的12位頁面位移，適用于指令 LDR (索引、不帶正負號的立即) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1251">The 12-bit page offset of the target, for instruction LDR (indexed, unsigned immediate).</span></span> <br/>                                                          |
| <span data-ttu-id="cbcd2-1252">影像 \_ REL \_ ARM64 \_ SECREL</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1252">IMAGE\_REL\_ARM64\_SECREL</span></span> <br/>          | <span data-ttu-id="cbcd2-1253">0x0008</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1253">0x0008</span></span> <br/> | <span data-ttu-id="cbcd2-1254">目標在其區段開頭的32位位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1254">The 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="cbcd2-1255">這是用來支援偵錯工具資訊和靜態執行緒區域儲存區。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1255">This is used to support debugging information and static thread local storage.</span></span> <br/> |
| <span data-ttu-id="cbcd2-1256">影像 \_ REL \_ ARM64 \_ SECREL \_ LOW12A</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1256">IMAGE\_REL\_ARM64\_SECREL\_LOW12A</span></span> <br/>  | <span data-ttu-id="cbcd2-1257">0x0009</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1257">0x0009</span></span> <br/> | <span data-ttu-id="cbcd2-1258">目標之區段位移的位0:11，如需新增/新增 (立即) 零班的指示。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1258">Bit 0:11 of section offset of the target, for instructions ADD/ADDS (immediate) with zero shift.</span></span> <br/>                                                  |
| <span data-ttu-id="cbcd2-1259">影像 \_ REL \_ ARM64 \_ SECREL \_ HIGH12A</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1259">IMAGE\_REL\_ARM64\_SECREL\_HIGH12A</span></span> <br/> | <span data-ttu-id="cbcd2-1260">0x000A</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1260">0x000A</span></span> <br/> | <span data-ttu-id="cbcd2-1261">目標之區段位移的位12:23，如需新增/新增 (立即) 零班的指示。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1261">Bit 12:23 of section offset of the target, for instructions ADD/ADDS (immediate) with zero shift.</span></span> <br/>                                                 |
| <span data-ttu-id="cbcd2-1262">影像 \_ REL \_ ARM64 \_ SECREL \_ LOW12L</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1262">IMAGE\_REL\_ARM64\_SECREL\_LOW12L</span></span> <br/>  | <span data-ttu-id="cbcd2-1263">0x000B</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1263">0x000B</span></span> <br/> | <span data-ttu-id="cbcd2-1264">目標之區段位移的位0:11，適用于指令 LDR (索引、不帶正負號的立即) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1264">Bit 0:11 of section offset of the target, for instruction LDR (indexed, unsigned immediate).</span></span> <br/>                                                      |
| <span data-ttu-id="cbcd2-1265">影像 \_ REL \_ ARM64 \_ TOKEN</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1265">IMAGE\_REL\_ARM64\_TOKEN</span></span> <br/>           | <span data-ttu-id="cbcd2-1266">0x000C</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1266">0x000C</span></span> <br/> | <span data-ttu-id="cbcd2-1267">CLR token。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1267">CLR token.</span></span> <br/>                                                                                                                                        |
| <span data-ttu-id="cbcd2-1268">影像 \_ REL \_ ARM64 \_ 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1268">IMAGE\_REL\_ARM64\_SECTION</span></span> <br/>         | <span data-ttu-id="cbcd2-1269">0x000D</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1269">0x000D</span></span> <br/> | <span data-ttu-id="cbcd2-1270">包含目標之區段的16位區段索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1270">The 16-bit section index of the section that contains the target.</span></span> <span data-ttu-id="cbcd2-1271">這是用來支援偵錯工具資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1271">This is used to support debugging information.</span></span> <br/>                                  |
| <span data-ttu-id="cbcd2-1272">影像 \_ REL \_ ARM64 \_ ADDR64</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1272">IMAGE\_REL\_ARM64\_ADDR64</span></span> <br/>          | <span data-ttu-id="cbcd2-1273">0x000E</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1273">0x000E</span></span> <br/> | <span data-ttu-id="cbcd2-1274">重新配置目標的64位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1274">The 64-bit VA of the relocation target.</span></span> <br/>                                                                                                           |
| <span data-ttu-id="cbcd2-1275">影像 \_ REL \_ ARM64 \_ BRANCH19</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1275">IMAGE\_REL\_ARM64\_BRANCH19</span></span> <br/>        | <span data-ttu-id="cbcd2-1276">0x000F</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1276">0x000F</span></span> <br/> | <span data-ttu-id="cbcd2-1277">適用于條件 B 指令之重新配置目標的19位位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1277">The 19-bit offset to the relocation target, for conditional B instruction.</span></span> <br/>                                                                        |
| <span data-ttu-id="cbcd2-1278">影像 \_ REL \_ ARM64 \_ BRANCH14</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1278">IMAGE\_REL\_ARM64\_BRANCH14</span></span> <br/>        | <span data-ttu-id="cbcd2-1279">0x0010</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1279">0x0010</span></span> <br/> | <span data-ttu-id="cbcd2-1280">重新配置目標的14位位移，以取得 TBZ 和 TBNZ 的指示。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1280">The 14-bit offset to the relocation target, for instructions TBZ and TBNZ.</span></span> <br/>                                                                        |
| <span data-ttu-id="cbcd2-1281">影像 \_ REL \_ ARM64 \_ REL32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1281">IMAGE\_REL\_ARM64\_REL32</span></span> <br/>           | <span data-ttu-id="cbcd2-1282">0x0011</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1282">0x0011</span></span> <br/> | <span data-ttu-id="cbcd2-1283">重新配置之後的位元組中的32位相對位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1283">The 32-bit relative address from the byte following the relocation.</span></span> <br/>                                                                               |

##### <a name="hitachi-superh-processors"></a><span data-ttu-id="cbcd2-1284">Hitachi SuperH 處理器</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1284">Hitachi SuperH Processors</span></span>

<span data-ttu-id="cbcd2-1285">下列為 SH3 和 SH4 處理器定義的重新配置類型指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1285">The following relocation type indicators are defined for SH3 and SH4 processors.</span></span> <span data-ttu-id="cbcd2-1286">SH5 特定的重新置放會注明為具有下列 SHM (SH 媒體) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1286">SH5-specific relocations are noted as SHM (SH Media).</span></span>



| <span data-ttu-id="cbcd2-1287">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1287">Constant</span></span>                                      | <span data-ttu-id="cbcd2-1288">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1288">Value</span></span>              | <span data-ttu-id="cbcd2-1289">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1289">Description</span></span>                                                                                                                                                                                                                |
|-----------------------------------------------|--------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1290">影像 \_ REL \_ SH3 \_ 絕對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1290">IMAGE\_REL\_SH3\_ABSOLUTE</span></span> <br/>         | <span data-ttu-id="cbcd2-1291">0x0000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1291">0x0000</span></span> <br/> | <span data-ttu-id="cbcd2-1292">重新配置會被忽略。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1292">The relocation is ignored.</span></span> <br/>                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-1293">影像 \_ REL \_ SH3 \_ DIRECT16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1293">IMAGE\_REL\_SH3\_DIRECT16</span></span> <br/>         | <span data-ttu-id="cbcd2-1294">0x0001</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1294">0x0001</span></span> <br/> | <span data-ttu-id="cbcd2-1295">16位位置的參考，其中包含目標符號的 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1295">A reference to the 16-bit location that contains the VA of the target symbol.</span></span> <br/>                                                                                                                                  |
| <span data-ttu-id="cbcd2-1296">影像 \_ REL \_ SH3 \_ DIRECT32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1296">IMAGE\_REL\_SH3\_DIRECT32</span></span> <br/>         | <span data-ttu-id="cbcd2-1297">0x0002</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1297">0x0002</span></span> <br/> | <span data-ttu-id="cbcd2-1298">目標符號的32位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1298">The 32-bit VA of the target symbol.</span></span> <br/>                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-1299">影像 \_ REL \_ SH3 \_ DIRECT8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1299">IMAGE\_REL\_SH3\_DIRECT8</span></span> <br/>          | <span data-ttu-id="cbcd2-1300">0x0003</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1300">0x0003</span></span> <br/> | <span data-ttu-id="cbcd2-1301">8位位置的參考，其中包含目標符號的 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1301">A reference to the 8-bit location that contains the VA of the target symbol.</span></span> <br/>                                                                                                                                   |
| <span data-ttu-id="cbcd2-1302">影像 \_ REL \_ SH3 \_ DIRECT8 \_ WORD</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1302">IMAGE\_REL\_SH3\_DIRECT8\_WORD</span></span> <br/>    | <span data-ttu-id="cbcd2-1303">0x0004</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1303">0x0004</span></span> <br/> | <span data-ttu-id="cbcd2-1304">8位指令的參考，其中包含目標符號的有效16位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1304">A reference to the 8-bit instruction that contains the effective 16-bit VA of the target symbol.</span></span> <br/>                                                                                                               |
| <span data-ttu-id="cbcd2-1305">影像 \_ REL \_ SH3 \_ DIRECT8 \_ LONG</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1305">IMAGE\_REL\_SH3\_DIRECT8\_LONG</span></span> <br/>    | <span data-ttu-id="cbcd2-1306">0x0005</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1306">0x0005</span></span> <br/> | <span data-ttu-id="cbcd2-1307">8位指令的參考，其中包含目標符號的有效32位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1307">A reference to the 8-bit instruction that contains the effective 32-bit VA of the target symbol.</span></span> <br/>                                                                                                               |
| <span data-ttu-id="cbcd2-1308">影像 \_ REL \_ SH3 \_ DIRECT4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1308">IMAGE\_REL\_SH3\_DIRECT4</span></span> <br/>          | <span data-ttu-id="cbcd2-1309">0x0006</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1309">0x0006</span></span> <br/> | <span data-ttu-id="cbcd2-1310">8位位置的參考，其低4位包含目標符號的 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1310">A reference to the 8-bit location whose low 4 bits contain the VA of the target symbol.</span></span> <br/>                                                                                                                        |
| <span data-ttu-id="cbcd2-1311">影像 \_ REL \_ SH3 \_ DIRECT4 \_ WORD</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1311">IMAGE\_REL\_SH3\_DIRECT4\_WORD</span></span> <br/>    | <span data-ttu-id="cbcd2-1312">0x0007</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1312">0x0007</span></span> <br/> | <span data-ttu-id="cbcd2-1313">8位指令的參考，其低4位包含目標符號的有效16位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1313">A reference to the 8-bit instruction whose low 4 bits contain the effective 16-bit VA of the target symbol.</span></span> <br/>                                                                                                    |
| <span data-ttu-id="cbcd2-1314">影像 \_ REL \_ SH3 \_ DIRECT4 \_ LONG</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1314">IMAGE\_REL\_SH3\_DIRECT4\_LONG</span></span> <br/>    | <span data-ttu-id="cbcd2-1315">0x0008</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1315">0x0008</span></span> <br/> | <span data-ttu-id="cbcd2-1316">8位指令的參考，其低4位包含目標符號的有效32位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1316">A reference to the 8-bit instruction whose low 4 bits contain the effective 32-bit VA of the target symbol.</span></span> <br/>                                                                                                    |
| <span data-ttu-id="cbcd2-1317">影像 \_ REL \_ SH3 \_ PCREL8 \_ WORD</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1317">IMAGE\_REL\_SH3\_PCREL8\_WORD</span></span> <br/>     | <span data-ttu-id="cbcd2-1318">0x0009</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1318">0x0009</span></span> <br/> | <span data-ttu-id="cbcd2-1319">8位指令的參考，其中包含目標符號的有效16位相對位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1319">A reference to the 8-bit instruction that contains the effective 16-bit relative offset of the target symbol.</span></span> <br/>                                                                                                  |
| <span data-ttu-id="cbcd2-1320">影像 \_ REL \_ SH3 \_ PCREL8 \_ LONG</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1320">IMAGE\_REL\_SH3\_PCREL8\_LONG</span></span> <br/>     | <span data-ttu-id="cbcd2-1321">0x000A</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1321">0x000A</span></span> <br/> | <span data-ttu-id="cbcd2-1322">8位指令的參考，其中包含目標符號的有效32位相對位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1322">A reference to the 8-bit instruction that contains the effective 32-bit relative offset of the target symbol.</span></span> <br/>                                                                                                  |
| <span data-ttu-id="cbcd2-1323">影像 \_ REL \_ SH3 \_ PCREL12 \_ WORD</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1323">IMAGE\_REL\_SH3\_PCREL12\_WORD</span></span> <br/>    | <span data-ttu-id="cbcd2-1324">0x000B</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1324">0x000B</span></span> <br/> | <span data-ttu-id="cbcd2-1325">16位指令的參考，其低12位包含目標符號的有效16位相對位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1325">A reference to the 16-bit instruction whose low 12 bits contain the effective 16-bit relative offset of the target symbol.</span></span> <br/>                                                                                     |
| <span data-ttu-id="cbcd2-1326">影像 \_ REL \_ SH3 \_ STARTOF \_ 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1326">IMAGE\_REL\_SH3\_STARTOF\_SECTION</span></span> <br/> | <span data-ttu-id="cbcd2-1327">0x000C</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1327">0x000C</span></span> <br/> | <span data-ttu-id="cbcd2-1328">32位位置的參考，這是包含目標符號之區段的 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1328">A reference to a 32-bit location that is the VA of the section that contains the target symbol.</span></span> <br/>                                                                                                                |
| <span data-ttu-id="cbcd2-1329">影像 \_ REL \_ SH3 \_ SIZEOF \_ 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1329">IMAGE\_REL\_SH3\_SIZEOF\_SECTION</span></span> <br/>  | <span data-ttu-id="cbcd2-1330">0x000D</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1330">0x000D</span></span> <br/> | <span data-ttu-id="cbcd2-1331">32位位置的參考，這是包含目標符號之區段的大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1331">A reference to the 32-bit location that is the size of the section that contains the target symbol.</span></span> <br/>                                                                                                            |
| <span data-ttu-id="cbcd2-1332">影像 \_ REL \_ SH3 \_ 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1332">IMAGE\_REL\_SH3\_SECTION</span></span> <br/>          | <span data-ttu-id="cbcd2-1333">0x000E</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1333">0x000E</span></span> <br/> | <span data-ttu-id="cbcd2-1334">包含目標之區段的16位區段索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1334">The 16-bit section index of the section that contains the target.</span></span> <span data-ttu-id="cbcd2-1335">這是用來支援偵錯工具資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1335">This is used to support debugging information.</span></span> <br/>                                                                                               |
| <span data-ttu-id="cbcd2-1336">影像 \_ REL \_ SH3 \_ SECREL</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1336">IMAGE\_REL\_SH3\_SECREL</span></span> <br/>           | <span data-ttu-id="cbcd2-1337">0x000F</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1337">0x000F</span></span> <br/> | <span data-ttu-id="cbcd2-1338">目標在其區段開頭的32位位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1338">The 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="cbcd2-1339">這是用來支援偵錯工具資訊和靜態執行緒區域儲存區。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1339">This is used to support debugging information and static thread local storage.</span></span> <br/>                                                              |
| <span data-ttu-id="cbcd2-1340">影像 \_ REL \_ SH3 \_ DIRECT32 \_ NB</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1340">IMAGE\_REL\_SH3\_DIRECT32\_NB</span></span> <br/>     | <span data-ttu-id="cbcd2-1341">0x0010</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1341">0x0010</span></span> <br/> | <span data-ttu-id="cbcd2-1342">目標符號的32位 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1342">The 32-bit RVA of the target symbol.</span></span> <br/>                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-1343">影像 \_ REL \_ SH3 \_ GPREL4 \_ LONG</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1343">IMAGE\_REL\_SH3\_GPREL4\_LONG</span></span> <br/>     | <span data-ttu-id="cbcd2-1344">0x0011</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1344">0x0011</span></span> <br/> | <span data-ttu-id="cbcd2-1345">GP 相關。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1345">GP relative.</span></span> <br/>                                                                                                                                                                                                   |
| <span data-ttu-id="cbcd2-1346">影像 \_ REL \_ SH3 \_ TOKEN</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1346">IMAGE\_REL\_SH3\_TOKEN</span></span> <br/>            | <span data-ttu-id="cbcd2-1347">0x0012</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1347">0x0012</span></span> <br/> | <span data-ttu-id="cbcd2-1348">CLR token。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1348">CLR token.</span></span> <br/>                                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-1349">影像 \_ REL \_ 具有下列 SHM \_ PCRELPT</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1349">IMAGE\_REL\_SHM\_PCRELPT</span></span> <br/>          | <span data-ttu-id="cbcd2-1350">0x0013</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1350">0x0013</span></span> <br/> | <span data-ttu-id="cbcd2-1351">Longwords 中目前指令的位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1351">The offset from the current instruction in longwords.</span></span> <span data-ttu-id="cbcd2-1352">如果未設定 NOMODE 位，請在 bit 32 插入低位的反向，以選取 PTA 或 PTB。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1352">If the NOMODE bit is not set, insert the inverse of the low bit at bit 32 to select PTA or PTB.</span></span> <br/>                                                          |
| <span data-ttu-id="cbcd2-1353">影像 \_ REL \_ 具有下列 SHM \_ REFLO</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1353">IMAGE\_REL\_SHM\_REFLO</span></span> <br/>            | <span data-ttu-id="cbcd2-1354">0x0014</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1354">0x0014</span></span> <br/> | <span data-ttu-id="cbcd2-1355">32位位址的低16位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1355">The low 16 bits of the 32-bit address.</span></span> <br/>                                                                                                                                                                         |
| <span data-ttu-id="cbcd2-1356">影像 \_ REL \_ 具有下列 SHM \_ REFHALF</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1356">IMAGE\_REL\_SHM\_REFHALF</span></span> <br/>          | <span data-ttu-id="cbcd2-1357">0x0015</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1357">0x0015</span></span> <br/> | <span data-ttu-id="cbcd2-1358">32位位址的高16位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1358">The high 16 bits of the 32-bit address.</span></span> <br/>                                                                                                                                                                        |
| <span data-ttu-id="cbcd2-1359">影像 \_ REL \_ 具有下列 SHM \_ RELLO</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1359">IMAGE\_REL\_SHM\_RELLO</span></span> <br/>            | <span data-ttu-id="cbcd2-1360">0x0016</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1360">0x0016</span></span> <br/> | <span data-ttu-id="cbcd2-1361">相對位址的低16位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1361">The low 16 bits of the relative address.</span></span> <br/>                                                                                                                                                                       |
| <span data-ttu-id="cbcd2-1362">影像 \_ REL \_ 具有下列 SHM \_ RELHALF</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1362">IMAGE\_REL\_SHM\_RELHALF</span></span> <br/>          | <span data-ttu-id="cbcd2-1363">0x0017</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1363">0x0017</span></span> <br/> | <span data-ttu-id="cbcd2-1364">相對位址的高16位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1364">The high 16 bits of the relative address.</span></span> <br/>                                                                                                                                                                      |
| <span data-ttu-id="cbcd2-1365">影像 \_ REL \_ 具有下列 SHM \_ 配對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1365">IMAGE\_REL\_SHM\_PAIR</span></span> <br/>             | <span data-ttu-id="cbcd2-1366">0x0018</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1366">0x0018</span></span> <br/> | <span data-ttu-id="cbcd2-1367">重新配置只有在緊接在 REFHALF、RELHALF 或 RELLO 重新配置之後才有效。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1367">The relocation is valid only when it immediately follows a REFHALF, RELHALF, or RELLO relocation.</span></span> <span data-ttu-id="cbcd2-1368">重新配置的 SymbolTableIndex 欄位包含替代，而不是符號資料表中的索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1368">The SymbolTableIndex field of the relocation contains a displacement and not an index into the symbol table.</span></span> <br/> |
| <span data-ttu-id="cbcd2-1369">影像 \_ REL \_ 具有下列 SHM \_ NOMODE</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1369">IMAGE\_REL\_SHM\_NOMODE</span></span> <br/>           | <span data-ttu-id="cbcd2-1370">0x8000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1370">0x8000</span></span> <br/> | <span data-ttu-id="cbcd2-1371">重新配置會忽略區段模式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1371">The relocation ignores section mode.</span></span> <br/>                                                                                                                                                                           |



 

##### <a name="ibm-powerpc-processors"></a><span data-ttu-id="cbcd2-1372">IBM PowerPC 處理器</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1372">IBM PowerPC Processors</span></span>

<span data-ttu-id="cbcd2-1373">下列為 PowerPC 處理器定義的重新配置類型指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1373">The following relocation type indicators are defined for PowerPC processors.</span></span>



| <span data-ttu-id="cbcd2-1374">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1374">Constant</span></span>                              | <span data-ttu-id="cbcd2-1375">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1375">Value</span></span>              | <span data-ttu-id="cbcd2-1376">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1376">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                         |
|---------------------------------------|--------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1377">影像 \_ REL \_ PPC \_ 絕對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1377">IMAGE\_REL\_PPC\_ABSOLUTE</span></span> <br/> | <span data-ttu-id="cbcd2-1378">0x0000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1378">0x0000</span></span> <br/> | <span data-ttu-id="cbcd2-1379">重新配置會被忽略。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1379">The relocation is ignored.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="cbcd2-1380">影像 \_ REL \_ PPC \_ ADDR64</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1380">IMAGE\_REL\_PPC\_ADDR64</span></span> <br/>   | <span data-ttu-id="cbcd2-1381">0x0001</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1381">0x0001</span></span> <br/> | <span data-ttu-id="cbcd2-1382">目標的64位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1382">The 64-bit VA of the target.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-1383">影像 \_ REL \_ PPC \_ ADDR32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1383">IMAGE\_REL\_PPC\_ADDR32</span></span> <br/>   | <span data-ttu-id="cbcd2-1384">0x0002</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1384">0x0002</span></span> <br/> | <span data-ttu-id="cbcd2-1385">目標的32位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1385">The 32-bit VA of the target.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-1386">影像 \_ REL \_ PPC \_ ADDR24</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1386">IMAGE\_REL\_PPC\_ADDR24</span></span> <br/>   | <span data-ttu-id="cbcd2-1387">0x0003</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1387">0x0003</span></span> <br/> | <span data-ttu-id="cbcd2-1388">目標 VA 的低24位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1388">The low 24 bits of the VA of the target.</span></span> <span data-ttu-id="cbcd2-1389">只有當目標符號是絕對的，且可以將其簽章延伸至其原始值時，這個值才有效。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1389">This is valid only when the target symbol is absolute and can be sign-extended to its original value.</span></span> <br/>                                                                                                                                                                                                                          |
| <span data-ttu-id="cbcd2-1390">影像 \_ REL \_ PPC \_ ADDR16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1390">IMAGE\_REL\_PPC\_ADDR16</span></span> <br/>   | <span data-ttu-id="cbcd2-1391">0x0004</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1391">0x0004</span></span> <br/> | <span data-ttu-id="cbcd2-1392">目標 VA 的低16位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1392">The low 16 bits of the target's VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-1393">影像 \_ REL \_ PPC \_ ADDR14</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1393">IMAGE\_REL\_PPC\_ADDR14</span></span> <br/>   | <span data-ttu-id="cbcd2-1394">0x0005</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1394">0x0005</span></span> <br/> | <span data-ttu-id="cbcd2-1395">目標 VA 的低14位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1395">The low 14 bits of the target's VA.</span></span> <span data-ttu-id="cbcd2-1396">只有當目標符號是絕對的，且可以將其簽章延伸至其原始值時，這個值才有效。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1396">This is valid only when the target symbol is absolute and can be sign-extended to its original value.</span></span> <br/>                                                                                                                                                                                                                               |
| <span data-ttu-id="cbcd2-1397">影像 \_ REL \_ PPC \_ REL24</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1397">IMAGE\_REL\_PPC\_REL24</span></span> <br/>    | <span data-ttu-id="cbcd2-1398">0x0006</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1398">0x0006</span></span> <br/> | <span data-ttu-id="cbcd2-1399">符號位置的24位電腦相對位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1399">A 24-bit PC-relative offset to the symbol's location.</span></span> <br/>                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="cbcd2-1400">影像 \_ REL \_ PPC \_ REL14</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1400">IMAGE\_REL\_PPC\_REL14</span></span> <br/>    | <span data-ttu-id="cbcd2-1401">0x0007</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1401">0x0007</span></span> <br/> | <span data-ttu-id="cbcd2-1402">與符號位置的14位電腦相對位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1402">A 14-bit PC-relative offset to the symbol's location.</span></span> <br/>                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="cbcd2-1403">影像 \_ REL \_ PPC \_ ADDR32NB</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1403">IMAGE\_REL\_PPC\_ADDR32NB</span></span> <br/> | <span data-ttu-id="cbcd2-1404">0x000A</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1404">0x000A</span></span> <br/> | <span data-ttu-id="cbcd2-1405">目標的32位 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1405">The 32-bit RVA of the target.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-1406">影像 \_ REL \_ PPC \_ SECREL</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1406">IMAGE\_REL\_PPC\_SECREL</span></span> <br/>   | <span data-ttu-id="cbcd2-1407">0x000B</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1407">0x000B</span></span> <br/> | <span data-ttu-id="cbcd2-1408">目標在其區段開頭的32位位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1408">The 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="cbcd2-1409">這是用來支援偵錯工具資訊和靜態執行緒區域儲存區。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1409">This is used to support debugging information and static thread local storage.</span></span> <br/>                                                                                                                                                                                                                       |
| <span data-ttu-id="cbcd2-1410">影像 \_ REL \_ PPC \_ 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1410">IMAGE\_REL\_PPC\_SECTION</span></span> <br/>  | <span data-ttu-id="cbcd2-1411">0x000C</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1411">0x000C</span></span> <br/> | <span data-ttu-id="cbcd2-1412">包含目標之區段的16位區段索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1412">The 16-bit section index of the section that contains the target.</span></span> <span data-ttu-id="cbcd2-1413">這是用來支援偵錯工具資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1413">This is used to support debugging information.</span></span> <br/>                                                                                                                                                                                                                                                        |
| <span data-ttu-id="cbcd2-1414">影像 \_ REL \_ PPC \_ SECREL16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1414">IMAGE\_REL\_PPC\_SECREL16</span></span> <br/> | <span data-ttu-id="cbcd2-1415">0x000F</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1415">0x000F</span></span> <br/> | <span data-ttu-id="cbcd2-1416">目標在其區段開頭的16位位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1416">The 16-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="cbcd2-1417">這是用來支援偵錯工具資訊和靜態執行緒區域儲存區。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1417">This is used to support debugging information and static thread local storage.</span></span> <br/>                                                                                                                                                                                                                       |
| <span data-ttu-id="cbcd2-1418">影像 \_ REL \_ PPC \_ REFHI</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1418">IMAGE\_REL\_PPC\_REFHI</span></span> <br/>    | <span data-ttu-id="cbcd2-1419">0x0010</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1419">0x0010</span></span> <br/> | <span data-ttu-id="cbcd2-1420">目標32位 VA 的高16位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1420">The high 16 bits of the target's 32-bit VA.</span></span> <span data-ttu-id="cbcd2-1421">這會用於載入完整位址之雙指令序列中的第一個指令。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1421">This is used for the first instruction in a two-instruction sequence that loads a full address.</span></span> <span data-ttu-id="cbcd2-1422">此重新配置必須緊接在其 SymbolTableIndex 包含帶正負號的16位位移，且該位移會新增至從正在重新放置之位置取得的16位位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1422">This relocation must be immediately followed by a PAIR relocation whose SymbolTableIndex contains a signed 16-bit displacement that is added to the upper 16 bits that was taken from the location that is being relocated.</span></span> <br/> |
| <span data-ttu-id="cbcd2-1423">影像 \_ REL \_ PPC \_ REFLO</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1423">IMAGE\_REL\_PPC\_REFLO</span></span> <br/>    | <span data-ttu-id="cbcd2-1424">0x0011</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1424">0x0011</span></span> <br/> | <span data-ttu-id="cbcd2-1425">目標 VA 的低16位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1425">The low 16 bits of the target's VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-1426">影像 \_ REL \_ PPC \_ 配對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1426">IMAGE\_REL\_PPC\_PAIR</span></span> <br/>     | <span data-ttu-id="cbcd2-1427">0x0012</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1427">0x0012</span></span> <br/> | <span data-ttu-id="cbcd2-1428">只有在緊接在 REFHI 或 SECRELHI 重新配置之後才會生效的重新配置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1428">A relocation that is valid only when it immediately follows a REFHI or SECRELHI relocation.</span></span> <span data-ttu-id="cbcd2-1429">其 SymbolTableIndex 包含替代，而不是符號資料表中的索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1429">Its SymbolTableIndex contains a displacement and not an index into the symbol table.</span></span> <br/>                                                                                                                                                                                        |
| <span data-ttu-id="cbcd2-1430">影像 \_ REL \_ PPC \_ SECRELLO</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1430">IMAGE\_REL\_PPC\_SECRELLO</span></span> <br/> | <span data-ttu-id="cbcd2-1431">0x0013</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1431">0x0013</span></span> <br/> | <span data-ttu-id="cbcd2-1432">目標自其區段開頭的32位位移的低16位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1432">The low 16 bits of the 32-bit offset of the target from the beginning of its section.</span></span> <br/>                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="cbcd2-1433">影像 \_ REL \_ PPC \_ GPREL</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1433">IMAGE\_REL\_PPC\_GPREL</span></span> <br/>    | <span data-ttu-id="cbcd2-1434">0x0015</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1434">0x0015</span></span> <br/> | <span data-ttu-id="cbcd2-1435">目標的16位帶正負號的位移（相對於 GP 登錄）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1435">The 16-bit signed displacement of the target relative to the GP register.</span></span> <br/>                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="cbcd2-1436">影像 \_ REL \_ PPC \_ TOKEN</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1436">IMAGE\_REL\_PPC\_TOKEN</span></span> <br/>    | <span data-ttu-id="cbcd2-1437">0x0016</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1437">0x0016</span></span> <br/> | <span data-ttu-id="cbcd2-1438">CLR token。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1438">The CLR token.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                          |



 

##### <a name="intel-386-processors"></a><span data-ttu-id="cbcd2-1439">Intel 386 處理器</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1439">Intel 386 Processors</span></span>

<span data-ttu-id="cbcd2-1440">下列為 Intel 386 和相容處理器定義的重新配置類型指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1440">The following relocation type indicators are defined for Intel 386 and compatible processors.</span></span>



| <span data-ttu-id="cbcd2-1441">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1441">Constant</span></span>                               | <span data-ttu-id="cbcd2-1442">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1442">Value</span></span>              | <span data-ttu-id="cbcd2-1443">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1443">Description</span></span>                                                                                                                                                   |
|----------------------------------------|--------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1444">影像 \_ REL \_ I386 的 \_ 絕對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1444">IMAGE\_REL\_I386\_ABSOLUTE</span></span> <br/> | <span data-ttu-id="cbcd2-1445">0x0000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1445">0x0000</span></span> <br/> | <span data-ttu-id="cbcd2-1446">重新配置會被忽略。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1446">The relocation is ignored.</span></span> <br/>                                                                                                                        |
| <span data-ttu-id="cbcd2-1447">影像 \_ REL \_ I386 \_ DIR16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1447">IMAGE\_REL\_I386\_DIR16</span></span> <br/>    | <span data-ttu-id="cbcd2-1448">0x0001</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1448">0x0001</span></span> <br/> | <span data-ttu-id="cbcd2-1449">不支援。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1449">Not supported.</span></span> <br/>                                                                                                                                    |
| <span data-ttu-id="cbcd2-1450">影像 \_ REL \_ I386 \_ REL16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1450">IMAGE\_REL\_I386\_REL16</span></span> <br/>    | <span data-ttu-id="cbcd2-1451">0x0002</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1451">0x0002</span></span> <br/> | <span data-ttu-id="cbcd2-1452">不支援。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1452">Not supported.</span></span> <br/>                                                                                                                                    |
| <span data-ttu-id="cbcd2-1453">影像 \_ REL \_ I386 \_ DIR32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1453">IMAGE\_REL\_I386\_DIR32</span></span> <br/>    | <span data-ttu-id="cbcd2-1454">0x0006</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1454">0x0006</span></span> <br/> | <span data-ttu-id="cbcd2-1455">目標的32位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1455">The target's 32-bit VA.</span></span> <br/>                                                                                                                           |
| <span data-ttu-id="cbcd2-1456">影像 \_ REL \_ I386 \_ DIR32NB</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1456">IMAGE\_REL\_I386\_DIR32NB</span></span> <br/>  | <span data-ttu-id="cbcd2-1457">0x0007</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1457">0x0007</span></span> <br/> | <span data-ttu-id="cbcd2-1458">目標的32位 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1458">The target's 32-bit RVA.</span></span> <br/>                                                                                                                          |
| <span data-ttu-id="cbcd2-1459">影像 \_ REL \_ I386 \_ SEG12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1459">IMAGE\_REL\_I386\_SEG12</span></span> <br/>    | <span data-ttu-id="cbcd2-1460">0x0009</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1460">0x0009</span></span> <br/> | <span data-ttu-id="cbcd2-1461">不支援。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1461">Not supported.</span></span> <br/>                                                                                                                                    |
| <span data-ttu-id="cbcd2-1462">影像 \_ REL \_ I386 \_ 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1462">IMAGE\_REL\_I386\_SECTION</span></span> <br/>  | <span data-ttu-id="cbcd2-1463">0x000A</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1463">0x000A</span></span> <br/> | <span data-ttu-id="cbcd2-1464">包含目標之區段的16位區段索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1464">The 16-bit section index of the section that contains the target.</span></span> <span data-ttu-id="cbcd2-1465">這是用來支援偵錯工具資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1465">This is used to support debugging information.</span></span> <br/>                                  |
| <span data-ttu-id="cbcd2-1466">影像 \_ REL \_ I386 \_ SECREL</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1466">IMAGE\_REL\_I386\_SECREL</span></span> <br/>   | <span data-ttu-id="cbcd2-1467">0x000B</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1467">0x000B</span></span> <br/> | <span data-ttu-id="cbcd2-1468">目標在其區段開頭的32位位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1468">The 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="cbcd2-1469">這是用來支援偵錯工具資訊和靜態執行緒區域儲存區。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1469">This is used to support debugging information and static thread local storage.</span></span> <br/> |
| <span data-ttu-id="cbcd2-1470">影像 \_ REL \_ I386 \_ TOKEN</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1470">IMAGE\_REL\_I386\_TOKEN</span></span> <br/>    | <span data-ttu-id="cbcd2-1471">0x000C</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1471">0x000C</span></span> <br/> | <span data-ttu-id="cbcd2-1472">CLR token。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1472">The CLR token.</span></span> <br/>                                                                                                                                    |
| <span data-ttu-id="cbcd2-1473">影像 \_ REL \_ I386 \_ SECREL7</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1473">IMAGE\_REL\_I386\_SECREL7</span></span> <br/>  | <span data-ttu-id="cbcd2-1474">0x000D</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1474">0x000D</span></span> <br/> | <span data-ttu-id="cbcd2-1475">包含目標之區段基底的7位位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1475">A 7-bit offset from the base of the section that contains the target.</span></span> <br/>                                                                             |
| <span data-ttu-id="cbcd2-1476">影像 \_ REL \_ I386 \_ REL32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1476">IMAGE\_REL\_I386\_REL32</span></span> <br/>    | <span data-ttu-id="cbcd2-1477">0x0014</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1477">0x0014</span></span> <br/> | <span data-ttu-id="cbcd2-1478">目標的32位相對位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1478">The 32-bit relative displacement to the target.</span></span> <span data-ttu-id="cbcd2-1479">這支援 x86 相對分支和呼叫指示。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1479">This supports the x86 relative branch and call instructions.</span></span> <br/>                                      |



 

##### <a name="intel-itanium-processor-family-ipf"></a><span data-ttu-id="cbcd2-1480">Intel Itanium 處理器系列產品 (IPF)</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1480">Intel Itanium Processor Family (IPF)</span></span>

<span data-ttu-id="cbcd2-1481">下列為 Intel Itanium 處理器系列和相容處理器定義的重新配置類型指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1481">The following relocation type indicators are defined for the Intel Itanium processor family and compatible processors.</span></span> <span data-ttu-id="cbcd2-1482">請注意，重新置放指示會使用組合的位移和位置號碼來進行重新配置位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1482">Note that relocations on instructions use the bundle's offset and slot number for the relocation offset.</span></span>



| <span data-ttu-id="cbcd2-1483">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1483">Constant</span></span>                                 | <span data-ttu-id="cbcd2-1484">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1484">Value</span></span>              | <span data-ttu-id="cbcd2-1485">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1485">Description</span></span>                                                                                                                                                                                                                                                                                                                                     |
|------------------------------------------|--------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1486">影像 \_ REL \_ IA64 \_ 絕對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1486">IMAGE\_REL\_IA64\_ABSOLUTE</span></span> <br/>   | <span data-ttu-id="cbcd2-1487">0x0000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1487">0x0000</span></span> <br/> | <span data-ttu-id="cbcd2-1488">重新配置會被忽略。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1488">The relocation is ignored.</span></span> <br/>                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="cbcd2-1489">影像 \_ REL \_ IA64 \_ IMM14</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1489">IMAGE\_REL\_IA64\_IMM14</span></span> <br/>      | <span data-ttu-id="cbcd2-1490">0x0001</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1490">0x0001</span></span> <br/> | <span data-ttu-id="cbcd2-1491">指令重新配置後面可以接著加數重新配置，其值會在插入至 IMM14 組合的指定位置之前，先新增至目標位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1491">The instruction relocation can be followed by an ADDEND relocation whose value is added to the target address before it is inserted into the specified slot in the IMM14 bundle.</span></span> <span data-ttu-id="cbcd2-1492">重新配置目標必須是絕對的或必須固定的映射。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1492">The relocation target must be absolute or the image must be fixed.</span></span> <br/>                                                                                 |
| <span data-ttu-id="cbcd2-1493">影像 \_ REL \_ IA64 \_ IMM22</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1493">IMAGE\_REL\_IA64\_IMM22</span></span> <br/>      | <span data-ttu-id="cbcd2-1494">0x0002</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1494">0x0002</span></span> <br/> | <span data-ttu-id="cbcd2-1495">指令重新配置後面可以接著加數重新配置，其值會在插入至 IMM22 組合的指定位置之前，先新增至目標位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1495">The instruction relocation can be followed by an ADDEND relocation whose value is added to the target address before it is inserted into the specified slot in the IMM22 bundle.</span></span> <span data-ttu-id="cbcd2-1496">重新配置目標必須是絕對的或必須固定的映射。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1496">The relocation target must be absolute or the image must be fixed.</span></span> <br/>                                                                                 |
| <span data-ttu-id="cbcd2-1497">影像 \_ REL \_ IA64 \_ IMM64</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1497">IMAGE\_REL\_IA64\_IMM64</span></span> <br/>      | <span data-ttu-id="cbcd2-1498">0x0003</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1498">0x0003</span></span> <br/> | <span data-ttu-id="cbcd2-1499">此重新配置的插槽號碼必須是一個 (1) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1499">The slot number of this relocation must be one (1).</span></span> <span data-ttu-id="cbcd2-1500">重新配置後面可以接著加數重新配置，其值會在儲存于 IMM64 組合的所有三個位置之前，先新增至目標位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1500">The relocation can be followed by an ADDEND relocation whose value is added to the target address before it is stored in all three slots of the IMM64 bundle.</span></span> <br/>                                                                                                                   |
| <span data-ttu-id="cbcd2-1501">影像 \_ REL \_ IA64 \_ DIR32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1501">IMAGE\_REL\_IA64\_DIR32</span></span> <br/>      | <span data-ttu-id="cbcd2-1502">0x0004</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1502">0x0004</span></span> <br/> | <span data-ttu-id="cbcd2-1503">目標的32位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1503">The target's 32-bit VA.</span></span> <span data-ttu-id="cbcd2-1504">只支援/LARGEADDRESSAWARE：沒有映射。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1504">This is supported only for /LARGEADDRESSAWARE:NO images.</span></span> <br/>                                                                                                                                                                                                                                                    |
| <span data-ttu-id="cbcd2-1505">影像 \_ REL \_ IA64 \_ DIR64</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1505">IMAGE\_REL\_IA64\_DIR64</span></span> <br/>      | <span data-ttu-id="cbcd2-1506">0x0005</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1506">0x0005</span></span> <br/> | <span data-ttu-id="cbcd2-1507">目標的64位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1507">The target's 64-bit VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="cbcd2-1508">影像 \_ REL \_ IA64 \_ PCREL21B</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1508">IMAGE\_REL\_IA64\_PCREL21B</span></span> <br/>   | <span data-ttu-id="cbcd2-1509">0x0006</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1509">0x0006</span></span> <br/> | <span data-ttu-id="cbcd2-1510">此指令會以與16位對齊目標的25位相對位移來修正。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1510">The instruction is fixed up with the 25-bit relative displacement to the 16-bit aligned target.</span></span> <span data-ttu-id="cbcd2-1511">位移的低4位為零，且不會儲存。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1511">The low 4 bits of the displacement are zero and are not stored.</span></span> <br/>                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-1512">影像 \_ REL \_ IA64 \_ PCREL21M</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1512">IMAGE\_REL\_IA64\_PCREL21M</span></span> <br/>   | <span data-ttu-id="cbcd2-1513">0x0007</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1513">0x0007</span></span> <br/> | <span data-ttu-id="cbcd2-1514">此指令會以與16位對齊目標的25位相對位移來修正。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1514">The instruction is fixed up with the 25-bit relative displacement to the 16-bit aligned target.</span></span> <span data-ttu-id="cbcd2-1515">不會儲存置換的低4位，也就是零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1515">The low 4 bits of the displacement, which are zero, are not stored.</span></span> <br/>                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-1516">影像 \_ REL \_ IA64 \_ PCREL21F</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1516">IMAGE\_REL\_IA64\_PCREL21F</span></span> <br/>   | <span data-ttu-id="cbcd2-1517">0x0008</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1517">0x0008</span></span> <br/> | <span data-ttu-id="cbcd2-1518">此重新配置位移的 LSBs 必須包含插槽號碼，而其餘的則是組合位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1518">The LSBs of this relocation's offset must contain the slot number whereas the rest is the bundle address.</span></span> <span data-ttu-id="cbcd2-1519">組合會以與16位對齊之目標的25位相對位移來修正。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1519">The bundle is fixed up with the 25-bit relative displacement to the 16-bit aligned target.</span></span> <span data-ttu-id="cbcd2-1520">位移的低4位為零，且不會儲存。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1520">The low 4 bits of the displacement are zero and are not stored.</span></span> <br/>                                                                |
| <span data-ttu-id="cbcd2-1521">影像 \_ REL \_ IA64 \_ GPREL22</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1521">IMAGE\_REL\_IA64\_GPREL22</span></span> <br/>    | <span data-ttu-id="cbcd2-1522">0x0009</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1522">0x0009</span></span> <br/> | <span data-ttu-id="cbcd2-1523">指令重新配置後面可以接著加數重新配置，其值會新增至目標位址，然後是計算並套用至 GPREL22 組合的22位 GP 相對位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1523">The instruction relocation can be followed by an ADDEND relocation whose value is added to the target address and then a 22-bit GP-relative offset that is calculated and applied to the GPREL22 bundle.</span></span> <br/>                                                                                                                            |
| <span data-ttu-id="cbcd2-1524">影像 \_ REL \_ IA64 \_ LTOFF22</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1524">IMAGE\_REL\_IA64\_LTOFF22</span></span> <br/>    | <span data-ttu-id="cbcd2-1525">0x000A</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1525">0x000A</span></span> <br/> | <span data-ttu-id="cbcd2-1526">此指令會透過與目標符號之 literal 資料表專案的22位 GP 相對位移來修正。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1526">The instruction is fixed up with the 22-bit GP-relative offset to the target symbol's literal table entry.</span></span> <span data-ttu-id="cbcd2-1527">連結器會根據此重新配置以及可能遵循的加數重新配置來建立此常值資料表專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1527">The linker creates this literal table entry based on this relocation and the ADDEND relocation that might follow.</span></span> <br/>                                                                                                        |
| <span data-ttu-id="cbcd2-1528">影像 \_ REL \_ IA64 \_ 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1528">IMAGE\_REL\_IA64\_SECTION</span></span> <br/>    | <span data-ttu-id="cbcd2-1529">0x000B</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1529">0x000B</span></span> <br/> | <span data-ttu-id="cbcd2-1530">區段的16位區段索引包含目標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1530">The 16-bit section index of the section contains the target.</span></span> <span data-ttu-id="cbcd2-1531">這是用來支援偵錯工具資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1531">This is used to support debugging information.</span></span> <br/>                                                                                                                                                                                                                         |
| <span data-ttu-id="cbcd2-1532">影像 \_ REL \_ IA64 \_ SECREL22</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1532">IMAGE\_REL\_IA64\_SECREL22</span></span> <br/>   | <span data-ttu-id="cbcd2-1533">0x000C</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1533">0x000C</span></span> <br/> | <span data-ttu-id="cbcd2-1534">此指示會從其區段開頭的目標22位位移開始修正。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1534">The instruction is fixed up with the 22-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="cbcd2-1535">此重新配置可以緊接著加數重新配置，其值欄位包含區段開頭的32位不帶正負號位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1535">This relocation can be followed immediately by an ADDEND relocation, whose Value field contains the 32-bit unsigned offset of the target from the beginning of the section.</span></span> <br/>                                                     |
| <span data-ttu-id="cbcd2-1536">影像 \_ REL \_ IA64 \_ SECREL64I</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1536">IMAGE\_REL\_IA64\_SECREL64I</span></span> <br/>  | <span data-ttu-id="cbcd2-1537">0x000D</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1537">0x000D</span></span> <br/> | <span data-ttu-id="cbcd2-1538">此重新配置的位置號碼必須是一個 (1) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1538">The slot number for this relocation must be one (1).</span></span> <span data-ttu-id="cbcd2-1539">此指令會從其區段的開頭加上目標的64位位移來修正。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1539">The instruction is fixed up with the 64-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="cbcd2-1540">此重新配置可以緊接在加數重新放置，其值欄位包含從區段開頭起算之目標的32位不帶正負號位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1540">This relocation can be followed immediately by an ADDEND relocation whose Value field contains the 32-bit unsigned offset of the target from the beginning of the section.</span></span> <br/> |
| <span data-ttu-id="cbcd2-1541">影像 \_ REL \_ IA64 \_ SECREL32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1541">IMAGE\_REL\_IA64\_SECREL32</span></span> <br/>   | <span data-ttu-id="cbcd2-1542">0x000E</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1542">0x000E</span></span> <br/> | <span data-ttu-id="cbcd2-1543">要從其區段開頭以32位位移來修正的資料位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1543">The address of data to be fixed up with the 32-bit offset of the target from the beginning of its section.</span></span> <br/>                                                                                                                                                                                                                          |
| <span data-ttu-id="cbcd2-1544">影像 \_ REL \_ IA64 \_ DIR32NB</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1544">IMAGE\_REL\_IA64\_DIR32NB</span></span> <br/>    | <span data-ttu-id="cbcd2-1545">0x0010</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1545">0x0010</span></span> <br/> | <span data-ttu-id="cbcd2-1546">目標的32位 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1546">The target's 32-bit RVA.</span></span> <br/>                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-1547">影像 \_ REL \_ IA64 \_ SREL14</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1547">IMAGE\_REL\_IA64\_SREL14</span></span> <br/>     | <span data-ttu-id="cbcd2-1548">0x0011</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1548">0x0011</span></span> <br/> | <span data-ttu-id="cbcd2-1549">這會套用至包含兩個可重設目標之間差異的帶正負號的14位立即。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1549">This is applied to a signed 14-bit immediate that contains the difference between two relocatable targets.</span></span> <span data-ttu-id="cbcd2-1550">這是連結器的宣告式欄位，表示編譯器已經發出此值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1550">This is a declarative field for the linker that indicates that the compiler has already emitted this value.</span></span> <br/>                                                                                                              |
| <span data-ttu-id="cbcd2-1551">影像 \_ REL \_ IA64 \_ SREL22</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1551">IMAGE\_REL\_IA64\_SREL22</span></span> <br/>     | <span data-ttu-id="cbcd2-1552">0x0012</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1552">0x0012</span></span> <br/> | <span data-ttu-id="cbcd2-1553">這會套用至包含兩個可重設目標之間差異的帶正負號22位立即。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1553">This is applied to a signed 22-bit immediate that contains the difference between two relocatable targets.</span></span> <span data-ttu-id="cbcd2-1554">這是連結器的宣告式欄位，表示編譯器已經發出此值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1554">This is a declarative field for the linker that indicates that the compiler has already emitted this value.</span></span> <br/>                                                                                                              |
| <span data-ttu-id="cbcd2-1555">影像 \_ REL \_ IA64 \_ SREL32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1555">IMAGE\_REL\_IA64\_SREL32</span></span> <br/>     | <span data-ttu-id="cbcd2-1556">0x0013</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1556">0x0013</span></span> <br/> | <span data-ttu-id="cbcd2-1557">這會套用至包含兩個可重設值之間差異的帶正負號32位立即。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1557">This is applied to a signed 32-bit immediate that contains the difference between two relocatable values.</span></span> <span data-ttu-id="cbcd2-1558">這是連結器的宣告式欄位，表示編譯器已經發出此值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1558">This is a declarative field for the linker that indicates that the compiler has already emitted this value.</span></span> <br/>                                                                                                               |
| <span data-ttu-id="cbcd2-1559">影像 \_ REL \_ IA64 \_ UREL32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1559">IMAGE\_REL\_IA64\_UREL32</span></span> <br/>     | <span data-ttu-id="cbcd2-1560">0x0014</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1560">0x0014</span></span> <br/> | <span data-ttu-id="cbcd2-1561">這會套用至包含兩個可重設值之間差異的不帶正負號32位立即。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1561">This is applied to an unsigned 32-bit immediate that contains the difference between two relocatable values.</span></span> <span data-ttu-id="cbcd2-1562">這是連結器的宣告式欄位，表示編譯器已經發出此值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1562">This is a declarative field for the linker that indicates that the compiler has already emitted this value.</span></span> <br/>                                                                                                            |
| <span data-ttu-id="cbcd2-1563">影像 \_ REL \_ IA64 \_ PCREL60X</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1563">IMAGE\_REL\_IA64\_PCREL60X</span></span> <br/>   | <span data-ttu-id="cbcd2-1564">0x0015</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1564">0x0015</span></span> <br/> | <span data-ttu-id="cbcd2-1565">60位的電腦相對修復，一律會保持為 MLX 組合的 BRL 指令。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1565">A 60-bit PC-relative fixup that always stays as a BRL instruction of an MLX bundle.</span></span> <br/>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-1566">影像 \_ REL \_ IA64 \_ PCREL60B</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1566">IMAGE\_REL\_IA64\_PCREL60B</span></span> <br/>   | <span data-ttu-id="cbcd2-1567">0x0016</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1567">0x0016</span></span> <br/> | <span data-ttu-id="cbcd2-1568">60位的電腦相對修復。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1568">A 60-bit PC-relative fixup.</span></span> <span data-ttu-id="cbcd2-1569">如果目標置換符合帶正負號的25位欄位，請使用 NOP 將整個組合轉換成 MBB 組合。插槽1中的 B 和25位 BR 指令 (在插槽2中，全部為零且已卸載) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1569">If the target displacement fits in a signed 25-bit field, convert the entire bundle to an MBB bundle with NOP.B in slot 1 and a 25-bit BR instruction (with the 4 lowest bits all zero and dropped) in slot 2.</span></span> <br/>                                                                                          |
| <span data-ttu-id="cbcd2-1570">影像 \_ REL \_ IA64 \_ PCREL60F</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1570">IMAGE\_REL\_IA64\_PCREL60F</span></span> <br/>   | <span data-ttu-id="cbcd2-1571">0x0017</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1571">0x0017</span></span> <br/> | <span data-ttu-id="cbcd2-1572">60位的電腦相對修復。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1572">A 60-bit PC-relative fixup.</span></span> <span data-ttu-id="cbcd2-1573">如果目標置換符合帶正負號的25位欄位，請使用 NOP 將整個組合轉換成 MFB 組合。插槽1中的 F 和25位 (4 個最低位，在插槽2中) BR 指令全部為零和卸載。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1573">If the target displacement fits in a signed 25-bit field, convert the entire bundle to an MFB bundle with NOP.F in slot 1 and a 25-bit (4 lowest bits all zero and dropped) BR instruction in slot 2.</span></span> <br/>                                                                                                   |
| <span data-ttu-id="cbcd2-1574">影像 \_ REL \_ IA64 \_ PCREL60I</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1574">IMAGE\_REL\_IA64\_PCREL60I</span></span> <br/>   | <span data-ttu-id="cbcd2-1575">0x0018</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1575">0x0018</span></span> <br/> | <span data-ttu-id="cbcd2-1576">60位的電腦相對修復。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1576">A 60-bit PC-relative fixup.</span></span> <span data-ttu-id="cbcd2-1577">如果目標置換符合帶正負號的25位欄位，請使用 NOP 將整個組合轉換成 MIB 組合。I 在插槽1和25位 (4 個最低位，且在插槽2中) BR 指令全部零和卸載。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1577">If the target displacement fits in a signed 25-bit field, convert the entire bundle to an MIB bundle with NOP.I in slot 1 and a 25-bit (4 lowest bits all zero and dropped) BR instruction in slot 2.</span></span> <br/>                                                                                                   |
| <span data-ttu-id="cbcd2-1578">影像 \_ REL \_ IA64 \_ PCREL60M</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1578">IMAGE\_REL\_IA64\_PCREL60M</span></span> <br/>   | <span data-ttu-id="cbcd2-1579">0x0019</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1579">0x0019</span></span> <br/> | <span data-ttu-id="cbcd2-1580">60位的電腦相對修復。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1580">A 60-bit PC-relative fixup.</span></span> <span data-ttu-id="cbcd2-1581">如果目標置換符合帶正負號的25位欄位，請使用 NOP 將整個組合轉換成 MMB 組合。插槽1中的 M 和25位 (4 個最低位，在插槽2中) BR 指令全部為零和卸載。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1581">If the target displacement fits in a signed 25-bit field, convert the entire bundle to an MMB bundle with NOP.M in slot 1 and a 25-bit (4 lowest bits all zero and dropped) BR instruction in slot 2.</span></span> <br/>                                                                                                   |
| <span data-ttu-id="cbcd2-1582">影像 \_ REL \_ IA64 \_ IMMGPREL64</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1582">IMAGE\_REL\_IA64\_IMMGPREL64</span></span> <br/> | <span data-ttu-id="cbcd2-1583">0x001a</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1583">0x001a</span></span> <br/> | <span data-ttu-id="cbcd2-1584">64位的 GP 相對修復。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1584">A 64-bit GP-relative fixup.</span></span> <br/>                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="cbcd2-1585">影像 \_ REL \_ IA64 \_ TOKEN</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1585">IMAGE\_REL\_IA64\_TOKEN</span></span> <br/>      | <span data-ttu-id="cbcd2-1586">0x001b</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1586">0x001b</span></span> <br/> | <span data-ttu-id="cbcd2-1587">CLR token。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1587">A CLR token.</span></span> <br/>                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="cbcd2-1588">影像 \_ REL \_ IA64 \_ GPREL32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1588">IMAGE\_REL\_IA64\_GPREL32</span></span> <br/>    | <span data-ttu-id="cbcd2-1589">0x001c</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1589">0x001c</span></span> <br/> | <span data-ttu-id="cbcd2-1590">32位的 GP 相對修復。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1590">A 32-bit GP-relative fixup.</span></span> <br/>                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="cbcd2-1591">影像 \_ REL \_ IA64 \_ 加數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1591">IMAGE\_REL\_IA64\_ADDEND</span></span> <br/>     | <span data-ttu-id="cbcd2-1592">0x001F</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1592">0x001F</span></span> <br/> | <span data-ttu-id="cbcd2-1593">重新配置只有在緊接在下列其中一個重新置放之後才有效： IMM14、IMM22、IMM64、GPREL22、LTOFF22、LTOFF64、SECREL22、SECREL64I 或 SECREL32。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1593">The relocation is valid only when it immediately follows one of the following relocations: IMM14, IMM22, IMM64, GPREL22, LTOFF22, LTOFF64, SECREL22, SECREL64I, or SECREL32.</span></span> <span data-ttu-id="cbcd2-1594">其值包含要套用至組合中之指示的加數，而不是資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1594">Its value contains the addend to apply to instructions within a bundle, not for data.</span></span> <br/>                                                                  |



 

##### <a name="mips-processors"></a><span data-ttu-id="cbcd2-1595">MIPS 處理器</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1595">MIPS Processors</span></span>

<span data-ttu-id="cbcd2-1596">針對 MIPS 處理器定義了下列重新配置類型指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1596">The following relocation type indicators are defined for MIPS processors.</span></span>



| <span data-ttu-id="cbcd2-1597">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1597">Constant</span></span>                                | <span data-ttu-id="cbcd2-1598">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1598">Value</span></span>              | <span data-ttu-id="cbcd2-1599">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1599">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                         |
|-----------------------------------------|--------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1600">影像 \_ REL \_ MIPS \_ 絕對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1600">IMAGE\_REL\_MIPS\_ABSOLUTE</span></span> <br/>  | <span data-ttu-id="cbcd2-1601">0x0000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1601">0x0000</span></span> <br/> | <span data-ttu-id="cbcd2-1602">重新配置會被忽略。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1602">The relocation is ignored.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="cbcd2-1603">影像 \_ REL \_ MIPS \_ REFHALF</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1603">IMAGE\_REL\_MIPS\_REFHALF</span></span> <br/>   | <span data-ttu-id="cbcd2-1604">0x0001</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1604">0x0001</span></span> <br/> | <span data-ttu-id="cbcd2-1605">目標32位 VA 的高16位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1605">The high 16 bits of the target's 32-bit VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="cbcd2-1606">影像 \_ REL \_ MIPS \_ REFWORD</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1606">IMAGE\_REL\_MIPS\_REFWORD</span></span> <br/>   | <span data-ttu-id="cbcd2-1607">0x0002</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1607">0x0002</span></span> <br/> | <span data-ttu-id="cbcd2-1608">目標的32位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1608">The target's 32-bit VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-1609">影像 \_ REL \_ MIPS \_ JMPADDR</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1609">IMAGE\_REL\_MIPS\_JMPADDR</span></span> <br/>   | <span data-ttu-id="cbcd2-1610">0x0003</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1610">0x0003</span></span> <br/> | <span data-ttu-id="cbcd2-1611">目標 VA 的低26位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1611">The low 26 bits of the target's VA.</span></span> <span data-ttu-id="cbcd2-1612">這支援 MIPS J 和 JAL 指令。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1612">This supports the MIPS J and JAL instructions.</span></span> <br/>                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="cbcd2-1613">影像 \_ REL \_ MIPS \_ REFHI</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1613">IMAGE\_REL\_MIPS\_REFHI</span></span> <br/>     | <span data-ttu-id="cbcd2-1614">0x0004</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1614">0x0004</span></span> <br/> | <span data-ttu-id="cbcd2-1615">目標32位 VA 的高16位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1615">The high 16 bits of the target's 32-bit VA.</span></span> <span data-ttu-id="cbcd2-1616">這會用於載入完整位址之雙指令序列中的第一個指令。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1616">This is used for the first instruction in a two-instruction sequence that loads a full address.</span></span> <span data-ttu-id="cbcd2-1617">此重新配置必須緊接在其 SymbolTableIndex 包含帶正負號的16位位移，且該位移會新增至從正在重新放置的位置中取得的16位位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1617">This relocation must be immediately followed by a PAIR relocation whose SymbolTableIndex contains a signed 16-bit displacement that is added to the upper 16 bits that are taken from the location that is being relocated.</span></span> <br/> |
| <span data-ttu-id="cbcd2-1618">影像 \_ REL \_ MIPS \_ REFLO</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1618">IMAGE\_REL\_MIPS\_REFLO</span></span> <br/>     | <span data-ttu-id="cbcd2-1619">0x0005</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1619">0x0005</span></span> <br/> | <span data-ttu-id="cbcd2-1620">目標 VA 的低16位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1620">The low 16 bits of the target's VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-1621">影像 \_ REL \_ MIPS \_ GPREL</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1621">IMAGE\_REL\_MIPS\_GPREL</span></span> <br/>     | <span data-ttu-id="cbcd2-1622">0x0006</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1622">0x0006</span></span> <br/> | <span data-ttu-id="cbcd2-1623">目標的16位帶正負號的位移（相對於 GP 登錄）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1623">A 16-bit signed displacement of the target relative to the GP register.</span></span> <br/>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-1624">影像 \_ REL \_ MIPS \_ 常值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1624">IMAGE\_REL\_MIPS\_LITERAL</span></span> <br/>   | <span data-ttu-id="cbcd2-1625">0x0007</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1625">0x0007</span></span> <br/> | <span data-ttu-id="cbcd2-1626">與影像 \_ REL \_ MIPS GPREL 相同 \_ 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1626">The same as IMAGE\_REL\_MIPS\_GPREL.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="cbcd2-1627">影像 \_ REL \_ MIPS \_ 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1627">IMAGE\_REL\_MIPS\_SECTION</span></span> <br/>   | <span data-ttu-id="cbcd2-1628">0x000A</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1628">0x000A</span></span> <br/> | <span data-ttu-id="cbcd2-1629">區段的16位區段索引包含目標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1629">The 16-bit section index of the section contains the target.</span></span> <span data-ttu-id="cbcd2-1630">這是用來支援偵錯工具資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1630">This is used to support debugging information.</span></span> <br/>                                                                                                                                                                                                                                                             |
| <span data-ttu-id="cbcd2-1631">影像 \_ REL \_ MIPS \_ SECREL</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1631">IMAGE\_REL\_MIPS\_SECREL</span></span> <br/>    | <span data-ttu-id="cbcd2-1632">0x000B</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1632">0x000B</span></span> <br/> | <span data-ttu-id="cbcd2-1633">目標在其區段開頭的32位位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1633">The 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="cbcd2-1634">這是用來支援偵錯工具資訊和靜態執行緒區域儲存區。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1634">This is used to support debugging information and static thread local storage.</span></span> <br/>                                                                                                                                                                                                                       |
| <span data-ttu-id="cbcd2-1635">影像 \_ REL \_ MIPS \_ SECRELLO</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1635">IMAGE\_REL\_MIPS\_SECRELLO</span></span> <br/>  | <span data-ttu-id="cbcd2-1636">0x000C</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1636">0x000C</span></span> <br/> | <span data-ttu-id="cbcd2-1637">目標自其區段開頭的32位位移的低16位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1637">The low 16 bits of the 32-bit offset of the target from the beginning of its section.</span></span> <br/>                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="cbcd2-1638">影像 \_ REL \_ MIPS \_ SECRELHI</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1638">IMAGE\_REL\_MIPS\_SECRELHI</span></span> <br/>  | <span data-ttu-id="cbcd2-1639">0x000D</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1639">0x000D</span></span> <br/> | <span data-ttu-id="cbcd2-1640">目標自其區段開頭的32位位移的高16位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1640">The high 16 bits of the 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="cbcd2-1641">映射 \_ REL MIPS 配對的重新配置 \_ \_ 必須緊接在此之後。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1641">An IMAGE\_REL\_MIPS\_PAIR relocation must immediately follow this one.</span></span> <span data-ttu-id="cbcd2-1642">配對重新配置的 SymbolTableIndex 包含帶正負號的16位位移，該位移會新增至從正在重新放置的位置中取得的上層16位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1642">The SymbolTableIndex of the PAIR relocation contains a signed 16-bit displacement that is added to the upper 16 bits that are taken from the location that is being relocated.</span></span> <br/>                            |
| <span data-ttu-id="cbcd2-1643">影像 \_ REL \_ MIPS \_ JMPADDR16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1643">IMAGE\_REL\_MIPS\_JMPADDR16</span></span> <br/> | <span data-ttu-id="cbcd2-1644">0x0010</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1644">0x0010</span></span> <br/> | <span data-ttu-id="cbcd2-1645">目標 VA 的低26位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1645">The low 26 bits of the target's VA.</span></span> <span data-ttu-id="cbcd2-1646">這支援 MIPS16 JAL 指令。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1646">This supports the MIPS16 JAL instruction.</span></span> <br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-1647">影像 \_ REL \_ MIPS \_ REFWORDNB</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1647">IMAGE\_REL\_MIPS\_REFWORDNB</span></span> <br/> | <span data-ttu-id="cbcd2-1648">0x0022</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1648">0x0022</span></span> <br/> | <span data-ttu-id="cbcd2-1649">目標的32位 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1649">The target's 32-bit RVA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="cbcd2-1650">影像 \_ REL \_ MIPS \_ 配對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1650">IMAGE\_REL\_MIPS\_PAIR</span></span> <br/>      | <span data-ttu-id="cbcd2-1651">0x0025</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1651">0x0025</span></span> <br/> | <span data-ttu-id="cbcd2-1652">重新配置只有在緊接在 REFHI 或 SECRELHI 重新配置之後才有效。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1652">The relocation is valid only when it immediately follows a REFHI or SECRELHI relocation.</span></span> <span data-ttu-id="cbcd2-1653">其 SymbolTableIndex 包含替代，而不是符號資料表中的索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1653">Its SymbolTableIndex contains a displacement and not an index into the symbol table.</span></span> <br/>                                                                                                                                                                                           |



 

##### <a name="mitsubishi-m32r"></a><span data-ttu-id="cbcd2-1654">Mitsubishi M32R</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1654">Mitsubishi M32R</span></span>

<span data-ttu-id="cbcd2-1655">下列為 Mitsubishi M32R 處理器定義的重新配置類型指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1655">The following relocation type indicators are defined for the Mitsubishi M32R processors.</span></span>



| <span data-ttu-id="cbcd2-1656">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1656">Constant</span></span>                               | <span data-ttu-id="cbcd2-1657">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1657">Value</span></span>              | <span data-ttu-id="cbcd2-1658">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1658">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                   |
|----------------------------------------|--------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1659">影像 \_ REL \_ M32R \_ 絕對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1659">IMAGE\_REL\_M32R\_ABSOLUTE</span></span> <br/> | <span data-ttu-id="cbcd2-1660">0x0000</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1660">0x0000</span></span> <br/> | <span data-ttu-id="cbcd2-1661">重新配置會被忽略。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1661">The relocation is ignored.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="cbcd2-1662">影像 \_ REL \_ M32R \_ ADDR32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1662">IMAGE\_REL\_M32R\_ADDR32</span></span> <br/>   | <span data-ttu-id="cbcd2-1663">0x0001</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1663">0x0001</span></span> <br/> | <span data-ttu-id="cbcd2-1664">目標的32位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1664">The target's 32-bit VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-1665">影像 \_ REL \_ M32R \_ ADDR32NB</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1665">IMAGE\_REL\_M32R\_ADDR32NB</span></span> <br/> | <span data-ttu-id="cbcd2-1666">0x0002</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1666">0x0002</span></span> <br/> | <span data-ttu-id="cbcd2-1667">目標的32位 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1667">The target's 32-bit RVA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="cbcd2-1668">影像 \_ REL \_ M32R \_ ADDR24</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1668">IMAGE\_REL\_M32R\_ADDR24</span></span> <br/>   | <span data-ttu-id="cbcd2-1669">0x0003</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1669">0x0003</span></span> <br/> | <span data-ttu-id="cbcd2-1670">目標的24位 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1670">The target's 24-bit VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-1671">影像 \_ REL \_ M32R \_ GPREL16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1671">IMAGE\_REL\_M32R\_GPREL16</span></span> <br/>  | <span data-ttu-id="cbcd2-1672">0x0004</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1672">0x0004</span></span> <br/> | <span data-ttu-id="cbcd2-1673">來自 GP 註冊的目標16位位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1673">The target's 16-bit offset from the GP register.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="cbcd2-1674">影像 \_ REL \_ M32R \_ PCREL24</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1674">IMAGE\_REL\_M32R\_PCREL24</span></span> <br/>  | <span data-ttu-id="cbcd2-1675">0x0005</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1675">0x0005</span></span> <br/> | <span data-ttu-id="cbcd2-1676">程式計數器的目標24位位移 (PC) ，向左移位2位並進行正負號擴充</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1676">The target's 24-bit offset from the program counter (PC), shifted left by 2 bits and sign-extended</span></span> <br/>                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="cbcd2-1677">影像 \_ REL \_ M32R \_ PCREL16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1677">IMAGE\_REL\_M32R\_PCREL16</span></span> <br/>  | <span data-ttu-id="cbcd2-1678">0x0006</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1678">0x0006</span></span> <br/> | <span data-ttu-id="cbcd2-1679">來自電腦的目標16位位移，以2位向左移位並進行簽章延伸</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1679">The target's 16-bit offset from the PC, shifted left by 2 bits and sign-extended</span></span> <br/>                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="cbcd2-1680">影像 \_ REL \_ M32R \_ PCREL8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1680">IMAGE\_REL\_M32R\_PCREL8</span></span> <br/>   | <span data-ttu-id="cbcd2-1681">0x0007</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1681">0x0007</span></span> <br/> | <span data-ttu-id="cbcd2-1682">從電腦算出的目標8位位移，向左移位2位並進行正負號擴充</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1682">The target's 8-bit offset from the PC, shifted left by 2 bits and sign-extended</span></span> <br/>                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="cbcd2-1683">影像 \_ REL \_ M32R \_ REFHALF</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1683">IMAGE\_REL\_M32R\_REFHALF</span></span> <br/>  | <span data-ttu-id="cbcd2-1684">0x0008</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1684">0x0008</span></span> <br/> | <span data-ttu-id="cbcd2-1685">目標 VA 的 16 MSBs。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1685">The 16 MSBs of the target VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-1686">影像 \_ REL \_ M32R \_ REFHI</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1686">IMAGE\_REL\_M32R\_REFHI</span></span> <br/>    | <span data-ttu-id="cbcd2-1687">0x0009</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1687">0x0009</span></span> <br/> | <span data-ttu-id="cbcd2-1688">目標 VA 的 16 MSBs，已針對 LSB 符號延伸進行調整。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1688">The 16 MSBs of the target VA, adjusted for LSB sign extension.</span></span> <span data-ttu-id="cbcd2-1689">這適用于兩個指令序列中的第一個指令，可載入完整的32位位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1689">This is used for the first instruction in a two-instruction sequence that loads a full 32-bit address.</span></span> <span data-ttu-id="cbcd2-1690">此重新配置必須緊接在其 SymbolTableIndex 包含帶正負號的16位位移，且該位移會新增至從正在重新放置的位置中取得的16位位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1690">This relocation must be immediately followed by a PAIR relocation whose SymbolTableIndex contains a signed 16-bit displacement that is added to the upper 16 bits that are taken from the location that is being relocated.</span></span> <br/> |
| <span data-ttu-id="cbcd2-1691">影像 \_ REL \_ M32R \_ REFLO</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1691">IMAGE\_REL\_M32R\_REFLO</span></span> <br/>    | <span data-ttu-id="cbcd2-1692">0x000A</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1692">0x000A</span></span> <br/> | <span data-ttu-id="cbcd2-1693">目標 VA 的 16 LSBs。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1693">The 16 LSBs of the target VA.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-1694">影像 \_ REL \_ M32R \_ 配對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1694">IMAGE\_REL\_M32R\_PAIR</span></span> <br/>     | <span data-ttu-id="cbcd2-1695">0x000B</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1695">0x000B</span></span> <br/> | <span data-ttu-id="cbcd2-1696">重新配置必須遵循 REFHI 重新配置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1696">The relocation must follow the REFHI relocation.</span></span> <span data-ttu-id="cbcd2-1697">其 SymbolTableIndex 包含替代，而不是符號資料表中的索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1697">Its SymbolTableIndex contains a displacement and not an index into the symbol table.</span></span> <br/>                                                                                                                                                                                                                                                             |
| <span data-ttu-id="cbcd2-1698">影像 \_ REL \_ M32R \_ 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1698">IMAGE\_REL\_M32R\_SECTION</span></span> <br/>  | <span data-ttu-id="cbcd2-1699">0x000C</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1699">0x000C</span></span> <br/> | <span data-ttu-id="cbcd2-1700">包含目標之區段的16位區段索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1700">The 16-bit section index of the section that contains the target.</span></span> <span data-ttu-id="cbcd2-1701">這是用來支援偵錯工具資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1701">This is used to support debugging information.</span></span> <br/>                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="cbcd2-1702">影像 \_ REL \_ M32R \_ SECREL</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1702">IMAGE\_REL\_M32R\_SECREL</span></span> <br/>   | <span data-ttu-id="cbcd2-1703">0x000D</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1703">0x000D</span></span> <br/> | <span data-ttu-id="cbcd2-1704">目標在其區段開頭的32位位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1704">The 32-bit offset of the target from the beginning of its section.</span></span> <span data-ttu-id="cbcd2-1705">這是用來支援偵錯工具資訊和靜態執行緒區域儲存區。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1705">This is used to support debugging information and static thread local storage.</span></span> <br/>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-1706">影像 \_ REL \_ M32R \_ TOKEN</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1706">IMAGE\_REL\_M32R\_TOKEN</span></span> <br/>    | <span data-ttu-id="cbcd2-1707">0x000E</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1707">0x000E</span></span> <br/> | <span data-ttu-id="cbcd2-1708">CLR token。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1708">The CLR token.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                    |



 

### <a name="coff-line-numbers-deprecated"></a><span data-ttu-id="cbcd2-1709"> (已淘汰的 COFF 行號) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1709">COFF Line Numbers (Deprecated)</span></span>

<span data-ttu-id="cbcd2-1710">COFF 行號不再產生，未來將不會使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1710">COFF line numbers are no longer produced and, in the future, will not be consumed.</span></span>

<span data-ttu-id="cbcd2-1711">COFF 行號表示原始程式檔中的程式碼和行號之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1711">COFF line numbers indicate the relationship between code and line numbers in source files.</span></span> <span data-ttu-id="cbcd2-1712">適用于 COFF 行號的 Microsoft 格式與標準 COFF 相似，但它已經過擴充，可讓單一區段與多個原始程式檔中的行號產生關聯。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1712">The Microsoft format for COFF line numbers is similar to standard COFF, but it has been extended to allow a single section to relate to line numbers in multiple source files.</span></span>

<span data-ttu-id="cbcd2-1713">COFF 行號是由固定長度記錄的陣列所組成。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1713">COFF line numbers consist of an array of fixed-length records.</span></span> <span data-ttu-id="cbcd2-1714">區段標頭中指定了位置 (檔案位移) 和陣列的大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1714">The location (file offset) and size of the array are specified in the section header.</span></span> <span data-ttu-id="cbcd2-1715">每個行號記錄都是下列格式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1715">Each line-number record is of the following format.</span></span>



| <span data-ttu-id="cbcd2-1716">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1716">Offset</span></span>        | <span data-ttu-id="cbcd2-1717">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1717">Size</span></span>          | <span data-ttu-id="cbcd2-1718">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1718">Field</span></span>                  | <span data-ttu-id="cbcd2-1719">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1719">Description</span></span>                                                                                                                                                 |
|---------------|---------------|------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1720">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1720">0</span></span> <br/> | <span data-ttu-id="cbcd2-1721">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1721">4</span></span> <br/> | <span data-ttu-id="cbcd2-1722">輸入 (\*) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1722">Type (\*)</span></span> <br/>  | <span data-ttu-id="cbcd2-1723">這是兩個欄位的聯集： SymbolTableIndex 和 VirtualAddress。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1723">This is a union of two fields: SymbolTableIndex and VirtualAddress.</span></span> <span data-ttu-id="cbcd2-1724">是否使用 SymbolTableIndex 或 RVA 取決於 Linenumber 的值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1724">Whether SymbolTableIndex or RVA is used depends on the value of Linenumber.</span></span> <br/> |
| <span data-ttu-id="cbcd2-1725">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1725">4</span></span> <br/> | <span data-ttu-id="cbcd2-1726">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1726">2</span></span> <br/> | <span data-ttu-id="cbcd2-1727">Linenumber</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1727">Linenumber</span></span> <br/> | <span data-ttu-id="cbcd2-1728">若為非零值，則此欄位會指定以一為基礎的行號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1728">When nonzero, this field specifies a one-based line number.</span></span> <span data-ttu-id="cbcd2-1729">若為零，則會將類型欄位解釋為函式的符號資料表索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1729">When zero, the Type field is interpreted as a symbol table index for a function.</span></span> <br/>    |



 

<span data-ttu-id="cbcd2-1730">類型欄位是 2 4 位元組欄位的聯集： SymbolTableIndex 和 VirtualAddress。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1730">The Type field is a union of two 4-byte fields: SymbolTableIndex and VirtualAddress.</span></span>



| <span data-ttu-id="cbcd2-1731">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1731">Offset</span></span>        | <span data-ttu-id="cbcd2-1732">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1732">Size</span></span>          | <span data-ttu-id="cbcd2-1733">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1733">Field</span></span>                        | <span data-ttu-id="cbcd2-1734">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1734">Description</span></span>                                                                                                                                                                             |
|---------------|---------------|------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1735">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1735">0</span></span> <br/> | <span data-ttu-id="cbcd2-1736">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1736">4</span></span> <br/> | <span data-ttu-id="cbcd2-1737">SymbolTableIndex</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1737">SymbolTableIndex</span></span> <br/> | <span data-ttu-id="cbcd2-1738">在 Linenumber 為零時使用：函式的符號資料表專案索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1738">Used when Linenumber is zero: index to symbol table entry for a function.</span></span> <span data-ttu-id="cbcd2-1739">這種格式是用來表示一組行號記錄所指的函數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1739">This format is used to indicate the function to which a group of line-number records refers.</span></span> <br/>      |
| <span data-ttu-id="cbcd2-1740">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1740">0</span></span> <br/> | <span data-ttu-id="cbcd2-1741">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1741">4</span></span> <br/> | <span data-ttu-id="cbcd2-1742">VirtualAddress</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1742">VirtualAddress</span></span> <br/>   | <span data-ttu-id="cbcd2-1743">當 Linenumber 為非零時使用：對應至所指定之來源行的可執行程式碼 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1743">Used when Linenumber is non-zero: the RVA of the executable code that corresponds to the source line indicated.</span></span> <span data-ttu-id="cbcd2-1744">在物件檔案中，這包含區段內的 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1744">In an object file, this contains the VA within the section.</span></span> <br/> |



 

<span data-ttu-id="cbcd2-1745">行號記錄可以將 Linenumber 欄位設定為零，並指向符號表中的函式定義，或藉由提供正整數 (行號) 和物件程式碼中的對應位址，以做為標準的行號專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1745">A line-number record can either set the Linenumber field to zero and point to a function definition in the symbol table or it can work as a standard line-number entry by giving a positive integer (line number) and the corresponding address in the object code.</span></span>

<span data-ttu-id="cbcd2-1746">行號專案的群組一律以第一種格式開頭：函式符號的索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1746">A group of line-number entries always begins with the first format: the index of a function symbol.</span></span> <span data-ttu-id="cbcd2-1747">如果這是區段中的第一個行號記錄，則如果已設定區段的 COMDAT 旗標，則它也是函數的 COMDAT 符號名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1747">If this is the first line-number record in the section, then it is also the COMDAT symbol name for the function if the section's COMDAT flag is set.</span></span> <span data-ttu-id="cbcd2-1748">請參閱 [僅 (物件) 的 COMDAT 章節 ](#comdat-sections-object-only)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1748">See [COMDAT Sections (Object Only)](#comdat-sections-object-only).</span></span> <span data-ttu-id="cbcd2-1749">符號表中的函式輔助記錄具有指向此相同行號記錄的 Linenumber 欄位指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1749">The function's auxiliary record in the symbol table has a pointer to the Linenumber field that points to this same line-number record.</span></span>

<span data-ttu-id="cbcd2-1750">識別函式的記錄後面會加上任何數目的行號專案，這些專案會提供實際的行號資訊 (也就是 Linenumber 大於零) 的專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1750">A record that identifies a function is followed by any number of line-number entries that give actual line-number information (that is, entries with Linenumber greater than zero).</span></span> <span data-ttu-id="cbcd2-1751">這些專案是以1為基礎，相對於函式的開頭，並且代表函式中的每個原始程式列（第一行除外）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1751">These entries are one-based, relative to the beginning of the function, and represent every source line in the function except for the first line.</span></span>

<span data-ttu-id="cbcd2-1752">例如，下列範例的第一個行號記錄會指定 ReverseSign 函數 (SymbolTableIndex of ReverseSign and Linenumber 設定為零) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1752">For example, the first line-number record for the following example would specify the ReverseSign function (SymbolTableIndex of ReverseSign and Linenumber set to zero).</span></span> <span data-ttu-id="cbcd2-1753">然後會遵循 Linenumber 值為1、2和3的記錄，對應至原始程式列，如下所示：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1753">Then records with Linenumber values of 1, 2, and 3 would follow, corresponding to source lines as shown:</span></span>


```C++
// some code precedes ReverseSign function
int ReverseSign(int i)
1: {
2:  return -1 * i;
3: }
```



### <a name="coff-symbol-table"></a><span data-ttu-id="cbcd2-1754">COFF 符號表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1754">COFF Symbol Table</span></span>

<span data-ttu-id="cbcd2-1755">此區段中的符號表繼承自傳統 COFF 格式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1755">The symbol table in this section is inherited from the traditional COFF format.</span></span> <span data-ttu-id="cbcd2-1756">這與 Microsoft Visual C++ 的 debug 資訊不同。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1756">It is distinct from Microsoft Visual C++ debug information.</span></span> <span data-ttu-id="cbcd2-1757">檔案可以同時包含 COFF 符號表和 Visual C++ 的 debug 資訊，而這兩個檔案會各自分開。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1757">A file can contain both a COFF symbol table and Visual C++ debug information, and the two are kept separate.</span></span> <span data-ttu-id="cbcd2-1758">某些 Microsoft 工具會使用符號表進行有限但重要的用途，例如將 COMDAT 資訊傳達給連結器。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1758">Some Microsoft tools use the symbol table for limited but important purposes, such as communicating COMDAT information to the linker.</span></span> <span data-ttu-id="cbcd2-1759">區段名稱和檔案名，以及程式碼和資料符號，都會列在符號表中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1759">Section names and file names, as well as code and data symbols, are listed in the symbol table.</span></span>

<span data-ttu-id="cbcd2-1760">符號表的位置會以 COFF 標頭表示。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1760">The location of the symbol table is indicated in the COFF header.</span></span>

<span data-ttu-id="cbcd2-1761">符號表是一組記錄，每18個位元組長度。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1761">The symbol table is an array of records, each 18 bytes long.</span></span> <span data-ttu-id="cbcd2-1762">每一筆記錄都是標準或輔助的符號資料表記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1762">Each record is either a standard or auxiliary symbol-table record.</span></span> <span data-ttu-id="cbcd2-1763">標準記錄定義了符號或名稱，且具有下列格式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1763">A standard record defines a symbol or name and has the following format.</span></span>



| <span data-ttu-id="cbcd2-1764">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1764">Offset</span></span>         | <span data-ttu-id="cbcd2-1765">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1765">Size</span></span>          | <span data-ttu-id="cbcd2-1766">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1766">Field</span></span>                          | <span data-ttu-id="cbcd2-1767">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1767">Description</span></span>                                                                                                                                                                                                                                 |
|----------------|---------------|--------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1768">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1768">0</span></span> <br/>  | <span data-ttu-id="cbcd2-1769">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1769">8</span></span> <br/> | <span data-ttu-id="cbcd2-1770">名稱 (\*) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1770">Name (\*)</span></span> <br/>          | <span data-ttu-id="cbcd2-1771">符號的名稱，以三個結構的聯集表示。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1771">The name of the symbol, represented by a union of three structures.</span></span> <span data-ttu-id="cbcd2-1772">如果名稱的長度不超過8個位元組，則會使用8個位元組的陣列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1772">An array of 8 bytes is used if the name is not more than 8 bytes long.</span></span> <span data-ttu-id="cbcd2-1773">如需詳細資訊，請參閱 [符號名稱表示](https://www.bing.com/search?q=Symbol+Name+Representation)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1773">For more information, see [Symbol Name Representation](https://www.bing.com/search?q=Symbol+Name+Representation).</span></span> <br/> |
| <span data-ttu-id="cbcd2-1774">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1774">8</span></span> <br/>  | <span data-ttu-id="cbcd2-1775">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1775">4</span></span> <br/> | <span data-ttu-id="cbcd2-1776">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1776">Value</span></span> <br/>              | <span data-ttu-id="cbcd2-1777">與符號相關聯的值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1777">The value that is associated with the symbol.</span></span> <span data-ttu-id="cbcd2-1778">此欄位的解讀取決於 SectionNumber 和 StorageClass。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1778">The interpretation of this field depends on SectionNumber and StorageClass.</span></span> <span data-ttu-id="cbcd2-1779">典型的意義是可重定位的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1779">A typical meaning is the relocatable address.</span></span> <br/>                                                         |
| <span data-ttu-id="cbcd2-1780">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1780">12</span></span> <br/> | <span data-ttu-id="cbcd2-1781">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1781">2</span></span> <br/> | <span data-ttu-id="cbcd2-1782">SectionNumber</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1782">SectionNumber</span></span> <br/>      | <span data-ttu-id="cbcd2-1783">用來識別區段的帶正負號整數，在區段資料表中使用以一為基礎的索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1783">The signed integer that identifies the section, using a one-based index into the section table.</span></span> <span data-ttu-id="cbcd2-1784">某些值具有特殊意義，如「區段編號值」一節中所定義。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1784">Some values have special meaning, as defined in section 5.4.2, "Section Number Values."</span></span> <br/>                                         |
| <span data-ttu-id="cbcd2-1785">14</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1785">14</span></span> <br/> | <span data-ttu-id="cbcd2-1786">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1786">2</span></span> <br/> | <span data-ttu-id="cbcd2-1787">類型</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1787">Type</span></span> <br/>               | <span data-ttu-id="cbcd2-1788">表示類型的數位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1788">A number that represents type.</span></span> <span data-ttu-id="cbcd2-1789">Microsoft 工具會將此欄位設定為 0x20 (函式) 或 0x0 (不是函數) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1789">Microsoft tools set this field to 0x20 (function) or 0x0 (not a function).</span></span> <span data-ttu-id="cbcd2-1790">如需詳細資訊，請參閱 [類型表示](#type-representation)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1790">For more information, see [Type Representation](#type-representation).</span></span> <br/>                                                |
| <span data-ttu-id="cbcd2-1791">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1791">16</span></span> <br/> | <span data-ttu-id="cbcd2-1792">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1792">1</span></span> <br/> | <span data-ttu-id="cbcd2-1793">StorageClass</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1793">StorageClass</span></span> <br/>       | <span data-ttu-id="cbcd2-1794">表示儲存類別的列舉值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1794">An enumerated value that represents storage class.</span></span> <span data-ttu-id="cbcd2-1795">如需詳細資訊，請參閱 [儲存類別](#storage-class)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1795">For more information, see [Storage Class](#storage-class).</span></span> <br/>                                                                                                                   |
| <span data-ttu-id="cbcd2-1796">17</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1796">17</span></span> <br/> | <span data-ttu-id="cbcd2-1797">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1797">1</span></span> <br/> | <span data-ttu-id="cbcd2-1798">NumberOfAuxSymbols</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1798">NumberOfAuxSymbols</span></span> <br/> | <span data-ttu-id="cbcd2-1799">遵循此記錄的輔助符號資料表專案數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1799">The number of auxiliary symbol table entries that follow this record.</span></span> <br/>                                                                                                                                                           |



 

<span data-ttu-id="cbcd2-1800">零個或更多的輔助符號-資料表記錄會立即遵循每個標準的符號資料表記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1800">Zero or more auxiliary symbol-table records immediately follow each standard symbol-table record.</span></span> <span data-ttu-id="cbcd2-1801">不過，通常不會有一個以上的輔助符號-資料表記錄會遵循標準的符號資料表記錄 (但) 具有長檔名的檔案記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1801">However, typically not more than one auxiliary symbol-table record follows a standard symbol-table record (except for .file records with long file names).</span></span> <span data-ttu-id="cbcd2-1802">每個輔助記錄的大小與標準符號資料表記錄相同， (18 個位元組) ，而不是定義新的符號，輔助記錄會提供最後定義之符號的其他資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1802">Each auxiliary record is the same size as a standard symbol-table record (18 bytes), but rather than define a new symbol, the auxiliary record gives additional information on the last symbol defined.</span></span> <span data-ttu-id="cbcd2-1803">您可以選擇要使用數種格式的選項，取決於 StorageClass 欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1803">The choice of which of several formats to use depends on the StorageClass field.</span></span> <span data-ttu-id="cbcd2-1804">輔助符號表記錄的目前定義格式會顯示于5.5 的「輔助符號記錄」一節中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1804">Currently-defined formats for auxiliary symbol table records are shown in section 5.5, "Auxiliary Symbol Records."</span></span>

<span data-ttu-id="cbcd2-1805">讀取 COFF 符號表的工具必須忽略其轉譯不明的輔助符號記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1805">Tools that read COFF symbol tables must ignore auxiliary symbol records whose interpretation is unknown.</span></span> <span data-ttu-id="cbcd2-1806">這可讓您擴充符號表格式來加入新的輔助記錄，而不會中斷現有的工具。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1806">This allows the symbol table format to be extended to add new auxiliary records, without breaking existing tools.</span></span>

#### <a name="symbol-name-representation"></a><span data-ttu-id="cbcd2-1807">符號名稱標記法</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1807">Symbol Name Representation</span></span>

<span data-ttu-id="cbcd2-1808">符號表中的 ShortName 欄位包含8個位元組，其中包含名稱本身，如果長度不超過8個位元組，或 ShortName 欄位在字串資料表中提供位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1808">The ShortName field in a symbol table consists of 8 bytes that contain the name itself, if it is not more than 8 bytes long, or the ShortName field gives an offset into the string table.</span></span> <span data-ttu-id="cbcd2-1809">若要判斷是否已指定名稱本身或位移，請測試前4個位元組是否等於零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1809">To determine whether the name itself or an offset is given, test the first 4 bytes for equality to zero.</span></span>

<span data-ttu-id="cbcd2-1810">依照慣例，名稱會被視為以零結束的 UTF-8 編碼字串。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1810">By convention, the names are treated as zero-terminated UTF-8 encoded strings.</span></span>



| <span data-ttu-id="cbcd2-1811">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1811">Offset</span></span>        | <span data-ttu-id="cbcd2-1812">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1812">Size</span></span>          | <span data-ttu-id="cbcd2-1813">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1813">Field</span></span>                 | <span data-ttu-id="cbcd2-1814">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1814">Description</span></span>                                                                                                          |
|---------------|---------------|-----------------------|----------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1815">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1815">0</span></span> <br/> | <span data-ttu-id="cbcd2-1816">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1816">8</span></span> <br/> | <span data-ttu-id="cbcd2-1817">ShortName</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1817">ShortName</span></span> <br/> | <span data-ttu-id="cbcd2-1818">8個位元組的陣列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1818">An array of 8 bytes.</span></span> <span data-ttu-id="cbcd2-1819">如果名稱的長度少於8個位元組，則會在右邊以 null 填補此陣列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1819">This array is padded with nulls on the right if the name is less than 8 bytes long.</span></span> <br/> |
| <span data-ttu-id="cbcd2-1820">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1820">0</span></span> <br/> | <span data-ttu-id="cbcd2-1821">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1821">4</span></span> <br/> | <span data-ttu-id="cbcd2-1822">零</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1822">Zeroes</span></span> <br/>    | <span data-ttu-id="cbcd2-1823">如果名稱長度超過8個位元組，則設定為全部為零的欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1823">A field that is set to all zeros if the name is longer than 8 bytes.</span></span> <br/>                                     |
| <span data-ttu-id="cbcd2-1824">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1824">4</span></span> <br/> | <span data-ttu-id="cbcd2-1825">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1825">4</span></span> <br/> | <span data-ttu-id="cbcd2-1826">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1826">Offset</span></span> <br/>    | <span data-ttu-id="cbcd2-1827">字串資料表中的位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1827">An offset into the string table.</span></span> <br/>                                                                         |



 

#### <a name="section-number-values"></a><span data-ttu-id="cbcd2-1828">區段編號值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1828">Section Number Values</span></span>

<span data-ttu-id="cbcd2-1829">一般來說，符號表專案中的 [區段值] 欄位是區段資料表中以單一為基礎的索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1829">Normally, the Section Value field in a symbol table entry is a one-based index into the section table.</span></span> <span data-ttu-id="cbcd2-1830">不過，此欄位是帶正負號的整數，可採用負數值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1830">However, this field is a signed integer and can take negative values.</span></span> <span data-ttu-id="cbcd2-1831">下列值（小於1）具有特殊意義。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1831">The following values, less than one, have special meanings.</span></span>



| <span data-ttu-id="cbcd2-1832">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1832">Constant</span></span>                          | <span data-ttu-id="cbcd2-1833">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1833">Value</span></span>          | <span data-ttu-id="cbcd2-1834">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1834">Description</span></span>                                                                                                                                                                                                                            |
|-----------------------------------|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1835">\_ \_ 未定義影像 SYM</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1835">IMAGE\_SYM\_UNDEFINED</span></span> <br/> | <span data-ttu-id="cbcd2-1836">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1836">0</span></span> <br/>  | <span data-ttu-id="cbcd2-1837">尚未指派區段給符號記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1837">The symbol record is not yet assigned a section.</span></span> <span data-ttu-id="cbcd2-1838">值為零表示外部符號的參考是在其他地方定義。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1838">A value of zero indicates that a reference to an external symbol is defined elsewhere.</span></span> <span data-ttu-id="cbcd2-1839">非零值是具有值所指定之大小的一般符號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1839">A value of non-zero is a common symbol with a size that is specified by the value.</span></span> <br/> |
| <span data-ttu-id="cbcd2-1840">影像 \_ SYM \_ 絕對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1840">IMAGE\_SYM\_ABSOLUTE</span></span> <br/>  | <span data-ttu-id="cbcd2-1841">-1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1841">-1</span></span> <br/> | <span data-ttu-id="cbcd2-1842">符號具有絕對 (不可標記的) 值，而且不是位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1842">The symbol has an absolute (non-relocatable) value and is not an address.</span></span> <br/>                                                                                                                                                  |
| <span data-ttu-id="cbcd2-1843">影像 \_ SYM \_ DEBUG</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1843">IMAGE\_SYM\_DEBUG</span></span> <br/>     | <span data-ttu-id="cbcd2-1844">-2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1844">-2</span></span> <br/> | <span data-ttu-id="cbcd2-1845">符號會提供一般類型或調試資訊，但不會對應至區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1845">The symbol provides general type or debugging information but does not correspond to a section.</span></span> <span data-ttu-id="cbcd2-1846">Microsoft 工具會使用此設定以及檔案記錄 (儲存類別檔案) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1846">Microsoft tools use this setting along with .file records (storage class FILE).</span></span> <br/>                                            |



 

#### <a name="type-representation"></a><span data-ttu-id="cbcd2-1847">類型標記法</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1847">Type Representation</span></span>

<span data-ttu-id="cbcd2-1848">符號表專案的 [類型] 欄位包含2個位元組，其中每個位元組都代表類型資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1848">The Type field of a symbol table entry contains 2 bytes, where each byte represents type information.</span></span> <span data-ttu-id="cbcd2-1849">LSB 代表簡單的 (基底) 資料類型，而 MSB 代表複雜型別（如果有的話）：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1849">The LSB represents the simple (base) data type, and the MSB represents the complex type, if any:</span></span>



| <span data-ttu-id="cbcd2-1850">MSB</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1850">MSB</span></span>                                                       | <span data-ttu-id="cbcd2-1851">Lsb</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1851">LSB</span></span>                                                        |
|-----------------------------------------------------------|------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1852">複雜類型：無、指標、函數、陣列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1852">Complex type: none, pointer, function, array.</span></span> <br/> | <span data-ttu-id="cbcd2-1853">基底類型：整數、浮點數等等。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1853">Base type: integer, floating-point, and so on.</span></span> <br/> |



 

<span data-ttu-id="cbcd2-1854">下列值是針對基底類型定義的，雖然 Microsoft 工具通常不會使用此欄位，並將 LSB 設定為0。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1854">The following values are defined for base type, although Microsoft tools generally do not use this field and set the LSB to 0.</span></span> <span data-ttu-id="cbcd2-1855">相反地，Visual C++ 的 debug 資訊用來表示類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1855">Instead, Visual C++ debug information is used to indicate types.</span></span> <span data-ttu-id="cbcd2-1856">不過，在這裡會列出可能的 COFF 值以取得完整性。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1856">However, the possible COFF values are listed here for completeness.</span></span>



| <span data-ttu-id="cbcd2-1857">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1857">Constant</span></span>                             | <span data-ttu-id="cbcd2-1858">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1858">Value</span></span>          | <span data-ttu-id="cbcd2-1859">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1859">Description</span></span>                                                                            |
|--------------------------------------|----------------|----------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1860">影像 \_ SYM \_ 類型 \_ Null</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1860">IMAGE\_SYM\_TYPE\_NULL</span></span> <br/>   | <span data-ttu-id="cbcd2-1861">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1861">0</span></span> <br/>  | <span data-ttu-id="cbcd2-1862">沒有類型資訊或未知的基底類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1862">No type information or unknown base type.</span></span> <span data-ttu-id="cbcd2-1863">Microsoft 工具使用此設定</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1863">Microsoft tools use this setting</span></span> <br/> |
| <span data-ttu-id="cbcd2-1864">影像 \_ SYM \_ 類型 \_ VOID</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1864">IMAGE\_SYM\_TYPE\_VOID</span></span> <br/>   | <span data-ttu-id="cbcd2-1865">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1865">1</span></span> <br/>  | <span data-ttu-id="cbcd2-1866">沒有有效的類型;搭配 void 指標和函式使用</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1866">No valid type; used with void pointers and functions</span></span> <br/>                       |
| <span data-ttu-id="cbcd2-1867">影像 \_ SYM \_ 類型 \_ CHAR</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1867">IMAGE\_SYM\_TYPE\_CHAR</span></span> <br/>   | <span data-ttu-id="cbcd2-1868">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1868">2</span></span> <br/>  | <span data-ttu-id="cbcd2-1869">字元 (帶正負號的位元組) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1869">A character (signed byte)</span></span> <br/>                                                  |
| <span data-ttu-id="cbcd2-1870">影像 \_ SYM \_ 類型 \_ 簡短</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1870">IMAGE\_SYM\_TYPE\_SHORT</span></span> <br/>  | <span data-ttu-id="cbcd2-1871">3</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1871">3</span></span> <br/>  | <span data-ttu-id="cbcd2-1872">2位元組帶正負號的整數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1872">A 2-byte signed integer</span></span> <br/>                                                    |
| <span data-ttu-id="cbcd2-1873">影像 \_ SYM \_ 類型 \_ INT</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1873">IMAGE\_SYM\_TYPE\_INT</span></span> <br/>    | <span data-ttu-id="cbcd2-1874">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1874">4</span></span> <br/>  | <span data-ttu-id="cbcd2-1875">自然整數類型在 Windows 中通常 (4 個位元組) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1875">A natural integer type (normally 4 bytes in Windows)</span></span> <br/>                       |
| <span data-ttu-id="cbcd2-1876">影像 \_ SYM \_ 類型 \_ LONG</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1876">IMAGE\_SYM\_TYPE\_LONG</span></span> <br/>   | <span data-ttu-id="cbcd2-1877">5</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1877">5</span></span> <br/>  | <span data-ttu-id="cbcd2-1878">4位元組帶正負號的整數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1878">A 4-byte signed integer</span></span> <br/>                                                    |
| <span data-ttu-id="cbcd2-1879">影像 \_ SYM \_ 類型 \_ FLOAT</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1879">IMAGE\_SYM\_TYPE\_FLOAT</span></span> <br/>  | <span data-ttu-id="cbcd2-1880">6</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1880">6</span></span> <br/>  | <span data-ttu-id="cbcd2-1881">4位元組浮點數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1881">A 4-byte floating-point number</span></span> <br/>                                             |
| <span data-ttu-id="cbcd2-1882">影像 \_ SYM \_ 類型 \_ DOUBLE</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1882">IMAGE\_SYM\_TYPE\_DOUBLE</span></span> <br/> | <span data-ttu-id="cbcd2-1883">7</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1883">7</span></span> <br/>  | <span data-ttu-id="cbcd2-1884">8位元組浮點數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1884">An 8-byte floating-point number</span></span> <br/>                                            |
| <span data-ttu-id="cbcd2-1885">影像 \_ SYM \_ 類型 \_ 結構</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1885">IMAGE\_SYM\_TYPE\_STRUCT</span></span> <br/> | <span data-ttu-id="cbcd2-1886">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1886">8</span></span> <br/>  | <span data-ttu-id="cbcd2-1887">結構</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1887">A structure</span></span> <br/>                                                                |
| <span data-ttu-id="cbcd2-1888">影像 \_ SYM \_ 類型聯 \_ 集</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1888">IMAGE\_SYM\_TYPE\_UNION</span></span> <br/>  | <span data-ttu-id="cbcd2-1889">9</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1889">9</span></span> <br/>  | <span data-ttu-id="cbcd2-1890">聯集</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1890">A union</span></span> <br/>                                                                    |
| <span data-ttu-id="cbcd2-1891">影像 \_ SYM \_ 類型 \_ 列舉</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1891">IMAGE\_SYM\_TYPE\_ENUM</span></span> <br/>   | <span data-ttu-id="cbcd2-1892">10</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1892">10</span></span> <br/> | <span data-ttu-id="cbcd2-1893">列舉型別</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1893">An enumerated type</span></span> <br/>                                                         |
| <span data-ttu-id="cbcd2-1894">影像 \_ SYM \_ 類型 \_ MOE</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1894">IMAGE\_SYM\_TYPE\_MOE</span></span> <br/>    | <span data-ttu-id="cbcd2-1895">11</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1895">11</span></span> <br/> | <span data-ttu-id="cbcd2-1896">列舉 (特定值的成員) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1896">A member of enumeration (a specific value)</span></span> <br/>                                 |
| <span data-ttu-id="cbcd2-1897">影像 \_ SYM \_ 類型 \_ 位元組</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1897">IMAGE\_SYM\_TYPE\_BYTE</span></span> <br/>   | <span data-ttu-id="cbcd2-1898">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1898">12</span></span> <br/> | <span data-ttu-id="cbcd2-1899">位元組;不帶正負號的1位元組整數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1899">A byte; unsigned 1-byte integer</span></span> <br/>                                            |
| <span data-ttu-id="cbcd2-1900">影像 \_ SYM \_ 類型 \_ 文字</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1900">IMAGE\_SYM\_TYPE\_WORD</span></span> <br/>   | <span data-ttu-id="cbcd2-1901">13</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1901">13</span></span> <br/> | <span data-ttu-id="cbcd2-1902">單字;不帶正負號的2位元組整數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1902">A word; unsigned 2-byte integer</span></span> <br/>                                            |
| <span data-ttu-id="cbcd2-1903">影像 \_ SYM \_ 類型 \_ UINT</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1903">IMAGE\_SYM\_TYPE\_UINT</span></span> <br/>   | <span data-ttu-id="cbcd2-1904">14</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1904">14</span></span> <br/> | <span data-ttu-id="cbcd2-1905">自然大小的不帶正負號的整數 (正常，4個位元組) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1905">An unsigned integer of natural size (normally, 4 bytes)</span></span> <br/>                    |
| <span data-ttu-id="cbcd2-1906">影像 \_ SYM \_ 類型 \_ DWORD</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1906">IMAGE\_SYM\_TYPE\_DWORD</span></span> <br/>  | <span data-ttu-id="cbcd2-1907">15</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1907">15</span></span> <br/> | <span data-ttu-id="cbcd2-1908">不帶正負號的4位元組整數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1908">An unsigned 4-byte integer</span></span> <br/>                                                 |



 

<span data-ttu-id="cbcd2-1909">最重要的位元組會指定符號為指標、函式傳回，或 LSB 中所指定基底類型的陣列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1909">The most significant byte specifies whether the symbol is a pointer to, function returning, or array of the base type that is specified in the LSB.</span></span> <span data-ttu-id="cbcd2-1910">Microsoft 工具只會使用此欄位來指出符號是否為函式，因此只有兩個結果值為0x0 和0x20 （類型欄位）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1910">Microsoft tools use this field only to indicate whether the symbol is a function, so that the only two resulting values are 0x0 and 0x20 for the Type field.</span></span> <span data-ttu-id="cbcd2-1911">不過，其他工具可以使用此欄位來傳達更多資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1911">However, other tools can use this field to communicate more information.</span></span>

<span data-ttu-id="cbcd2-1912">請務必正確地指定函數屬性。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1912">It is very important to specify the function attribute correctly.</span></span> <span data-ttu-id="cbcd2-1913">需要這項資訊才能讓增量連結正常運作。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1913">This information is required for incremental linking to work correctly.</span></span> <span data-ttu-id="cbcd2-1914">針對某些架構，可能需要此資訊才能進行其他用途。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1914">For some architectures, the information may be required for other purposes.</span></span>



| <span data-ttu-id="cbcd2-1915">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1915">Constant</span></span>                                | <span data-ttu-id="cbcd2-1916">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1916">Value</span></span>         | <span data-ttu-id="cbcd2-1917">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1917">Description</span></span>                                                          |
|-----------------------------------------|---------------|----------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1918">影像 \_ SYM \_ DTYPE \_ Null</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1918">IMAGE\_SYM\_DTYPE\_NULL</span></span> <br/>     | <span data-ttu-id="cbcd2-1919">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1919">0</span></span> <br/> | <span data-ttu-id="cbcd2-1920">沒有衍生類型;符號是簡單的純量變數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1920">No derived type; the symbol is a simple scalar variable.</span></span> <br/> |
| <span data-ttu-id="cbcd2-1921">影像 \_ SYM \_ DTYPE \_ 指標</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1921">IMAGE\_SYM\_DTYPE\_POINTER</span></span> <br/>  | <span data-ttu-id="cbcd2-1922">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1922">1</span></span> <br/> | <span data-ttu-id="cbcd2-1923">符號是基底類型的指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1923">The symbol is a pointer to base type.</span></span> <br/>                    |
| <span data-ttu-id="cbcd2-1924">IMAGE \_ SYM \_ DTYPE 函式 \_</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1924">IMAGE\_SYM\_DTYPE\_FUNCTION</span></span> <br/> | <span data-ttu-id="cbcd2-1925">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1925">2</span></span> <br/> | <span data-ttu-id="cbcd2-1926">符號是傳回基底類型的函式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1926">The symbol is a function that returns a base type.</span></span> <br/>       |
| <span data-ttu-id="cbcd2-1927">影像 \_ SYM \_ DTYPE \_ 陣列</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1927">IMAGE\_SYM\_DTYPE\_ARRAY</span></span> <br/>    | <span data-ttu-id="cbcd2-1928">3</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1928">3</span></span> <br/> | <span data-ttu-id="cbcd2-1929">符號是基底類型的陣列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1929">The symbol is an array of base type.</span></span> <br/>                     |



 

#### <a name="storage-class"></a><span data-ttu-id="cbcd2-1930">儲存類別</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1930">Storage Class</span></span>

<span data-ttu-id="cbcd2-1931">符號表的 StorageClass 欄位表示符號所代表的定義種類。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1931">The StorageClass field of the symbol table indicates what kind of definition a symbol represents.</span></span> <span data-ttu-id="cbcd2-1932">下表顯示可能的值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1932">The following table shows possible values.</span></span> <span data-ttu-id="cbcd2-1933">請注意，StorageClass 欄位是無符號的1位元組整數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1933">Note that the StorageClass field is an unsigned 1-byte integer.</span></span> <span data-ttu-id="cbcd2-1934">因此，必須採取特殊值-1，以表示其不帶正負號的對等專案0xFF。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1934">The special value -1 should therefore be taken to mean its unsigned equivalent, 0xFF.</span></span>

<span data-ttu-id="cbcd2-1935">雖然傳統的 COFF 格式使用許多儲存類別值，但 Microsoft 工具仍依賴大部分的符號資訊 Visual C++ 的偵錯工具格式，而且通常只會使用四個儲存類別值： EXTERNAL (2) 、靜態 (3) 、函式 (101) 和檔案 (103) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1935">Although the traditional COFF format uses many storage-class values, Microsoft tools rely on Visual C++ debug format for most symbolic information and generally use only four storage-class values: EXTERNAL (2), STATIC (3), FUNCTION (101), and FILE (103).</span></span> <span data-ttu-id="cbcd2-1936">除了下面的第二個數據行標題，您應該採用「值」來表示符號記錄的值欄位， (其轉譯取決於找到的儲存類別數目) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1936">Except in the second column heading below, "Value" should be taken to mean the Value field of the symbol record (whose interpretation depends on the number found as the storage class).</span></span>



| <span data-ttu-id="cbcd2-1937">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1937">Constant</span></span>                                          | <span data-ttu-id="cbcd2-1938">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1938">Value</span></span>                 | <span data-ttu-id="cbcd2-1939">值欄位的描述/解釋</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1939">Description/interpretation of the Value field</span></span>                                                                                                                                                                                                                                                                                              |
|---------------------------------------------------|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-1940">影像 \_ SYM \_ 類別 \_ 結束 \_ 函 \_ 式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1940">IMAGE\_SYM\_CLASS\_END\_OF\_FUNCTION</span></span> <br/>  | <span data-ttu-id="cbcd2-1941">-1 (0xFF) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-1941">-1 (0xFF)</span></span> <br/> | <span data-ttu-id="cbcd2-1942">代表函式結尾的特殊符號，用於進行調試。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1942">A special symbol that represents the end of function, for debugging purposes.</span></span> <br/>                                                                                                                                                                                                                                                  |
| <span data-ttu-id="cbcd2-1943">影像 \_ SYM \_ 類別 \_ Null</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1943">IMAGE\_SYM\_CLASS\_NULL</span></span> <br/>               | <span data-ttu-id="cbcd2-1944">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1944">0</span></span> <br/>         | <span data-ttu-id="cbcd2-1945">沒有指派的儲存類別。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1945">No assigned storage class.</span></span> <br/>                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-1946">影像 \_ SYM \_ 類別 \_ 自動</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1946">IMAGE\_SYM\_CLASS\_AUTOMATIC</span></span> <br/>          | <span data-ttu-id="cbcd2-1947">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1947">1</span></span> <br/>         | <span data-ttu-id="cbcd2-1948">自動 (堆疊) 變數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1948">The automatic (stack) variable.</span></span> <span data-ttu-id="cbcd2-1949">值欄位會指定堆疊框架位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1949">The Value field specifies the stack frame offset.</span></span> <br/>                                                                                                                                                                                                                                              |
| <span data-ttu-id="cbcd2-1950">影像 \_ SYM \_ 類別 \_ 外部</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1950">IMAGE\_SYM\_CLASS\_EXTERNAL</span></span> <br/>           | <span data-ttu-id="cbcd2-1951">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1951">2</span></span> <br/>         | <span data-ttu-id="cbcd2-1952">Microsoft 工具用於外部符號的值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1952">A value that Microsoft tools use for external symbols.</span></span> <span data-ttu-id="cbcd2-1953">如果區段編號為 IMAGE \_ SYM \_ UNDEFINED (0) ，則 [值] 欄位會指出大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1953">The Value field indicates the size if the section number is IMAGE\_SYM\_UNDEFINED (0).</span></span> <span data-ttu-id="cbcd2-1954">如果區段編號不是零，則 [值] 欄位會指定區段內的位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1954">If the section number is not zero, then the Value field specifies the offset within the section.</span></span> <br/>                                                                                 |
| <span data-ttu-id="cbcd2-1955">影像 \_ SYM \_ 類別 \_ 靜態</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1955">IMAGE\_SYM\_CLASS\_STATIC</span></span> <br/>             | <span data-ttu-id="cbcd2-1956">3</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1956">3</span></span> <br/>         | <span data-ttu-id="cbcd2-1957">符號在區段內的位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1957">The offset of the symbol within the section.</span></span> <span data-ttu-id="cbcd2-1958">如果 [值] 欄位為零，則符號代表區段名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1958">If the Value field is zero, then the symbol represents a section name.</span></span> <br/>                                                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-1959">影像 \_ SYM \_ 類別 \_ 註冊</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1959">IMAGE\_SYM\_CLASS\_REGISTER</span></span> <br/>           | <span data-ttu-id="cbcd2-1960">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1960">4</span></span> <br/>         | <span data-ttu-id="cbcd2-1961">暫存器變數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1961">A register variable.</span></span> <span data-ttu-id="cbcd2-1962">值欄位會指定註冊編號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1962">The Value field specifies the register number.</span></span> <br/>                                                                                                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-1963">影像 \_ SYM \_ 類別 \_ 外部 \_ 定義</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1963">IMAGE\_SYM\_CLASS\_EXTERNAL\_DEF</span></span> <br/>      | <span data-ttu-id="cbcd2-1964">5</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1964">5</span></span> <br/>         | <span data-ttu-id="cbcd2-1965">外部定義的符號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1965">A symbol that is defined externally.</span></span> <br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-1966">影像 \_ SYM \_ 類別 \_ 標籤</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1966">IMAGE\_SYM\_CLASS\_LABEL</span></span> <br/>              | <span data-ttu-id="cbcd2-1967">6</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1967">6</span></span> <br/>         | <span data-ttu-id="cbcd2-1968">在模組中定義的程式碼標籤。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1968">A code label that is defined within the module.</span></span> <span data-ttu-id="cbcd2-1969">值欄位會指定區段內符號的位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1969">The Value field specifies the offset of the symbol within the section.</span></span> <br/>                                                                                                                                                                                                         |
| <span data-ttu-id="cbcd2-1970">影像 \_ SYM \_ 類別 \_ 未定義 \_ 標籤</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1970">IMAGE\_SYM\_CLASS\_UNDEFINED\_LABEL</span></span> <br/>   | <span data-ttu-id="cbcd2-1971">7</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1971">7</span></span> <br/>         | <span data-ttu-id="cbcd2-1972">未定義之程式碼標籤的參考。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1972">A reference to a code label that is not defined.</span></span> <br/>                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="cbcd2-1973">\_結構的影像 SYM \_ 類別 \_ 成員 \_ \_</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1973">IMAGE\_SYM\_CLASS\_MEMBER\_OF\_STRUCT</span></span> <br/> | <span data-ttu-id="cbcd2-1974">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1974">8</span></span> <br/>         | <span data-ttu-id="cbcd2-1975">結構成員。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1975">The structure member.</span></span> <span data-ttu-id="cbcd2-1976">值欄位會指定第 n 個成員。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1976">The Value field specifies the n th member.</span></span> <br/>                                                                                                                                                                                                                                                               |
| <span data-ttu-id="cbcd2-1977">IMAGE \_ SYM \_ CLASS \_ 引數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1977">IMAGE\_SYM\_CLASS\_ARGUMENT</span></span> <br/>           | <span data-ttu-id="cbcd2-1978">9</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1978">9</span></span> <br/>         | <span data-ttu-id="cbcd2-1979">函式 (參數) 的正式引數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1979">A formal argument (parameter) of a function.</span></span> <span data-ttu-id="cbcd2-1980">值欄位會指定第 n 個引數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1980">The Value field specifies the n th argument.</span></span> <br/>                                                                                                                                                                                                                                      |
| <span data-ttu-id="cbcd2-1981">影像 \_ SYM \_ 類別 \_ 結構 \_ 標記</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1981">IMAGE\_SYM\_CLASS\_STRUCT\_TAG</span></span> <br/>        | <span data-ttu-id="cbcd2-1982">10</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1982">10</span></span> <br/>        | <span data-ttu-id="cbcd2-1983">結構標記名稱專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1983">The structure tag-name entry.</span></span> <br/>                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="cbcd2-1984">\_UNION 的 IMAGE SYM \_ 類別 \_ 成員 \_ \_</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1984">IMAGE\_SYM\_CLASS\_MEMBER\_OF\_UNION</span></span> <br/>  | <span data-ttu-id="cbcd2-1985">11</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1985">11</span></span> <br/>        | <span data-ttu-id="cbcd2-1986">聯集成員。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1986">A union member.</span></span> <span data-ttu-id="cbcd2-1987">值欄位會指定第 n 個成員。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1987">The Value field specifies the n th member.</span></span> <br/>                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-1988">影像 \_ SYM \_ 類別聯 \_ 集 \_ 標記</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1988">IMAGE\_SYM\_CLASS\_UNION\_TAG</span></span> <br/>         | <span data-ttu-id="cbcd2-1989">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1989">12</span></span> <br/>        | <span data-ttu-id="cbcd2-1990">聯集標記名稱專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1990">The Union tag-name entry.</span></span> <br/>                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="cbcd2-1991">影像 \_ SYM \_ 類別 \_ 類型 \_ 定義</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1991">IMAGE\_SYM\_CLASS\_TYPE\_DEFINITION</span></span> <br/>   | <span data-ttu-id="cbcd2-1992">13</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1992">13</span></span> <br/>        | <span data-ttu-id="cbcd2-1993">Typedef 專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1993">A Typedef entry.</span></span> <br/>                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="cbcd2-1994">影像 \_ SYM \_ 類別 \_ 未定義 \_ 靜態</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1994">IMAGE\_SYM\_CLASS\_UNDEFINED\_STATIC</span></span> <br/>  | <span data-ttu-id="cbcd2-1995">14</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1995">14</span></span> <br/>        | <span data-ttu-id="cbcd2-1996">靜態資料宣告。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1996">A static data declaration.</span></span> <br/>                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-1997">影像 \_ SYM \_ 類別 \_ 列舉 \_ 標記</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1997">IMAGE\_SYM\_CLASS\_ENUM\_TAG</span></span> <br/>          | <span data-ttu-id="cbcd2-1998">15</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1998">15</span></span> <br/>        | <span data-ttu-id="cbcd2-1999">列舉型別 tagname 專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-1999">An enumerated type tagname entry.</span></span> <br/>                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="cbcd2-2000">\_列舉的影像 SYM \_ 類別 \_ 成員 \_ \_</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2000">IMAGE\_SYM\_CLASS\_MEMBER\_OF\_ENUM</span></span> <br/>   | <span data-ttu-id="cbcd2-2001">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2001">16</span></span> <br/>        | <span data-ttu-id="cbcd2-2002">列舉的成員。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2002">A member of an enumeration.</span></span> <span data-ttu-id="cbcd2-2003">值欄位會指定第 n 個成員。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2003">The Value field specifies the n th member.</span></span> <br/>                                                                                                                                                                                                                                                         |
| <span data-ttu-id="cbcd2-2004">影像 \_ SYM \_ 類別 \_ REGISTER \_ 參數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2004">IMAGE\_SYM\_CLASS\_REGISTER\_PARAM</span></span> <br/>    | <span data-ttu-id="cbcd2-2005">17</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2005">17</span></span> <br/>        | <span data-ttu-id="cbcd2-2006">Register 參數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2006">A register parameter.</span></span> <br/>                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="cbcd2-2007">影像 \_ SYM \_ 類別 \_ 位 \_ 欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2007">IMAGE\_SYM\_CLASS\_BIT\_FIELD</span></span> <br/>         | <span data-ttu-id="cbcd2-2008">18</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2008">18</span></span> <br/>        | <span data-ttu-id="cbcd2-2009">位欄位參考。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2009">A bit-field reference.</span></span> <span data-ttu-id="cbcd2-2010">值欄位指定位欄位中的 n 位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2010">The Value field specifies the n th bit in the bit field.</span></span> <br/>                                                                                                                                                                                                                                                |
| <span data-ttu-id="cbcd2-2011">影像 \_ SYM \_ 類別 \_ 區塊</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2011">IMAGE\_SYM\_CLASS\_BLOCK</span></span> <br/>              | <span data-ttu-id="cbcd2-2012">100</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2012">100</span></span> <br/>       | <span data-ttu-id="cbcd2-2013">從區塊) 的開頭 (，或 (結尾) 記錄的 bb。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2013">A .bb (beginning of block) or .eb (end of block) record.</span></span> <span data-ttu-id="cbcd2-2014">值欄位是程式碼位置的可重定位位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2014">The Value field is the relocatable address of the code location.</span></span> <br/>                                                                                                                                                                                                      |
| <span data-ttu-id="cbcd2-2015">影像 \_ SYM \_ 類別 \_ 函數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2015">IMAGE\_SYM\_CLASS\_FUNCTION</span></span> <br/>           | <span data-ttu-id="cbcd2-2016">101</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2016">101</span></span> <br/>       | <span data-ttu-id="cbcd2-2017">Microsoft 工具用於定義函式範圍之符號記錄的值： begin function (. bf ) 、end function ( ef ) 和函式中的行 (. lf ) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2017">A value that Microsoft tools use for symbol records that define the extent of a function: begin function (.bf ), end function ( .ef ), and lines in function ( .lf ).</span></span> <span data-ttu-id="cbcd2-2018">若為 lf 記錄，[值] 欄位會提供函數中的原始程式列數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2018">For .lf records, the Value field gives the number of source lines in the function.</span></span> <span data-ttu-id="cbcd2-2019">若是 ef 記錄，值欄位會提供函數代碼的大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2019">For .ef records, the Value field gives the size of the function code.</span></span> <br/> |
| <span data-ttu-id="cbcd2-2020">\_結構 SYM \_ 類別 \_ 結尾 \_ \_</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2020">IMAGE\_SYM\_CLASS\_END\_OF\_STRUCT</span></span> <br/>    | <span data-ttu-id="cbcd2-2021">102</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2021">102</span></span> <br/>       | <span data-ttu-id="cbcd2-2022">結構結尾的專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2022">An end-of-structure entry.</span></span> <br/>                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-2023">影像 \_ SYM \_ 類別 \_ 檔案</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2023">IMAGE\_SYM\_CLASS\_FILE</span></span> <br/>               | <span data-ttu-id="cbcd2-2024">103</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2024">103</span></span> <br/>       | <span data-ttu-id="cbcd2-2025">Microsoft 工具和傳統 COFF 格式的值，用於來源檔案符號記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2025">A value that Microsoft tools, as well as traditional COFF format, use for the source-file symbol record.</span></span> <span data-ttu-id="cbcd2-2026">符號後面接著命名檔案的輔助記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2026">The symbol is followed by auxiliary records that name the file.</span></span> <br/>                                                                                                                                                       |
| <span data-ttu-id="cbcd2-2027">影像 \_ SYM \_ 類別 \_ 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2027">IMAGE\_SYM\_CLASS\_SECTION</span></span> <br/>            | <span data-ttu-id="cbcd2-2028">104</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2028">104</span></span> <br/>       | <span data-ttu-id="cbcd2-2029">區段的定義 (Microsoft 工具會改為使用靜態儲存類別) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2029">A definition of a section (Microsoft tools use STATIC storage class instead).</span></span> <br/>                                                                                                                                                                                                                                                  |
| <span data-ttu-id="cbcd2-2030">影像 \_ SYM \_ 類別 \_ 弱式 \_ 外部</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2030">IMAGE\_SYM\_CLASS\_WEAK\_EXTERNAL</span></span> <br/>     | <span data-ttu-id="cbcd2-2031">105</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2031">105</span></span> <br/>       | <span data-ttu-id="cbcd2-2032">弱式外部。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2032">A weak external.</span></span> <span data-ttu-id="cbcd2-2033">如需詳細資訊，請參閱 [輔助格式3：弱式外部](#auxiliary-format-3-weak-externals)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2033">For more information, see [Auxiliary Format 3: Weak Externals](#auxiliary-format-3-weak-externals).</span></span> <br/>                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-2034">影像 \_ SYM \_ 類別 \_ CLR \_ TOKEN</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2034">IMAGE\_SYM\_CLASS\_CLR\_TOKEN</span></span> <br/>         | <span data-ttu-id="cbcd2-2035">107</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2035">107</span></span> <br/>       | <span data-ttu-id="cbcd2-2036">CLR token 符號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2036">A CLR token symbol.</span></span> <span data-ttu-id="cbcd2-2037">名稱是包含權杖之十六進位值的 ASCII 字串。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2037">The name is an ASCII string that consists of the hexadecimal value of the token.</span></span> <span data-ttu-id="cbcd2-2038">如需詳細資訊，請參閱 [僅 (物件) 的 CLR Token 定義 ](#clr-token-definition-object-only)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2038">For more information, see [CLR Token Definition (Object Only)](#clr-token-definition-object-only).</span></span> <br/>                                                                                                                        |



 

### <a name="auxiliary-symbol-records"></a><span data-ttu-id="cbcd2-2039">輔助符號記錄</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2039">Auxiliary Symbol Records</span></span>

<span data-ttu-id="cbcd2-2040">輔助符號表記錄一律遵循，並套用至某些標準符號表記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2040">Auxiliary symbol table records always follow, and apply to, some standard symbol table record.</span></span> <span data-ttu-id="cbcd2-2041">輔助記錄可以有工具可以辨識的任何格式，但必須配置18個位元組，以便將符號表維護為一般大小的陣列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2041">An auxiliary record can have any format that the tools can recognize, but 18 bytes must be allocated for them so that symbol table is maintained as an array of regular size.</span></span> <span data-ttu-id="cbcd2-2042">目前，Microsoft 工具會辨識下列記錄種類的輔助格式：函式定義、函數開始和結束符號 ( bf 和 ef) 、弱式外部、檔案名和區段定義。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2042">Currently, Microsoft tools recognize auxiliary formats for the following kinds of records: function definitions, function begin and end symbols (.bf and .ef), weak externals, file names, and section definitions.</span></span>

<span data-ttu-id="cbcd2-2043">傳統的 COFF 設計也包含陣列和結構的輔助記錄格式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2043">The traditional COFF design also includes auxiliary-record formats for arrays and structures.</span></span> <span data-ttu-id="cbcd2-2044">Microsoft 工具不會使用這些工具，而是改為在 debug 區段中 Visual C++ 的 debug 格式放置符號資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2044">Microsoft tools do not use these, but instead place that symbolic information in Visual C++ debug format in the debug sections.</span></span>

#### <a name="auxiliary-format-1-function-definitions"></a><span data-ttu-id="cbcd2-2045">輔助格式1：函式定義</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2045">Auxiliary Format 1: Function Definitions</span></span>

<span data-ttu-id="cbcd2-2046">符號表記錄會標示函式定義的開頭（如果它具有下列所有項）：外部 (2) 的儲存類別、指出其為函式 (0x20) 的型別，以及大於零的區段編號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2046">A symbol table record marks the beginning of a function definition if it has all of the following: a storage class of EXTERNAL (2), a Type value that indicates it is a function (0x20), and a section number that is greater than zero.</span></span> <span data-ttu-id="cbcd2-2047">請注意，如果符號表記錄的區段編號為 UNDEFINED (0) 不會定義函式，也不會有輔助記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2047">Note that a symbol table record that has a section number of UNDEFINED (0) does not define the function and does not have an auxiliary record.</span></span> <span data-ttu-id="cbcd2-2048">函式定義符號記錄後面會有輔助記錄，如下所述格式：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2048">Function-definition symbol records are followed by an auxiliary record in the format described below:</span></span>



| <span data-ttu-id="cbcd2-2049">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2049">Offset</span></span>         | <span data-ttu-id="cbcd2-2050">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2050">Size</span></span>          | <span data-ttu-id="cbcd2-2051">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2051">Field</span></span>                             | <span data-ttu-id="cbcd2-2052">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2052">Description</span></span>                                                                                                                                                                                                                   |
|----------------|---------------|-----------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2053">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2053">0</span></span> <br/>  | <span data-ttu-id="cbcd2-2054">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2054">4</span></span> <br/> | <span data-ttu-id="cbcd2-2055">TagIndex</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2055">TagIndex</span></span> <br/>              | <span data-ttu-id="cbcd2-2056">對應之 bf (begin 函式的符號資料表索引) 符號記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2056">The symbol-table index of the corresponding .bf (begin function) symbol record.</span></span> <br/>                                                                                                                                   |
| <span data-ttu-id="cbcd2-2057">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2057">4</span></span> <br/>  | <span data-ttu-id="cbcd2-2058">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2058">4</span></span> <br/> | <span data-ttu-id="cbcd2-2059">TotalSize</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2059">TotalSize</span></span> <br/>             | <span data-ttu-id="cbcd2-2060">函數本身的可執行程式碼大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2060">The size of the executable code for the function itself.</span></span> <span data-ttu-id="cbcd2-2061">如果函式在它自己的區段中，區段標頭中的 SizeOfRawData 就會大於或等於此欄位，視對齊考慮而定。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2061">If the function is in its own section, the SizeOfRawData in the section header is greater or equal to this field, depending on alignment considerations.</span></span> <br/> |
| <span data-ttu-id="cbcd2-2062">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2062">8</span></span> <br/>  | <span data-ttu-id="cbcd2-2063">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2063">4</span></span> <br/> | <span data-ttu-id="cbcd2-2064">PointerToLinenumber</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2064">PointerToLinenumber</span></span> <br/>   | <span data-ttu-id="cbcd2-2065">函數的第一個 COFF 行號專案的檔案位移，如果不存在則為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2065">The file offset of the first COFF line-number entry for the function, or zero if none exists.</span></span> <span data-ttu-id="cbcd2-2066">如需詳細資訊，請參閱 [ (取代) 的 COFF 行號 ](#coff-line-numbers-deprecated)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2066">For more information, see [COFF Line Numbers (Deprecated)](#coff-line-numbers-deprecated).</span></span> <br/>                          |
| <span data-ttu-id="cbcd2-2067">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2067">12</span></span> <br/> | <span data-ttu-id="cbcd2-2068">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2068">4</span></span> <br/> | <span data-ttu-id="cbcd2-2069">PointerToNextFunction</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2069">PointerToNextFunction</span></span> <br/> | <span data-ttu-id="cbcd2-2070">下一個函數之記錄的符號資料表索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2070">The symbol-table index of the record for the next function.</span></span> <span data-ttu-id="cbcd2-2071">如果函數是符號資料表中的最後一個，這個欄位就會設定為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2071">If the function is the last in the symbol table, this field is set to zero.</span></span> <br/>                                                                           |
| <span data-ttu-id="cbcd2-2072">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2072">16</span></span> <br/> | <span data-ttu-id="cbcd2-2073">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2073">2</span></span> <br/> | <span data-ttu-id="cbcd2-2074">未使用</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2074">Unused</span></span> <br/>                |                                                                                                                                                                                                                               |



 

#### <a name="auxiliary-format-2-bf-and-ef-symbols"></a><span data-ttu-id="cbcd2-2075">輔助格式2：. bf 和 ef 符號</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2075">Auxiliary Format 2: .bf and .ef Symbols</span></span>

<span data-ttu-id="cbcd2-2076">針對符號表中的每個函式定義，三個專案會描述開始、結束和行數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2076">For each function definition in the symbol table, three items describe the beginning, ending, and number of lines.</span></span> <span data-ttu-id="cbcd2-2077">上述每個符號都有儲存類別函數 (101) ：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2077">Each of these symbols has storage class FUNCTION (101):</span></span>

<span data-ttu-id="cbcd2-2078">名為 bf 的符號記錄 (begin 函數) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2078">A symbol record named .bf (begin function).</span></span> <span data-ttu-id="cbcd2-2079">未使用值欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2079">The Value field is unused.</span></span>

<span data-ttu-id="cbcd2-2080">函數) 中名稱為 lf (行的符號記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2080">A symbol record named .lf (lines in function).</span></span> <span data-ttu-id="cbcd2-2081">值欄位會提供函數中的行數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2081">The Value field gives the number of lines in the function.</span></span>

<span data-ttu-id="cbcd2-2082">名為 ef (函式) 結尾的符號記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2082">A symbol record named .ef (end of function).</span></span> <span data-ttu-id="cbcd2-2083">值欄位的數目與函式定義符號記錄中的總大小欄位相同。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2083">The Value field has the same number as the Total Size field in the function-definition symbol record.</span></span>

<span data-ttu-id="cbcd2-2084">Bf 和 ef 符號記錄 (但不是。 lf 記錄) 後面接著具有下列格式的輔助記錄：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2084">The .bf and .ef symbol records (but not .lf records) are followed by an auxiliary record with the following format:</span></span>



| <span data-ttu-id="cbcd2-2085">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2085">Offset</span></span>         | <span data-ttu-id="cbcd2-2086">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2086">Size</span></span>          | <span data-ttu-id="cbcd2-2087">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2087">Field</span></span>                                         | <span data-ttu-id="cbcd2-2088">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2088">Description</span></span>                                                                                                                                                                   |
|----------------|---------------|-----------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2089">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2089">0</span></span> <br/>  | <span data-ttu-id="cbcd2-2090">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2090">4</span></span> <br/> | <span data-ttu-id="cbcd2-2091">未使用</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2091">Unused</span></span> <br/>                            |                                                                                                                                                                               |
| <span data-ttu-id="cbcd2-2092">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2092">4</span></span> <br/>  | <span data-ttu-id="cbcd2-2093">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2093">2</span></span> <br/> | <span data-ttu-id="cbcd2-2094">Linenumber</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2094">Linenumber</span></span> <br/>                        | <span data-ttu-id="cbcd2-2095">實際的序數行號 (1、2、3，依此類推，在原始程式檔中) ，對應于 bf 或 ef 記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2095">The actual ordinal line number (1, 2, 3, and so on) within the source file, corresponding to the .bf or .ef record.</span></span> <br/>                                               |
| <span data-ttu-id="cbcd2-2096">6</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2096">6</span></span> <br/>  | <span data-ttu-id="cbcd2-2097">6</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2097">6</span></span> <br/> | <span data-ttu-id="cbcd2-2098">未使用</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2098">Unused</span></span> <br/>                            |                                                                                                                                                                               |
| <span data-ttu-id="cbcd2-2099">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2099">12</span></span> <br/> | <span data-ttu-id="cbcd2-2100">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2100">4</span></span> <br/> | <span data-ttu-id="cbcd2-2101">PointerToNextFunction (. 僅 bf) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2101">PointerToNextFunction ( .bf only)</span></span> <br/> | <span data-ttu-id="cbcd2-2102">下 bf 符號記錄的符號資料表索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2102">The symbol-table index of the next .bf symbol record.</span></span> <span data-ttu-id="cbcd2-2103">如果函數是符號資料表中的最後一個，這個欄位就會設定為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2103">If the function is the last in the symbol table, this field is set to zero.</span></span> <span data-ttu-id="cbcd2-2104">它不會用於 ef 記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2104">It is not used for .ef records.</span></span> <br/> |
| <span data-ttu-id="cbcd2-2105">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2105">16</span></span> <br/> | <span data-ttu-id="cbcd2-2106">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2106">2</span></span> <br/> | <span data-ttu-id="cbcd2-2107">未使用</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2107">Unused</span></span> <br/>                            |                                                                                                                                                                               |



 

#### <a name="auxiliary-format-3-weak-externals"></a><span data-ttu-id="cbcd2-2108">輔助格式3：弱式外部</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2108">Auxiliary Format 3: Weak Externals</span></span>

<span data-ttu-id="cbcd2-2109">「弱式外部」是物件檔案的機制，可在連結時提供彈性。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2109">"Weak externals" are a mechanism for object files that allows flexibility at link time.</span></span> <span data-ttu-id="cbcd2-2110">模組可以 (sym1) 包含無法解析的外部符號，但也可以包含輔助記錄，指出如果連結時沒有 sym1，則會使用另一個外部符號 (sym2) 來改為解析參考。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2110">A module can contain an unresolved external symbol (sym1), but it can also include an auxiliary record that indicates that if sym1 is not present at link time, another external symbol (sym2) is used to resolve references instead.</span></span>

<span data-ttu-id="cbcd2-2111">如果 sym1 的定義已連結，則會正常地解析符號的外部參考。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2111">If a definition of sym1 is linked, then an external reference to the symbol is resolved normally.</span></span> <span data-ttu-id="cbcd2-2112">如果未連結 sym1 的定義，則對 sym1 弱式外部的所有參考都會改為參考 sym2。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2112">If a definition of sym1 is not linked, then all references to the weak external for sym1 refer to sym2 instead.</span></span> <span data-ttu-id="cbcd2-2113">外部符號 sym2 必須一律連結;一般而言，它是定義在包含 sym1 弱式參考的模組中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2113">The external symbol, sym2, must always be linked; typically, it is defined in the module that contains the weak reference to sym1.</span></span>

<span data-ttu-id="cbcd2-2114">弱式外部是由具有外部儲存類別的符號表記錄、UNDEF 區段編號，以及零值所表示。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2114">Weak externals are represented by a symbol table record with EXTERNAL storage class, UNDEF section number, and a value of zero.</span></span> <span data-ttu-id="cbcd2-2115">弱式外部符號記錄後面會接著具有下列格式的輔助記錄：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2115">The weak-external symbol record is followed by an auxiliary record with the following format:</span></span>



| <span data-ttu-id="cbcd2-2116">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2116">Offset</span></span>        | <span data-ttu-id="cbcd2-2117">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2117">Size</span></span>           | <span data-ttu-id="cbcd2-2118">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2118">Field</span></span>                       | <span data-ttu-id="cbcd2-2119">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2119">Description</span></span>                                                                                                                                                                                                                                                                                                                                                |
|---------------|----------------|-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2120">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2120">0</span></span> <br/> | <span data-ttu-id="cbcd2-2121">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2121">4</span></span> <br/>  | <span data-ttu-id="cbcd2-2122">TagIndex</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2122">TagIndex</span></span> <br/>        | <span data-ttu-id="cbcd2-2123">Sym2 的符號資料表索引，如果找不到 sym1，則為要連結的符號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2123">The symbol-table index of sym2, the symbol to be linked if sym1 is not found.</span></span> <br/>                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="cbcd2-2124">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2124">4</span></span> <br/> | <span data-ttu-id="cbcd2-2125">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2125">4</span></span> <br/>  | <span data-ttu-id="cbcd2-2126">特性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2126">Characteristics</span></span> <br/> | <span data-ttu-id="cbcd2-2127">影像 \_ 弱式 \_ 外部搜尋 NOLIBRARY 的值 \_ \_ 表示不應執行 sym1 的程式庫搜尋。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2127">A value of IMAGE\_WEAK\_EXTERN\_SEARCH\_NOLIBRARY indicates that no library search for sym1 should be performed.</span></span> <br/> <span data-ttu-id="cbcd2-2128">映射 \_ 弱式 \_ 外部搜尋程式庫的值 \_ \_ 表示應該執行 sym1 的程式庫搜尋。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2128">A value of IMAGE\_WEAK\_EXTERN\_SEARCH\_LIBRARY indicates that a library search for sym1 should be performed.</span></span> <br/> <span data-ttu-id="cbcd2-2129">影像 \_ 弱式 \_ 外部搜尋別名的值 \_ \_ 表示 sym1 是 sym2 的別名。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2129">A value of IMAGE\_WEAK\_EXTERN\_SEARCH\_ALIAS indicates that sym1 is an alias for sym2.</span></span> <br/> |
| <span data-ttu-id="cbcd2-2130">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2130">8</span></span> <br/> | <span data-ttu-id="cbcd2-2131">10</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2131">10</span></span> <br/> | <span data-ttu-id="cbcd2-2132">未使用</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2132">Unused</span></span> <br/>          |                                                                                                                                                                                                                                                                                                                                                            |



 

<span data-ttu-id="cbcd2-2133">請注意，WINNT 中並未定義 [特性] 欄位。高相反地，會使用 [大小總計] 欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2133">Note that the Characteristics field is not defined in WINNT.H; instead, the Total Size field is used.</span></span>

#### <a name="auxiliary-format-4-files"></a><span data-ttu-id="cbcd2-2134">輔助格式4：檔案</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2134">Auxiliary Format 4: Files</span></span>

<span data-ttu-id="cbcd2-2135">此格式會遵循具有儲存類別檔案 (103) 的符號資料表記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2135">This format follows a symbol-table record with storage class FILE (103).</span></span> <span data-ttu-id="cbcd2-2136">符號名稱本身應該是. file，而後面接著的輔助記錄會提供原始程式碼檔的名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2136">The symbol name itself should be .file, and the auxiliary record that follows it gives the name of a source-code file.</span></span>



| <span data-ttu-id="cbcd2-2137">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2137">Offset</span></span>        | <span data-ttu-id="cbcd2-2138">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2138">Size</span></span>           | <span data-ttu-id="cbcd2-2139">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2139">Field</span></span>                 | <span data-ttu-id="cbcd2-2140">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2140">Description</span></span>                                                                                                                         |
|---------------|----------------|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2141">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2141">0</span></span> <br/> | <span data-ttu-id="cbcd2-2142">18</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2142">18</span></span> <br/> | <span data-ttu-id="cbcd2-2143">檔案名稱</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2143">File Name</span></span> <br/> | <span data-ttu-id="cbcd2-2144">提供原始程式檔名稱的 ANSI 字串。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2144">An ANSI string that gives the name of the source file.</span></span> <span data-ttu-id="cbcd2-2145">如果小於最大長度，則會以 null 填補。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2145">This is padded with nulls if it is less than the maximum length.</span></span> <br/> |



 

#### <a name="auxiliary-format-5-section-definitions"></a><span data-ttu-id="cbcd2-2146">輔助格式5：區段定義</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2146">Auxiliary Format 5: Section Definitions</span></span>

<span data-ttu-id="cbcd2-2147">此格式會遵循定義區段的符號資料表記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2147">This format follows a symbol-table record that defines a section.</span></span> <span data-ttu-id="cbcd2-2148">這類記錄的符號名稱是區段的名稱 (例如，text 或. drectve) ，而且具有儲存類別 STATIC (3) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2148">Such a record has a symbol name that is the name of a section (such as .text or .drectve) and has storage class STATIC (3).</span></span> <span data-ttu-id="cbcd2-2149">輔助記錄會提供它所參考之區段的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2149">The auxiliary record provides information about the section to which it refers.</span></span> <span data-ttu-id="cbcd2-2150">因此，它會複製區段標頭中的部分資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2150">Thus, it duplicates some of the information in the section header.</span></span>



| <span data-ttu-id="cbcd2-2151">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2151">Offset</span></span>         | <span data-ttu-id="cbcd2-2152">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2152">Size</span></span>          | <span data-ttu-id="cbcd2-2153">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2153">Field</span></span>                           | <span data-ttu-id="cbcd2-2154">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2154">Description</span></span>                                                                                                                                                                                                             |
|----------------|---------------|---------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2155">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2155">0</span></span> <br/>  | <span data-ttu-id="cbcd2-2156">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2156">4</span></span> <br/> | <span data-ttu-id="cbcd2-2157">長度</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2157">Length</span></span> <br/>              | <span data-ttu-id="cbcd2-2158">區段資料的大小;與區段標頭中的 SizeOfRawData 相同。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2158">The size of section data; the same as SizeOfRawData in the section header.</span></span> <br/>                                                                                                                                  |
| <span data-ttu-id="cbcd2-2159">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2159">4</span></span> <br/>  | <span data-ttu-id="cbcd2-2160">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2160">2</span></span> <br/> | <span data-ttu-id="cbcd2-2161">NumberOfRelocations</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2161">NumberOfRelocations</span></span> <br/> | <span data-ttu-id="cbcd2-2162">區段的重新設定項目數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2162">The number of relocation entries for the section.</span></span> <br/>                                                                                                                                                           |
| <span data-ttu-id="cbcd2-2163">6</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2163">6</span></span> <br/>  | <span data-ttu-id="cbcd2-2164">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2164">2</span></span> <br/> | <span data-ttu-id="cbcd2-2165">NumberOfLinenumbers</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2165">NumberOfLinenumbers</span></span> <br/> | <span data-ttu-id="cbcd2-2166">區段的行號專案數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2166">The number of line-number entries for the section.</span></span> <br/>                                                                                                                                                          |
| <span data-ttu-id="cbcd2-2167">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2167">8</span></span> <br/>  | <span data-ttu-id="cbcd2-2168">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2168">4</span></span> <br/> | <span data-ttu-id="cbcd2-2169">校驗</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2169">CheckSum</span></span> <br/>            | <span data-ttu-id="cbcd2-2170">微乎其微資料的總和檢查碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2170">The checksum for communal data.</span></span> <span data-ttu-id="cbcd2-2171">如果在 \_ \_ \_ 區段標頭中設定了 IMAGE SCN .lnk COMDAT 旗標，則適用此功能。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2171">It is applicable if the IMAGE\_SCN\_LNK\_COMDAT flag is set in the section header.</span></span> <span data-ttu-id="cbcd2-2172">如需詳細資訊，請參閱 [僅 (物件) 的 COMDAT 章節 ](#comdat-sections-object-only)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2172">For more information, see [COMDAT Sections (Object Only)](#comdat-sections-object-only).</span></span> <br/> |
| <span data-ttu-id="cbcd2-2173">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2173">12</span></span> <br/> | <span data-ttu-id="cbcd2-2174">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2174">2</span></span> <br/> | <span data-ttu-id="cbcd2-2175">Number</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2175">Number</span></span> <br/>              | <span data-ttu-id="cbcd2-2176">關聯區段的區段資料表中，以一個為基的索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2176">One-based index into the section table for the associated section.</span></span> <span data-ttu-id="cbcd2-2177">當 COMDAT 選項設定為5時，就會使用此選項。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2177">This is used when the COMDAT selection setting is 5.</span></span> <br/>                                                                                     |
| <span data-ttu-id="cbcd2-2178">14</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2178">14</span></span> <br/> | <span data-ttu-id="cbcd2-2179">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2179">1</span></span> <br/> | <span data-ttu-id="cbcd2-2180">選取</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2180">Selection</span></span> <br/>           | <span data-ttu-id="cbcd2-2181">COMDAT 選取專案編號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2181">The COMDAT selection number.</span></span> <span data-ttu-id="cbcd2-2182">這適用于區段為 COMDAT 區段的情況。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2182">This is applicable if the section is a COMDAT section.</span></span> <br/>                                                                                                                         |
| <span data-ttu-id="cbcd2-2183">15</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2183">15</span></span> <br/> | <span data-ttu-id="cbcd2-2184">3</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2184">3</span></span> <br/> | <span data-ttu-id="cbcd2-2185">未使用</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2185">Unused</span></span> <br/>              |                                                                                                                                                                                                                         |



 

#### <a name="comdat-sections-object-only"></a><span data-ttu-id="cbcd2-2186">COMDAT 區段僅 (物件) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2186">COMDAT Sections (Object Only)</span></span>

<span data-ttu-id="cbcd2-2187">如果區段是 COMDAT 區段，則區段定義輔助格式的 [選取] 欄位適用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2187">The Selection field of the section definition auxiliary format is applicable if the section is a COMDAT section.</span></span> <span data-ttu-id="cbcd2-2188">COMDAT 區段是一個可由一個以上的物件檔案定義的區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2188">A COMDAT section is a section that can be defined by more than one object file.</span></span> <span data-ttu-id="cbcd2-2189"> (在 \_ \_ \_ 區段標頭的區段旗標欄位中設定旗標影像 SCN .lnk COMDAT。 ) 選擇欄位會決定連結器解析 COMDAT 區段之多個定義的方式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2189">(The flag IMAGE\_SCN\_LNK\_COMDAT is set in the Section Flags field of the section header.) The Selection field determines the way in which the linker resolves the multiple definitions of COMDAT sections.</span></span>

<span data-ttu-id="cbcd2-2190">第一個具有 COMDAT 區段之區段值的符號必須是區段符號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2190">The first symbol that has the section value of the COMDAT section must be the section symbol.</span></span> <span data-ttu-id="cbcd2-2191">此符號具有區段的名稱、等於零的值欄位、COMDAT 區段的區段號碼、等於 IMAGE \_ SYM \_ type \_ Null、CLASS 欄位等於 image \_ SYM \_ 類別 \_ STATIC，以及一個輔助記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2191">This symbol has the name of the section, the Value field equal to zero, the section number of the COMDAT section in question, the Type field equal to IMAGE\_SYM\_TYPE\_NULL, the Class field equal to IMAGE\_SYM\_CLASS\_STATIC, and one auxiliary record.</span></span> <span data-ttu-id="cbcd2-2192">第二個符號稱為「COMDAT 符號」，連結器會使用此符號搭配選取欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2192">The second symbol is called "the COMDAT symbol" and is used by the linker in conjunction with the Selection field.</span></span>

<span data-ttu-id="cbcd2-2193">選擇欄位的值如下所示。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2193">The values for the Selection field are shown below.</span></span>



| <span data-ttu-id="cbcd2-2194">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2194">Constant</span></span>                                        | <span data-ttu-id="cbcd2-2195">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2195">Value</span></span>         | <span data-ttu-id="cbcd2-2196">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2196">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-------------------------------------------------|---------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2197">影像 \_ COMDAT \_ 選取 \_ NODUPLICATES</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2197">IMAGE\_COMDAT\_SELECT\_NODUPLICATES</span></span> <br/> | <span data-ttu-id="cbcd2-2198">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2198">1</span></span> <br/> | <span data-ttu-id="cbcd2-2199">如果已定義此符號，連結器會發出「乘號定義的符號」錯誤。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2199">If this symbol is already defined, the linker issues a "multiply defined symbol" error.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="cbcd2-2200">影像 \_ COMDAT \_ 選取 \_ 任何</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2200">IMAGE\_COMDAT\_SELECT\_ANY</span></span> <br/>          | <span data-ttu-id="cbcd2-2201">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2201">2</span></span> <br/> | <span data-ttu-id="cbcd2-2202">可以連結定義相同 COMDAT 符號的任何區段;其餘部分會被移除。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2202">Any section that defines the same COMDAT symbol can be linked; the rest are removed.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="cbcd2-2203">影像 \_ COMDAT \_ 選取 \_ 相同的 \_ 大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2203">IMAGE\_COMDAT\_SELECT\_SAME\_SIZE</span></span> <br/>   | <span data-ttu-id="cbcd2-2204">3</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2204">3</span></span> <br/> | <span data-ttu-id="cbcd2-2205">連結器會在此符號的定義中選擇任意區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2205">The linker chooses an arbitrary section among the definitions for this symbol.</span></span> <span data-ttu-id="cbcd2-2206">如果所有定義的大小都不相同，則會發出「乘量定義的符號」錯誤。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2206">If all definitions are not the same size, a "multiply defined symbol" error is issued.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-2207">影像 \_ COMDAT \_ 選取 \_ 完全 \_ 相符</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2207">IMAGE\_COMDAT\_SELECT\_EXACT\_MATCH</span></span> <br/> | <span data-ttu-id="cbcd2-2208">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2208">4</span></span> <br/> | <span data-ttu-id="cbcd2-2209">連結器會在此符號的定義中選擇任意區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2209">The linker chooses an arbitrary section among the definitions for this symbol.</span></span> <span data-ttu-id="cbcd2-2210">如果所有定義不完全相符，則會發出「相乘定義的符號」錯誤。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2210">If all definitions do not match exactly, a "multiply defined symbol" error is issued.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="cbcd2-2211">影像 \_ COMDAT \_ 選取 \_ 關聯</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2211">IMAGE\_COMDAT\_SELECT\_ASSOCIATIVE</span></span> <br/>  | <span data-ttu-id="cbcd2-2212">5</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2212">5</span></span> <br/> | <span data-ttu-id="cbcd2-2213">如果已連結特定其他 COMDAT 區段，則會連結此區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2213">The section is linked if a certain other COMDAT section is linked.</span></span> <span data-ttu-id="cbcd2-2214">此其他區段是由區段定義之輔助符號記錄的數位欄位所表示。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2214">This other section is indicated by the Number field of the auxiliary symbol record for the section definition.</span></span> <span data-ttu-id="cbcd2-2215">這項設定適用于在多個區段中具有元件的定義 (例如，程式碼在另一個) 中的程式碼，但必須將全部連結或捨棄為集合。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2215">This setting is useful for definitions that have components in multiple sections (for example, code in one and data in another), but where all must be linked or discarded as a set.</span></span> <span data-ttu-id="cbcd2-2216">與此區段相關聯的另一節必須是 COMDAT 區段，它可以是另一個關聯 COMDAT 區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2216">The other section this section is associated with must be a COMDAT section, which can be another associative COMDAT section.</span></span> <span data-ttu-id="cbcd2-2217">關聯 COMDAT 區段的區段關聯鏈無法形成迴圈。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2217">An associative COMDAT section's section association chain can't form a loop.</span></span> <span data-ttu-id="cbcd2-2218">區段關聯鏈最後必須是 COMDAT 區段，而且沒有影像 \_ COMDAT \_ 選取 \_ 關聯集。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2218">The section association chain must eventually come to a COMDAT section that doesn't have IMAGE\_COMDAT\_SELECT\_ASSOCIATIVE set.</span></span> <br/> |
| <span data-ttu-id="cbcd2-2219">影像 \_ COMDAT \_ 選取 \_ 最大</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2219">IMAGE\_COMDAT\_SELECT\_LARGEST</span></span> <br/>      | <span data-ttu-id="cbcd2-2220">6</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2220">6</span></span> <br/> | <span data-ttu-id="cbcd2-2221">連結器會從這個符號的所有定義中選擇最大的定義。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2221">The linker chooses the largest definition from among all of the definitions for this symbol.</span></span> <span data-ttu-id="cbcd2-2222">如果有多個定義的大小，則兩者之間的選擇是任意的。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2222">If multiple definitions have this size, the choice between them is arbitrary.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                |



 

#### <a name="clr-token-definition-object-only"></a><span data-ttu-id="cbcd2-2223">CLR 權杖定義僅 (物件) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2223">CLR Token Definition (Object Only)</span></span>

<span data-ttu-id="cbcd2-2224">此輔助符號通常會遵循 IMAGE \_ SYM \_ 類別 \_ CLR \_ TOKEN。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2224">This auxiliary symbol generally follows the IMAGE\_SYM\_CLASS\_CLR\_TOKEN.</span></span> <span data-ttu-id="cbcd2-2225">它是用來將權杖與 COFF 符號表的命名空間產生關聯。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2225">It is used to associate a token with the COFF symbol table's namespace.</span></span>



| <span data-ttu-id="cbcd2-2226">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2226">Offset</span></span>        | <span data-ttu-id="cbcd2-2227">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2227">Size</span></span>           | <span data-ttu-id="cbcd2-2228">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2228">Field</span></span>                        | <span data-ttu-id="cbcd2-2229">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2229">Description</span></span>                                                                                |
|---------------|----------------|------------------------------|--------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2230">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2230">0</span></span> <br/> | <span data-ttu-id="cbcd2-2231">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2231">1</span></span> <br/>  | <span data-ttu-id="cbcd2-2232">bAuxType</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2232">bAuxType</span></span> <br/>         | <span data-ttu-id="cbcd2-2233">必須是影像 \_ AUX \_ 符號 \_ 類型 \_ 標記 \_ 定義 (1) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2233">Must be IMAGE\_AUX\_SYMBOL\_TYPE\_TOKEN\_DEF (1).</span></span> <br/>                              |
| <span data-ttu-id="cbcd2-2234">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2234">1</span></span> <br/> | <span data-ttu-id="cbcd2-2235">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2235">1</span></span> <br/>  | <span data-ttu-id="cbcd2-2236">bReserved</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2236">bReserved</span></span> <br/>        | <span data-ttu-id="cbcd2-2237">Reserved，必須為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2237">Reserved, must be zero.</span></span> <br/>                                                        |
| <span data-ttu-id="cbcd2-2238">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2238">2</span></span> <br/> | <span data-ttu-id="cbcd2-2239">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2239">4</span></span> <br/>  | <span data-ttu-id="cbcd2-2240">SymbolTableIndex</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2240">SymbolTableIndex</span></span> <br/> | <span data-ttu-id="cbcd2-2241">此 CLR 權杖定義所參考之 COFF 符號的符號索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2241">The symbol index of the COFF symbol to which this CLR token definition refers.</span></span> <br/> |
| <span data-ttu-id="cbcd2-2242">6</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2242">6</span></span> <br/> | <span data-ttu-id="cbcd2-2243">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2243">12</span></span> <br/> |                              | <span data-ttu-id="cbcd2-2244">Reserved，必須為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2244">Reserved, must be zero.</span></span> <br/>                                                        |



 

### <a name="coff-string-table"></a><span data-ttu-id="cbcd2-2245">COFF 字串資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2245">COFF String Table</span></span>

<span data-ttu-id="cbcd2-2246">緊接在 COFF 符號表之後的是 COFF 字串資料表。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2246">Immediately following the COFF symbol table is the COFF string table.</span></span> <span data-ttu-id="cbcd2-2247">您可以在 COFF 標頭中取得符號表位址，並加上符號數目乘以符號的大小，以找到此資料表的位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2247">The position of this table is found by taking the symbol table address in the COFF header and adding the number of symbols multiplied by the size of a symbol.</span></span>

<span data-ttu-id="cbcd2-2248">COFF 字串資料表的開頭是4個位元組，其中包含字串資料表其餘部分的總大小 (位元組) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2248">At the beginning of the COFF string table are 4 bytes that contain the total size (in bytes) of the rest of the string table.</span></span> <span data-ttu-id="cbcd2-2249">此大小包含 [大小] 欄位本身，因此如果沒有任何字串，此位置中的值會是4。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2249">This size includes the size field itself, so that the value in this location would be 4 if no strings were present.</span></span>

<span data-ttu-id="cbcd2-2250">之後，其大小為以 null 結束的字串，由 COFF 符號表中的符號所指向。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2250">Following the size are null-terminated strings that are pointed to by symbols in the COFF symbol table.</span></span>

### <a name="the-attribute-certificate-table-image-only"></a><span data-ttu-id="cbcd2-2251">屬性證書表只 (映射) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2251">The Attribute Certificate Table (Image Only)</span></span>

<span data-ttu-id="cbcd2-2252">藉由新增屬性證書表，可以將屬性憑證與映射建立關聯。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2252">Attribute certificates can be associated with an image by adding an attribute certificate table.</span></span> <span data-ttu-id="cbcd2-2253">屬性憑證資料表是由一組連續、雙線對齊的屬性憑證專案所組成。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2253">The attribute certificate table is composed of a set of contiguous, quadword-aligned attribute certificate entries.</span></span> <span data-ttu-id="cbcd2-2254">在檔案的原始結尾和屬性證書表的開頭之間插入零填補，以達成此對齊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2254">Zero padding is inserted between the original end of the file and the beginning of the attribute certificate table to achieve this alignment.</span></span> <span data-ttu-id="cbcd2-2255">每個屬性的憑證專案都包含下欄欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2255">Each attribute certificate entry contains the following fields.</span></span>



| <span data-ttu-id="cbcd2-2256">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2256">Offset</span></span>       | <span data-ttu-id="cbcd2-2257">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2257">Size</span></span>                         | <span data-ttu-id="cbcd2-2258">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2258">Field</span></span>                       | <span data-ttu-id="cbcd2-2259">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2259">Description</span></span>                                                                                                |
|--------------|------------------------------|-----------------------------|------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2260">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2260">0</span></span><br/> | <span data-ttu-id="cbcd2-2261">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2261">4</span></span><br/>                 | <span data-ttu-id="cbcd2-2262">dwLength</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2262">dwLength</span></span><br/>         | <span data-ttu-id="cbcd2-2263">指定屬性憑證專案的長度。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2263">Specifies the length of the attribute certificate entry.</span></span> <br/>                                       |
| <span data-ttu-id="cbcd2-2264">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2264">4</span></span><br/> | <span data-ttu-id="cbcd2-2265">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2265">2</span></span><br/>                 | <span data-ttu-id="cbcd2-2266">wRevision</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2266">wRevision</span></span><br/>        | <span data-ttu-id="cbcd2-2267">包含憑證版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2267">Contains the certificate version number.</span></span> <span data-ttu-id="cbcd2-2268">如需詳細資訊，請參閱下列文字。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2268">For details, see the following text.</span></span><br/>                   |
| <span data-ttu-id="cbcd2-2269">6</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2269">6</span></span><br/> | <span data-ttu-id="cbcd2-2270">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2270">2</span></span><br/>                 | <span data-ttu-id="cbcd2-2271">wCertificateType</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2271">wCertificateType</span></span><br/> | <span data-ttu-id="cbcd2-2272">指定 bCertificate 中的內容類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2272">Specifies the type of content in bCertificate.</span></span> <span data-ttu-id="cbcd2-2273">如需詳細資訊，請參閱下列文字。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2273">For details, see the following text.</span></span><br/>             |
| <span data-ttu-id="cbcd2-2274">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2274">8</span></span><br/> | <span data-ttu-id="cbcd2-2275">請參閱下列主題</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2275">See the following</span></span><br/> | <span data-ttu-id="cbcd2-2276">bCertificate</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2276">bCertificate</span></span><br/>     | <span data-ttu-id="cbcd2-2277">包含憑證，例如 Authenticode 簽章。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2277">Contains a certificate, such as an Authenticode signature.</span></span> <span data-ttu-id="cbcd2-2278">如需詳細資訊，請參閱下列文字。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2278">For details, see the following text.</span></span><br/> |



 

<span data-ttu-id="cbcd2-2279">選用標頭資料目錄中的憑證資料表專案的虛擬位址值是第一個屬性（attribute）憑證專案的檔案位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2279">The virtual address value from the Certificate Table entry in the Optional Header Data Directory is a file offset to the first attribute certificate entry.</span></span> <span data-ttu-id="cbcd2-2280">後續專案的存取方式，是從目前的屬性（attribute）憑證專案的開頭開始，將該專案的 dwLength 位元組（四捨五入至8位元組倍數）向前移動。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2280">Subsequent entries are accessed by advancing that entry's dwLength bytes, rounded up to an 8-byte multiple, from the start of the current attribute certificate entry.</span></span> <span data-ttu-id="cbcd2-2281">這會繼續進行，直到四捨五入 dwLength 值的總和等於選擇性標頭資料目錄中的 [憑證] 資料表專案的大小值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2281">This continues until the sum of the rounded dwLength values equals the Size value from the Certificates Table entry in the Optional Header Data Directory.</span></span> <span data-ttu-id="cbcd2-2282">如果四捨五入 dwLength 值的總和不等於大小值，則 [屬性] 或 [大小] 欄位就會損毀。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2282">If the sum of the rounded dwLength values does not equal the Size value, then either the attribute certificate table or the Size field is corrupted.</span></span>

<span data-ttu-id="cbcd2-2283">例如，如果選擇性的標頭資料目錄的憑證資料表專案包含：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2283">For example, if the Optional Header Data Directory's Certificate Table Entry contains:</span></span>


```C++
virtual address = 0x5000
size = 0x1000
```



<span data-ttu-id="cbcd2-2284">第一個憑證從磁片上的檔案開頭開始于位移0x5000。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2284">The first certificate starts at offset 0x5000 from the start of the file on disk.</span></span> <span data-ttu-id="cbcd2-2285">若要前進到所有屬性的憑證專案：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2285">To advance through all the attribute certificate entries:</span></span>

1.  <span data-ttu-id="cbcd2-2286">將第一個屬性憑證的 dwLength 值新增至起始位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2286">Add the first attribute certificate's dwLength value to the starting offset.</span></span>
2.  <span data-ttu-id="cbcd2-2287">將步驟1中的值四捨五入到最接近的8位元組倍數，以找出第二個屬性憑證專案的位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2287">Round the value from step 1 up to the nearest 8-byte multiple to find the offset of the second attribute certificate entry.</span></span>
3.  <span data-ttu-id="cbcd2-2288">將步驟2中的位移值新增至第二個屬性（attribute）憑證專案的 dwLength 值，然後四捨五入到最接近的8位元組倍數，以判斷第三個屬性憑證專案的位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2288">Add the offset value from step 2 to the second attribute certificate entry's dwLength value and round up to the nearest 8-byte multiple to determine the offset of the third attribute certificate entry.</span></span>
4.  <span data-ttu-id="cbcd2-2289">針對每個後續的憑證重複步驟3，直到計算位移等於 0x6000 (0x5000 start + 0x1000 total size) ，這表示您已逐步完成整個資料表。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2289">Repeat step 3 for each successive certificate until the calculated offset equals 0x6000 (0x5000 start + 0x1000 total size), which indicates that you've walked the entire table.</span></span>

<span data-ttu-id="cbcd2-2290">或者，您可以藉由在迴圈中呼叫 Win32 **ImageEnumerateCertificates** 函式來列舉憑證專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2290">Alternatively, you can enumerate the certificate entries by calling the Win32 **ImageEnumerateCertificates** function in a loop.</span></span> <span data-ttu-id="cbcd2-2291">如需函式參考頁面的連結，請參閱 [參考](#references)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2291">For a link to the function's reference page, see [References](#references).</span></span>

<span data-ttu-id="cbcd2-2292">只要專案具有正確的 dwLength 值、唯一的 wRevision 值和唯一的 wCertificateType 值，屬性憑證資料表專案可以包含任何憑證類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2292">Attribute certificate table entries can contain any certificate type, as long as the entry has the correct dwLength value, a unique wRevision value, and a unique wCertificateType value.</span></span> <span data-ttu-id="cbcd2-2293">最常見的憑證資料表專案類型是 WIN \_ 憑證結構，其記載于 Wintrust 中，並在本節的其餘部分討論。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2293">The most common type of certificate table entry is a WIN\_CERTIFICATE structure, which is documented in Wintrust.h and discussed in the remainder of this section.</span></span>

<span data-ttu-id="cbcd2-2294">WIN \_ 憑證 **wRevision** 成員的選項包含 (但不限於) 下列各項。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2294">The options for the WIN\_CERTIFICATE **wRevision** member include (but are not limited to) the following.</span></span>



| <span data-ttu-id="cbcd2-2295">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2295">Value</span></span>             | <span data-ttu-id="cbcd2-2296">名稱</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2296">Name</span></span>                                 | <span data-ttu-id="cbcd2-2297">注意</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2297">Notes</span></span>                                                                                                                                                 |
|-------------------|--------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2298">0x0100</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2298">0x0100</span></span><br/> | <span data-ttu-id="cbcd2-2299">WIN \_ CERT \_ 修訂 \_ 1 \_ 0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2299">WIN\_CERT\_REVISION\_1\_0</span></span><br/> | <span data-ttu-id="cbcd2-2300">第1版，即 Win 憑證結構的舊版本 \_ 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2300">Version 1, legacy version of the Win\_Certificate structure.</span></span> <span data-ttu-id="cbcd2-2301">只有驗證舊版 Authenticode 簽章的目的才支援此功能</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2301">It is supported only for purposes of verifying legacy Authenticode signatures</span></span><br/> |
| <span data-ttu-id="cbcd2-2302">0x0200</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2302">0x0200</span></span><br/> | <span data-ttu-id="cbcd2-2303">WIN \_ CERT \_ 修訂 \_ 2 \_ 0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2303">WIN\_CERT\_REVISION\_2\_0</span></span><br/> | <span data-ttu-id="cbcd2-2304">第2版是獲獎憑證結構的最新版本 \_ 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2304">Version 2 is the current version of the Win\_Certificate structure.</span></span> <br/>                                                                       |



 

<span data-ttu-id="cbcd2-2305">WIN \_ 憑證 **wCertificateType** 成員的選項包含 (但不限於下表中的) 專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2305">The options for the WIN\_CERTIFICATE **wCertificateType** member include (but are not limited to) the items in the following table.</span></span> <span data-ttu-id="cbcd2-2306">請注意，目前不支援某些值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2306">Note that some values are not currently supported.</span></span>



| <span data-ttu-id="cbcd2-2307">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2307">Value</span></span>             | <span data-ttu-id="cbcd2-2308">名稱</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2308">Name</span></span>                                           | <span data-ttu-id="cbcd2-2309">注意</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2309">Notes</span></span>                                                                                   |
|-------------------|------------------------------------------------|-----------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2310">0x0001</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2310">0x0001</span></span><br/> | <span data-ttu-id="cbcd2-2311">WIN \_ CERT \_ 類型 \_ X509</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2311">WIN\_CERT\_TYPE\_X509</span></span> <br/>              | <span data-ttu-id="cbcd2-2312">bCertificate 包含 x.509 憑證</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2312">bCertificate contains an X.509 Certificate</span></span> <br/> <span data-ttu-id="cbcd2-2313">不支援</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2313">Not Supported</span></span><br/>         |
| <span data-ttu-id="cbcd2-2314">0x0002</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2314">0x0002</span></span><br/> | <span data-ttu-id="cbcd2-2315">WIN \_ CERT \_ 類型 \_ PKCS \_ 簽署 \_ 資料</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2315">WIN\_CERT\_TYPE\_PKCS\_SIGNED\_DATA</span></span><br/> | <span data-ttu-id="cbcd2-2316">bCertificate 包含 PKCS \# 7 SignedData 結構</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2316">bCertificate contains a PKCS\#7 SignedData structure</span></span><br/>                         |
| <span data-ttu-id="cbcd2-2317">0x0003</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2317">0x0003</span></span><br/> | <span data-ttu-id="cbcd2-2318">WIN \_ 憑證 \_ 類型 \_ 保留 \_ 1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2318">WIN\_CERT\_TYPE\_RESERVED\_1</span></span><br/>        | <span data-ttu-id="cbcd2-2319">保留</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2319">Reserved</span></span> <br/>                                                                    |
| <span data-ttu-id="cbcd2-2320">0x0004</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2320">0x0004</span></span><br/> | <span data-ttu-id="cbcd2-2321">WIN \_ CERT \_ TYPE \_ TS \_ STACK \_ 已簽署</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2321">WIN\_CERT\_TYPE\_TS\_STACK\_SIGNED</span></span><br/>  | <span data-ttu-id="cbcd2-2322">終端機伺服器通訊協定堆疊憑證簽署</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2322">Terminal Server Protocol Stack Certificate signing</span></span> <br/> <span data-ttu-id="cbcd2-2323">不支援</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2323">Not Supported</span></span><br/> |



 

<span data-ttu-id="cbcd2-2324">WIN \_ 憑證結構的 **bCertificate** 成員包含可變長度的位元組陣列，其中包含由 **wCertificateType** 指定的內容類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2324">The WIN\_CERTIFICATE structure's **bCertificate** member contains a variable-length byte array with the content type specified by **wCertificateType**.</span></span> <span data-ttu-id="cbcd2-2325">Authenticode 支援的型別是 WIN \_ 憑證 \_ 類型 \_ pkcs \_ 簽署 \_ 資料，即 pkcs \# 7 **SignedData** 結構。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2325">The type supported by Authenticode is WIN\_CERT\_TYPE\_PKCS\_SIGNED\_DATA, a PKCS\#7 **SignedData** structure.</span></span> <span data-ttu-id="cbcd2-2326">如需 Authenticode 數位簽章格式的詳細資訊，請參閱 [Windows Authenticode 可攜式可執行檔](https://download.microsoft.com/download/9/c/5/9c5b2167-8017-4bae-9fde-d599bac8184a/Authenticode_PE.docx)簽章格式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2326">For details on the Authenticode digital signature format, see [Windows Authenticode Portable Executable Signature Format](https://download.microsoft.com/download/9/c/5/9c5b2167-8017-4bae-9fde-d599bac8184a/Authenticode_PE.docx).</span></span>

<span data-ttu-id="cbcd2-2327">如果 **bCertificate** 內容不是在四個四條的界限上結束，則會將屬性憑證專案填補為零，從 **bCertificate** 的結尾到下一個的四個四條界限。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2327">If the **bCertificate** content does not end on a quadword boundary, the attribute certificate entry is padded with zeros, from the end of **bCertificate** to the next quadword boundary.</span></span>

<span data-ttu-id="cbcd2-2328">**DwLength** 值是完成的 WIN 憑證結構的長度 \_ ，計算方式如下：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2328">The **dwLength** value is the length of the finalized WIN\_CERTIFICATE structure and is computed as:</span></span>

`dwLength = offsetof(WIN_CERTIFICATE, bCertificate) + (size of the variable-length binary array contained within bCertificate)`

<span data-ttu-id="cbcd2-2329">此長度應該包含任何填補的大小，其可用來滿足每個 WIN \_ 憑證結構都符合四個准的需求：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2329">This length should include the size of any padding that is used to satisfy the requirement that each WIN\_CERTIFICATE structure is quadword aligned:</span></span>

` dwLength += (8 - (dwLength & 7)) & 7;`

<span data-ttu-id="cbcd2-2330">**憑證資料表大小**-在 [選用標頭資料目錄](#optional-header-data-directories-image-only)的 [**憑證] 資料表** 專案中指定 (映射僅) -包含填補。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2330">The **Certificate Table size**-specified in the **Certificates Table** entry in the [Optional Header Data Directories (Image Only)](#optional-header-data-directories-image-only)- includes the padding.</span></span>

<span data-ttu-id="cbcd2-2331">如需有關使用 Imagehlp.dll API 來列舉、新增和移除 PE 檔案中憑證的詳細資訊，請參閱 [imagehlp.dll](imagehlp-functions.md)函式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2331">For more information on using the ImageHlp API to enumerate, add, and remove certificates from PE Files, see [ImageHlp Functions](imagehlp-functions.md).</span></span>

#### <a name="certificate-data"></a><span data-ttu-id="cbcd2-2332">憑證資料</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2332">Certificate Data</span></span>

<span data-ttu-id="cbcd2-2333">如上一節所述，屬性憑證表中的憑證可以包含任何憑證類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2333">As stated in the preceding section, the certificates in the attribute certificate table can contain any certificate type.</span></span> <span data-ttu-id="cbcd2-2334">確保 PE 檔案完整性的憑證可以包含 PE 映射雜湊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2334">Certificates that ensure a PE file's integrity may include a PE image hash.</span></span>

<span data-ttu-id="cbcd2-2335">PE 映射雜湊 (或檔案雜湊) 類似于檔案總和檢查碼，因為雜湊演算法會產生與檔案完整性相關的訊息摘要。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2335">A PE image hash (or file hash) is similar to a file checksum in that the hash algorithm produces a message digest that is related to the integrity of a file.</span></span> <span data-ttu-id="cbcd2-2336">不過，總和檢查碼是由簡單的演算法所產生，主要是用來偵測磁片上的記憶體區塊是否已損毀，且儲存的值已損毀。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2336">However, a checksum is produced by a simple algorithm and is used primarily to detect whether a block of memory on disk has gone bad and the values stored there have become corrupted.</span></span> <span data-ttu-id="cbcd2-2337">檔案雜湊類似于總和檢查碼，因為它也會偵測到檔案損毀。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2337">A file hash is similar to a checksum in that it also detects file corruption.</span></span> <span data-ttu-id="cbcd2-2338">但是，與大部分的總和檢查碼演算法不同的是，修改檔案時，不會變更檔案雜湊的原始未修改值是很困難的。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2338">However, unlike most checksum algorithms, it is very difficult to modify a file without changing the file hash from its original unmodified value.</span></span> <span data-ttu-id="cbcd2-2339">檔案雜湊可供用來偵測對檔案進行刻意甚至微妙的修改，例如病毒、駭客或特洛伊程式所引進的檔案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2339">A file hash can thus be used to detect intentional and even subtle modifications to a file, such as those introduced by viruses, hackers, or Trojan horse programs.</span></span>

<span data-ttu-id="cbcd2-2340">包含在憑證中時，映射摘要必須排除 PE 映射中的特定欄位，例如選用標頭資料目錄中的總和檢查碼和憑證資料表專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2340">When included in a certificate, the image digest must exclude certain fields in the PE Image, such as the Checksum and Certificate Table entry in Optional Header Data Directories.</span></span> <span data-ttu-id="cbcd2-2341">這是因為新增憑證的動作會變更這些欄位，而且會導致計算不同的雜湊值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2341">This is because the act of adding a Certificate changes these fields and would cause a different hash value to be calculated.</span></span>

<span data-ttu-id="cbcd2-2342">Win32 **ImageGetDigestStream** 函式會從目標 PE 檔案中提供用來雜湊函數的資料流程。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2342">The Win32 **ImageGetDigestStream** function provides a data stream from a target PE file with which to hash functions.</span></span> <span data-ttu-id="cbcd2-2343">在 PE 檔案中新增或移除憑證時，此資料流程會保持一致。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2343">This data stream remains consistent when certificates are added to or removed from a PE file.</span></span> <span data-ttu-id="cbcd2-2344">根據傳遞給 **ImageGetDigestStream** 的參數，可以從雜湊計算中省略 PE 映射中的其他資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2344">Based on the parameters that are passed to **ImageGetDigestStream**, other data from the PE image can be omitted from the hash computation.</span></span> <span data-ttu-id="cbcd2-2345">如需函式參考頁面的連結，請參閱 [參考](#references)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2345">For a link to the function's reference page, see [References](#references).</span></span>

### <a name="delay-load-import-tables-image-only"></a><span data-ttu-id="cbcd2-2346">Delay-Load 只 (映射匯入資料表) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2346">Delay-Load Import Tables (Image Only)</span></span>

<span data-ttu-id="cbcd2-2347">這些資料表已加入至映射以支援應用程式的統一機制，以延遲載入 DLL，直到第一次呼叫該 DLL 為止。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2347">These tables were added to the image to support a uniform mechanism for applications to delay the loading of a DLL until the first call into that DLL.</span></span> <span data-ttu-id="cbcd2-2348">資料表的版面配置與傳統匯入資料表的版面配置相符，如 [idata](#the-idata-section)一節6.4 中所述。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2348">The layout of the tables matches that of the traditional import tables that are described in section 6.4, [The .idata Section](#the-idata-section)."</span></span> <span data-ttu-id="cbcd2-2349">這裡只會討論一些詳細資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2349">Only a few details are discussed here.</span></span>

#### <a name="the-delay-load-directory-table"></a><span data-ttu-id="cbcd2-2350">Delay-Load Directory 資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2350">The Delay-Load Directory Table</span></span>

<span data-ttu-id="cbcd2-2351">延遲載入目錄資料表是匯入目錄資料表的對應項。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2351">The delay-load directory table is the counterpart to the import directory table.</span></span> <span data-ttu-id="cbcd2-2352">您可以透過選擇性標頭資料目錄清單中的延遲匯入描述項專案來抓取， (offset 200) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2352">It can be retrieved through the Delay Import Descriptor entry in the optional header data directories list (offset 200).</span></span> <span data-ttu-id="cbcd2-2353">資料表的相片順序如下：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2353">The table is arranged as follows:</span></span>



| <span data-ttu-id="cbcd2-2354">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2354">Offset</span></span>         | <span data-ttu-id="cbcd2-2355">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2355">Size</span></span>          | <span data-ttu-id="cbcd2-2356">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2356">Field</span></span>                                  | <span data-ttu-id="cbcd2-2357">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2357">Description</span></span>                                                                                                                                                                                                                                                                                                                  |
|----------------|---------------|----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2358">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2358">0</span></span> <br/>  | <span data-ttu-id="cbcd2-2359">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2359">4</span></span> <br/> | <span data-ttu-id="cbcd2-2360">屬性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2360">Attributes</span></span> <br/>                 | <span data-ttu-id="cbcd2-2361">必須為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2361">Must be zero.</span></span> <br/>                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="cbcd2-2362">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2362">4</span></span> <br/>  | <span data-ttu-id="cbcd2-2363">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2363">4</span></span> <br/> | <span data-ttu-id="cbcd2-2364">Name</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2364">Name</span></span> <br/>                       | <span data-ttu-id="cbcd2-2365">要載入之 DLL 名稱的 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2365">The RVA of the name of the DLL to be loaded.</span></span> <span data-ttu-id="cbcd2-2366">名稱位於影像的唯讀資料區段中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2366">The name resides in the read-only data section of the image.</span></span> <br/>                                                                                                                                                                                                        |
| <span data-ttu-id="cbcd2-2367">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2367">8</span></span> <br/>  | <span data-ttu-id="cbcd2-2368">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2368">4</span></span> <br/> | <span data-ttu-id="cbcd2-2369">模組控制碼</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2369">Module Handle</span></span> <br/>              | <span data-ttu-id="cbcd2-2370">模組的 RVA 會處理要延遲載入之 DLL) 之影像的資料區段中 (。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2370">The RVA of the module handle (in the data section of the image) of the DLL to be delay-loaded.</span></span> <span data-ttu-id="cbcd2-2371">它是由提供用來管理延遲載入的常式用於儲存。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2371">It is used for storage by the routine that is supplied to manage delay-loading.</span></span> <br/>                                                                                                                                   |
| <span data-ttu-id="cbcd2-2372">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2372">12</span></span> <br/> | <span data-ttu-id="cbcd2-2373">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2373">4</span></span> <br/> | <span data-ttu-id="cbcd2-2374">延遲匯入位址表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2374">Delay Import Address Table</span></span> <br/> | <span data-ttu-id="cbcd2-2375">延遲載入匯入位址資料表的 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2375">The RVA of the delay-load import address table.</span></span> <span data-ttu-id="cbcd2-2376">如需詳細資訊，請參閱 [延遲匯入位址表 (IAT) ](#delay-import-address-table)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2376">For more information, see [Delay Import Address Table (IAT)](#delay-import-address-table).</span></span> <br/>                                                                                                                                                                       |
| <span data-ttu-id="cbcd2-2377">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2377">16</span></span> <br/> | <span data-ttu-id="cbcd2-2378">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2378">4</span></span> <br/> | <span data-ttu-id="cbcd2-2379">延遲匯入名稱資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2379">Delay Import Name Table</span></span> <br/>    | <span data-ttu-id="cbcd2-2380">延遲載入名稱資料表的 RVA，其中包含可能需要載入的匯入名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2380">The RVA of the delay-load name table, which contains the names of the imports that might need to be loaded.</span></span> <span data-ttu-id="cbcd2-2381">這與匯入名稱資料表的版面配置相符。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2381">This matches the layout of the import name table.</span></span> <span data-ttu-id="cbcd2-2382">如需詳細資訊，請參閱 [提示/名稱表](#hintname-table)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2382">For more information, see [Hint/Name Table](#hintname-table).</span></span><br/>                                                                                       |
| <span data-ttu-id="cbcd2-2383">20</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2383">20</span></span> <br/> | <span data-ttu-id="cbcd2-2384">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2384">4</span></span> <br/> | <span data-ttu-id="cbcd2-2385">系結延遲匯入資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2385">Bound Delay Import Table</span></span> <br/>   | <span data-ttu-id="cbcd2-2386">系結延遲載入位址資料表的 RVA （如果存在的話）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2386">The RVA of the bound delay-load address table, if it exists.</span></span> <br/>                                                                                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-2387">24</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2387">24</span></span> <br/> | <span data-ttu-id="cbcd2-2388">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2388">4</span></span> <br/> | <span data-ttu-id="cbcd2-2389">卸載延遲匯入資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2389">Unload Delay Import Table</span></span> <br/>  | <span data-ttu-id="cbcd2-2390">卸載延遲載入位址資料表的 RVA （如果存在的話）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2390">The RVA of the unload delay-load address table, if it exists.</span></span> <span data-ttu-id="cbcd2-2391">這是延遲匯入位址表的完整複本。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2391">This is an exact copy of the delay import address table.</span></span> <span data-ttu-id="cbcd2-2392">如果呼叫端卸載 DLL，則應該將此資料表複製回延遲匯入位址表，如此一來，後續的 DLL 呼叫就會繼續正確地使用 Thunking 機制。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2392">If the caller unloads the DLL, this table should be copied back over the delay import address table so that subsequent calls to the DLL continue to use the thunking mechanism correctly.</span></span> <br/> |
| <span data-ttu-id="cbcd2-2393">28</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2393">28</span></span> <br/> | <span data-ttu-id="cbcd2-2394">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2394">4</span></span> <br/> | <span data-ttu-id="cbcd2-2395">時間戳記</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2395">Time Stamp</span></span> <br/>                 | <span data-ttu-id="cbcd2-2396">此映射已系結之 DLL 的時間戳記。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2396">The timestamp of the DLL to which this image has been bound.</span></span> <br/>                                                                                                                                                                                                                                                     |



 

<span data-ttu-id="cbcd2-2397">此資料結構中所參考的資料表會依其對應專案的形式進行組織和排序，就像傳統匯入一樣。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2397">The tables that are referenced in this data structure are organized and sorted just as their counterparts are for traditional imports.</span></span> <span data-ttu-id="cbcd2-2398">如需詳細資訊，請參閱 [Idata 一節](#the-idata-section)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2398">For details, see [The .idata Section](#the-idata-section).</span></span>

#### <a name="attributes"></a><span data-ttu-id="cbcd2-2399">屬性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2399">Attributes</span></span>

<span data-ttu-id="cbcd2-2400">但是，不會定義任何屬性旗標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2400">As yet, no attribute flags are defined.</span></span> <span data-ttu-id="cbcd2-2401">連結器會將此欄位設定為影像中的零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2401">The linker sets this field to zero in the image.</span></span> <span data-ttu-id="cbcd2-2402">您可以使用此欄位來擴充記錄，方法是指出新欄位是否存在，或者可用來指出延遲或卸載 helper 函式的行為。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2402">This field can be used to extend the record by indicating the presence of new fields, or it can be used to indicate behaviors to the delay or unload helper functions.</span></span>

#### <a name="name"></a><span data-ttu-id="cbcd2-2403">Name</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2403">Name</span></span>

<span data-ttu-id="cbcd2-2404">要延遲載入的 DLL 名稱位於映射的唯讀資料區段中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2404">The name of the DLL to be delay-loaded resides in the read-only data section of the image.</span></span> <span data-ttu-id="cbcd2-2405">它是透過 >szname 欄位來參考。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2405">It is referenced through the szName field.</span></span>

#### <a name="module-handle"></a><span data-ttu-id="cbcd2-2406">模組控制碼</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2406">Module Handle</span></span>

<span data-ttu-id="cbcd2-2407">要延遲載入之 DLL 的控制碼位於影像的 [資料] 區段中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2407">The handle of the DLL to be delay-loaded is in the data section of the image.</span></span> <span data-ttu-id="cbcd2-2408">Phmod 欄位指向控制碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2408">The phmod field points to the handle.</span></span> <span data-ttu-id="cbcd2-2409">提供的延遲載入協助程式會使用這個位置，將控制碼儲存至載入的 DLL。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2409">The supplied delay-load helper uses this location to store the handle to the loaded DLL.</span></span>

#### <a name="delay-import-address-table"></a><span data-ttu-id="cbcd2-2410">延遲匯入位址表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2410">Delay Import Address Table</span></span>

<span data-ttu-id="cbcd2-2411">延遲匯入位址表 (IAT) 由延遲匯入描述元透過 pIAT 欄位參考。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2411">The delay import address table (IAT) is referenced by the delay import descriptor through the pIAT field.</span></span> <span data-ttu-id="cbcd2-2412">延遲載入協助程式會使用真正的進入點來更新這些指標，讓 Thunk 不再存在於呼叫迴圈中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2412">The delay-load helper updates these pointers with the real entry points so that the thunks are no longer in the calling loop.</span></span> <span data-ttu-id="cbcd2-2413">您可以使用運算式來存取函式指標 `pINT->u1.Function` 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2413">The function pointers are accessed by using the expression `pINT->u1.Function`.</span></span>

#### <a name="delay-import-name-table"></a><span data-ttu-id="cbcd2-2414">延遲匯入名稱資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2414">Delay Import Name Table</span></span>

<span data-ttu-id="cbcd2-2415">延遲匯入名稱表 (INT) 包含可能需要載入的匯入名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2415">The delay import name table (INT) contains the names of the imports that might require loading.</span></span> <span data-ttu-id="cbcd2-2416">它們的排序方式與 IAT 中的函數指標相同。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2416">They are ordered in the same fashion as the function pointers in the IAT.</span></span> <span data-ttu-id="cbcd2-2417">它們是由與標準 INT 相同的結構所組成，而且是使用運算式來存取 `pINT->u1.AddressOfData->Name[0]` 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2417">They consist of the same structures as the standard INT and are accessed by using the expression `pINT->u1.AddressOfData->Name[0]`.</span></span>

#### <a name="delay-bound-import-address-table-and-time-stamp"></a><span data-ttu-id="cbcd2-2418">延遲系結匯入位址資料表和時間戳記</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2418">Delay Bound Import Address Table and Time Stamp</span></span>

<span data-ttu-id="cbcd2-2419">延遲系結匯入位址表 (BIAT) 是一份選擇性的影像 \_ THUNK \_ 資料項目資料表，可與延遲載入目錄資料表的時間戳記欄位搭配使用後置處理常式系結階段使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2419">The delay bound import address table (BIAT) is an optional table of IMAGE\_THUNK\_DATA items that is used along with the timestamp field of the delay-load directory table by a post-process binding phase.</span></span>

#### <a name="delay-unload-import-address-table"></a><span data-ttu-id="cbcd2-2420">延遲卸載匯入位址表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2420">Delay Unload Import Address Table</span></span>

<span data-ttu-id="cbcd2-2421">延遲卸載匯入位址表 (UIAT) 是卸載程式 \_ \_ 代碼用來處理明確卸載要求之影像 THUNK 資料項目的選擇性資料表。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2421">The delay unload import address table (UIAT) is an optional table of IMAGE\_THUNK\_DATA items that the unload code uses to handle an explicit unload request.</span></span> <span data-ttu-id="cbcd2-2422">它是由唯讀區段中的初始化資料所組成，這是原始 IAT 的完整複本，會將程式碼參考至延遲載入的 Thunk。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2422">It consists of initialized data in the read-only section that is an exact copy of the original IAT that referred the code to the delay-load thunks.</span></span> <span data-ttu-id="cbcd2-2423">在卸載要求中，可以釋出程式庫、 \* 清除 phmod，以及寫入 IAT 的 UIAT，以將所有內容還原至其預先載入的狀態。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2423">On the unload request, the library can be freed, the \*phmod cleared, and the UIAT written over the IAT to restore everything to its preload state.</span></span>

## <a name="special-sections"></a><span data-ttu-id="cbcd2-2424">特殊章節</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2424">Special Sections</span></span>

- [<span data-ttu-id="cbcd2-2425">Debug 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2425">The .debug Section</span></span>](#the-debug-section)
  - [<span data-ttu-id="cbcd2-2426">僅限 (映射) 的 Debug Directory </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2426">Debug Directory (Image Only)</span></span>](#debug-directory-image-only)
  - [<span data-ttu-id="cbcd2-2427">Debug 型別</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2427">Debug Type</span></span>](#debug-type)
  - [<span data-ttu-id="cbcd2-2428">。僅) debug $ F (物件 </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2428">.debug$F (Object Only)</span></span>](#debugf-object-only)
  - [<span data-ttu-id="cbcd2-2429">。 debug $ S 僅 (物件) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2429">.debug$S (Object Only)</span></span>](#debugs-object-only)
  - [<span data-ttu-id="cbcd2-2430">。僅) debug $ P (物件 </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2430">.debug$P (Object Only)</span></span>](#debugp-object-only)
  - [<span data-ttu-id="cbcd2-2431">。僅) debug $ T (物件 </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2431">.debug$T (Object Only)</span></span>](#debugt-object-only)
  - [<span data-ttu-id="cbcd2-2432">Microsoft Debug 資訊的連結器支援</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2432">Linker Support for Microsoft Debug Information</span></span>](#linker-support-for-microsoft-debug-information)
- [<span data-ttu-id="cbcd2-2433">Drectve 區段僅 (物件) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2433">The .drectve Section (Object Only)</span></span>](#the-drectve-section-object-only)
- [<span data-ttu-id="cbcd2-2434">Edata 區段只 (映射) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2434">The .edata Section (Image Only)</span></span>](#the-edata-section-image-only)
  - [<span data-ttu-id="cbcd2-2435">匯出目錄資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2435">Export Directory Table</span></span>](#export-directory-table)
  - [<span data-ttu-id="cbcd2-2436">匯出位址資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2436">Export Address Table</span></span>](#export-address-table)
  - [<span data-ttu-id="cbcd2-2437">匯出名稱指標資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2437">Export Name Pointer Table</span></span>](#export-name-pointer-table)
  - [<span data-ttu-id="cbcd2-2438">匯出序數資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2438">Export Ordinal Table</span></span>](#export-ordinal-table)
  - [<span data-ttu-id="cbcd2-2439">匯出名稱資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2439">Export Name Table</span></span>](#export-name-table)
- [<span data-ttu-id="cbcd2-2440">Idata 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2440">The .idata Section</span></span>](#the-idata-section)
  - [<span data-ttu-id="cbcd2-2441">匯入目錄資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2441">Import Directory Table</span></span>](#import-directory-table)
  - [<span data-ttu-id="cbcd2-2442">匯入查閱資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2442">Import Lookup Table</span></span>](#import-lookup-table)
  - [<span data-ttu-id="cbcd2-2443">提示/名稱表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2443">Hint/Name Table</span></span>](#hintname-table)
  - [<span data-ttu-id="cbcd2-2444">匯入位址表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2444">Import Address Table</span></span>](#delay-import-address-table)
- [<span data-ttu-id="cbcd2-2445">.Pdata 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2445">The .pdata Section</span></span>](#the-pdata-section)
- [<span data-ttu-id="cbcd2-2446">Reloc 區段只 (映射) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2446">The .reloc Section (Image Only)</span></span>](#the-reloc-section-image-only)
  - [<span data-ttu-id="cbcd2-2447">基底重新配置區塊</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2447">Base Relocation Block</span></span>](#base-relocation-block)
  - [<span data-ttu-id="cbcd2-2448">基底重新配置類型</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2448">Base Relocation Types</span></span>](#base-relocation-types)
- [<span data-ttu-id="cbcd2-2449">Tls 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2449">The .tls Section</span></span>](#the-tls-section)
  - [<span data-ttu-id="cbcd2-2450">TLS 目錄</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2450">The TLS Directory</span></span>](#the-tls-directory)
  - [<span data-ttu-id="cbcd2-2451">TLS 回呼函式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2451">TLS Callback Functions</span></span>](#tls-callback-functions)
- [<span data-ttu-id="cbcd2-2452">負載設定結構只 (映射) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2452">The Load Configuration Structure (Image Only)</span></span>](#the-load-configuration-structure-image-only)
  - [<span data-ttu-id="cbcd2-2453">載入設定目錄</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2453">Load Configuration Directory</span></span>](#load-configuration-directory)
  - [<span data-ttu-id="cbcd2-2454">載入設定配置</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2454">Load Configuration Layout</span></span>](#load-configuration-layout)
- [<span data-ttu-id="cbcd2-2455">.Rsrc 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2455">The .rsrc Section</span></span>](#the-rsrc-section)
  - [<span data-ttu-id="cbcd2-2456">資源目錄資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2456">Resource Directory Table</span></span>](#resource-directory-table)
  - [<span data-ttu-id="cbcd2-2457">資原始目錄專案</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2457">Resource Directory Entries</span></span>](#resource-directory-entries)
  - [<span data-ttu-id="cbcd2-2458">資原始目錄字串</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2458">Resource Directory String</span></span>](#resource-directory-string)
  - [<span data-ttu-id="cbcd2-2459">資源資料輸入</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2459">Resource Data Entry</span></span>](#resource-data-entry)
- [<span data-ttu-id="cbcd2-2460">Cormeta 區段僅 (物件) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2460">The .cormeta Section (Object Only)</span></span>](#the-cormeta-section-object-only)
- [<span data-ttu-id="cbcd2-2461">Sxdata 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2461">The .sxdata Section</span></span>](#the-sxdata-section)

<span data-ttu-id="cbcd2-2462">一般 COFF 區段包含的程式碼或資料，會連結器和 Microsoft Win32 載入器處理，而不需要特別瞭解區段內容。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2462">Typical COFF sections contain code or data that linkers and Microsoft Win32 loaders process without special knowledge of the section contents.</span></span> <span data-ttu-id="cbcd2-2463">這些內容僅與正在連結或執行的應用程式相關。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2463">The contents are relevant only to the application that is being linked or executed.</span></span>

<span data-ttu-id="cbcd2-2464">不過，在物件檔案或影像檔中找到某些 COFF 區段時，會有特殊意義。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2464">However, some COFF sections have special meanings when found in object files or image files.</span></span> <span data-ttu-id="cbcd2-2465">因為工具和載入器會在區段標頭中設定特殊旗標，所以會辨識這些區段，因為影像選用標頭中的特殊位置會指向它們，或者因為區段名稱本身表示區段的特殊功能。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2465">Tools and loaders recognize these sections because they have special flags set in the section header, because special locations in the image optional header point to them, or because the section name itself indicates a special function of the section.</span></span> <span data-ttu-id="cbcd2-2466"> (即使區段名稱本身並未指出區段的特殊函式，區段名稱仍會依照慣例來決定，因此此規格的作者可以在所有情況下參考區段名稱。 ) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2466">(Even if the section name itself does not indicate a special function of the section, the section name is dictated by convention, so the authors of this specification can refer to a section name in all cases.)</span></span>

<span data-ttu-id="cbcd2-2467">下表描述保留的區段和其屬性，後面接著保存在可執行檔中的區段型別詳細描述，以及包含擴充的中繼資料的區段類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2467">The reserved sections and their attributes are described in the table below, followed by detailed descriptions for the section types that are persisted into executables and the section types that contain metadata for extensions.</span></span>



| <span data-ttu-id="cbcd2-2468">區段名稱</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2468">Section Name</span></span>          | <span data-ttu-id="cbcd2-2469">Content</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2469">Content</span></span>                                                                                                                                                                  | <span data-ttu-id="cbcd2-2470">特性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2470">Characteristics</span></span>                                                                                                                                                                                                                                                                                                                                                                                   |
|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2471">bss</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2471">.bss</span></span> <br/>      | <span data-ttu-id="cbcd2-2472"> (免費格式的未初始化資料) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2472">Uninitialized data (free format)</span></span> <br/>                                                                                                                             | <span data-ttu-id="cbcd2-2473">映射 \_ SCN \_ CNT \_ 未初始化的 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取 \| 映射 \_ SCN \_ 記憶體 \_ 寫入</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2473">IMAGE\_SCN\_CNT\_UNINITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_WRITE</span></span> <br/>                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="cbcd2-2474">.cormeta</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2474">.cormeta</span></span> <br/>  | <span data-ttu-id="cbcd2-2475">表示物件檔案包含 managed 程式碼的 CLR 中繼資料</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2475">CLR metadata that indicates that the object file contains managed code</span></span> <br/>                                                                                       | <span data-ttu-id="cbcd2-2476">影像 \_ SCN \_ .LNK \_ 資訊</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2476">IMAGE\_SCN\_LNK\_INFO</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-2477">。資料</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2477">.data</span></span> <br/>     | <span data-ttu-id="cbcd2-2478"> (免費格式初始化資料) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2478">Initialized data (free format)</span></span> <br/>                                                                                                                               | <span data-ttu-id="cbcd2-2479">映射 \_ SCN \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取 \| 映射 \_ SCN \_ 記憶體 \_ 寫入</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2479">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_WRITE</span></span> <br/>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-2480">。 debug $ F</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2480">.debug$F</span></span> <br/>  | <span data-ttu-id="cbcd2-2481">產生的 FPO debug 資訊僅 (物件、x86 架構，現在已淘汰) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2481">Generated FPO debug information (object only, x86 architecture only, and now obsolete)</span></span> <br/>                                                                       | <span data-ttu-id="cbcd2-2482">映射 \_ SCN \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取 \| 映射 \_ SCN \_ 記憶體 \_ DISCARDABLE</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2482">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_DISCARDABLE</span></span> <br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-2483">。 debug $ P</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2483">.debug$P</span></span> <br/>  | <span data-ttu-id="cbcd2-2484">僅 (物件) 先行編譯的 debug 類型</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2484">Precompiled debug types (object only)</span></span> <br/>                                                                                                                        | <span data-ttu-id="cbcd2-2485">映射 \_ SCN \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取 \| 映射 \_ SCN \_ 記憶體 \_ DISCARDABLE</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2485">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_DISCARDABLE</span></span> <br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-2486">。 debug $ S</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2486">.debug$S</span></span> <br/>  | <span data-ttu-id="cbcd2-2487">僅 (物件的 Debug 符號) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2487">Debug symbols (object only)</span></span> <br/>                                                                                                                                  | <span data-ttu-id="cbcd2-2488">映射 \_ SCN \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取 \| 映射 \_ SCN \_ 記憶體 \_ DISCARDABLE</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2488">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_DISCARDABLE</span></span> <br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-2489">。 debug $ T</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2489">.debug$T</span></span> <br/>  | <span data-ttu-id="cbcd2-2490">僅 (物件的 Debug 類型) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2490">Debug types (object only)</span></span> <br/>                                                                                                                                    | <span data-ttu-id="cbcd2-2491">映射 \_ SCN \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取 \| 映射 \_ SCN \_ 記憶體 \_ DISCARDABLE</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2491">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_DISCARDABLE</span></span> <br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-2492">.drective</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2492">.drective</span></span> <br/> | <span data-ttu-id="cbcd2-2493">連結器選項</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2493">Linker options</span></span> <br/>                                                                                                                                               | <span data-ttu-id="cbcd2-2494">影像 \_ SCN \_ .LNK \_ 資訊</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2494">IMAGE\_SCN\_LNK\_INFO</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-2495">.edata</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2495">.edata</span></span> <br/>    | <span data-ttu-id="cbcd2-2496">匯出資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2496">Export tables</span></span> <br/>                                                                                                                                                | <span data-ttu-id="cbcd2-2497">映射 \_ SCN \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2497">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ</span></span> <br/>                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-2498">.idata</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2498">.idata</span></span> <br/>    | <span data-ttu-id="cbcd2-2499">匯入資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2499">Import tables</span></span> <br/>                                                                                                                                                | <span data-ttu-id="cbcd2-2500">映射 \_ SCN \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取 \| 映射 \_ SCN \_ 記憶體 \_ 寫入</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2500">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_WRITE</span></span> <br/>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-2501">. .idlsym</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2501">.idlsym</span></span> <br/>   | <span data-ttu-id="cbcd2-2502">包含已註冊的 SEH (映射) 支援 IDL 屬性。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2502">Includes registered SEH (image only) to support IDL attributes.</span></span> <span data-ttu-id="cbcd2-2503">如需詳細資訊，請參閱本主題結尾之 [參考](#references) 中的「IDL 屬性」。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2503">For information, see "IDL Attributes" in [References](#references) at the end of this topic.</span></span> <br/> | <span data-ttu-id="cbcd2-2504">影像 \_ SCN \_ .LNK \_ 資訊</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2504">IMAGE\_SCN\_LNK\_INFO</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-2505">. .pdata</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2505">.pdata</span></span> <br/>    | <span data-ttu-id="cbcd2-2506">例外狀況資訊</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2506">Exception information</span></span> <br/>                                                                                                                                        | <span data-ttu-id="cbcd2-2507">映射 \_ SCN \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2507">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ</span></span> <br/>                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-2508">. .rdata</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2508">.rdata</span></span> <br/>    | <span data-ttu-id="cbcd2-2509">唯讀的初始化資料</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2509">Read-only initialized data</span></span> <br/>                                                                                                                                   | <span data-ttu-id="cbcd2-2510">映射 \_ SCN \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2510">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ</span></span> <br/>                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-2511">.reloc</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2511">.reloc</span></span> <br/>    | <span data-ttu-id="cbcd2-2512">映射重新置放</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2512">Image relocations</span></span> <br/>                                                                                                                                            | <span data-ttu-id="cbcd2-2513">映射 \_ SCN \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取 \| 映射 \_ SCN \_ 記憶體 \_ DISCARDABLE</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2513">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_DISCARDABLE</span></span> <br/>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-2514">. .rsrc</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2514">.rsrc</span></span> <br/>     | <span data-ttu-id="cbcd2-2515">資原始目錄</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2515">Resource directory</span></span> <br/>                                                                                                                                           | <span data-ttu-id="cbcd2-2516">映射 \_ SCN \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2516">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ</span></span> <br/>                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-2517">.sbss</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2517">.sbss</span></span> <br/>     | <span data-ttu-id="cbcd2-2518">GP 相關的未初始化資料 (免費格式) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2518">GP-relative uninitialized data (free format)</span></span> <br/>                                                                                                                 | <span data-ttu-id="cbcd2-2519">影像 \_ scn \_ CNT \_ 未初始化的 \_ 資料 \| 映射 \_ scn \_ 記憶體 \_ 讀取 \| 映射 \_ scn \_ 記憶體 \_ 寫入 \| 映射 \_ scn \_ GPREL \_ \_ 僅應針對 IA64 架構設定影像 scn GPREL 旗標; 此旗標對其他架構而言是不正確。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2519">IMAGE\_SCN\_CNT\_UNINITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_WRITE \| IMAGE \_SCN\_GPREL The IMAGE\_SCN\_GPREL flag should be set for IA64 architectures only; this flag is not valid for other architectures.</span></span> <span data-ttu-id="cbcd2-2520">影像 \_ scn \_ GPREL 旗標僅適用于物件檔案; 當這個區段類型出現在影像檔案中時， \_ \_ 不能設定影像 scn GPREL 旗標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2520">The IMAGE\_SCN\_GPREL flag is for object files only; when this section type appears in an image file, the IMAGE\_SCN\_GPREL flag must not be set.</span></span> <br/> |
| <span data-ttu-id="cbcd2-2521">.sdata</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2521">.sdata</span></span> <br/>    | <span data-ttu-id="cbcd2-2522"> (免費格式的 GP 相關初始化資料) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2522">GP-relative initialized data (free format)</span></span> <br/>                                                                                                                   | <span data-ttu-id="cbcd2-2523">影像 \_ scn \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ scn \_ 記憶體 \_ 讀取 \| 映射 \_ scn \_ 記憶體 \_ 寫入 \| 映射 \_ scn \_ GPREL \_ \_ 應只針對 IA64 架構設定影像 scn GPREL 旗標; 此旗標對其他架構而言是不正確。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2523">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_WRITE \| IMAGE \_SCN\_GPREL The IMAGE\_SCN\_GPREL flag should be set for IA64 architectures only; this flag is not valid for other architectures.</span></span> <span data-ttu-id="cbcd2-2524">影像 \_ scn \_ GPREL 旗標僅適用于物件檔案; 當這個區段類型出現在影像檔案中時， \_ \_ 不能設定影像 scn GPREL 旗標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2524">The IMAGE\_SCN\_GPREL flag is for object files only; when this section type appears in an image file, the IMAGE\_SCN\_GPREL flag must not be set.</span></span> <br/>   |
| <span data-ttu-id="cbcd2-2525">.srdata</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2525">.srdata</span></span> <br/>   | <span data-ttu-id="cbcd2-2526"> (免費格式的 GP 相對唯讀資料) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2526">GP-relative read-only data (free format)</span></span> <br/>                                                                                                                     | <span data-ttu-id="cbcd2-2527">映射 \_ scn \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取 \| 映射 \_ scn \_ GPREL 映射 \_ scn \_ GPREL 旗標只能針對 IA64 架構設定; 此旗標對其他架構而言是不正確。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2527">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE \_SCN\_GPREL The IMAGE\_SCN\_GPREL flag should be set for IA64 architectures only; this flag is not valid for other architectures.</span></span> <span data-ttu-id="cbcd2-2528">影像 \_ scn \_ GPREL 旗標僅適用于物件檔案; 當這個區段類型出現在影像檔案中時， \_ \_ 不能設定影像 scn GPREL 旗標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2528">The IMAGE\_SCN\_GPREL flag is for object files only; when this section type appears in an image file, the IMAGE\_SCN\_GPREL flag must not be set.</span></span> <br/>                             |
| <span data-ttu-id="cbcd2-2529">.sxdata</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2529">.sxdata</span></span> <br/>   | <span data-ttu-id="cbcd2-2530">已註冊的例外狀況處理常式資料 (自由格式和 x86/物件) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2530">Registered exception handler data (free format and x86/object only)</span></span> <br/>                                                                                          | <span data-ttu-id="cbcd2-2531">影像 \_ SCN \_ .Lnk \_ 資訊包含每個例外狀況處理常式的符號索引，這些例外狀況處理常式是由該物件檔案中的程式碼所參考。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2531">IMAGE\_SCN\_LNK\_INFO Contains the symbol index of each of the exception handlers being referred to by the code in that object file.</span></span> <span data-ttu-id="cbcd2-2532">此符號可以是適用于 UNDEF 符號或該模組中所定義的符號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2532">The symbol can be for an UNDEF symbol or one that is defined in that module.</span></span> <br/>                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-2533">.text</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2533">.text</span></span> <br/>     | <span data-ttu-id="cbcd2-2534"> (免費格式的可執行程式碼) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2534">Executable code (free format)</span></span> <br/>                                                                                                                                | <span data-ttu-id="cbcd2-2535">影像 \_ SCN \_ CNT 程式 \_ 代碼 \| 圖像 \_ SCN \_ 記憶體 \_ 執行 IIMAGE 的 \| \_ SCN \_ 記憶體 \_ 讀取</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2535">IMAGE\_SCN\_CNT\_CODE \| IMAGE\_SCN\_MEM\_EXECUTE \| IIMAGE\_SCN\_MEM\_READ</span></span> <br/>                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-2536">tls</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2536">.tls</span></span> <br/>      | <span data-ttu-id="cbcd2-2537">僅限執行緒區域儲存 (物件) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2537">Thread-local storage (object only)</span></span> <br/>                                                                                                                           | <span data-ttu-id="cbcd2-2538">映射 \_ SCN \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取 \| 映射 \_ SCN \_ 記憶體 \_ 寫入</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2538">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_WRITE</span></span> <br/>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-2539">tls $</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2539">.tls$</span></span> <br/>     | <span data-ttu-id="cbcd2-2540">僅限執行緒區域儲存 (物件) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2540">Thread-local storage (object only)</span></span> <br/>                                                                                                                           | <span data-ttu-id="cbcd2-2541">映射 \_ SCN \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取 \| 映射 \_ SCN \_ 記憶體 \_ 寫入</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2541">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_WRITE</span></span> <br/>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-2542">.vsdata</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2542">.vsdata</span></span> <br/>   | <span data-ttu-id="cbcd2-2543">GP 相關的初始化資料 (免費格式，而且僅適用于 ARM、SH4 和 Thumb 架構) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2543">GP-relative initialized data (free format and for ARM, SH4, and Thumb architectures only)</span></span> <br/>                                                                    | <span data-ttu-id="cbcd2-2544">映射 \_ SCN \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取 \| 映射 \_ SCN \_ 記憶體 \_ 寫入</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2544">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ \| IMAGE\_SCN\_MEM\_WRITE</span></span> <br/>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-2545">. .xdata</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2545">.xdata</span></span> <br/>    | <span data-ttu-id="cbcd2-2546"> (免費格式的例外狀況資訊) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2546">Exception information (free format)</span></span> <br/>                                                                                                                          | <span data-ttu-id="cbcd2-2547">映射 \_ SCN \_ CNT 已 \_ 初始化 \_ 資料 \| 映射 \_ SCN \_ 記憶體 \_ 讀取</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2547">IMAGE\_SCN\_CNT\_INITIALIZED\_DATA \| IMAGE\_SCN\_MEM\_READ</span></span> <br/>                                                                                                                                                                                                                                                                                                                           |



 

<span data-ttu-id="cbcd2-2548">此處所列的部分區段會標示為「僅限物件」或「僅限影像」，以表示它們的特殊語義分別與物件檔案或影像檔相關。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2548">Some of the sections listed here are marked "object only" or "image only" to indicate that their special semantics are relevant only for object files or image files, respectively.</span></span> <span data-ttu-id="cbcd2-2549">標示為「僅限影像」的區段可能仍會出現在目的檔中，以取得影像檔案，但該區段對連結器沒有特殊意義，只適用于影像檔載入器。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2549">A section that is marked "image only" might still appear in an object file as a way of getting into the image file, but the section has no special meaning to the linker, only to the image file loader.</span></span>

### <a name="the-debug-section"></a><span data-ttu-id="cbcd2-2550">Debug 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2550">The .debug Section</span></span>

<span data-ttu-id="cbcd2-2551">Debug 區段可用於物件檔案中，以包含編譯器產生的偵錯工具資訊和影像檔案，以包含所有產生的偵錯工具資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2551">The .debug section is used in object files to contain compiler-generated debug information and in image files to contain all of the debug information that is generated.</span></span> <span data-ttu-id="cbcd2-2552">本節說明如何在物件和影像檔案中封裝偵錯工具資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2552">This section describes the packaging of debug information in object and image files.</span></span>

<span data-ttu-id="cbcd2-2553">下一節描述 debug 目錄的格式，它可以是影像中的任何位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2553">The next section describes the format of the debug directory, which can be anywhere in the image.</span></span> <span data-ttu-id="cbcd2-2554">後續各節將說明包含偵錯工具的物件檔案中的「群組」。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2554">Subsequent sections describe the "groups" in object files that contain debug information.</span></span>

<span data-ttu-id="cbcd2-2555">連結器的預設值是，偵錯工具資訊不會對應至映射的位址空間。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2555">The default for the linker is that debug information is not mapped into the address space of the image.</span></span> <span data-ttu-id="cbcd2-2556">答：只有在將 debug 資訊對應到位址空間時，才會存在 debug 區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2556">A .debug section exists only when debug information is mapped in the address space.</span></span>

#### <a name="debug-directory-image-only"></a><span data-ttu-id="cbcd2-2557">僅限 (映射) 的 Debug Directory</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2557">Debug Directory (Image Only)</span></span>

<span data-ttu-id="cbcd2-2558">影像檔案包含選擇性的偵錯工具目錄，指出有哪些形式的 debug 資訊存在，以及在何處。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2558">Image files contain an optional debug directory that indicates what form of debug information is present and where it is.</span></span> <span data-ttu-id="cbcd2-2559">此目錄包含的偵錯工具目錄專案陣列，其位置和大小會在影像選用標頭中指出。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2559">This directory consists of an array of debug directory entries whose location and size are indicated in the image optional header.</span></span>

<span data-ttu-id="cbcd2-2560">Debug 目錄可以位於 discardable 中， (（如果有的話）) ，或可包含在影像檔的任何其他區段中，或完全不在區段中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2560">The debug directory can be in a discardable .debug section (if one exists), or it can be included in any other section in the image file, or not be in a section at all.</span></span>

<span data-ttu-id="cbcd2-2561">每個 debug directory 專案都會識別一組偵錯工具資訊的位置和大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2561">Each debug directory entry identifies the location and size of a block of debug information.</span></span> <span data-ttu-id="cbcd2-2562">如果區段標題未涵蓋 debug 資訊，指定的 RVA 可以是零 (也就是說，它位於影像檔中，且未對應到執行時間位址空間) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2562">The specified RVA can be zero if the debug information is not covered by a section header (that is, it resides in the image file and is not mapped into the run-time address space).</span></span> <span data-ttu-id="cbcd2-2563">如果對應，RVA 就是其位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2563">If it is mapped, the RVA is its address.</span></span>

<span data-ttu-id="cbcd2-2564">Debug directory 專案的格式如下：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2564">A debug directory entry has the following format:</span></span>



| <span data-ttu-id="cbcd2-2565">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2565">Offset</span></span>         | <span data-ttu-id="cbcd2-2566">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2566">Size</span></span>          | <span data-ttu-id="cbcd2-2567">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2567">Field</span></span>                        | <span data-ttu-id="cbcd2-2568">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2568">Description</span></span>                                                                                                                                            |
|----------------|---------------|------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2569">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2569">0</span></span> <br/>  | <span data-ttu-id="cbcd2-2570">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2570">4</span></span> <br/> | <span data-ttu-id="cbcd2-2571">特性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2571">Characteristics</span></span> <br/>  | <span data-ttu-id="cbcd2-2572">Reserved，必須為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2572">Reserved, must be zero.</span></span> <br/>                                                                                                                    |
| <span data-ttu-id="cbcd2-2573">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2573">4</span></span> <br/>  | <span data-ttu-id="cbcd2-2574">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2574">4</span></span> <br/> | <span data-ttu-id="cbcd2-2575">TimeDateStamp</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2575">TimeDateStamp</span></span> <br/>    | <span data-ttu-id="cbcd2-2576">建立偵錯工具資料的時間和日期。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2576">The time and date that the debug data was created.</span></span> <br/>                                                                                         |
| <span data-ttu-id="cbcd2-2577">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2577">8</span></span> <br/>  | <span data-ttu-id="cbcd2-2578">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2578">2</span></span> <br/> | <span data-ttu-id="cbcd2-2579">MajorVersion</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2579">MajorVersion</span></span> <br/>     | <span data-ttu-id="cbcd2-2580">Debug 資料格式的主要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2580">The major version number of the debug data format.</span></span> <br/>                                                                                         |
| <span data-ttu-id="cbcd2-2581">10</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2581">10</span></span> <br/> | <span data-ttu-id="cbcd2-2582">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2582">2</span></span> <br/> | <span data-ttu-id="cbcd2-2583">MinorVersion</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2583">MinorVersion</span></span> <br/>     | <span data-ttu-id="cbcd2-2584">Debug 資料格式的次要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2584">The minor version number of the debug data format.</span></span> <br/>                                                                                         |
| <span data-ttu-id="cbcd2-2585">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2585">12</span></span> <br/> | <span data-ttu-id="cbcd2-2586">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2586">4</span></span> <br/> | <span data-ttu-id="cbcd2-2587">類型</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2587">Type</span></span> <br/>             | <span data-ttu-id="cbcd2-2588">偵錯工具資訊的格式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2588">The format of debugging information.</span></span> <span data-ttu-id="cbcd2-2589">此欄位可支援多個偵錯工具。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2589">This field enables support of multiple debuggers.</span></span> <span data-ttu-id="cbcd2-2590">如需詳細資訊，請參閱 [偵錯工具類型](#debug-type)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2590">For more information, see [Debug Type](#debug-type).</span></span><br/> |
| <span data-ttu-id="cbcd2-2591">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2591">16</span></span> <br/> | <span data-ttu-id="cbcd2-2592">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2592">4</span></span> <br/> | <span data-ttu-id="cbcd2-2593">SizeOfData</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2593">SizeOfData</span></span> <br/>       | <span data-ttu-id="cbcd2-2594">Debug 資料的大小 (不包括 debug 目錄本身) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2594">The size of the debug data (not including the debug directory itself).</span></span> <br/>                                                                     |
| <span data-ttu-id="cbcd2-2595">20</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2595">20</span></span> <br/> | <span data-ttu-id="cbcd2-2596">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2596">4</span></span> <br/> | <span data-ttu-id="cbcd2-2597">AddressOfRawData</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2597">AddressOfRawData</span></span> <br/> | <span data-ttu-id="cbcd2-2598">相較于映射基底載入時的 debug 資料位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2598">The address of the debug data when loaded, relative to the image base.</span></span> <br/>                                                                     |
| <span data-ttu-id="cbcd2-2599">24</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2599">24</span></span> <br/> | <span data-ttu-id="cbcd2-2600">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2600">4</span></span> <br/> | <span data-ttu-id="cbcd2-2601">PointerToRawData</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2601">PointerToRawData</span></span> <br/> | <span data-ttu-id="cbcd2-2602">調試資料的檔案指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2602">The file pointer to the debug data.</span></span> <br/>                                                                                                        |



 

#### <a name="debug-type"></a><span data-ttu-id="cbcd2-2603">Debug 型別</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2603">Debug Type</span></span>

<span data-ttu-id="cbcd2-2604">以下是針對 debug 目錄專案的 [類型] 欄位所定義的值：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2604">The following values are defined for the Type field of the debug directory entry:</span></span>



| <span data-ttu-id="cbcd2-2605">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2605">Constant</span></span>                                        | <span data-ttu-id="cbcd2-2606">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2606">Value</span></span>          | <span data-ttu-id="cbcd2-2607">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2607">Description</span></span>                                                                                                                                                                                                      |
|-------------------------------------------------|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2608">影像 \_ 調試 \_ 類型 \_ 未知</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2608">IMAGE\_DEBUG\_TYPE\_UNKNOWN</span></span> <br/>         | <span data-ttu-id="cbcd2-2609">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2609">0</span></span> <br/>  | <span data-ttu-id="cbcd2-2610">所有工具都會忽略未知值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2610">An unknown value that is ignored by all tools.</span></span> <br/>                                                                                                                                                       |
| <span data-ttu-id="cbcd2-2611">影像 \_ DEBUG \_ 類型 \_ COFF</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2611">IMAGE\_DEBUG\_TYPE\_COFF</span></span> <br/>            | <span data-ttu-id="cbcd2-2612">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2612">1</span></span> <br/>  | <span data-ttu-id="cbcd2-2613">COFF 偵錯資訊 (行號、符號表和字串表)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2613">The COFF debug information (line numbers, symbol table, and string table).</span></span> <span data-ttu-id="cbcd2-2614">使用檔案標頭中的欄位也可指向這類偵錯資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2614">This type of debug information is also pointed to by fields in the file headers.</span></span> <br/>                                          |
| <span data-ttu-id="cbcd2-2615">影像 \_ 調試 \_ 型別 \_ CODEVIEW</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2615">IMAGE\_DEBUG\_TYPE\_CODEVIEW</span></span> <br/>        | <span data-ttu-id="cbcd2-2616">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2616">2</span></span> <br/>  | <span data-ttu-id="cbcd2-2617">Visual C++ 的 debug 資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2617">The Visual C++ debug information.</span></span> <br/>                                                                                                                                                                    |
| <span data-ttu-id="cbcd2-2618">影像的 \_ DEBUG \_ 型別 \_ FPO</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2618">IMAGE\_DEBUG\_TYPE\_FPO</span></span> <br/>             | <span data-ttu-id="cbcd2-2619">3</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2619">3</span></span> <br/>  | <span data-ttu-id="cbcd2-2620">框架指標會省略 (的 FPO) 資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2620">The frame pointer omission (FPO) information.</span></span> <span data-ttu-id="cbcd2-2621">這種資訊會告知偵錯工具如何解讀非標準的堆疊框架，其使用 EBP 暫存器做為框架指標以外的用途。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2621">This information tells the debugger how to interpret nonstandard stack frames, which use the EBP register for a purpose other than as a frame pointer.</span></span> <br/> |
| <span data-ttu-id="cbcd2-2622">影像 \_ 調試 \_ 型別的 \_ 其他</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2622">IMAGE\_DEBUG\_TYPE\_MISC</span></span> <br/>            | <span data-ttu-id="cbcd2-2623">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2623">4</span></span> <br/>  | <span data-ttu-id="cbcd2-2624">DBG 檔案的位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2624">The location of DBG file.</span></span> <br/>                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-2625">影像 \_ 調試 \_ 型別 \_ 例外狀況</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2625">IMAGE\_DEBUG\_TYPE\_EXCEPTION</span></span> <br/>       | <span data-ttu-id="cbcd2-2626">5</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2626">5</span></span> <br/>  | <span data-ttu-id="cbcd2-2627">.Pdata 區段的複本。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2627">A copy of .pdata section.</span></span> <br/>                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-2628">影像 \_ 調試 \_ 類型 \_ 修復</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2628">IMAGE\_DEBUG\_TYPE\_FIXUP</span></span> <br/>           | <span data-ttu-id="cbcd2-2629">6</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2629">6</span></span> <br/>  | <span data-ttu-id="cbcd2-2630">保留的。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2630">Reserved.</span></span> <br/>                                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-2631">\_ \_ \_ OMAP \_ 至 \_ SRC 的影像調試型別</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2631">IMAGE\_DEBUG\_TYPE\_OMAP\_TO\_SRC</span></span> <br/>   | <span data-ttu-id="cbcd2-2632">7</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2632">7</span></span> <br/>  | <span data-ttu-id="cbcd2-2633">從影像中的 RVA 對應到來源影像中的 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2633">The mapping from an RVA in image to an RVA in source image.</span></span> <br/>                                                                                                                                          |
| <span data-ttu-id="cbcd2-2634">\_ \_ \_ \_ 從 SRC OMAP 的影像調試型別 \_</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2634">IMAGE\_DEBUG\_TYPE\_OMAP\_FROM\_SRC</span></span> <br/> | <span data-ttu-id="cbcd2-2635">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2635">8</span></span> <br/>  | <span data-ttu-id="cbcd2-2636">從來源影像中的 RVA 到影像中 RVA 的對應。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2636">The mapping from an RVA in source image to an RVA in image.</span></span> <br/>                                                                                                                                          |
| <span data-ttu-id="cbcd2-2637">影像 \_ 調試 \_ 型別 \_ BORLAND</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2637">IMAGE\_DEBUG\_TYPE\_BORLAND</span></span> <br/>         | <span data-ttu-id="cbcd2-2638">9</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2638">9</span></span> <br/>  | <span data-ttu-id="cbcd2-2639">保留給 Borland。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2639">Reserved for Borland.</span></span> <br/>                                                                                                                                                                                |
| <span data-ttu-id="cbcd2-2640">影像 \_ 調試 \_ 型別 \_ RESERVED10</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2640">IMAGE\_DEBUG\_TYPE\_RESERVED10</span></span> <br/>      | <span data-ttu-id="cbcd2-2641">10</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2641">10</span></span> <br/> | <span data-ttu-id="cbcd2-2642">保留的。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2642">Reserved.</span></span> <br/>                                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-2643">影像 \_ 調試 \_ 型別 \_ CLSID</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2643">IMAGE\_DEBUG\_TYPE\_CLSID</span></span> <br/>           | <span data-ttu-id="cbcd2-2644">11</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2644">11</span></span> <br/> | <span data-ttu-id="cbcd2-2645">保留的。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2645">Reserved.</span></span> <br/>                                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-2646">映射 \_ 調試 \_ 型別 \_ 重現</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2646">IMAGE\_DEBUG\_TYPE\_REPRO</span></span> <br/>           | <span data-ttu-id="cbcd2-2647">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2647">16</span></span> <br/> | <span data-ttu-id="cbcd2-2648">PE 確定性或重現性。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2648">PE determinism or reproducibility.</span></span> <br/>                                                                                                                                                                   |
| <span data-ttu-id="cbcd2-2649">影像 \_ 調試 \_ 型別， \_ 例如 \_ DLLCHARACTERISTICS</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2649">IMAGE\_DEBUG\_TYPE\_EX\_DLLCHARACTERISTICS</span></span> | <span data-ttu-id="cbcd2-2650">20</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2650">20</span></span> | <span data-ttu-id="cbcd2-2651">擴充的 DLL 特性位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2651">Extended DLL characteristics bits.</span></span> |



 

<span data-ttu-id="cbcd2-2652">如果 [型別] 欄位設定為 [IMAGE \_ DEBUG \_ 型別 FPO] \_ ，則 DEBUG 原始資料是一個陣列，其中每個成員都會描述函式的堆疊框架。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2652">If the Type field is set to IMAGE\_DEBUG\_TYPE\_FPO, the debug raw data is an array in which each member describes the stack frame of a function.</span></span> <span data-ttu-id="cbcd2-2653">並非影像檔中的每個函式都必須定義它的 FPO 資訊，即使 debug 型別為 FPO 也是一樣。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2653">Not every function in the image file must have FPO information defined for it, even though debug type is FPO.</span></span> <span data-ttu-id="cbcd2-2654">沒有 FPO 資訊的函式會假設為具有正常的堆疊框架。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2654">Those functions that do not have FPO information are assumed to have normal stack frames.</span></span> <span data-ttu-id="cbcd2-2655">FPO 資訊的格式如下所示：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2655">The format for FPO information is as follows:</span></span>


```C++
#define FRAME_FPO   0               
#define FRAME_TRAP  1
#define FRAME_TSS   2
               
typedef struct _FPO_DATA {
    DWORD       ulOffStart;            // offset 1st byte of function code
    DWORD       cbProcSize;            // # bytes in function
    DWORD       cdwLocals;             // # bytes in locals/4
    WORD        cdwParams;             // # bytes in params/4
    WORD        cbProlog : 8;          // # bytes in prolog
    WORD        cbRegs   : 3;          // # regs saved
    WORD        fHasSEH  : 1;          // TRUE if SEH in func
    WORD        fUseBP   : 1;          // TRUE if EBP has been allocated
    WORD        reserved : 1;          // reserved for future use
    WORD        cbFrame  : 2;          // frame type
} FPO_DATA;
```



<span data-ttu-id="cbcd2-2656">如果存在型別為「影像偵測型別重現」的專案， \_ \_ \_ 表示 PE 檔是以達成確定性或重現性的方式來建立。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2656">The presence of an entry of type IMAGE\_DEBUG\_TYPE\_REPRO indicates the PE file is built in a way to achieve determinism or reproducibility.</span></span> <span data-ttu-id="cbcd2-2657">如果輸入沒有變更，則不論產生 PE 的時間或位置為何，輸出 PE 檔保證都是位相同的。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2657">If the input does not change, the output PE file is guaranteed to be bit-for-bit identical no matter when or where the PE is produced.</span></span> <span data-ttu-id="cbcd2-2658">PE 檔案中的各種日期/時間戳記欄位會填入使用 PE 檔案內容做為輸入的計算雜湊值中的部分或所有位，因此不再表示產生 PE 檔案或 PE 中相關特定資料的實際日期和時間。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2658">Various date/time stamp fields in the PE file are filled with part or all the bits from a calculated hash value that uses PE file content as input, and therefore no longer represent the actual date and time when a PE file or related specific data within the PE is produced.</span></span> <span data-ttu-id="cbcd2-2659">此 debug 專案的原始資料可能是空的，或可能包含之前有四個位元組值的計算雜湊值，以表示雜湊值的長度。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2659">The raw data of this debug entry may be empty, or may contain a calculated hash value preceded by a four-byte value that represents the hash value length.</span></span>

<span data-ttu-id="cbcd2-2660">如果 [型別] 欄位設定為 [影像偵測 \_ \_ 類型] \_ \_ （例如 DLLCHARACTERISTICS），則 DEBUG 原始資料包含擴充的 DLL 特性位，其他則可在映射的選擇性標頭中設定。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2660">If the Type field is set to IMAGE\_DEBUG\_TYPE\_EX\_DLLCHARACTERISTICS, the debug raw data contains extended DLL characteristics bits, in additional to those that could be set in image’s optional header.</span></span> <span data-ttu-id="cbcd2-2661">請參閱[ (僅限映射) 的區段選用標頭 Windows-Specific 欄位](#optional-header-windows-specific-fields-image-only)中的[DLL 特性](#dll-characteristics)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2661">See [DLL Characteristics](#dll-characteristics) in section [Optional Header Windows-Specific Fields (Image Only)](#optional-header-windows-specific-fields-image-only).</span></span>

##### <a name="extended-dll-characteristics"></a><span data-ttu-id="cbcd2-2662">擴充的 DLL 特性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2662">Extended DLL Characteristics</span></span>

<span data-ttu-id="cbcd2-2663">下列是針對延伸 DLL 特性位定義的值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2663">The following values are defined for the extended DLL characteristics bits.</span></span>

| <span data-ttu-id="cbcd2-2664">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2664">Constant</span></span> | <span data-ttu-id="cbcd2-2665">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2665">Value</span></span> | <span data-ttu-id="cbcd2-2666">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2666">Description</span></span> |
|-|-|-|
| <span data-ttu-id="cbcd2-2667">影像 \_ DLLCHARACTERISTICS \_ 例如 \_ CET \_ 相容性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2667">IMAGE\_DLLCHARACTERISTICS\_EX\_CET\_COMPAT</span></span> | <span data-ttu-id="cbcd2-2668">0x0001</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2668">0x0001</span></span> | <span data-ttu-id="cbcd2-2669">映射與 CET 相容。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2669">Image is CET compatible.</span></span> |

#### <a name="debugf-object-only"></a><span data-ttu-id="cbcd2-2670">。僅) debug $ F (物件</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2670">.debug$F (Object Only)</span></span>

<span data-ttu-id="cbcd2-2671">此區段中的資料已在 Visual C++ 7.0 版和更新版本中被取代，並由一組更廣泛的資料發出至 **debug $ S** 子區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2671">The data in this section has been superseded in Visual C++ version 7.0 and later by a more extensive set of data that is emitted into a **.debug$S** subsection.</span></span>

<span data-ttu-id="cbcd2-2672">物件檔案可以包含. debug $ F 區段，其內容為一或多個 FPO \_ 資料記錄 (框架指標省略資訊) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2672">Object files can contain .debug$F sections whose contents are one or more FPO\_DATA records (frame pointer omission information).</span></span> <span data-ttu-id="cbcd2-2673">請參閱 \_ \_ \_ [DEBUG 型](#debug-type)別中的「影像調試型別 FPO」。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2673">See "IMAGE\_DEBUG\_TYPE\_FPO" in [Debug Type](#debug-type).</span></span>

<span data-ttu-id="cbcd2-2674">連結器會辨識這些 **. debug $ F** 記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2674">The linker recognizes these **.debug$F** records.</span></span> <span data-ttu-id="cbcd2-2675">如果正在產生 debug 資訊，連結器會依 \_ 程式 RVA 排序 FPO 資料記錄，並為其產生一個 debug 目錄專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2675">If debug information is being generated, the linker sorts the FPO\_DATA records by procedure RVA and generates a debug directory entry for them.</span></span>

<span data-ttu-id="cbcd2-2676">編譯器不應針對具有標準框架格式的程式產生 FPO 記錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2676">The compiler should not generate FPO records for procedures that have a standard frame format.</span></span>

#### <a name="debugs-object-only"></a><span data-ttu-id="cbcd2-2677">。 debug $ S 僅 (物件) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2677">.debug$S (Object Only)</span></span>

<span data-ttu-id="cbcd2-2678">本節包含 Visual C++ 的 (符號資訊) 的 debug 資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2678">This section contains Visual C++ debug information (symbolic information).</span></span>

#### <a name="debugp-object-only"></a><span data-ttu-id="cbcd2-2679">。僅) debug $ P (物件</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2679">.debug$P (Object Only)</span></span>

<span data-ttu-id="cbcd2-2680">本章節包含 (先行編譯資訊) Visual C++ 的 debug 資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2680">This section contains Visual C++ debug information (precompiled information).</span></span> <span data-ttu-id="cbcd2-2681">這些都是使用這個物件所產生之先行編譯標頭檔編譯的所有物件之間的共用類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2681">These are shared types among all of the objects that were compiled by using the precompiled header that was generated with this object.</span></span>

#### <a name="debugt-object-only"></a><span data-ttu-id="cbcd2-2682">。僅) debug $ T (物件</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2682">.debug$T (Object Only)</span></span>

<span data-ttu-id="cbcd2-2683">本章節包含 (類型資訊) 的 Visual C++ debug 資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2683">This section contains Visual C++ debug information (type information).</span></span>

#### <a name="linker-support-for-microsoft-debug-information"></a><span data-ttu-id="cbcd2-2684">Microsoft Debug 資訊的連結器支援</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2684">Linker Support for Microsoft Debug Information</span></span>

<span data-ttu-id="cbcd2-2685">若要支援 debug 資訊，連結器：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2685">To support debug information, the linker:</span></span>

-   <span data-ttu-id="cbcd2-2686">從 **debug $ F**、 **debug $ S**、 **debug $ P** 和 **. debug $ T** 區段收集所有相關的 debug 資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2686">Gathers all relevant debug data from the **.debug$F**, **debug$S**, **.debug$P**, and **.debug$T** sections.</span></span>

-   <span data-ttu-id="cbcd2-2687">會將該資料與連結器產生的偵錯工具產生的偵錯工具一起處理至 PDB 檔案中，並建立一個 debug 目錄專案來參考它。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2687">Processes that data along with the linker-generated debugging information into the PDB file, and creates a debug directory entry to refer to it.</span></span>

### <a name="the-drectve-section-object-only"></a><span data-ttu-id="cbcd2-2688">Drectve 區段僅 (物件) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2688">The .drectve Section (Object Only)</span></span>

<span data-ttu-id="cbcd2-2689">如果區段 \_ \_ \_ 標頭中已設定 IMAGE SCN .lnk INFO 旗標，且 **drectve** 區段名稱為，則區段是指示詞區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2689">A section is a directive section if it has the IMAGE\_SCN\_LNK\_INFO flag set in the section header and has the **.drectve** section name.</span></span> <span data-ttu-id="cbcd2-2690">連結器會在處理資訊之後移除 **drectve** 區段，因此區段不會出現在所連結的影像檔案中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2690">The linker removes a **.drectve** section after processing the information, so the section does not appear in the image file that is being linked.</span></span>

<span data-ttu-id="cbcd2-2691">**Drectve** 區段是由可編碼為 ANSI 或 utf-8 的文字字串所組成。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2691">A **.drectve** section consists of a string of text that can be encoded as ANSI or UTF-8.</span></span> <span data-ttu-id="cbcd2-2692">如果 (BOM 的 UTF-8 位元組順序標記，則包含0xEF、0xBB 和 0xBF) 的三位元組前置詞不存在，指示詞字串會轉譯為 ANSI。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2692">If the UTF-8 byte order marker (BOM, a three-byte prefix that consists of 0xEF, 0xBB, and 0xBF) is not present, the directive string is interpreted as ANSI.</span></span> <span data-ttu-id="cbcd2-2693">指示詞字串是以空格分隔的一系列連結器選項。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2693">The directive string is a series of linker options that are separated by spaces.</span></span> <span data-ttu-id="cbcd2-2694">每個選項都包含連字號、選項名稱和任何適當的屬性。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2694">Each option contains a hyphen, the option name, and any appropriate attribute.</span></span> <span data-ttu-id="cbcd2-2695">如果選項包含空格，則選項必須以引號括住。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2695">If an option contains spaces, the option must be enclosed in quotes.</span></span> <span data-ttu-id="cbcd2-2696">**Drectve** 區段不得有重新置放或行號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2696">The **.drectve** section must not have relocations or line numbers.</span></span>

### <a name="the-edata-section-image-only"></a><span data-ttu-id="cbcd2-2697">Edata 區段只 (映射) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2697">The .edata Section (Image Only)</span></span>

<span data-ttu-id="cbcd2-2698">匯出資料區段（名為 edata）包含其他影像可透過動態連結存取之符號的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2698">The export data section, named .edata, contains information about symbols that other images can access through dynamic linking.</span></span> <span data-ttu-id="cbcd2-2699">匯出的符號通常會在 Dll 中找到，但是 Dll 也可以匯入符號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2699">Exported symbols are generally found in DLLs, but DLLs can also import symbols.</span></span>

<span data-ttu-id="cbcd2-2700">以下將說明匯出區段的一般結構。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2700">An overview of the general structure of the export section is described below.</span></span> <span data-ttu-id="cbcd2-2701">所述的資料表通常會依顯示的順序在檔案中是連續的， (但) 不需要這麼做。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2701">The tables described are usually contiguous in the file in the order shown (though this is not required).</span></span> <span data-ttu-id="cbcd2-2702">將符號匯出為序數時，只需要匯出目錄資料表和匯出位址表。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2702">Only the export directory table and export address table are required to export symbols as ordinals.</span></span> <span data-ttu-id="cbcd2-2703"> (序數是匯出，可直接透過匯出位址資料表索引來存取。 ) 名稱指標資料表、序數資料表和匯出名稱資料表都存在，以支援使用匯出名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2703">(An ordinal is an export that is accessed directly by its export address table index.) The name pointer table, ordinal table, and export name table all exist to support use of export names.</span></span>



| <span data-ttu-id="cbcd2-2704">資料表名稱</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2704">Table Name</span></span>                         | <span data-ttu-id="cbcd2-2705">Description</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2705">Description</span></span>                                                                                                                                                                                                                                                                                                                                                |
|------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2706">匯出目錄資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2706">Export directory table</span></span> <br/> | <span data-ttu-id="cbcd2-2707">只有一個資料列的資料表 (與 debug 目錄) 不同。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2707">A table with just one row (unlike the debug directory).</span></span> <span data-ttu-id="cbcd2-2708">下表指出其他匯出資料表的位置和大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2708">This table indicates the locations and sizes of the other export tables.</span></span> <br/>                                                                                                                                                                                                               |
| <span data-ttu-id="cbcd2-2709">匯出位址資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2709">Export address table</span></span> <br/>   | <span data-ttu-id="cbcd2-2710">已匯出符號之 Rva 的陣列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2710">An array of RVAs of exported symbols.</span></span> <span data-ttu-id="cbcd2-2711">這些是在可執行程式碼和資料區段內匯出的函式和資料的實際位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2711">These are the actual addresses of the exported functions and data within the executable code and data sections.</span></span> <span data-ttu-id="cbcd2-2712">其他影像檔案可以使用此資料表的索引來匯入符號， (序數) 或者，您也可以使用對應至序數的公用名稱（如果已定義公用名稱的話）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2712">Other image files can import a symbol by using an index to this table (an ordinal) or, optionally, by using the public name that corresponds to the ordinal if a public name is defined.</span></span> <br/> |
| <span data-ttu-id="cbcd2-2713">名稱指標表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2713">Name pointer table</span></span> <br/>     | <span data-ttu-id="cbcd2-2714">公開匯出名稱指標的陣列，以遞增順序排序。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2714">An array of pointers to the public export names, sorted in ascending order.</span></span> <br/>                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="cbcd2-2715">序數資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2715">Ordinal table</span></span> <br/>          | <span data-ttu-id="cbcd2-2716">序數的陣列，對應至名稱指標資料表的成員。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2716">An array of the ordinals that correspond to members of the name pointer table.</span></span> <span data-ttu-id="cbcd2-2717">對應的位置是：因此，名稱指標資料表和序數資料表必須有相同數目的成員。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2717">The correspondence is by position; therefore, the name pointer table and the ordinal table must have the same number of members.</span></span> <span data-ttu-id="cbcd2-2718">每個序數都是匯出位址資料表的索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2718">Each ordinal is an index into the export address table.</span></span> <br/>                                                                        |
| <span data-ttu-id="cbcd2-2719">匯出名稱資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2719">Export name table</span></span> <br/>      | <span data-ttu-id="cbcd2-2720">一系列以 null 終止的 ASCII 字串。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2720">A series of null-terminated ASCII strings.</span></span> <span data-ttu-id="cbcd2-2721">名稱指標表格的成員會指向此區域。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2721">Members of the name pointer table point into this area.</span></span> <span data-ttu-id="cbcd2-2722">這些名稱是用來匯入和匯出符號的公用名稱;它們不一定會與在影像檔案中使用的私用名稱相同。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2722">These names are the public names through which the symbols are imported and exported; they are not necessarily the same as the private names that are used within the image file.</span></span> <br/>                                                           |



 

<span data-ttu-id="cbcd2-2723">當另一個影像檔案依名稱匯入符號時，Win32 載入器會在名稱指標資料表中搜尋相符的字串。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2723">When another image file imports a symbol by name, the Win32 loader searches the name pointer table for a matching string.</span></span> <span data-ttu-id="cbcd2-2724">如果找到相符的字串，則會藉由查詢序數資料表中對應的成員來識別相關聯的序數 (也就是序數資料表的成員，其索引與在名稱指標資料表中找到的字串指標相同) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2724">If a matching string is found, the associated ordinal is identified by looking up the corresponding member in the ordinal table (that is, the member of the ordinal table with the same index as the string pointer found in the name pointer table).</span></span> <span data-ttu-id="cbcd2-2725">產生的序數是匯出位址資料表中的索引，可提供所需符號的實際位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2725">The resulting ordinal is an index into the export address table, which gives the actual location of the desired symbol.</span></span> <span data-ttu-id="cbcd2-2726">每個匯出符號都可以透過序數來存取。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2726">Every export symbol can be accessed by an ordinal.</span></span>

<span data-ttu-id="cbcd2-2727">當另一個影像檔依序數匯入符號時，不需要在名稱指標資料表中搜尋相符的字串。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2727">When another image file imports a symbol by ordinal, it is unnecessary to search the name pointer table for a matching string.</span></span> <span data-ttu-id="cbcd2-2728">因此，直接使用序數是更有效率的方式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2728">Direct use of an ordinal is therefore more efficient.</span></span> <span data-ttu-id="cbcd2-2729">不過，匯出名稱比較容易記住，使用者也不需要知道符號的資料表索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2729">However, an export name is easier to remember and does not require the user to know the table index for the symbol.</span></span>

#### <a name="export-directory-table"></a><span data-ttu-id="cbcd2-2730">匯出目錄資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2730">Export Directory Table</span></span>

<span data-ttu-id="cbcd2-2731">匯出符號資訊會以匯出目錄資料表開頭，其描述匯出符號資訊的其餘部分。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2731">The export symbol information begins with the export directory table, which describes the remainder of the export symbol information.</span></span> <span data-ttu-id="cbcd2-2732">匯出目錄資料表包含位址資訊，可用來將匯入解析為此映射內的進入點。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2732">The export directory table contains address information that is used to resolve imports to the entry points within this image.</span></span>



| <span data-ttu-id="cbcd2-2733">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2733">Offset</span></span>         | <span data-ttu-id="cbcd2-2734">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2734">Size</span></span>          | <span data-ttu-id="cbcd2-2735">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2735">Field</span></span>                                | <span data-ttu-id="cbcd2-2736">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2736">Description</span></span>                                                                                                                                                               |
|----------------|---------------|--------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2737">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2737">0</span></span> <br/>  | <span data-ttu-id="cbcd2-2738">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2738">4</span></span> <br/> | <span data-ttu-id="cbcd2-2739">匯出旗標</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2739">Export Flags</span></span> <br/>             | <span data-ttu-id="cbcd2-2740">保留，必須是0。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2740">Reserved, must be 0.</span></span> <br/>                                                                                                                                          |
| <span data-ttu-id="cbcd2-2741">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2741">4</span></span> <br/>  | <span data-ttu-id="cbcd2-2742">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2742">4</span></span> <br/> | <span data-ttu-id="cbcd2-2743">時間/日期戳記</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2743">Time/Date Stamp</span></span> <br/>          | <span data-ttu-id="cbcd2-2744">建立匯出資料的時間和日期。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2744">The time and date that the export data was created.</span></span> <br/>                                                                                                           |
| <span data-ttu-id="cbcd2-2745">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2745">8</span></span> <br/>  | <span data-ttu-id="cbcd2-2746">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2746">2</span></span> <br/> | <span data-ttu-id="cbcd2-2747">主要版本</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2747">Major Version</span></span> <br/>            | <span data-ttu-id="cbcd2-2748">主要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2748">The major version number.</span></span> <span data-ttu-id="cbcd2-2749">使用者可以設定主要和次要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2749">The major and minor version numbers can be set by the user.</span></span> <br/>                                                                         |
| <span data-ttu-id="cbcd2-2750">10</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2750">10</span></span> <br/> | <span data-ttu-id="cbcd2-2751">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2751">2</span></span> <br/> | <span data-ttu-id="cbcd2-2752">次要版本</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2752">Minor Version</span></span> <br/>            | <span data-ttu-id="cbcd2-2753">次要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2753">The minor version number.</span></span> <br/>                                                                                                                                     |
| <span data-ttu-id="cbcd2-2754">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2754">12</span></span> <br/> | <span data-ttu-id="cbcd2-2755">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2755">4</span></span> <br/> | <span data-ttu-id="cbcd2-2756">名稱 RVA</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2756">Name RVA</span></span> <br/>                 | <span data-ttu-id="cbcd2-2757">包含 DLL 名稱之 ASCII 字串的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2757">The address of the ASCII string that contains the name of the DLL.</span></span> <span data-ttu-id="cbcd2-2758">此位址是相對於映射基底。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2758">This address is relative to the image base.</span></span> <br/>                                                |
| <span data-ttu-id="cbcd2-2759">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2759">16</span></span> <br/> | <span data-ttu-id="cbcd2-2760">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2760">4</span></span> <br/> | <span data-ttu-id="cbcd2-2761">序數基底</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2761">Ordinal Base</span></span> <br/>             | <span data-ttu-id="cbcd2-2762">此影像中匯出的起始序號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2762">The starting ordinal number for exports in this image.</span></span> <span data-ttu-id="cbcd2-2763">此欄位指定匯出位址資料表的起始序號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2763">This field specifies the starting ordinal number for the export address table.</span></span> <span data-ttu-id="cbcd2-2764">通常會設定為1。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2764">It is usually set to 1.</span></span> <br/> |
| <span data-ttu-id="cbcd2-2765">20</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2765">20</span></span> <br/> | <span data-ttu-id="cbcd2-2766">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2766">4</span></span> <br/> | <span data-ttu-id="cbcd2-2767">位址資料表專案</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2767">Address Table Entries</span></span> <br/>    | <span data-ttu-id="cbcd2-2768">匯出位址資料表中的專案數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2768">The number of entries in the export address table.</span></span> <br/>                                                                                                            |
| <span data-ttu-id="cbcd2-2769">24</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2769">24</span></span> <br/> | <span data-ttu-id="cbcd2-2770">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2770">4</span></span> <br/> | <span data-ttu-id="cbcd2-2771">名稱指標的數目</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2771">Number of Name Pointers</span></span> <br/>  | <span data-ttu-id="cbcd2-2772">名稱指標資料表中的專案數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2772">The number of entries in the name pointer table.</span></span> <span data-ttu-id="cbcd2-2773">這也是序數資料表中的專案數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2773">This is also the number of entries in the ordinal table.</span></span> <br/>                                                     |
| <span data-ttu-id="cbcd2-2774">28</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2774">28</span></span> <br/> | <span data-ttu-id="cbcd2-2775">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2775">4</span></span> <br/> | <span data-ttu-id="cbcd2-2776">匯出位址資料表 RVA</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2776">Export Address Table RVA</span></span> <br/> | <span data-ttu-id="cbcd2-2777">相對於映射基底的匯出位址資料表位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2777">The address of the export address table, relative to the image base.</span></span> <br/>                                                                                          |
| <span data-ttu-id="cbcd2-2778">32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2778">32</span></span> <br/> | <span data-ttu-id="cbcd2-2779">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2779">4</span></span> <br/> | <span data-ttu-id="cbcd2-2780">名稱指標 RVA</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2780">Name Pointer RVA</span></span> <br/>         | <span data-ttu-id="cbcd2-2781">相對於映射基底的匯出名稱指標資料表位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2781">The address of the export name pointer table, relative to the image base.</span></span> <span data-ttu-id="cbcd2-2782">資料表大小是由 [名稱指標] 欄位的數目所指定。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2782">The table size is given by the Number of Name Pointers field.</span></span> <br/>                       |
| <span data-ttu-id="cbcd2-2783">36</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2783">36</span></span> <br/> | <span data-ttu-id="cbcd2-2784">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2784">4</span></span> <br/> | <span data-ttu-id="cbcd2-2785">序數資料表 RVA</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2785">Ordinal Table RVA</span></span> <br/>        | <span data-ttu-id="cbcd2-2786">相對於映射基底的序數資料表位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2786">The address of the ordinal table, relative to the image base.</span></span> <br/>                                                                                                 |



 

#### <a name="export-address-table"></a><span data-ttu-id="cbcd2-2787">匯出位址資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2787">Export Address Table</span></span>

<span data-ttu-id="cbcd2-2788">匯出位址表包含匯出的進入點和匯出的資料和變成以絕對性的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2788">The export address table contains the address of exported entry points and exported data and absolutes.</span></span> <span data-ttu-id="cbcd2-2789">序數會用來做為匯出位址資料表的索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2789">An ordinal number is used as an index into the export address table.</span></span>

<span data-ttu-id="cbcd2-2790">匯出位址表中的每個專案都是一個欄位，使用下表中的兩種格式之一。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2790">Each entry in the export address table is a field that uses one of two formats in the following table.</span></span> <span data-ttu-id="cbcd2-2791">如果指定的位址不在匯出區段內 (（如選擇性標頭) 中所指出的位址和長度所定義），則欄位是匯出 RVA，也就是程式碼或資料中的實際位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2791">If the address specified is not within the export section (as defined by the address and length that are indicated in the optional header), the field is an export RVA, which is an actual address in code or data.</span></span> <span data-ttu-id="cbcd2-2792">否則，此欄位是轉寄站 RVA，會在另一個 DLL 中命名符號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2792">Otherwise, the field is a forwarder RVA, which names a symbol in another DLL.</span></span>



| <span data-ttu-id="cbcd2-2793">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2793">Offset</span></span>        | <span data-ttu-id="cbcd2-2794">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2794">Size</span></span>          | <span data-ttu-id="cbcd2-2795">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2795">Field</span></span>                     | <span data-ttu-id="cbcd2-2796">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2796">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|---------------|---------------|---------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2797">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2797">0</span></span> <br/> | <span data-ttu-id="cbcd2-2798">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2798">4</span></span> <br/> | <span data-ttu-id="cbcd2-2799">匯出 RVA</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2799">Export RVA</span></span> <br/>    | <span data-ttu-id="cbcd2-2800">載入至記憶體（相對於映射基底）時所匯出符號的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2800">The address of the exported symbol when loaded into memory, relative to the image base.</span></span> <span data-ttu-id="cbcd2-2801">例如，匯出函式的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2801">For example, the address of an exported function.</span></span> <br/>                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="cbcd2-2802">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2802">0</span></span> <br/> | <span data-ttu-id="cbcd2-2803">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2803">4</span></span> <br/> | <span data-ttu-id="cbcd2-2804">轉寄站 RVA</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2804">Forwarder RVA</span></span> <br/> | <span data-ttu-id="cbcd2-2805">匯出區段中以 null 終止的 ASCII 字串指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2805">The pointer to a null-terminated ASCII string in the export section.</span></span> <span data-ttu-id="cbcd2-2806">此字串必須在匯出資料表資料目錄專案所指定的範圍內。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2806">This string must be within the range that is given by the export table data directory entry.</span></span> <span data-ttu-id="cbcd2-2807">請參閱 [僅)  (映射的選擇性標頭資料目錄 ](#optional-header-data-directories-image-only)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2807">See [Optional Header Data Directories (Image Only)](#optional-header-data-directories-image-only).</span></span> <span data-ttu-id="cbcd2-2808">這個字串會提供 DLL 名稱和匯出 (的名稱，例如 "MYDLL.DLL. expfunc" ) 或 DLL 名稱和匯出 (的序數，例如 "MYDLL.DLL. \#27 ") 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2808">This string gives the DLL name and the name of the export (for example, "MYDLL.expfunc") or the DLL name and the ordinal number of the export (for example, "MYDLL.\#27").</span></span> <br/> |



 

<span data-ttu-id="cbcd2-2809">轉寄站 RVA 會從其他影像匯出定義，使其看起來像是目前映射正在匯出的定義。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2809">A forwarder RVA exports a definition from some other image, making it appear as if it were being exported by the current image.</span></span> <span data-ttu-id="cbcd2-2810">因此，符號會同時匯入和匯出。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2810">Thus, the symbol is simultaneously imported and exported.</span></span>

<span data-ttu-id="cbcd2-2811">例如，在 Windows XP 的 Kernel32.dll 中，會將名為 "HeapAlloc" 的匯出轉送至字串 "NTDLL.DLL"。RtlAllocateHeap."</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2811">For example, in Kernel32.dll in Windows XP, the export named "HeapAlloc" is forwarded to the string "NTDLL.RtlAllocateHeap."</span></span> <span data-ttu-id="cbcd2-2812">如此一來，應用程式就可以使用 Windows XP 特定模組 Ntdll.dll，而不需要實際包含其匯入參考。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2812">This allows applications to use the Windows XP-specific module Ntdll.dll without actually containing import references to it.</span></span> <span data-ttu-id="cbcd2-2813">應用程式的匯入資料表只會參考 Kernel32.dll。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2813">The application's import table refers only to Kernel32.dll.</span></span> <span data-ttu-id="cbcd2-2814">因此，應用程式不是 Windows XP 特有的，而且可以在任何 Win32 系統上執行。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2814">Therefore, the application is not specific to Windows XP and can run on any Win32 system.</span></span>

#### <a name="export-name-pointer-table"></a><span data-ttu-id="cbcd2-2815">匯出名稱指標資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2815">Export Name Pointer Table</span></span>

<span data-ttu-id="cbcd2-2816">匯出名稱指標資料表是 (Rva) 至匯出名稱資料表的位址陣列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2816">The export name pointer table is an array of addresses (RVAs) into the export name table.</span></span> <span data-ttu-id="cbcd2-2817">指標分別為32位，且相對於映射基底。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2817">The pointers are 32 bits each and are relative to the image base.</span></span> <span data-ttu-id="cbcd2-2818">指標會以詞法順序排序以允許二進位搜尋。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2818">The pointers are ordered lexically to allow binary searches.</span></span>

<span data-ttu-id="cbcd2-2819">只有當匯出名稱指標資料表包含指標時，才會定義匯出名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2819">An export name is defined only if the export name pointer table contains a pointer to it.</span></span>

#### <a name="export-ordinal-table"></a><span data-ttu-id="cbcd2-2820">匯出序數資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2820">Export Ordinal Table</span></span>

<span data-ttu-id="cbcd2-2821">匯出序數資料表是匯出位址資料表中的16位無偏差索引陣列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2821">The export ordinal table is an array of 16-bit unbiased indexes into the export address table.</span></span> <span data-ttu-id="cbcd2-2822">序數會依匯出目錄資料表的序數基底欄位而偏差。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2822">Ordinals are biased by the Ordinal Base field of the export directory table.</span></span> <span data-ttu-id="cbcd2-2823">換句話說，必須從序數減去序數基底，才能取得匯出位址資料表的真正索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2823">In other words, the ordinal base must be subtracted from the ordinals to obtain true indexes into the export address table.</span></span>

<span data-ttu-id="cbcd2-2824">匯出名稱指標資料表和匯出序數表形成兩個平行陣列，以允許自然的欄位對齊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2824">The export name pointer table and the export ordinal table form two parallel arrays that are separated to allow natural field alignment.</span></span> <span data-ttu-id="cbcd2-2825">這兩個數據表實際上會以一個資料表的形式運作，其中匯出名稱指標資料行會指向公用 (匯出) 名稱，而匯出序數資料行則會提供該公用名稱的對應序數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2825">These two tables, in effect, operate as one table, in which the Export Name Pointer column points to a public (exported) name and the Export Ordinal column gives the corresponding ordinal for that public name.</span></span> <span data-ttu-id="cbcd2-2826">匯出名稱指標資料表的成員和匯出序數資料表成員的關聯，是在其各自的陣列中 (索引) 的相同位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2826">A member of the export name pointer table and a member of the export ordinal table are associated by having the same position (index) in their respective arrays.</span></span>

<span data-ttu-id="cbcd2-2827">因此，在搜尋匯出名稱指標表格，並在位置 i 找到相符的字串時，尋找符號之 RVA 和偏差序數的演算法為：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2827">Thus, when the export name pointer table is searched and a matching string is found at position i, the algorithm for finding the symbol's RVA and biased ordinal is:</span></span>

```C++
i = Search_ExportNamePointerTable (name);
ordinal = ExportOrdinalTable [i];

rva = ExportAddressTable [ordinal];
biased_ordinal = ordinal + OrdinalBase;
```

<span data-ttu-id="cbcd2-2828">當 (偏差) 序數來搜尋符號時，尋找符號之 RVA 和名稱的演算法為：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2828">When searching for a symbol by (biased) ordinal, the algorithm for finding the symbol's RVA and name is:</span></span>

```C++
ordinal = biased_ordinal - OrdinalBase;
i = Search_ExportOrdinalTable (ordinal);

rva = ExportAddressTable [ordinal];
name = ExportNameTable [i];
```

#### <a name="export-name-table"></a><span data-ttu-id="cbcd2-2829">匯出名稱資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2829">Export Name Table</span></span>

<span data-ttu-id="cbcd2-2830">匯出名稱資料表包含匯出名稱指標資料表所指向的實際字串資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2830">The export name table contains the actual string data that was pointed to by the export name pointer table.</span></span> <span data-ttu-id="cbcd2-2831">下表中的字串是其他影像可以用來匯入符號的公用名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2831">The strings in this table are public names that other images can use to import the symbols.</span></span> <span data-ttu-id="cbcd2-2832">這些公用匯出名稱不一定會與符號在其本身的影像檔和原始程式碼中的私用符號名稱相同，不過它們可以是。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2832">These public export names are not necessarily the same as the private symbol names that the symbols have in their own image file and source code, although they can be.</span></span>

<span data-ttu-id="cbcd2-2833">每個匯出的符號都有序數值，而這只是匯出位址資料表中的索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2833">Every exported symbol has an ordinal value, which is just the index into the export address table.</span></span> <span data-ttu-id="cbcd2-2834">不過，使用匯出名稱是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2834">Use of export names, however, is optional.</span></span> <span data-ttu-id="cbcd2-2835">部分、全部或沒有匯出的符號都可以有匯出名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2835">Some, all, or none of the exported symbols can have export names.</span></span> <span data-ttu-id="cbcd2-2836">針對具有匯出名稱的匯出符號，匯出名稱指標資料表和匯出序數資料表中的對應專案會一起運作，以將每個名稱與序數產生關聯。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2836">For exported symbols that do have export names, corresponding entries in the export name pointer table and export ordinal table work together to associate each name with an ordinal.</span></span>

<span data-ttu-id="cbcd2-2837">匯出名稱資料表的結構是以 null 結束的一系列可變長度的 ASCII 字串。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2837">The structure of the export name table is a series of null-terminated ASCII strings of variable length.</span></span>

### <a name="the-idata-section"></a><span data-ttu-id="cbcd2-2838">Idata 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2838">The .idata Section</span></span>

<span data-ttu-id="cbcd2-2839">所有匯入符號的影像檔，包括幾乎所有可執行檔 (EXE) 檔案，都有 idata 區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2839">All image files that import symbols, including virtually all executable (EXE) files, have an .idata section.</span></span> <span data-ttu-id="cbcd2-2840">匯入資訊的一般檔案版面配置如下：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2840">A typical file layout for the import information follows:</span></span>

-   <span data-ttu-id="cbcd2-2841">目錄資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2841">Directory Table</span></span>

    <span data-ttu-id="cbcd2-2842">Null 目錄專案</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2842">Null Directory Entry</span></span>

-   <span data-ttu-id="cbcd2-2843">DLL1 匯入查閱資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2843">DLL1 Import Lookup Table</span></span>

    <span data-ttu-id="cbcd2-2844">Null</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2844">Null</span></span>

-   <span data-ttu-id="cbcd2-2845">DLL2 匯入查閱資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2845">DLL2 Import Lookup Table</span></span>

    <span data-ttu-id="cbcd2-2846">Null</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2846">Null</span></span>

-   <span data-ttu-id="cbcd2-2847">DLL3 匯入查閱資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2847">DLL3 Import Lookup Table</span></span>

    <span data-ttu-id="cbcd2-2848">Null</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2848">Null</span></span>

-   <span data-ttu-id="cbcd2-2849">Hint-Name 資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2849">Hint-Name Table</span></span>

#### <a name="import-directory-table"></a><span data-ttu-id="cbcd2-2850">匯入目錄資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2850">Import Directory Table</span></span>

<span data-ttu-id="cbcd2-2851">匯入資訊的開頭為 [匯入目錄] 資料表，其中描述匯入資訊的其餘部分。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2851">The import information begins with the import directory table, which describes the remainder of the import information.</span></span> <span data-ttu-id="cbcd2-2852">匯入目錄資料表包含位址資訊，可用來解析 DLL 映射內進入點的修復參考。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2852">The import directory table contains address information that is used to resolve fixup references to the entry points within a DLL image.</span></span> <span data-ttu-id="cbcd2-2853">匯入目錄資料表是由匯入目錄專案的陣列所組成，此為影像所參考之每個 DLL 的一個專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2853">The import directory table consists of an array of import directory entries, one entry for each DLL to which the image refers.</span></span> <span data-ttu-id="cbcd2-2854">最後一個目錄專案是空的 (填入 null 值) ，表示目錄資料表的結尾。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2854">The last directory entry is empty (filled with null values), which indicates the end of the directory table.</span></span>

<span data-ttu-id="cbcd2-2855">每個匯入目錄專案的格式如下：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2855">Each import directory entry has the following format:</span></span>



| <span data-ttu-id="cbcd2-2856">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2856">Offset</span></span>         | <span data-ttu-id="cbcd2-2857">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2857">Size</span></span>          | <span data-ttu-id="cbcd2-2858">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2858">Field</span></span>                                                 | <span data-ttu-id="cbcd2-2859">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2859">Description</span></span>                                                                                                                                                                                 |
|----------------|---------------|-------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2860">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2860">0</span></span> <br/>  | <span data-ttu-id="cbcd2-2861">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2861">4</span></span> <br/> | <span data-ttu-id="cbcd2-2862">匯入查閱資料表 RVA (特性) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2862">Import Lookup Table RVA (Characteristics)</span></span> <br/> | <span data-ttu-id="cbcd2-2863">匯入查閱資料表的 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2863">The RVA of the import lookup table.</span></span> <span data-ttu-id="cbcd2-2864">此資料表包含每個匯入的名稱或序數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2864">This table contains a name or ordinal for each import.</span></span> <span data-ttu-id="cbcd2-2865"> (在 Winnt 中使用 "特性" 的名稱，但不再描述此欄位。 ) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2865">(The name "Characteristics" is used in Winnt.h, but no longer describes this field.)</span></span> <br/> |
| <span data-ttu-id="cbcd2-2866">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2866">4</span></span> <br/>  | <span data-ttu-id="cbcd2-2867">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2867">4</span></span> <br/> | <span data-ttu-id="cbcd2-2868">時間/日期戳記</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2868">Time/Date Stamp</span></span> <br/>                           | <span data-ttu-id="cbcd2-2869">在影像系結之前，設定為零的戳記。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2869">The stamp that is set to zero until the image is bound.</span></span> <span data-ttu-id="cbcd2-2870">在系結影像之後，這個欄位會設定為 DLL 的時間/資料戳記。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2870">After the image is bound, this field is set to the time/data stamp of the DLL.</span></span> <br/>                                          |
| <span data-ttu-id="cbcd2-2871">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2871">8</span></span> <br/>  | <span data-ttu-id="cbcd2-2872">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2872">4</span></span> <br/> | <span data-ttu-id="cbcd2-2873">轉寄站鏈</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2873">Forwarder Chain</span></span> <br/>                           | <span data-ttu-id="cbcd2-2874">第一個轉寄站參考的索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2874">The index of the first forwarder reference.</span></span> <br/>                                                                                                                                     |
| <span data-ttu-id="cbcd2-2875">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2875">12</span></span> <br/> | <span data-ttu-id="cbcd2-2876">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2876">4</span></span> <br/> | <span data-ttu-id="cbcd2-2877">名稱 RVA</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2877">Name RVA</span></span> <br/>                                  | <span data-ttu-id="cbcd2-2878">包含 DLL 名稱之 ASCII 字串的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2878">The address of an ASCII string that contains the name of the DLL.</span></span> <span data-ttu-id="cbcd2-2879">此位址是相對於映射基底。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2879">This address is relative to the image base.</span></span> <br/>                                                                   |
| <span data-ttu-id="cbcd2-2880">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2880">16</span></span> <br/> | <span data-ttu-id="cbcd2-2881">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2881">4</span></span> <br/> | <span data-ttu-id="cbcd2-2882">匯入位址表 RVA (Thunk 資料表) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2882">Import Address Table RVA (Thunk Table)</span></span> <br/>    | <span data-ttu-id="cbcd2-2883">匯入位址資料表的 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2883">The RVA of the import address table.</span></span> <span data-ttu-id="cbcd2-2884">此資料表的內容與匯入查閱資料表的內容相同，直到影像系結為止。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2884">The contents of this table are identical to the contents of the import lookup table until the image is bound.</span></span> <br/>                              |



 

#### <a name="import-lookup-table"></a><span data-ttu-id="cbcd2-2885">匯入查閱資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2885">Import Lookup Table</span></span>

<span data-ttu-id="cbcd2-2886">匯入查閱資料表是 PE32 的32位數位陣列，或 PE32 + 的64位數位陣列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2886">An import lookup table is an array of 32-bit numbers for PE32 or an array of 64-bit numbers for PE32+.</span></span> <span data-ttu-id="cbcd2-2887">每個專案都會使用下表所述的位欄位格式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2887">Each entry uses the bit-field format that is described in the following table.</span></span> <span data-ttu-id="cbcd2-2888">以這種格式來說，PE32 和 bit 63 最重要的一點是 PE32 + 最重要的位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2888">In this format, bit 31 is the most significant bit for PE32 and bit 63 is the most significant bit for PE32+.</span></span> <span data-ttu-id="cbcd2-2889">這些專案的集合描述來自指定 DLL 的所有匯入。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2889">The collection of these entries describes all imports from a given DLL.</span></span> <span data-ttu-id="cbcd2-2890">最後一個專案設定為零 (Null) 指出資料表的結尾。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2890">The last entry is set to zero (NULL) to indicate the end of the table.</span></span>



| <span data-ttu-id="cbcd2-2891">位 (s) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-2891">Bit(s)</span></span>            | <span data-ttu-id="cbcd2-2892">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2892">Size</span></span>           | <span data-ttu-id="cbcd2-2893">位元欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2893">Bit field</span></span>                       | <span data-ttu-id="cbcd2-2894">Description</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2894">Description</span></span>                                                                                                                                                               |
|-------------------|----------------|---------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2895">31/63</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2895">31/63</span></span> <br/> | <span data-ttu-id="cbcd2-2896">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2896">1</span></span> <br/>  | <span data-ttu-id="cbcd2-2897">序數/名稱旗標</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2897">Ordinal/Name Flag</span></span> <br/>   | <span data-ttu-id="cbcd2-2898">如果設定此位，則依序數匯入。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2898">If this bit is set, import by ordinal.</span></span> <span data-ttu-id="cbcd2-2899">否則，請依名稱匯入。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2899">Otherwise, import by name.</span></span> <span data-ttu-id="cbcd2-2900">Bit 會遮罩為 PE32、0x8000000000000000 for PE32 + 的0x80000000。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2900">Bit is masked as 0x80000000 for PE32, 0x8000000000000000 for PE32+.</span></span> <br/>                         |
| <span data-ttu-id="cbcd2-2901">15-0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2901">15-0</span></span> <br/>  | <span data-ttu-id="cbcd2-2902">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2902">16</span></span> <br/> | <span data-ttu-id="cbcd2-2903">序數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2903">Ordinal Number</span></span> <br/>      | <span data-ttu-id="cbcd2-2904">16位序數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2904">A 16-bit ordinal number.</span></span> <span data-ttu-id="cbcd2-2905">只有當序數/名稱旗標位欄位是 1 (由序數) 匯入時，才會使用此欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2905">This field is used only if the Ordinal/Name Flag bit field is 1 (import by ordinal).</span></span> <span data-ttu-id="cbcd2-2906">Bits 30-15 或62-15 必須為0。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2906">Bits 30-15 or 62-15 must be 0.</span></span> <br/>                  |
| <span data-ttu-id="cbcd2-2907">30-0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2907">30-0</span></span> <br/>  | <span data-ttu-id="cbcd2-2908">31</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2908">31</span></span> <br/> | <span data-ttu-id="cbcd2-2909">提示/名稱資料表 RVA</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2909">Hint/Name Table RVA</span></span> <br/> | <span data-ttu-id="cbcd2-2910">提示/名稱資料表專案的31位 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2910">A 31-bit RVA of a hint/name table entry.</span></span> <span data-ttu-id="cbcd2-2911">只有當序數/名稱旗標位欄位為 0 (依名稱) 匯入時，才會使用此欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2911">This field is used only if the Ordinal/Name Flag bit field is 0 (import by name).</span></span> <span data-ttu-id="cbcd2-2912">PE32 + bits 62-31 必須為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2912">For PE32+ bits 62-31 must be zero.</span></span> <br/> |



 

#### <a name="hintname-table"></a><span data-ttu-id="cbcd2-2913">提示/名稱表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2913">Hint/Name Table</span></span>

<span data-ttu-id="cbcd2-2914">針對整個匯入區段尾碼一個提示/名稱資料表。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2914">One hint/name table suffices for the entire import section.</span></span> <span data-ttu-id="cbcd2-2915">提示/名稱表中的每個專案都具有下列格式：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2915">Each entry in the hint/name table has the following format:</span></span>



| <span data-ttu-id="cbcd2-2916">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2916">Offset</span></span>         | <span data-ttu-id="cbcd2-2917">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2917">Size</span></span>                 | <span data-ttu-id="cbcd2-2918">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2918">Field</span></span>            | <span data-ttu-id="cbcd2-2919">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2919">Description</span></span>                                                                                                                                                                                       |
|----------------|----------------------|------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2920">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2920">0</span></span> <br/>  | <span data-ttu-id="cbcd2-2921">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2921">2</span></span> <br/>        | <span data-ttu-id="cbcd2-2922">提示</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2922">Hint</span></span> <br/> | <span data-ttu-id="cbcd2-2923">匯出名稱指標資料表中的索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2923">An index into the export name pointer table.</span></span> <span data-ttu-id="cbcd2-2924">首先會使用這個值來嘗試符合項。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2924">A match is attempted first with this value.</span></span> <span data-ttu-id="cbcd2-2925">如果失敗，則會對 DLL 的匯出名稱指標資料表執行二進位搜尋。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2925">If it fails, a binary search is performed on the DLL's export name pointer table.</span></span> <br/>            |
| <span data-ttu-id="cbcd2-2926">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2926">2</span></span> <br/>  | <span data-ttu-id="cbcd2-2927">變動</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2927">variable</span></span> <br/> | <span data-ttu-id="cbcd2-2928">Name</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2928">Name</span></span> <br/> | <span data-ttu-id="cbcd2-2929">包含要匯入之名稱的 ASCII 字串。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2929">An ASCII string that contains the name to import.</span></span> <span data-ttu-id="cbcd2-2930">這是必須與 DLL 中的公用名稱相符的字串。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2930">This is the string that must be matched to the public name in the DLL.</span></span> <span data-ttu-id="cbcd2-2931">這個字串會區分大小寫，並以 null 位元組終止。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2931">This string is case sensitive and terminated by a null byte.</span></span> <br/> |
| \* <br/> | <span data-ttu-id="cbcd2-2932">0 或 1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2932">0 or 1</span></span> <br/>   | <span data-ttu-id="cbcd2-2933">Pad</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2933">Pad</span></span> <br/>  | <span data-ttu-id="cbcd2-2934">尾端的零填補位元組（如有必要）會出現在尾端 null 位元組之後，以對齊偶數界限的下一個專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2934">A trailing zero-pad byte that appears after the trailing null byte, if necessary, to align the next entry on an even boundary.</span></span> <br/>                                                        |



 

#### <a name="import-address-table"></a><span data-ttu-id="cbcd2-2935">匯入位址表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2935">Import Address Table</span></span>

<span data-ttu-id="cbcd2-2936">匯入位址表的結構和內容與匯入查閱資料表的結構和內容相同，直到檔案系結為止。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2936">The structure and content of the import address table are identical to those of the import lookup table, until the file is bound.</span></span> <span data-ttu-id="cbcd2-2937">在系結期間，匯入位址表中的專案會覆寫為 PE32) 的32位 (，或要匯入的符號之 PE32 +) 位址的64位 (。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2937">During binding, the entries in the import address table are overwritten with the 32-bit (for PE32) or 64-bit (for PE32+) addresses of the symbols that are being imported.</span></span> <span data-ttu-id="cbcd2-2938">這些位址是符號的實際記憶體位址，雖然技術上，它們仍稱為「虛擬位址」。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2938">These addresses are the actual memory addresses of the symbols, although technically they are still called "virtual addresses."</span></span> <span data-ttu-id="cbcd2-2939">載入器通常會處理系結。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2939">The loader typically processes the binding.</span></span>

### <a name="the-pdata-section"></a><span data-ttu-id="cbcd2-2940">.Pdata 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2940">The .pdata Section</span></span>

<span data-ttu-id="cbcd2-2941">.Pdata 區段包含函式資料表專案的陣列，用於例外狀況處理。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2941">The .pdata section contains an array of function table entries that are used for exception handling.</span></span> <span data-ttu-id="cbcd2-2942">它是由 image data 目錄中的例外狀況資料表專案所指向。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2942">It is pointed to by the exception table entry in the image data directory.</span></span> <span data-ttu-id="cbcd2-2943">這些專案必須根據函數位址來排序 (每個結構中的第一個欄位) ，然後才會發出到最終的影像。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2943">The entries must be sorted according to the function addresses (the first field in each structure) before being emitted into the final image.</span></span> <span data-ttu-id="cbcd2-2944">目標平臺會使用下面所述的三個函式資料表輸入格式變化來決定哪一種。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2944">The target platform determines which of the three function table entry format variations described below is used.</span></span>

<span data-ttu-id="cbcd2-2945">若為32位的 MIPS 映射，函式資料表專案的格式如下：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2945">For 32-bit MIPS images, function table entries have the following format:</span></span>



| <span data-ttu-id="cbcd2-2946">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2946">Offset</span></span>         | <span data-ttu-id="cbcd2-2947">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2947">Size</span></span>          | <span data-ttu-id="cbcd2-2948">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2948">Field</span></span>                          | <span data-ttu-id="cbcd2-2949">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2949">Description</span></span>                                                                    |
|----------------|---------------|--------------------------------|--------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2950">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2950">0</span></span> <br/>  | <span data-ttu-id="cbcd2-2951">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2951">4</span></span> <br/> | <span data-ttu-id="cbcd2-2952">開始位址</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2952">Begin Address</span></span> <br/>      | <span data-ttu-id="cbcd2-2953">對應函式的 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2953">The VA of the corresponding function.</span></span> <br/>                              |
| <span data-ttu-id="cbcd2-2954">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2954">4</span></span> <br/>  | <span data-ttu-id="cbcd2-2955">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2955">4</span></span> <br/> | <span data-ttu-id="cbcd2-2956">結束位址</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2956">End Address</span></span> <br/>        | <span data-ttu-id="cbcd2-2957">函數結尾的 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2957">The VA of the end of the function.</span></span> <br/>                                 |
| <span data-ttu-id="cbcd2-2958">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2958">8</span></span> <br/>  | <span data-ttu-id="cbcd2-2959">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2959">4</span></span> <br/> | <span data-ttu-id="cbcd2-2960">例外狀況處理常式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2960">Exception Handler</span></span> <br/>  | <span data-ttu-id="cbcd2-2961">要執行之例外狀況處理常式的指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2961">The pointer to the exception handler to be executed.</span></span> <br/>               |
| <span data-ttu-id="cbcd2-2962">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2962">12</span></span> <br/> | <span data-ttu-id="cbcd2-2963">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2963">4</span></span> <br/> | <span data-ttu-id="cbcd2-2964">處理常式資料</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2964">Handler Data</span></span> <br/>       | <span data-ttu-id="cbcd2-2965">要傳遞給處理常式之其他資訊的指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2965">The pointer to additional information to be passed to the handler.</span></span> <br/> |
| <span data-ttu-id="cbcd2-2966">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2966">16</span></span> <br/> | <span data-ttu-id="cbcd2-2967">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2967">4</span></span> <br/> | <span data-ttu-id="cbcd2-2968">初構結束位址</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2968">Prolog End Address</span></span> <br/> | <span data-ttu-id="cbcd2-2969">函數初構結尾的 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2969">The VA of the end of the function's prolog.</span></span> <br/>                        |



 

<span data-ttu-id="cbcd2-2970">針對 ARM、PowerPC、SH3 和 SH4 Windows CE 平臺，函數資料表專案具有下列格式：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2970">For the ARM, PowerPC, SH3 and SH4 Windows CE platforms, function table entries have the following format:</span></span>



| <span data-ttu-id="cbcd2-2971">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2971">Offset</span></span>        | <span data-ttu-id="cbcd2-2972">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2972">Size</span></span>                | <span data-ttu-id="cbcd2-2973">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2973">Field</span></span>                       | <span data-ttu-id="cbcd2-2974">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2974">Description</span></span>                                                                                                               |
|---------------|---------------------|-----------------------------|---------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-2975">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2975">0</span></span> <br/> | <span data-ttu-id="cbcd2-2976">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2976">4</span></span> <br/>       | <span data-ttu-id="cbcd2-2977">開始位址</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2977">Begin Address</span></span> <br/>   | <span data-ttu-id="cbcd2-2978">對應函式的 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2978">The VA of the corresponding function.</span></span> <br/>                                                                         |
| <span data-ttu-id="cbcd2-2979">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2979">4</span></span> <br/> | <span data-ttu-id="cbcd2-2980">8 位元</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2980">8 bits</span></span> <br/>  | <span data-ttu-id="cbcd2-2981">初構長度</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2981">Prolog Length</span></span> <br/>   | <span data-ttu-id="cbcd2-2982">函數初構中的指令數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2982">The number of instructions in the function's prolog.</span></span> <br/>                                                          |
| <span data-ttu-id="cbcd2-2983">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2983">4</span></span> <br/> | <span data-ttu-id="cbcd2-2984">22位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2984">22 bits</span></span> <br/> | <span data-ttu-id="cbcd2-2985">函數長度</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2985">Function Length</span></span> <br/> | <span data-ttu-id="cbcd2-2986">函數中的指令數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2986">The number of instructions in the function.</span></span> <br/>                                                                   |
| <span data-ttu-id="cbcd2-2987">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2987">4</span></span> <br/> | <span data-ttu-id="cbcd2-2988">1位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2988">1 bit</span></span> <br/>   | <span data-ttu-id="cbcd2-2989">32位旗標</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2989">32-bit Flag</span></span> <br/>     | <span data-ttu-id="cbcd2-2990">如果設定，則函式包含32位的指令。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2990">If set, the function consists of 32-bit instructions.</span></span> <span data-ttu-id="cbcd2-2991">如果清除，則函式包含16位指令。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2991">If clear, the function consists of 16-bit instructions.</span></span> <br/> |
| <span data-ttu-id="cbcd2-2992">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2992">4</span></span> <br/> | <span data-ttu-id="cbcd2-2993">1位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2993">1 bit</span></span> <br/>   | <span data-ttu-id="cbcd2-2994">例外狀況旗標</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2994">Exception Flag</span></span> <br/>  | <span data-ttu-id="cbcd2-2995">如果設定，則函式會有例外狀況處理常式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2995">If set, an exception handler exists for the function.</span></span> <span data-ttu-id="cbcd2-2996">否則，就不會有任何例外狀況處理常式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2996">Otherwise, no exception handler exists.</span></span> <br/>                 |



 

<span data-ttu-id="cbcd2-2997">針對 x64 和 Itanium 平臺，函數資料表專案具有下列格式：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2997">For x64 and Itanium platforms, function table entries have the following format:</span></span>



| <span data-ttu-id="cbcd2-2998">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2998">Offset</span></span>        | <span data-ttu-id="cbcd2-2999">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-2999">Size</span></span>          | <span data-ttu-id="cbcd2-3000">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3000">Field</span></span>                          | <span data-ttu-id="cbcd2-3001">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3001">Description</span></span>                                        |
|---------------|---------------|--------------------------------|----------------------------------------------------|
| <span data-ttu-id="cbcd2-3002">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3002">0</span></span> <br/> | <span data-ttu-id="cbcd2-3003">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3003">4</span></span> <br/> | <span data-ttu-id="cbcd2-3004">開始位址</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3004">Begin Address</span></span> <br/>      | <span data-ttu-id="cbcd2-3005">對應函數的 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3005">The RVA of the corresponding function.</span></span> <br/> |
| <span data-ttu-id="cbcd2-3006">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3006">4</span></span> <br/> | <span data-ttu-id="cbcd2-3007">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3007">4</span></span> <br/> | <span data-ttu-id="cbcd2-3008">結束位址</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3008">End Address</span></span> <br/>        | <span data-ttu-id="cbcd2-3009">函數結尾的 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3009">The RVA of the end of the function.</span></span> <br/>    |
| <span data-ttu-id="cbcd2-3010">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3010">8</span></span> <br/> | <span data-ttu-id="cbcd2-3011">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3011">4</span></span> <br/> | <span data-ttu-id="cbcd2-3012">回溯資訊</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3012">Unwind Information</span></span> <br/> | <span data-ttu-id="cbcd2-3013">回溯資訊的 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3013">The RVA of the unwind information.</span></span> <br/>     |



 

### <a name="the-reloc-section-image-only"></a><span data-ttu-id="cbcd2-3014">Reloc 區段只 (映射) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-3014">The .reloc Section (Image Only)</span></span>

<span data-ttu-id="cbcd2-3015">基底重新配置資料表包含映射中所有基底重新置放的專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3015">The base relocation table contains entries for all base relocations in the image.</span></span> <span data-ttu-id="cbcd2-3016">選用標頭資料目錄中的基底重新配置資料表欄位會提供基底重新配置資料表中的位元組數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3016">The Base Relocation Table field in the optional header data directories gives the number of bytes in the base relocation table.</span></span> <span data-ttu-id="cbcd2-3017">如需詳細資訊，請參閱 [選擇性的標頭資料目錄 (映射) ](#optional-header-data-directories-image-only)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3017">For more information, see [Optional Header Data Directories (Image Only)](#optional-header-data-directories-image-only).</span></span> <span data-ttu-id="cbcd2-3018">基底重新配置資料表會分割成區塊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3018">The base relocation table is divided into blocks.</span></span> <span data-ttu-id="cbcd2-3019">每個區塊都代表4K 頁面的基底重新置放。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3019">Each block represents the base relocations for a 4K page.</span></span> <span data-ttu-id="cbcd2-3020">每個區塊都必須在32位界限上啟動。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3020">Each block must start on a 32-bit boundary.</span></span>

<span data-ttu-id="cbcd2-3021">除非載入映射無法在 PE 標頭中指定的映射基底載入，否則不需要載入器處理連結器所解析的基底重新置放。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3021">The loader is not required to process base relocations that are resolved by the linker, unless the load image cannot be loaded at the image base that is specified in the PE header.</span></span>

#### <a name="base-relocation-block"></a><span data-ttu-id="cbcd2-3022">基底重新配置區塊</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3022">Base Relocation Block</span></span>

<span data-ttu-id="cbcd2-3023">每個基底重新配置區塊的開頭都是下列結構：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3023">Each base relocation block starts with the following structure:</span></span>



| <span data-ttu-id="cbcd2-3024">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3024">Offset</span></span>        | <span data-ttu-id="cbcd2-3025">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3025">Size</span></span>          | <span data-ttu-id="cbcd2-3026">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3026">Field</span></span>                  | <span data-ttu-id="cbcd2-3027">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3027">Description</span></span>                                                                                                                                              |
|---------------|---------------|------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-3028">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3028">0</span></span> <br/> | <span data-ttu-id="cbcd2-3029">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3029">4</span></span> <br/> | <span data-ttu-id="cbcd2-3030">Page RVA</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3030">Page RVA</span></span> <br/>   | <span data-ttu-id="cbcd2-3031">映射基底加上頁面 RVA 會新增至每個位移，以建立必須套用基底重新配置的 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3031">The image base plus the page RVA is added to each offset to create the VA where the base relocation must be applied.</span></span> <br/>                         |
| <span data-ttu-id="cbcd2-3032">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3032">4</span></span> <br/> | <span data-ttu-id="cbcd2-3033">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3033">4</span></span> <br/> | <span data-ttu-id="cbcd2-3034">區塊大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3034">Block Size</span></span> <br/> | <span data-ttu-id="cbcd2-3035">基底重新配置區塊中的總位元組數，包括頁面 RVA 和區塊大小欄位，以及後續的類型/位移欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3035">The total number of bytes in the base relocation block, including the Page RVA and Block Size fields and the Type/Offset fields that follow.</span></span> <br/> |



 

<span data-ttu-id="cbcd2-3036">[區塊大小] 欄位後面接著任何數目的類型或位移欄位專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3036">The Block Size field is then followed by any number of Type or Offset field entries.</span></span> <span data-ttu-id="cbcd2-3037">每個專案都是一個字 (2 個位元組) ，而且具有下列結構：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3037">Each entry is a WORD (2 bytes) and has the following structure:</span></span>



| <span data-ttu-id="cbcd2-3038">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3038">Offset</span></span>        | <span data-ttu-id="cbcd2-3039">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3039">Size</span></span>                | <span data-ttu-id="cbcd2-3040">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3040">Field</span></span>              | <span data-ttu-id="cbcd2-3041">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3041">Description</span></span>                                                                                                                                                                                                            |
|---------------|---------------------|--------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-3042">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3042">0</span></span> <br/> | <span data-ttu-id="cbcd2-3043">4位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3043">4 bits</span></span> <br/>  | <span data-ttu-id="cbcd2-3044">類型</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3044">Type</span></span> <br/>   | <span data-ttu-id="cbcd2-3045">儲存在單字的高4位中，此值表示要套用的基底重新配置類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3045">Stored in the high 4 bits of the WORD, a value that indicates the type of base relocation to be applied.</span></span> <span data-ttu-id="cbcd2-3046">如需詳細資訊，請參閱 [基底](#base-relocation-types)重新配置類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3046">For more information, see [Base Relocation Types](#base-relocation-types).</span></span><br/>                         |
| <span data-ttu-id="cbcd2-3047">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3047">0</span></span> <br/> | <span data-ttu-id="cbcd2-3048">12個位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3048">12 bits</span></span> <br/> | <span data-ttu-id="cbcd2-3049">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3049">Offset</span></span> <br/> | <span data-ttu-id="cbcd2-3050">儲存在單字的其餘12個位中，從區塊的 Page RVA 欄位中指定的起始位址位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3050">Stored in the remaining 12 bits of the WORD, an offset from the starting address that was specified in the Page RVA field for the block.</span></span> <span data-ttu-id="cbcd2-3051">此位移指定要套用基底重新配置的位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3051">This offset specifies where the base relocation is to be applied.</span></span> <br/> |



 

<span data-ttu-id="cbcd2-3052">若要套用基底重新配置，則會在慣用基底位址和實際載入映射的基底之間計算差異。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3052">To apply a base relocation, the difference is calculated between the preferred base address and the base where the image is actually loaded.</span></span> <span data-ttu-id="cbcd2-3053">如果映射是以其慣用的基底載入，則差異為零，因此不需要套用基底重新置放。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3053">If the image is loaded at its preferred base, the difference is zero and thus the base relocations do not have to be applied.</span></span>

#### <a name="base-relocation-types"></a><span data-ttu-id="cbcd2-3054">基底重新配置類型</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3054">Base Relocation Types</span></span>



| <span data-ttu-id="cbcd2-3055">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3055">Constant</span></span>                                       | <span data-ttu-id="cbcd2-3056">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3056">Value</span></span>          | <span data-ttu-id="cbcd2-3057">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3057">Description</span></span>                                                                                                                                                                                                                                                                                                                       |
|------------------------------------------------|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-3058">影像 \_ REL \_ 型 \_ 絕對</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3058">IMAGE\_REL\_BASED\_ABSOLUTE</span></span> <br/>        | <span data-ttu-id="cbcd2-3059">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3059">0</span></span> <br/>  | <span data-ttu-id="cbcd2-3060">已略過基底重新配置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3060">The base relocation is skipped.</span></span> <span data-ttu-id="cbcd2-3061">此類型可以用來填補區塊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3061">This type can be used to pad a block.</span></span> <br/>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-3062">影像 \_ REL \_ （ \_ 高度）</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3062">IMAGE\_REL\_BASED\_HIGH</span></span> <br/>            | <span data-ttu-id="cbcd2-3063">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3063">1</span></span> <br/>  | <span data-ttu-id="cbcd2-3064">基底重新配置會在位移的16位欄位中加入差異的高16位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3064">The base relocation adds the high 16 bits of the difference to the 16-bit field at offset.</span></span> <span data-ttu-id="cbcd2-3065">16位欄位代表32位字的最高值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3065">The 16-bit field represents the high value of a 32-bit word.</span></span> <br/>                                                                                                                                                               |
| <span data-ttu-id="cbcd2-3066">影像 \_ REL \_ （ \_ 低）</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3066">IMAGE\_REL\_BASED\_LOW</span></span> <br/>             | <span data-ttu-id="cbcd2-3067">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3067">2</span></span> <br/>  | <span data-ttu-id="cbcd2-3068">基底重新配置會將差的低16位加入至位移的16位欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3068">The base relocation adds the low 16 bits of the difference to the 16-bit field at offset.</span></span> <span data-ttu-id="cbcd2-3069">16位欄位代表32位單字的下半部。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3069">The 16-bit field represents the low half of a 32-bit word.</span></span> <br/>                                                                                                                                                                  |
| <span data-ttu-id="cbcd2-3070">影像 \_ REL \_ 型 \_ HIGHLOW</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3070">IMAGE\_REL\_BASED\_HIGHLOW</span></span> <br/>         | <span data-ttu-id="cbcd2-3071">3</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3071">3</span></span> <br/>  | <span data-ttu-id="cbcd2-3072">基底重新配置會將所有32位的差異套用至位移上的32位欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3072">The base relocation applies all 32 bits of the difference to the 32-bit field at offset.</span></span> <br/>                                                                                                                                                                                                                              |
| <span data-ttu-id="cbcd2-3073">影像 \_ REL \_ 型 \_ HIGHADJ</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3073">IMAGE\_REL\_BASED\_HIGHADJ</span></span> <br/>         | <span data-ttu-id="cbcd2-3074">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3074">4</span></span> <br/>  | <span data-ttu-id="cbcd2-3075">基底重新配置會在位移的16位欄位中加入差異的高16位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3075">The base relocation adds the high 16 bits of the difference to the 16-bit field at offset.</span></span> <span data-ttu-id="cbcd2-3076">16位欄位代表32位字的最高值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3076">The 16-bit field represents the high value of a 32-bit word.</span></span> <span data-ttu-id="cbcd2-3077">32位值的低16位會儲存在此基底重新配置之後的16位字組中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3077">The low 16 bits of the 32-bit value are stored in the 16-bit word that follows this base relocation.</span></span> <span data-ttu-id="cbcd2-3078">這表示此基底重新配置佔用兩個位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3078">This means that this base relocation occupies two slots.</span></span> <br/> |
| <span data-ttu-id="cbcd2-3079">以影像 \_ REL 為 \_ 基礎的 \_ MIPS \_ JMPADDR</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3079">IMAGE\_REL\_BASED\_MIPS\_JMPADDR</span></span> <br/>   | <span data-ttu-id="cbcd2-3080">5</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3080">5</span></span> <br/>  | <span data-ttu-id="cbcd2-3081">重新配置轉譯相依于電腦類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3081">The relocation interpretation is dependent on the machine type.</span></span> <br/> <span data-ttu-id="cbcd2-3082">當機器類型是 MIPS 時，基底重新配置會套用至 MIPS 跳躍指令。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3082">When the machine type is MIPS, the base relocation applies to a MIPS jump instruction.</span></span> <br/>                                                                                                                                                    |
| <span data-ttu-id="cbcd2-3083">以影像 \_ REL 為 \_ 基礎的 \_ ARM \_ MOV32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3083">IMAGE\_REL\_BASED\_ARM\_MOV32</span></span> <br/>      | <span data-ttu-id="cbcd2-3084">5</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3084">5</span></span> <br/>  | <span data-ttu-id="cbcd2-3085">只有當機器類型為 ARM 或 Thumb 時，此重新配置才有意義。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3085">This relocation is meaningful only when the machine type is ARM or Thumb.</span></span> <span data-ttu-id="cbcd2-3086">基底重新配置會跨連續的 MOVW/MOVT 指令配對套用符號的32位位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3086">The base relocation applies the 32-bit address of a symbol across a consecutive MOVW/MOVT instruction pair.</span></span> <br/>                                                                                                                                 |
| <span data-ttu-id="cbcd2-3087">影像 \_ REL \_ 型 \_ RISCV \_ HIGH20</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3087">IMAGE\_REL\_BASED\_RISCV\_HIGH20</span></span> <br/>   | <span data-ttu-id="cbcd2-3088">5</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3088">5</span></span> <br/>  | <span data-ttu-id="cbcd2-3089">只有當機器類型為 RISC-V 時，此重新配置才有意義。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3089">This relocation is only meaningful when the machine type is RISC-V.</span></span> <span data-ttu-id="cbcd2-3090">基底重新配置適用于32位絕對位址的高20位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3090">The base relocation applies to the high 20 bits of a 32-bit absolute address.</span></span> <br/>                                                                                                                                                                     |
|                                                | <span data-ttu-id="cbcd2-3091">6</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3091">6</span></span> <br/>  | <span data-ttu-id="cbcd2-3092">Reserved，必須為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3092">Reserved, must be zero.</span></span> <br/>                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="cbcd2-3093">影像 \_ REL \_ 型 \_ THUMB \_ MOV32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3093">IMAGE\_REL\_BASED\_THUMB\_MOV32</span></span> <br/>    | <span data-ttu-id="cbcd2-3094">7</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3094">7</span></span> <br/>  | <span data-ttu-id="cbcd2-3095">只有當機器類型為 Thumb 時，此重新配置才有意義。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3095">This relocation is meaningful only when the machine type is Thumb.</span></span> <span data-ttu-id="cbcd2-3096">基底重新配置會將符號的32位位址套用至連續的 MOVW/MOVT 指令配對。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3096">The base relocation applies the 32-bit address of a symbol to a consecutive MOVW/MOVT instruction pair.</span></span> <br/>                                                                                                                                            |
| <span data-ttu-id="cbcd2-3097">影像 \_ REL \_ 型 \_ RISCV \_ LOW12I</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3097">IMAGE\_REL\_BASED\_RISCV\_LOW12I</span></span> <br/>   | <span data-ttu-id="cbcd2-3098">7</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3098">7</span></span> <br/>  | <span data-ttu-id="cbcd2-3099">只有當機器類型為 RISC-V 時，此重新配置才有意義。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3099">This relocation is only meaningful when the machine type is RISC-V.</span></span> <span data-ttu-id="cbcd2-3100">基底重新配置適用于以 RISC-V I 類型指令格式形成的32位絕對位址的低12位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3100">The base relocation applies to the low 12 bits of a 32-bit absolute address formed in RISC-V I-type instruction format.</span></span> <br/>                                                                                                                           |
| <span data-ttu-id="cbcd2-3101">影像 \_ REL \_ 型 \_ RISCV \_ LOW12S</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3101">IMAGE\_REL\_BASED\_RISCV\_LOW12S</span></span> <br/>   | <span data-ttu-id="cbcd2-3102">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3102">8</span></span> <br/>  | <span data-ttu-id="cbcd2-3103">只有當機器類型為 RISC-V 時，此重新配置才有意義。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3103">This relocation is only meaningful when the machine type is RISC-V.</span></span> <span data-ttu-id="cbcd2-3104">基底重新配置適用于以 RISC-V S 類型指令格式形成的32位絕對位址的低12位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3104">The base relocation applies to the low 12 bits of a 32-bit absolute address formed in RISC-V S-type instruction format.</span></span> <br/>                                                                                                                           |
| <span data-ttu-id="cbcd2-3105">以影像 \_ REL 為 \_ 基礎的 \_ MIPS \_ JMPADDR16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3105">IMAGE\_REL\_BASED\_MIPS\_JMPADDR16</span></span> <br/> | <span data-ttu-id="cbcd2-3106">9</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3106">9</span></span> <br/>  | <span data-ttu-id="cbcd2-3107">只有當機器類型是 MIPS 時，重新配置才有意義。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3107">The relocation is only meaningful when the machine type is MIPS.</span></span> <span data-ttu-id="cbcd2-3108">基底重新配置適用于 MIPS16 跳躍指令。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3108">The base relocation applies to a MIPS16 jump instruction.</span></span> <br/>                                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-3109">影像 \_ REL \_ 型 \_ DIR64</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3109">IMAGE\_REL\_BASED\_DIR64</span></span> <br/>           | <span data-ttu-id="cbcd2-3110">10</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3110">10</span></span> <br/> | <span data-ttu-id="cbcd2-3111">基底重新配置會在位移的64位欄位上套用差異。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3111">The base relocation applies the difference to the 64-bit field at offset.</span></span> <br/>                                                                                                                                                                                                                                             |



 

### <a name="the-tls-section"></a><span data-ttu-id="cbcd2-3112">Tls 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3112">The .tls Section</span></span>

<span data-ttu-id="cbcd2-3113">Tls 區段為靜態執行緒區域儲存 (TLS) 提供直接 PE 和 COFF 支援。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3113">The .tls section provides direct PE and COFF support for static thread local storage (TLS).</span></span> <span data-ttu-id="cbcd2-3114">TLS 是一種特殊的儲存類別，可讓資料物件不是自動 (stack) 變數，而是在執行程式碼的每個個別執行緒的本機上。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3114">TLS is a special storage class that Windows supports in which a data object is not an automatic (stack) variable, yet is local to each individual thread that runs the code.</span></span> <span data-ttu-id="cbcd2-3115">因此，每個執行緒都可以針對使用 TLS 所宣告的變數維護不同的值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3115">Thus, each thread can maintain a different value for a variable declared by using TLS.</span></span>

<span data-ttu-id="cbcd2-3116">請注意，您可以使用 API 呼叫 TlsAlloc、TlsFree、TlsSetValue 和 TlsGetValue 來支援任何數量的 TLS 資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3116">Note that any amount of TLS data can be supported by using the API calls TlsAlloc, TlsFree, TlsSetValue, and TlsGetValue.</span></span> <span data-ttu-id="cbcd2-3117">PE 或 COFF 實作為使用 API 的替代方法，其優點是可從高階語言程式設計師的觀點來簡化。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3117">The PE or COFF implementation is an alternative approach to using the API and has the advantage of being simpler from the high-level-language programmer's viewpoint.</span></span> <span data-ttu-id="cbcd2-3118">這項實行可讓您定義和初始化 TLS 資料，類似于程式中的一般靜態變數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3118">This implementation enables TLS data to be defined and initialized similarly to ordinary static variables in a program.</span></span> <span data-ttu-id="cbcd2-3119">例如，在 Visual C++ 中，靜態 TLS 變數可以定義如下，而不需要使用 Windows API：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3119">For example, in Visual C++, a static TLS variable can be defined as follows, without using the Windows API:</span></span>

`__declspec (thread) int tlsFlag = 1;`

<span data-ttu-id="cbcd2-3120">為了支援此程式設計結構，PE 和 COFF 區段會指定下列資訊：初始化資料、每個執行緒初始化和終止的回呼常式，以及 TLS 索引（將在下列討論中說明）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3120">To support this programming construct, the PE and COFF .tls section specifies the following information: initialization data, callback routines for per-thread initialization and termination, and the TLS index, which are explained in the following discussion.</span></span>

> [!Note]
>
> <span data-ttu-id="cbcd2-3121">靜態宣告的 TLS 資料物件只能用在靜態載入的影像檔案中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3121">Statically declared TLS data objects can be used only in statically loaded image files.</span></span> <span data-ttu-id="cbcd2-3122">這種事實可讓您不可靠地在 DLL 中使用靜態 TLS 資料，除非您知道 DLL 或靜態連結的任何資料都不會以 LoadLibrary API 函數動態載入。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3122">This fact makes it unreliable to use static TLS data in a DLL unless you know that the DLL, or anything statically linked with it, will never be loaded dynamically with the LoadLibrary API function.</span></span>

 

<span data-ttu-id="cbcd2-3123">可執行程式碼會透過下列步驟來存取靜態 TLS 資料物件：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3123">Executable code accesses a static TLS data object through the following steps:</span></span>

1.  <span data-ttu-id="cbcd2-3124">在連結時，連結器會設定 TLS 目錄的索引欄位位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3124">At link time, the linker sets the Address of Index field of the TLS directory.</span></span> <span data-ttu-id="cbcd2-3125">此欄位會指向程式預期接收 TLS 索引的位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3125">This field points to a location where the program expects to receive the TLS index.</span></span>

    <span data-ttu-id="cbcd2-3126">Microsoft 執行時間程式庫可讓您定義 TLS 目錄的記憶體映射，並為其提供特殊名稱「 \_ \_ 使用 tls」 \_ (Intel x86 平臺) 或「 \_ 使用的 tls」 \_ (其他平臺) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3126">The Microsoft run-time library facilitates this process by defining a memory image of the TLS directory and giving it the special name "\_\_tls\_used" (Intel x86 platforms) or "\_tls\_used" (other platforms).</span></span> <span data-ttu-id="cbcd2-3127">連結器會尋找這個記憶體映射，並使用該處的資料來建立 TLS 目錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3127">The linker looks for this memory image and uses the data there to create the TLS directory.</span></span> <span data-ttu-id="cbcd2-3128">其他支援 TLS 和使用 Microsoft 連結器的編譯器必須使用相同的技術。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3128">Other compilers that support TLS and work with the Microsoft linker must use this same technique.</span></span>

2.  <span data-ttu-id="cbcd2-3129">建立執行緒時，載入器會藉由將執行緒環境區塊的位址放在 FS 註冊 (TEB) ，來傳達執行緒的 TLS 陣列位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3129">When a thread is created, the loader communicates the address of the thread's TLS array by placing the address of the thread environment block (TEB) in the FS register.</span></span> <span data-ttu-id="cbcd2-3130">TLS 陣列的指標位於 TEB 開頭的0x2C 位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3130">A pointer to the TLS array is at the offset of 0x2C from the beginning of TEB.</span></span> <span data-ttu-id="cbcd2-3131">這是 Intel x86 特定的行為。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3131">This behavior is Intel x86-specific.</span></span>

3.  <span data-ttu-id="cbcd2-3132">載入器會將 TLS 索引的值指派給索引欄位位址所指示的位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3132">The loader assigns the value of the TLS index to the place that was indicated by the Address of Index field.</span></span>

4.  <span data-ttu-id="cbcd2-3133">可執行程式碼會抓取 TLS 索引，也會抓取 TLS 陣列的位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3133">The executable code retrieves the TLS index and also the location of the TLS array.</span></span>

5.  <span data-ttu-id="cbcd2-3134">程式碼會使用 TLS 索引和 TLS 陣列位置 (將索引乘以4，然後使用它做為陣列的位移) 來取得指定程式和模組的 TLS 資料區域位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3134">The code uses the TLS index and the TLS array location (multiplying the index by 4 and using it as an offset to the array) to get the address of the TLS data area for the given program and module.</span></span> <span data-ttu-id="cbcd2-3135">每個執行緒都有自己的 TLS 資料區域，但這對程式而言是透明的，不需要知道如何為個別執行緒配置資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3135">Each thread has its own TLS data area, but this is transparent to the program, which does not need to know how data is allocated for individual threads.</span></span>

6.  <span data-ttu-id="cbcd2-3136">在 TLS 資料區域中，會將個別的 TLS 資料物件當作一些固定的位移來存取。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3136">An individual TLS data object is accessed as some fixed offset into the TLS data area.</span></span>

<span data-ttu-id="cbcd2-3137">TLS 陣列是系統為每個執行緒維護的位址陣列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3137">The TLS array is an array of addresses that the system maintains for each thread.</span></span> <span data-ttu-id="cbcd2-3138">此陣列中的每個位址會提供程式中)  (EXE 或 DLL 的 TLS 資料位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3138">Each address in this array gives the location of TLS data for a given module (EXE or DLL) within the program.</span></span> <span data-ttu-id="cbcd2-3139">TLS 索引會指出要使用的陣列成員。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3139">The TLS index indicates which member of the array to use.</span></span> <span data-ttu-id="cbcd2-3140">索引是一個數位 (只對識別模組的系統) 有意義。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3140">The index is a number (meaningful only to the system) that identifies the module.</span></span>

#### <a name="the-tls-directory"></a><span data-ttu-id="cbcd2-3141">TLS 目錄</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3141">The TLS Directory</span></span>

<span data-ttu-id="cbcd2-3142">TLS 目錄的格式如下：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3142">The TLS directory has the following format:</span></span>



| <span data-ttu-id="cbcd2-3143">Offset (PE32/PE32 +) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-3143">Offset (PE32/ PE32+)</span></span> | <span data-ttu-id="cbcd2-3144">大小 (PE32/PE32 +) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-3144">Size (PE32/ PE32+)</span></span> | <span data-ttu-id="cbcd2-3145">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3145">Field</span></span>                            | <span data-ttu-id="cbcd2-3146">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3146">Description</span></span>                                                                                                                                                                                                                                                                                                                                         |
|----------------------|--------------------|----------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-3147">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3147">0</span></span> <br/>        | <span data-ttu-id="cbcd2-3148">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3148">4/8</span></span> <br/>    | <span data-ttu-id="cbcd2-3149">原始資料開始 VA</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3149">Raw Data Start VA</span></span> <br/>    | <span data-ttu-id="cbcd2-3150">TLS 範本的起始位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3150">The starting address of the TLS template.</span></span> <span data-ttu-id="cbcd2-3151">此範本是用來初始化 TLS 資料的資料區塊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3151">The template is a block of data that is used to initialize TLS data.</span></span> <span data-ttu-id="cbcd2-3152">系統會在每次建立執行緒時複製這些資料，因此它不一定會損毀。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3152">The system copies all of this data each time a thread is created, so it must not be corrupted.</span></span> <span data-ttu-id="cbcd2-3153">請注意，此位址不是 RVA;它是 reloc 區段中應該有基底重新配置的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3153">Note that this address is not an RVA; it is an address for which there should be a base relocation in the .reloc section.</span></span> <br/> |
| <span data-ttu-id="cbcd2-3154">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3154">4/8</span></span> <br/>      | <span data-ttu-id="cbcd2-3155">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3155">4/8</span></span> <br/>    | <span data-ttu-id="cbcd2-3156">原始資料結束 VA</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3156">Raw Data End VA</span></span> <br/>      | <span data-ttu-id="cbcd2-3157">TLS 最後一個位元組的位址，但不含填滿。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3157">The address of the last byte of the TLS, except for the zero fill.</span></span> <span data-ttu-id="cbcd2-3158">如同 Raw Data Start VA 欄位，這是 VA，而非 RVA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3158">As with the Raw Data Start VA field, this is a VA, not an RVA.</span></span> <br/>                                                                                                                                                                                                       |
| <span data-ttu-id="cbcd2-3159">8/16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3159">8/16</span></span> <br/>     | <span data-ttu-id="cbcd2-3160">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3160">4/8</span></span> <br/>    | <span data-ttu-id="cbcd2-3161">索引的位址</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3161">Address of Index</span></span> <br/>     | <span data-ttu-id="cbcd2-3162">要接收 TLS 索引的位置，載入器會將它指派。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3162">The location to receive the TLS index, which the loader assigns.</span></span> <span data-ttu-id="cbcd2-3163">這個位置是在一般資料區段中，因此可以指定程式可存取的符號名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3163">This location is in an ordinary data section, so it can be given a symbolic name that is accessible to the program.</span></span> <br/>                                                                                                                                                    |
| <span data-ttu-id="cbcd2-3164">12/24</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3164">12/24</span></span> <br/>    | <span data-ttu-id="cbcd2-3165">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3165">4/8</span></span> <br/>    | <span data-ttu-id="cbcd2-3166">回呼位址</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3166">Address of Callbacks</span></span> <br/> | <span data-ttu-id="cbcd2-3167">TLS 回呼函數陣列的指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3167">The pointer to an array of TLS callback functions.</span></span> <span data-ttu-id="cbcd2-3168">陣列以 null 終止，因此如果不支援任何回呼函式，則此欄位會指向4個位元組，並設定為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3168">The array is null-terminated, so if no callback function is supported, this field points to 4 bytes set to zero.</span></span> <span data-ttu-id="cbcd2-3169">如需這些函式原型的詳細資訊，請參閱 [TLS 回呼函數](#tls-callback-functions)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3169">For information about the prototype for these functions, see [TLS Callback Functions](#tls-callback-functions).</span></span><br/>                                                      |
| <span data-ttu-id="cbcd2-3170">16/32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3170">16/32</span></span> <br/>    | <span data-ttu-id="cbcd2-3171">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3171">4</span></span> <br/>      | <span data-ttu-id="cbcd2-3172">大小為零填滿</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3172">Size of Zero Fill</span></span> <br/>    | <span data-ttu-id="cbcd2-3173">範本的大小（以位元組為單位），超過原始資料開始 VA 和原始資料 End VA 欄位所分隔的初始化資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3173">The size in bytes of the template, beyond the initialized data delimited by the Raw Data Start VA and Raw Data End VA fields.</span></span> <span data-ttu-id="cbcd2-3174">範本大小總計應與影像檔案中的 TLS 資料大小總計相同。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3174">The total template size should be the same as the total size of TLS data in the image file.</span></span> <span data-ttu-id="cbcd2-3175">零填滿是在初始化的非零資料之後的資料量。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3175">The zero fill is the amount of data that comes after the initialized nonzero data.</span></span> <br/>                            |
| <span data-ttu-id="cbcd2-3176">20/36</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3176">20/36</span></span> <br/>    | <span data-ttu-id="cbcd2-3177">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3177">4</span></span> <br/>      | <span data-ttu-id="cbcd2-3178">特性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3178">Characteristics</span></span> <br/>      | <span data-ttu-id="cbcd2-3179">四個位 \[ 23:20 \] 描述對齊方式資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3179">The four bits \[23:20\] describe alignment info.</span></span> <span data-ttu-id="cbcd2-3180">可能的值是定義為影像 \_ SCN \_ 對齊的值 \_ \* ，也就是用來描述物件檔中的區段對齊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3180">Possible values are those defined as IMAGE\_SCN\_ALIGN\_\*, which are also used to describe alignment of section in object files.</span></span> <span data-ttu-id="cbcd2-3181">其他28位則保留供日後使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3181">The other 28 bits are reserved for future use.</span></span> <br/>                                                                                                       |



 

#### <a name="tls-callback-functions"></a><span data-ttu-id="cbcd2-3182">TLS 回呼函式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3182">TLS Callback Functions</span></span>

<span data-ttu-id="cbcd2-3183">此程式可以提供一或多個 TLS 回呼函式，以支援 TLS 資料物件的額外初始化和終止。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3183">The program can provide one or more TLS callback functions to support additional initialization and termination for TLS data objects.</span></span> <span data-ttu-id="cbcd2-3184">這類回呼函數的一般用法是呼叫物件的函式和析構函數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3184">A typical use for such a callback function would be to call constructors and destructors for objects.</span></span>

<span data-ttu-id="cbcd2-3185">雖然通常不會有一個以上的回呼函式，但是回呼會實作為陣列，讓您可以視需要新增其他回呼函數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3185">Although there is typically no more than one callback function, a callback is implemented as an array to make it possible to add additional callback functions if desired.</span></span> <span data-ttu-id="cbcd2-3186">如果有一個以上的回呼函式，每個函式都會依其位址出現在陣列中的順序來呼叫。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3186">If there is more than one callback function, each function is called in the order in which its address appears in the array.</span></span> <span data-ttu-id="cbcd2-3187">Null 指標會結束陣列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3187">A null pointer terminates the array.</span></span> <span data-ttu-id="cbcd2-3188">具有空的清單 (沒有回呼支援的) ，在這種情況下，回呼陣列只有一個成員-a null 指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3188">It is perfectly valid to have an empty list (no callback supported), in which case the callback array has exactly one member-a null pointer.</span></span>

<span data-ttu-id="cbcd2-3189">回呼函式的原型 (由型別 PIMAGE TLS 回呼) 的指標所指向，與 \_ \_ DLL 進入點函數的參數相同：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3189">The prototype for a callback function (pointed to by a pointer of type PIMAGE\_TLS\_CALLBACK) has the same parameters as a DLL entry-point function:</span></span>


```C++
typedef VOID
(NTAPI *PIMAGE_TLS_CALLBACK) (
    PVOID DllHandle,
    DWORD Reason,
    PVOID Reserved
    );
```



<span data-ttu-id="cbcd2-3190">保留參數應設為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3190">The Reserved parameter should be set to zero.</span></span> <span data-ttu-id="cbcd2-3191">Reason 參數可以採用下列值：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3191">The Reason parameter can take the following values:</span></span>



| <span data-ttu-id="cbcd2-3192">設定</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3192">Setting</span></span>                          | <span data-ttu-id="cbcd2-3193">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3193">Value</span></span>         | <span data-ttu-id="cbcd2-3194">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3194">Description</span></span>                                                                                          |
|----------------------------------|---------------|------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-3195">DLL \_ 進程 \_ 附加</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3195">DLL\_PROCESS\_ATTACH</span></span> <br/> | <span data-ttu-id="cbcd2-3196">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3196">1</span></span> <br/> | <span data-ttu-id="cbcd2-3197">已開始新的進程，包括第一個執行緒。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3197">A new process has started, including the first thread.</span></span> <br/>                                   |
| <span data-ttu-id="cbcd2-3198">DLL \_ 執行緒 \_ 附加</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3198">DLL\_THREAD\_ATTACH</span></span> <br/>  | <span data-ttu-id="cbcd2-3199">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3199">2</span></span> <br/> | <span data-ttu-id="cbcd2-3200">已建立新的執行緒。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3200">A new thread has been created.</span></span> <span data-ttu-id="cbcd2-3201">這是針對所有的第一個執行緒傳送的通知。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3201">This notification sent for all but the first thread.</span></span> <br/>      |
| <span data-ttu-id="cbcd2-3202">DLL \_ 執行緒卸 \_ 離</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3202">DLL\_THREAD\_DETACH</span></span> <br/>  | <span data-ttu-id="cbcd2-3203">3</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3203">3</span></span> <br/> | <span data-ttu-id="cbcd2-3204">執行緒即將終止。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3204">A thread is about to be terminated.</span></span> <span data-ttu-id="cbcd2-3205">這是針對所有的第一個執行緒傳送的通知。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3205">This notification sent for all but the first thread.</span></span> <br/> |
| <span data-ttu-id="cbcd2-3206">DLL \_ 進程卸 \_ 離</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3206">DLL\_PROCESS\_DETACH</span></span> <br/> | <span data-ttu-id="cbcd2-3207">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3207">0</span></span> <br/> | <span data-ttu-id="cbcd2-3208">進程即將終止，包括原始執行緒。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3208">A process is about to terminate, including the original thread.</span></span> <br/>                          |



 

### <a name="the-load-configuration-structure-image-only"></a><span data-ttu-id="cbcd2-3209">負載設定結構只 (映射) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-3209">The Load Configuration Structure (Image Only)</span></span>

<span data-ttu-id="cbcd2-3210">負載設定結構 (映射 \_ 載入設定 \_ \_ 目錄) 先前在 Windows NT 作業系統本身的極少數情況下使用，以描述太難或太大而無法在映射的檔案標頭或選擇性標頭中描述的各種功能。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3210">The load configuration structure (IMAGE\_LOAD\_CONFIG\_DIRECTORY) was formerly used in very limited cases in the Windows NT operating system itself to describe various features too difficult or too large to describe in the file header or optional header of the image.</span></span> <span data-ttu-id="cbcd2-3211">目前版本的 Microsoft 連結器和 Windows XP 及更新版本的 Windows 會針對32位 x86 系統（包括保留的 SEH 技術）使用此結構的新版本。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3211">Current versions of the Microsoft linker and Windows XP and later versions of Windows use a new version of this structure for 32-bit x86-based systems that include reserved SEH technology.</span></span> <span data-ttu-id="cbcd2-3212">這會提供作業系統在例外狀況分派期間使用的安全結構化例外狀況處理常式清單。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3212">This provides a list of safe structured exception handlers that the operating system uses during exception dispatching.</span></span> <span data-ttu-id="cbcd2-3213">如果處理常式位址位於影像的 VA 範圍內，並標示為保留的 SEH 感知 (也就是，在 \_ \_ \_ 選擇性標頭的 DLLCHARACTERISTICS 欄位中沒有 SEH 清除，如先前) 所述，則處理常式必須在該映射的已知安全處理常式清單中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3213">If the handler address resides in an image's VA range and is marked as reserved SEH-aware (that is, IMAGE\_DLLCHARACTERISTICS\_NO\_SEH is clear in the DllCharacteristics field of the optional header, as described earlier), then the handler must be in the list of known safe handlers for that image.</span></span> <span data-ttu-id="cbcd2-3214">否則，作業系統會終止應用程式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3214">Otherwise, the operating system terminates the application.</span></span> <span data-ttu-id="cbcd2-3215">這有助於防止「x86 例外狀況處理常式劫持」惡意探索過去用來控制作業系統。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3215">This helps prevent the "x86 exception handler hijacking" exploit that has been used in the past to take control of the operating system.</span></span>

<span data-ttu-id="cbcd2-3216">Microsoft 連結器會自動提供預設的載入設定結構，以包含保留的 SEH 資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3216">The Microsoft linker automatically provides a default load configuration structure to include the reserved SEH data.</span></span> <span data-ttu-id="cbcd2-3217">如果使用者程式碼已經提供負載設定結構，則必須包含新的保留 SEH 欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3217">If the user code already provides a load configuration structure, it must include the new reserved SEH fields.</span></span> <span data-ttu-id="cbcd2-3218">否則，連結器不能包含保留的 SEH 資料，而且映射也不會標示為包含保留的 SEH。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3218">Otherwise, the linker cannot include the reserved SEH data and the image is not marked as containing reserved SEH.</span></span>

#### <a name="load-configuration-directory"></a><span data-ttu-id="cbcd2-3219">載入設定目錄</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3219">Load Configuration Directory</span></span>

<span data-ttu-id="cbcd2-3220">預先保留的 SEH 負載設定結構的資料目錄專案必須指定負載設定結構的特定大小，因為作業系統載入器一律會預期它是特定的值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3220">The data directory entry for a pre-reserved SEH load configuration structure must specify a particular size of the load configuration structure because the operating system loader always expects it to be a certain value.</span></span> <span data-ttu-id="cbcd2-3221">就這一點而言，大小其實只是版本檢查。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3221">In that regard, the size is really only a version check.</span></span> <span data-ttu-id="cbcd2-3222">為了與 Windows XP 和舊版的 Windows 相容，x86 映射的大小必須為64。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3222">For compatibility with Windows XP and earlier versions of Windows, the size must be 64 for x86 images.</span></span>

#### <a name="load-configuration-layout"></a><span data-ttu-id="cbcd2-3223">載入設定配置</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3223">Load Configuration Layout</span></span>

<span data-ttu-id="cbcd2-3224">針對32位和64位 PE 檔案，負載設定結構具有下列配置：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3224">The load configuration structure has the following layout for 32-bit and 64-bit PE files:</span></span>



| <span data-ttu-id="cbcd2-3225">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3225">Offset</span></span>              | <span data-ttu-id="cbcd2-3226">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3226">Size</span></span>            | <span data-ttu-id="cbcd2-3227">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3227">Field</span></span>                                      | <span data-ttu-id="cbcd2-3228">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3228">Description</span></span>                                                                                                                                                                                                                                                                                 |
|---------------------|-----------------|--------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-3229">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3229">0</span></span> <br/>       | <span data-ttu-id="cbcd2-3230">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3230">4</span></span> <br/>   | <span data-ttu-id="cbcd2-3231">特性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3231">Characteristics</span></span> <br/>                | <span data-ttu-id="cbcd2-3232">指出檔案屬性的旗標，目前未使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3232">Flags that indicate attributes of the file, currently unused.</span></span> <br/>                                                                                                                                                                                                                   |
| <span data-ttu-id="cbcd2-3233">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3233">4</span></span> <br/>       | <span data-ttu-id="cbcd2-3234">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3234">4</span></span> <br/>   | <span data-ttu-id="cbcd2-3235">TimeDateStamp</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3235">TimeDateStamp</span></span> <br/>                  | <span data-ttu-id="cbcd2-3236">日期和時間戳記值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3236">Date and time stamp value.</span></span> <span data-ttu-id="cbcd2-3237">此值會以秒數表示，從午夜 (00:00:00) 、1970年1月1日、全球協調時間（根據系統時鐘）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3237">The value is represented in the number of seconds that have elapsed since midnight (00:00:00), January 1, 1970, Universal Coordinated Time, according to the system clock.</span></span> <span data-ttu-id="cbcd2-3238">您可以使用 C 執行時間 (CRT) 時間函數來列印時間戳記。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3238">The time stamp can be printed by using the C runtime (CRT) time function.</span></span> <br/> |
| <span data-ttu-id="cbcd2-3239">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3239">8</span></span> <br/>       | <span data-ttu-id="cbcd2-3240">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3240">2</span></span> <br/>   | <span data-ttu-id="cbcd2-3241">MajorVersion</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3241">MajorVersion</span></span> <br/>                   | <span data-ttu-id="cbcd2-3242">主要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3242">Major version number.</span></span> <br/>                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-3243">10</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3243">10</span></span> <br/>      | <span data-ttu-id="cbcd2-3244">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3244">2</span></span> <br/>   | <span data-ttu-id="cbcd2-3245">MinorVersion</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3245">MinorVersion</span></span> <br/>                   | <span data-ttu-id="cbcd2-3246">次要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3246">Minor version number.</span></span> <br/>                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cbcd2-3247">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3247">12</span></span> <br/>      | <span data-ttu-id="cbcd2-3248">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3248">4</span></span> <br/>   | <span data-ttu-id="cbcd2-3249">GlobalFlagsClear</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3249">GlobalFlagsClear</span></span> <br/>               | <span data-ttu-id="cbcd2-3250">當載入器啟動處理常式時，要清除此進程的全域載入器旗標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3250">The global loader flags to clear for this process as the loader starts the process.</span></span> <br/>                                                                                                                                                                                             |
| <span data-ttu-id="cbcd2-3251">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3251">16</span></span> <br/>      | <span data-ttu-id="cbcd2-3252">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3252">4</span></span> <br/>   | <span data-ttu-id="cbcd2-3253">GlobalFlagsSet</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3253">GlobalFlagsSet</span></span> <br/>                 | <span data-ttu-id="cbcd2-3254">當載入器啟動處理常式時，要為此進程設定的全域載入器旗標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3254">The global loader flags to set for this process as the loader starts the process.</span></span> <br/>                                                                                                                                                                                               |
| <span data-ttu-id="cbcd2-3255">20</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3255">20</span></span> <br/>      | <span data-ttu-id="cbcd2-3256">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3256">4</span></span> <br/>   | <span data-ttu-id="cbcd2-3257">CriticalSectionDefaultTimeout</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3257">CriticalSectionDefaultTimeout</span></span> <br/>  | <span data-ttu-id="cbcd2-3258">要在這個進程的重要區段中使用的預設超時值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3258">The default timeout value to use for this process's critical sections that are abandoned.</span></span> <br/>                                                                                                                                                                                       |
| <span data-ttu-id="cbcd2-3259">24</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3259">24</span></span> <br/>      | <span data-ttu-id="cbcd2-3260">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3260">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3261">DeCommitFreeBlockThreshold</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3261">DeCommitFreeBlockThreshold</span></span> <br/>     | <span data-ttu-id="cbcd2-3262">必須在傳回給系統之前釋放的記憶體（以位元組為單位）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3262">Memory that must be freed before it is returned to the system, in bytes.</span></span> <br/>                                                                                                                                                                                                        |
| <span data-ttu-id="cbcd2-3263">28/32</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3263">28/32</span></span> <br/>   | <span data-ttu-id="cbcd2-3264">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3264">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3265">DeCommitTotalFreeThreshold</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3265">DeCommitTotalFreeThreshold</span></span> <br/>     | <span data-ttu-id="cbcd2-3266">可用記憶體總量（以位元組為單位）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3266">Total amount of free memory, in bytes.</span></span> <br/>                                                                                                                                                                                                                                          |
| <span data-ttu-id="cbcd2-3267">32/40</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3267">32/40</span></span> <br/>   | <span data-ttu-id="cbcd2-3268">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3268">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3269">LockPrefixTable</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3269">LockPrefixTable</span></span> <br/>                | <span data-ttu-id="cbcd2-3270">\[x86 僅限 \] 使用鎖定首碼之地址清單的 VA，讓它們可以在單一處理器電腦上以 NOP 取代。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3270">\[x86 only\] The VA of a list of addresses where the LOCK prefix is used so that they can be replaced with NOP on single processor machines.</span></span> <br/>                                                                                                                                    |
| <span data-ttu-id="cbcd2-3271">36/48</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3271">36/48</span></span> <br/>   | <span data-ttu-id="cbcd2-3272">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3272">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3273">MaximumAllocationSize</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3273">MaximumAllocationSize</span></span> <br/>          | <span data-ttu-id="cbcd2-3274">配置大小上限（以位元組為單位）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3274">Maximum allocation size, in bytes.</span></span> <br/>                                                                                                                                                                                                                                              |
| <span data-ttu-id="cbcd2-3275">40/56</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3275">40/56</span></span> <br/>   | <span data-ttu-id="cbcd2-3276">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3276">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3277">VirtualMemoryThreshold</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3277">VirtualMemoryThreshold</span></span> <br/>         | <span data-ttu-id="cbcd2-3278">最大虛擬記憶體大小（以位元組為單位）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3278">Maximum virtual memory size, in bytes.</span></span> <br/>                                                                                                                                                                                                                                          |
| <span data-ttu-id="cbcd2-3279">44/64</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3279">44/64</span></span> <br/>   | <span data-ttu-id="cbcd2-3280">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3280">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3281">ProcessAffinityMask</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3281">ProcessAffinityMask</span></span> <br/>            | <span data-ttu-id="cbcd2-3282">將此欄位設定為非零值，相當於在進程啟動期間使用此值來呼叫 SetProcessAffinityMask ( .exe) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-3282">Setting this field to a non-zero value is equivalent to calling SetProcessAffinityMask with this value during process startup (.exe only)</span></span> <br/>                                                                                                                                       |
| <span data-ttu-id="cbcd2-3283">48/72</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3283">48/72</span></span> <br/>   | <span data-ttu-id="cbcd2-3284">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3284">4</span></span> <br/>   | <span data-ttu-id="cbcd2-3285">ProcessHeapFlags</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3285">ProcessHeapFlags</span></span> <br/>               | <span data-ttu-id="cbcd2-3286">進程堆積旗標，其對應至 HeapCreate 函數的第一個引數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3286">Process heap flags that correspond to the first argument of the HeapCreate function.</span></span> <span data-ttu-id="cbcd2-3287">這些旗標適用于在進程啟動期間建立的進程堆積。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3287">These flags apply to the process heap that is created during process startup.</span></span> <br/>                                                                                                              |
| <span data-ttu-id="cbcd2-3288">52/76</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3288">52/76</span></span> <br/>   | <span data-ttu-id="cbcd2-3289">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3289">2</span></span> <br/>   | <span data-ttu-id="cbcd2-3290">CSDVersion</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3290">CSDVersion</span></span> <br/>                     | <span data-ttu-id="cbcd2-3291">Service pack 版本識別碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3291">The service pack version identifier.</span></span> <br/>                                                                                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-3292">54/78</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3292">54/78</span></span> <br/>   | <span data-ttu-id="cbcd2-3293">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3293">2</span></span> <br/>   | <span data-ttu-id="cbcd2-3294">保留</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3294">Reserved</span></span> <br/>                       | <span data-ttu-id="cbcd2-3295">必須為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3295">Must be zero.</span></span> <br/>                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="cbcd2-3296">56/80</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3296">56/80</span></span> <br/>   | <span data-ttu-id="cbcd2-3297">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3297">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3298">EditList</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3298">EditList</span></span> <br/>                       | <span data-ttu-id="cbcd2-3299">保留供系統使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3299">Reserved for use by the system.</span></span> <br/>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cbcd2-3300">60/88</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3300">60/88</span></span> <br/>   | <span data-ttu-id="cbcd2-3301">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3301">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3302">SecurityCookie</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3302">SecurityCookie</span></span> <br/>                 | <span data-ttu-id="cbcd2-3303">Visual C++ 或 GS 執行所使用的 cookie 指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3303">A pointer to a cookie that is used by Visual C++ or GS implementation.</span></span> <br/>                                                                                                                                                                                                          |
| <span data-ttu-id="cbcd2-3304">64/96</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3304">64/96</span></span> <br/>   | <span data-ttu-id="cbcd2-3305">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3305">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3306">SEHandlerTable</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3306">SEHandlerTable</span></span> <br/>                 | <span data-ttu-id="cbcd2-3307">\[x86 只是 \] 影像中每個有效、唯一 SE 處理常式之 rva 的已排序資料表的 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3307">\[x86 only\] The VA of the sorted table of RVAs of each valid, unique SE handler in the image.</span></span> <br/>                                                                                                                                                                                  |
| <span data-ttu-id="cbcd2-3308">68/104</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3308">68/104</span></span> <br/>  | <span data-ttu-id="cbcd2-3309">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3309">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3310">SEHandlerCount</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3310">SEHandlerCount</span></span> <br/>                 | <span data-ttu-id="cbcd2-3311">\[x86：僅限 \] 資料表中唯一處理程式的計數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3311">\[x86 only\] The count of unique handlers in the table.</span></span> <br/>                                                                                                                                                                                                                         |
| <span data-ttu-id="cbcd2-3312">72/112</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3312">72/112</span></span> <br/>  | <span data-ttu-id="cbcd2-3313">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3313">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3314">GuardCFCheckFunctionPointer</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3314">GuardCFCheckFunctionPointer</span></span> <br/>    | <span data-ttu-id="cbcd2-3315">儲存控制流程防護檢查函數指標的 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3315">The VA where Control Flow Guard check-function pointer is stored.</span></span> <br/>                                                                                                                                                                                                               |
| <span data-ttu-id="cbcd2-3316">76/120</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3316">76/120</span></span> <br/>  | <span data-ttu-id="cbcd2-3317">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3317">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3318">GuardCFDispatchFunctionPointer</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3318">GuardCFDispatchFunctionPointer</span></span> <br/> | <span data-ttu-id="cbcd2-3319">儲存控制流程防護分派函式指標的 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3319">The VA where Control Flow Guard dispatch-function pointer is stored.</span></span> <br/>                                                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-3320">80/128</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3320">80/128</span></span> <br/>  | <span data-ttu-id="cbcd2-3321">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3321">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3322">GuardCFFunctionTable</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3322">GuardCFFunctionTable</span></span> <br/>           | <span data-ttu-id="cbcd2-3323">影像中每個控制流程防護函式之 Rva 的已排序表格的 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3323">The VA of the sorted table of RVAs of each Control Flow Guard function in the image.</span></span> <br/>                                                                                                                                                                                            |
| <span data-ttu-id="cbcd2-3324">84/136</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3324">84/136</span></span> <br/>  | <span data-ttu-id="cbcd2-3325">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3325">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3326">GuardCFFunctionCount</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3326">GuardCFFunctionCount</span></span> <br/>           | <span data-ttu-id="cbcd2-3327">上表中唯一 Rva 的計數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3327">The count of unique RVAs in the above table.</span></span> <br/>                                                                                                                                                                                                                                    |
| <span data-ttu-id="cbcd2-3328">88/144</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3328">88/144</span></span> <br/>  | <span data-ttu-id="cbcd2-3329">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3329">4</span></span> <br/>   | <span data-ttu-id="cbcd2-3330">GuardFlags</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3330">GuardFlags</span></span> <br/>                     | <span data-ttu-id="cbcd2-3331">控制流程防護的相關旗標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3331">Control Flow Guard related flags.</span></span> <br/>                                                                                                                                                                                                                                               |
| <span data-ttu-id="cbcd2-3332">92/148</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3332">92/148</span></span> <br/>  | <span data-ttu-id="cbcd2-3333">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3333">12</span></span> <br/>  | <span data-ttu-id="cbcd2-3334">CodeIntegrity</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3334">CodeIntegrity</span></span> <br/>                  | <span data-ttu-id="cbcd2-3335">程式碼完整性資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3335">Code integrity information.</span></span> <br/>                                                                                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-3336">104/160</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3336">104/160</span></span> <br/> | <span data-ttu-id="cbcd2-3337">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3337">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3338">GuardAddressTakenIatEntryTable</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3338">GuardAddressTakenIatEntryTable</span></span> <br/> | <span data-ttu-id="cbcd2-3339">已儲存控制流程防護位址取得 IAT 表格的 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3339">The VA where Control Flow Guard address taken IAT table is stored.</span></span> <br/>                                                                                                                                                                                                              |
| <span data-ttu-id="cbcd2-3340">108/168</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3340">108/168</span></span> <br/> | <span data-ttu-id="cbcd2-3341">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3341">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3342">GuardAddressTakenIatEntryCount</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3342">GuardAddressTakenIatEntryCount</span></span> <br/> | <span data-ttu-id="cbcd2-3343">上表中唯一 Rva 的計數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3343">The count of unique RVAs in the above table.</span></span> <br/>                                                                                                                                                                                                                                    |
| <span data-ttu-id="cbcd2-3344">112/176</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3344">112/176</span></span> <br/> | <span data-ttu-id="cbcd2-3345">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3345">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3346">GuardLongJumpTargetTable</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3346">GuardLongJumpTargetTable</span></span> <br/>       | <span data-ttu-id="cbcd2-3347">儲存控制流程防護長跳躍目標資料表的 VA。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3347">The VA where Control Flow Guard long jump target table is stored.</span></span> <br/>                                                                                                                                                                                                               |
| <span data-ttu-id="cbcd2-3348">116/184</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3348">116/184</span></span> <br/> | <span data-ttu-id="cbcd2-3349">4/8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3349">4/8</span></span> <br/> | <span data-ttu-id="cbcd2-3350">GuardLongJumpTargetCount</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3350">GuardLongJumpTargetCount</span></span> <br/>       | <span data-ttu-id="cbcd2-3351">上表中唯一 Rva 的計數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3351">The count of unique RVAs in the above table.</span></span> <br/>                                                                                                                                                                                                                                    |



 

<span data-ttu-id="cbcd2-3352">GuardFlags 欄位包含下列一或多個旗標和子欄位的組合：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3352">The GuardFlags field contains a combination of one or more of the following flags and subfields:</span></span>

-   <span data-ttu-id="cbcd2-3353">模組會使用系統提供的支援來執行控制流程完整性檢查。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3353">Module performs control flow integrity checks using system-supplied support.</span></span>

    ` #define IMAGE_GUARD_CF_INSTRUMENTED  0x00000100`

-   <span data-ttu-id="cbcd2-3354">模組會執行控制流程和寫入完整性檢查。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3354">Module performs control flow and write integrity checks.</span></span>

    ` #define IMAGE_GUARD_CFW_INSTRUMENTED  0x00000200`

-   <span data-ttu-id="cbcd2-3355">模組包含有效的控制流程目標中繼資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3355">Module contains valid control flow target metadata.</span></span>

    `#define IMAGE_GUARD_CF_FUNCTION_TABLE_PRESENT  0x00000400`

-   <span data-ttu-id="cbcd2-3356">模組未利用/GS 安全性 cookie。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3356">Module does not make use of the /GS security cookie.</span></span>

    ` #define IMAGE_GUARD_SECURITY_COOKIE_UNUSED  0x00000800`

-   <span data-ttu-id="cbcd2-3357">模組支援唯讀延遲載入 IAT。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3357">Module supports read only delay load IAT.</span></span>

    `#define IMAGE_GUARD_PROTECT_DELAYLOAD_IAT  0x00001000`

-   <span data-ttu-id="cbcd2-3358">Delayload 匯入資料表本身的 didat 區段 (沒有任何其他專案) 可以自由重新保護。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3358">Delayload import table in its own .didat section (with nothing else in it) that can be freely reprotected.</span></span>

    ` #define IMAGE_GUARD_DELAYLOAD_IAT_IN_ITS_OWN_SECTION  0x00002000`

-   <span data-ttu-id="cbcd2-3359">模組包含隱藏的匯出資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3359">Module contains suppressed export information.</span></span> <span data-ttu-id="cbcd2-3360">這也會推斷已取得 IAT 資料表的位址也會出現在 load 設定中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3360">This also infers that the address taken IAT table is also present in the load config.</span></span>

    `#define  IMAGE_GUARD_CF_EXPORT_SUPPRESSION_INFO_PRESENT  0x00004000`

-   <span data-ttu-id="cbcd2-3361">模組允許隱藏匯出。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3361">Module enables suppression of exports.</span></span>

    `#define IMAGE_GUARD_CF_ENABLE_EXPORT_SUPPRESSION  0x00008000`

-   <span data-ttu-id="cbcd2-3362">模組包含 longjmp 目標資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3362">Module contains longjmp target information.</span></span>

    ` #define IMAGE_GUARD_CF_LONGJUMP_TABLE_PRESENT  0x00010000`

-   <span data-ttu-id="cbcd2-3363">子欄位的遮罩，其中包含控制流程防護函式資料表專案的 stride (也就是每個資料表專案的額外位元組計數) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3363">Mask for the subfield that contains the stride of Control Flow Guard function table entries (that is, the additional count of bytes per table entry).</span></span>

    ` #define IMAGE_GUARD_CF_FUNCTION_TABLE_SIZE_MASK  0xF0000000`

<span data-ttu-id="cbcd2-3364">此外，Windows SDK winnt. h 標頭會定義這個宏，以將 GuardFlags 值以右至右對齊控制流程防護函式資料表 stride 的位數：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3364">Additionally, the Windows SDK winnt.h header defines this macro for the amount of bits to right-shift the GuardFlags value to right-justify the Control Flow Guard function table stride:</span></span>

` #define IMAGE_GUARD_CF_FUNCTION_TABLE_SIZE_SHIFT  28`

### <a name="the-rsrc-section"></a><span data-ttu-id="cbcd2-3365">.Rsrc 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3365">The .rsrc Section</span></span>

<span data-ttu-id="cbcd2-3366">資源是由多層級二進位排序的樹狀結構來編制索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3366">Resources are indexed by a multiple-level binary-sorted tree structure.</span></span> <span data-ttu-id="cbcd2-3367">一般設計可以合併 2 \* \* 31 層級。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3367">The general design can incorporate 2\*\*31 levels.</span></span> <span data-ttu-id="cbcd2-3368">不過，根據慣例，Windows 會使用三個層級：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3368">By convention, however, Windows uses three levels:</span></span>

<dl> <span data-ttu-id="cbcd2-3369">類型</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3369">Type</span></span>  
<span data-ttu-id="cbcd2-3370">名稱</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3370">Name</span></span>  
<span data-ttu-id="cbcd2-3371">語言</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3371">Language</span></span>  
</dl>

<span data-ttu-id="cbcd2-3372">一系列的資源目錄資料表會以下列方式建立所有層級的關聯：每個目錄資料表後面都有一系列的目錄專案，這些專案會提供該層級的名稱或識別碼 (識別碼)  (類型、名稱或語言層級) 以及資料描述或其他目錄資料表的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3372">A series of resource directory tables relates all of the levels in the following way: Each directory table is followed by a series of directory entries that give the name or identifier (ID) for that level (Type, Name, or Language level) and an address of either a data description or another directory table.</span></span> <span data-ttu-id="cbcd2-3373">如果位址指向資料描述，則資料是樹狀結構中的分葉。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3373">If the address points to a data description, then the data is a leaf in the tree.</span></span> <span data-ttu-id="cbcd2-3374">如果位址指向另一個目錄資料表，則該資料表會列出下一個層級下的目錄專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3374">If the address points to another directory table, then that table lists directory entries at the next level down.</span></span>

<span data-ttu-id="cbcd2-3375">分葉的類型、名稱和語言識別項都是由目錄資料表所取得的路徑來決定，以到達分葉。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3375">A leaf's Type, Name, and Language IDs are determined by the path that is taken through directory tables to reach the leaf.</span></span> <span data-ttu-id="cbcd2-3376">第一個資料表會決定類型識別碼、第二個數據表 (由第一個資料表中的目錄專案所指向的) 判斷名稱識別碼，而第三個數據表則決定語言識別項。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3376">The first table determines Type ID, the second table (pointed to by the directory entry in the first table) determines Name ID, and the third table determines Language ID.</span></span>

<span data-ttu-id="cbcd2-3377">.Rsrc 區段的一般結構如下：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3377">The general structure of the .rsrc section is:</span></span>



| <span data-ttu-id="cbcd2-3378">資料</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3378">Data</span></span>                                                                   | <span data-ttu-id="cbcd2-3379">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3379">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-3380">資源目錄資料表 (和資原始目錄專案) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-3380">Resource Directory Tables (and Resource Directory Entries)</span></span> <br/> | <span data-ttu-id="cbcd2-3381">一系列資料表，樹狀結構中的每個節點群組各一。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3381">A series of tables, one for each group of nodes in the tree.</span></span> <span data-ttu-id="cbcd2-3382">所有最上層 (類型) 節點會列在第一個資料表中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3382">All top-level (Type) nodes are listed in the first table.</span></span> <span data-ttu-id="cbcd2-3383">此資料表中的專案會指向第二層資料表。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3383">Entries in this table point to second-level tables.</span></span> <span data-ttu-id="cbcd2-3384">每個第二層樹狀結構具有相同的類型識別碼，但名稱識別碼不同。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3384">Each second-level tree has the same Type ID but different Name IDs.</span></span> <span data-ttu-id="cbcd2-3385">第三層樹狀結構具有相同的類型和名稱識別碼，但語言識別項不同。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3385">Third-level trees have the same Type and Name IDs but different Language IDs.</span></span> <br/> <span data-ttu-id="cbcd2-3386">每個個別資料表都會緊接在目錄專案後面，其中每個專案都有名稱或數位識別碼，以及指向下一個較低層級的資料描述或資料表指標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3386">Each individual table is immediately followed by directory entries, in which each entry has a name or numeric identifier and a pointer to a data description or a table at the next lower level.</span></span> <br/> |
| <span data-ttu-id="cbcd2-3387">資原始目錄字串</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3387">Resource Directory Strings</span></span> <br/>                                 | <span data-ttu-id="cbcd2-3388">雙位元組對齊的 Unicode 字串，作為目錄專案所指向的字串資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3388">Two-byte-aligned Unicode strings, which serve as string data that is pointed to by directory entries.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="cbcd2-3389">資源資料描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3389">Resource Data Description</span></span> <br/>                                  | <span data-ttu-id="cbcd2-3390">資料表所指向的記錄陣列，描述資源資料的實際大小和位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3390">An array of records, pointed to by tables, that describe the actual size and location of the resource data.</span></span> <span data-ttu-id="cbcd2-3391">這些記錄是資源描述樹狀目錄中的保留。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3391">These records are the leaves in the resource-description tree.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="cbcd2-3392">資源資料</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3392">Resource Data</span></span> <br/>                                              | <span data-ttu-id="cbcd2-3393">資源區段的原始資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3393">Raw data of the resource section.</span></span> <span data-ttu-id="cbcd2-3394">資源資料描述欄位中的大小和位置資訊會分隔資源資料的個別區域。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3394">The size and location information in the Resource Data Descriptions field delimit the individual regions of resource data.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                              |



 

#### <a name="resource-directory-table"></a><span data-ttu-id="cbcd2-3395">資源目錄資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3395">Resource Directory Table</span></span>

<span data-ttu-id="cbcd2-3396">每個資源目錄資料表都有下列格式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3396">Each resource directory table has the following format.</span></span> <span data-ttu-id="cbcd2-3397">此資料結構應該視為資料表的標題，因為資料表實際上是由目錄專案所組成， (一節6.9.2、「資原始目錄專案」 ) 和此結構中所述：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3397">This data structure should be considered the heading of a table because the table actually consists of directory entries (described in section 6.9.2, "Resource Directory Entries") and this structure:</span></span>



| <span data-ttu-id="cbcd2-3398">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3398">Offset</span></span>         | <span data-ttu-id="cbcd2-3399">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3399">Size</span></span>          | <span data-ttu-id="cbcd2-3400">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3400">Field</span></span>                              | <span data-ttu-id="cbcd2-3401">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3401">Description</span></span>                                                                                                                                                                     |
|----------------|---------------|------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-3402">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3402">0</span></span> <br/>  | <span data-ttu-id="cbcd2-3403">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3403">4</span></span> <br/> | <span data-ttu-id="cbcd2-3404">特性</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3404">Characteristics</span></span> <br/>        | <span data-ttu-id="cbcd2-3405">資源旗標。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3405">Resource flags.</span></span> <span data-ttu-id="cbcd2-3406">這個欄位保留作未來使用。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3406">This field is reserved for future use.</span></span> <span data-ttu-id="cbcd2-3407">目前設定為零。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3407">It is currently set to zero.</span></span> <br/>                                                                                 |
| <span data-ttu-id="cbcd2-3408">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3408">4</span></span> <br/>  | <span data-ttu-id="cbcd2-3409">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3409">4</span></span> <br/> | <span data-ttu-id="cbcd2-3410">時間/日期戳記</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3410">Time/Date Stamp</span></span> <br/>        | <span data-ttu-id="cbcd2-3411">資源編譯器建立資源資料的時間。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3411">The time that the resource data was created by the resource compiler.</span></span> <br/>                                                                                               |
| <span data-ttu-id="cbcd2-3412">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3412">8</span></span> <br/>  | <span data-ttu-id="cbcd2-3413">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3413">2</span></span> <br/> | <span data-ttu-id="cbcd2-3414">主要版本</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3414">Major Version</span></span> <br/>          | <span data-ttu-id="cbcd2-3415">使用者所設定的主要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3415">The major version number, set by the user.</span></span> <br/>                                                                                                                          |
| <span data-ttu-id="cbcd2-3416">10</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3416">10</span></span> <br/> | <span data-ttu-id="cbcd2-3417">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3417">2</span></span> <br/> | <span data-ttu-id="cbcd2-3418">次要版本</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3418">Minor Version</span></span> <br/>          | <span data-ttu-id="cbcd2-3419">使用者所設定的次要版本號碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3419">The minor version number, set by the user.</span></span> <br/>                                                                                                                          |
| <span data-ttu-id="cbcd2-3420">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3420">12</span></span> <br/> | <span data-ttu-id="cbcd2-3421">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3421">2</span></span> <br/> | <span data-ttu-id="cbcd2-3422">名稱專案的數目</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3422">Number of Name Entries</span></span> <br/> | <span data-ttu-id="cbcd2-3423">依照資料表) 的層級而定，緊接在使用字串來識別類型、名稱或語言專案的資料表後面的目錄專案數目 (。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3423">The number of directory entries immediately following the table that use strings to identify Type, Name, or Language entries (depending on the level of the table).</span></span> <br/> |
| <span data-ttu-id="cbcd2-3424">14</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3424">14</span></span> <br/> | <span data-ttu-id="cbcd2-3425">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3425">2</span></span> <br/> | <span data-ttu-id="cbcd2-3426">識別碼專案的數目</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3426">Number of ID Entries</span></span> <br/>   | <span data-ttu-id="cbcd2-3427">緊接在類型、名稱或語言專案中使用數值識別碼的名稱專案之後的目錄專案數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3427">The number of directory entries immediately following the Name entries that use numeric IDs for Type, Name, or Language entries.</span></span> <br/>                                    |



 

#### <a name="resource-directory-entries"></a><span data-ttu-id="cbcd2-3428">資原始目錄專案</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3428">Resource Directory Entries</span></span>

<span data-ttu-id="cbcd2-3429">目錄專案組成資料表的資料列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3429">The directory entries make up the rows of a table.</span></span> <span data-ttu-id="cbcd2-3430">每個資原始目錄專案都具有下列格式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3430">Each resource directory entry has the following format.</span></span> <span data-ttu-id="cbcd2-3431">專案是否為名稱或識別碼專案是由資源目錄資料表所表示，它會指出在該資料表的所有識別碼專案之前的名稱和識別碼專案 (請記住，所有名稱專案都在資料表) 的所有識別碼專案之前。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3431">Whether the entry is a Name or ID entry is indicated by the resource directory table, which indicates how many Name and ID entries follow it (remember that all the Name entries precede all the ID entries for the table).</span></span> <span data-ttu-id="cbcd2-3432">資料表的所有專案都會以遞增順序排序：依區分大小寫的字串和識別碼專案的名稱專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3432">All entries for the table are sorted in ascending order: the Name entries by case-sensitive string and the ID entries by numeric value.</span></span> <span data-ttu-id="cbcd2-3433">位移會相對於映射 \_ 目錄 \_ 專案資源 DataDirectory 中的位址 \_ 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3433">Offsets are relative to the address in the IMAGE\_DIRECTORY\_ENTRY\_RESOURCE DataDirectory.</span></span> <span data-ttu-id="cbcd2-3434">如需詳細資訊，請參閱 [PE 內的對等互連： Win32 可移植可執行檔案格式的導覽](/previous-versions/ms809762(v=msdn.10)#pe-file-resources) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3434">See [Peering Inside the PE: A Tour of the Win32 Portable Executable File Format](/previous-versions/ms809762(v=msdn.10)#pe-file-resources) for more information.</span></span>



| <span data-ttu-id="cbcd2-3435">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3435">Offset</span></span>        | <span data-ttu-id="cbcd2-3436">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3436">Size</span></span>          | <span data-ttu-id="cbcd2-3437">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3437">Field</span></span>                           | <span data-ttu-id="cbcd2-3438">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3438">Description</span></span>                                                                                                          |
|---------------|---------------|---------------------------------|----------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-3439">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3439">0</span></span> <br/> | <span data-ttu-id="cbcd2-3440">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3440">4</span></span> <br/> | <span data-ttu-id="cbcd2-3441">名稱位移</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3441">Name Offset</span></span> <br/>         | <span data-ttu-id="cbcd2-3442">提供類型、名稱或語言識別項專案之字串的位移，視資料表層級而定。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3442">The offset of a string that gives the Type, Name, or Language ID entry, depending on level of table.</span></span> <br/>     |
| <span data-ttu-id="cbcd2-3443">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3443">0</span></span> <br/> | <span data-ttu-id="cbcd2-3444">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3444">4</span></span> <br/> | <span data-ttu-id="cbcd2-3445">整數識別碼</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3445">Integer ID</span></span> <br/>          | <span data-ttu-id="cbcd2-3446">識別類型、名稱或語言識別項專案的32位整數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3446">A 32-bit integer that identifies the Type, Name, or Language ID entry.</span></span> <br/>                                   |
| <span data-ttu-id="cbcd2-3447">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3447">4</span></span> <br/> | <span data-ttu-id="cbcd2-3448">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3448">4</span></span> <br/> | <span data-ttu-id="cbcd2-3449">資料輸入位移</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3449">Data Entry Offset</span></span> <br/>   | <span data-ttu-id="cbcd2-3450">高位0。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3450">High bit 0.</span></span> <span data-ttu-id="cbcd2-3451"> (分葉) 的資源資料專案位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3451">Address of a Resource Data entry (a leaf).</span></span> <br/>                                                   |
| <span data-ttu-id="cbcd2-3452">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3452">4</span></span> <br/> | <span data-ttu-id="cbcd2-3453">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3453">4</span></span> <br/> | <span data-ttu-id="cbcd2-3454">子目錄位移</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3454">Subdirectory Offset</span></span> <br/> | <span data-ttu-id="cbcd2-3455">高位1。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3455">High bit 1.</span></span> <span data-ttu-id="cbcd2-3456">較低的31位是另一個資源目錄資料表的位址， (下一個層級下) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3456">The lower 31 bits are the address of another resource directory table (the next level down).</span></span> <br/> |



 

#### <a name="resource-directory-string"></a><span data-ttu-id="cbcd2-3457">資原始目錄字串</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3457">Resource Directory String</span></span>

<span data-ttu-id="cbcd2-3458">資原始目錄字串區域是由 Unicode 字串所組成，這些字串是以文字對齊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3458">The resource directory string area consists of Unicode strings, which are word-aligned.</span></span> <span data-ttu-id="cbcd2-3459">這些字串會在最後一個資原始目錄專案之後，以及第一個資源資料項之前儲存在一起。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3459">These strings are stored together after the last Resource Directory entry and before the first Resource Data entry.</span></span> <span data-ttu-id="cbcd2-3460">這會將這些可變長度字串的影響降至最低，以對齊固定大小的目錄專案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3460">This minimizes the impact of these variable-length strings on the alignment of the fixed-size directory entries.</span></span> <span data-ttu-id="cbcd2-3461">每個資原始目錄字串的格式如下：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3461">Each resource directory string has the following format:</span></span>



| <span data-ttu-id="cbcd2-3462">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3462">Offset</span></span>        | <span data-ttu-id="cbcd2-3463">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3463">Size</span></span>                 | <span data-ttu-id="cbcd2-3464">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3464">Field</span></span>                      | <span data-ttu-id="cbcd2-3465">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3465">Description</span></span>                                                            |
|---------------|----------------------|----------------------------|------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-3466">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3466">0</span></span> <br/> | <span data-ttu-id="cbcd2-3467">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3467">2</span></span> <br/>        | <span data-ttu-id="cbcd2-3468">長度</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3468">Length</span></span> <br/>         | <span data-ttu-id="cbcd2-3469">字串的大小，不包含長度欄位本身。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3469">The size of the string, not including length field itself.</span></span> <br/> |
| <span data-ttu-id="cbcd2-3470">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3470">2</span></span> <br/> | <span data-ttu-id="cbcd2-3471">變動</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3471">variable</span></span> <br/> | <span data-ttu-id="cbcd2-3472">Unicode 字串</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3472">Unicode String</span></span> <br/> | <span data-ttu-id="cbcd2-3473">可變長度的 Unicode 字串資料，以文字對齊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3473">The variable-length Unicode string data, word-aligned.</span></span> <br/>     |



 

#### <a name="resource-data-entry"></a><span data-ttu-id="cbcd2-3474">資源資料輸入</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3474">Resource Data Entry</span></span>

<span data-ttu-id="cbcd2-3475">每個資源資料專案會描述資源資料區域中的實際原始資料單位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3475">Each Resource Data entry describes an actual unit of raw data in the Resource Data area.</span></span> <span data-ttu-id="cbcd2-3476">資源資料項的格式如下：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3476">A Resource Data entry has the following format:</span></span>



| <span data-ttu-id="cbcd2-3477">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3477">Offset</span></span>         | <span data-ttu-id="cbcd2-3478">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3478">Size</span></span>          | <span data-ttu-id="cbcd2-3479">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3479">Field</span></span>                            | <span data-ttu-id="cbcd2-3480">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3480">Description</span></span>                                                                                                                                           |
|----------------|---------------|----------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-3481">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3481">0</span></span> <br/>  | <span data-ttu-id="cbcd2-3482">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3482">4</span></span> <br/> | <span data-ttu-id="cbcd2-3483">資料 RVA</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3483">Data RVA</span></span> <br/>             | <span data-ttu-id="cbcd2-3484">資源資料區域中資源資料單位的位址。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3484">The address of a unit of resource data in the Resource Data area.</span></span> <br/>                                                                         |
| <span data-ttu-id="cbcd2-3485">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3485">4</span></span> <br/>  | <span data-ttu-id="cbcd2-3486">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3486">4</span></span> <br/> | <span data-ttu-id="cbcd2-3487">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3487">Size</span></span> <br/>                 | <span data-ttu-id="cbcd2-3488">Data RVA 欄位所指向之資源資料的大小（以位元組為單位）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3488">The size, in bytes, of the resource data that is pointed to by the Data RVA field.</span></span> <br/>                                                        |
| <span data-ttu-id="cbcd2-3489">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3489">8</span></span> <br/>  | <span data-ttu-id="cbcd2-3490">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3490">4</span></span> <br/> | <span data-ttu-id="cbcd2-3491">codepage</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3491">Codepage</span></span> <br/>             | <span data-ttu-id="cbcd2-3492">用來解碼資源資料內的程式碼點值的字碼頁。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3492">The code page that is used to decode code point values within the resource data.</span></span> <span data-ttu-id="cbcd2-3493">程式字碼頁面通常會是 Unicode 字碼頁。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3493">Typically, the code page would be the Unicode code page.</span></span> <br/> |
| <span data-ttu-id="cbcd2-3494">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3494">12</span></span> <br/> | <span data-ttu-id="cbcd2-3495">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3495">4</span></span> <br/> | <span data-ttu-id="cbcd2-3496">保留，必須是0。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3496">Reserved, must be 0.</span></span> <br/> |                                                                                                                                                       |



 

### <a name="the-cormeta-section-object-only"></a><span data-ttu-id="cbcd2-3497">Cormeta 區段僅 (物件) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-3497">The .cormeta Section (Object Only)</span></span>

<span data-ttu-id="cbcd2-3498">CLR 中繼資料會儲存在此區段中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3498">CLR metadata is stored in this section.</span></span> <span data-ttu-id="cbcd2-3499">它是用來指出此物件檔案包含 managed 程式碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3499">It is used to indicate that the object file contains managed code.</span></span> <span data-ttu-id="cbcd2-3500">中繼資料的格式未記載，但是可以傳遞給 CLR 介面以處理中繼資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3500">The format of the metadata is not documented, but can be handed to the CLR interfaces for handling metadata.</span></span>

### <a name="the-sxdata-section"></a><span data-ttu-id="cbcd2-3501">Sxdata 區段</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3501">The .sxdata Section</span></span>

<span data-ttu-id="cbcd2-3502">物件的有效例外狀況處理常式會列在該物件的 **sxdata** 區段中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3502">The valid exception handlers of an object are listed in the **.sxdata** section of that object.</span></span> <span data-ttu-id="cbcd2-3503">區段會標示為 IMAGE \_ SCN 的 \_ .lnk \_ 資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3503">The section is marked IMAGE\_SCN\_LNK\_INFO.</span></span> <span data-ttu-id="cbcd2-3504">它包含每個有效處理常式的 COFF 符號索引（每個索引使用4個位元組）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3504">It contains the COFF symbol index of each valid handler, using 4 bytes per index.</span></span>

<span data-ttu-id="cbcd2-3505">此外，編譯器會發出絕對符號 " @feat.00 "，並將值欄位的 LSB 設為1，以將 COFF 物件標示為已註冊的 SEH。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3505">Additionally, the compiler marks a COFF object as registered SEH by emitting the absolute symbol "@feat.00" with the LSB of the value field set to 1.</span></span> <span data-ttu-id="cbcd2-3506">沒有已註冊 SEH 處理常式的 COFF 物件會有 " @feat.00 " 符號，但不能有 **. sxdata** 區段。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3506">A COFF object with no registered SEH handlers would have the "@feat.00" symbol, but no **.sxdata** section.</span></span>

## <a name="archive-library-file-format"></a><span data-ttu-id="cbcd2-3507">封存 (程式庫) 檔案格式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3507">Archive (Library) File Format</span></span>

- [<span data-ttu-id="cbcd2-3508">封存檔案簽章</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3508">Archive File Signature</span></span>](#archive-file-signature)
- [<span data-ttu-id="cbcd2-3509">封存成員標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3509">Archive Member Headers</span></span>](#archive-member-headers)
- [<span data-ttu-id="cbcd2-3510">第一個連結器成員</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3510">First Linker Member</span></span>](#first-linker-member)
- [<span data-ttu-id="cbcd2-3511">第二個連結器成員</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3511">Second Linker Member</span></span>](#second-linker-member)
- [<span data-ttu-id="cbcd2-3512">Longnames 成員</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3512">Longnames Member</span></span>](#longnames-member)

<span data-ttu-id="cbcd2-3513">COFF 封存格式提供儲存物件檔案集合的標準機制。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3513">The COFF archive format provides a standard mechanism for storing collections of object files.</span></span> <span data-ttu-id="cbcd2-3514">這些集合通常稱為程式設計檔中的程式庫。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3514">These collections are commonly called libraries in programming documentation.</span></span>

<span data-ttu-id="cbcd2-3515">封存的前8個位元組包含檔案簽章。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3515">The first 8 bytes of an archive consist of the file signature.</span></span> <span data-ttu-id="cbcd2-3516">封存的其餘部分是由一系列的封存成員所組成，如下所示：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3516">The rest of the archive consists of a series of archive members, as follows:</span></span>

-   <span data-ttu-id="cbcd2-3517">第一個和第二個成員是 "連結器成員"。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3517">The first and second members are "linker members."</span></span> <span data-ttu-id="cbcd2-3518">每個成員都有自己的格式，如區段匯 [入名稱類型](#import-name-type)中所述。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3518">Each of these members has its own format as described in section [Import Name Type](#import-name-type).</span></span> <span data-ttu-id="cbcd2-3519">通常，連結器會將資訊放入這些封存成員中。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3519">Typically, a linker places information into these archive members.</span></span> <span data-ttu-id="cbcd2-3520">連結器成員包含封存的目錄。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3520">The linker members contain the directory of the archive.</span></span>

-   <span data-ttu-id="cbcd2-3521">第三個成員是 "longnames" 成員。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3521">The third member is the "longnames" member.</span></span> <span data-ttu-id="cbcd2-3522">這個選擇性成員是由一系列以 null 終止的 ASCII 字串所組成，其中每個字串都是另一個封存成員的名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3522">This optional member consists of a series of null-terminated ASCII strings in which each string is the name of another archive member.</span></span>

-   <span data-ttu-id="cbcd2-3523">封存的其餘部分包含標準 (的物件檔案) 成員。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3523">The rest of the archive consists of standard (object-file) members.</span></span> <span data-ttu-id="cbcd2-3524">其中每個成員都包含一個物件檔案的完整內容。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3524">Each of these members contains the contents of one object file in its entirety.</span></span>

<span data-ttu-id="cbcd2-3525">封存成員標頭會在每個成員之前。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3525">An archive member header precedes each member.</span></span> <span data-ttu-id="cbcd2-3526">下列清單顯示封存的一般結構：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3526">The following list shows the general structure of an archive:</span></span>

-   <span data-ttu-id="cbcd2-3527">Signature： "！ &lt;a 架構 &gt; \\ n "</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3527">Signature :"!&lt;arch&gt;\\n"</span></span>
-   <span data-ttu-id="cbcd2-3528">標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3528">Header</span></span>

    <dl> <span data-ttu-id="cbcd2-3529">第1個連結器成員</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3529">1st Linker Member</span></span>  
    </dl>

-   <span data-ttu-id="cbcd2-3530">標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3530">Header</span></span>

    <dl> <span data-ttu-id="cbcd2-3531">第2個連結器成員</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3531">2nd Linker Member</span></span>  
    </dl>

-   <span data-ttu-id="cbcd2-3532">標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3532">Header</span></span>

    <dl> <span data-ttu-id="cbcd2-3533">Longnames 成員</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3533">Longnames Member</span></span>  
    </dl>

-   <span data-ttu-id="cbcd2-3534">標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3534">Header</span></span>

    <dl> <span data-ttu-id="cbcd2-3535">OBJ 檔案1的內容</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3535">Contents of OBJ File 1</span></span>  
    <span data-ttu-id="cbcd2-3536"> (COFF 格式) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-3536">(COFF format)</span></span>  
    </dl>

-   <span data-ttu-id="cbcd2-3537">標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3537">Header</span></span>

    <dl> <span data-ttu-id="cbcd2-3538">OBJ 檔案2的內容</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3538">Contents of OBJ File 2</span></span>  
    <span data-ttu-id="cbcd2-3539"> (COFF 格式) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-3539">(COFF format)</span></span>  
    </dl>

### <a name="archive-file-signature"></a><span data-ttu-id="cbcd2-3540">封存檔案簽章</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3540">Archive File Signature</span></span>

<span data-ttu-id="cbcd2-3541">保存檔案簽章會識別檔案類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3541">The archive file signature identifies the file type.</span></span> <span data-ttu-id="cbcd2-3542">任何公用程式 (例如，將封存檔視為輸入的連結器) 都可以藉由讀取此簽章來檢查檔案類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3542">Any utility (for example, a linker) that takes an archive file as input can check the file type by reading this signature.</span></span> <span data-ttu-id="cbcd2-3543">簽章包含下列 ASCII 字元，其中的每個字元都是以字面表示，但分行符號 (\\ n) 字元除外：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3543">The signature consists of the following ASCII characters, in which each character below is represented literally, except for the newline (\\n) character:</span></span>

`!<arch>\n`

### <a name="archive-member-headers"></a><span data-ttu-id="cbcd2-3544">封存成員標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3544">Archive Member Headers</span></span>

<span data-ttu-id="cbcd2-3545">每個成員 (連結器、longnames 或物件檔案成員) 之前都是標頭。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3545">Each member (linker, longnames, or object-file member) is preceded by a header.</span></span> <span data-ttu-id="cbcd2-3546">封存成員標頭的格式如下，其中每個欄位都是一個 ASCII 文字字串，此字串會靠左對齊，並以空格填補至欄位結尾。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3546">An archive member header has the following format, in which each field is an ASCII text string that is left justified and padded with spaces to the end of the field.</span></span> <span data-ttu-id="cbcd2-3547">這些欄位中的任何一個都沒有終止的 null 字元。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3547">There is no terminating null character in any of these fields.</span></span>

<span data-ttu-id="cbcd2-3548">每個成員標頭會在前一個封存成員結尾的第一個偶數位址開始。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3548">Each member header starts on the first even address after the end of the previous archive member.</span></span>



| <span data-ttu-id="cbcd2-3549">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3549">Offset</span></span>         | <span data-ttu-id="cbcd2-3550">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3550">Size</span></span>           | <span data-ttu-id="cbcd2-3551">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3551">Field</span></span>                     | <span data-ttu-id="cbcd2-3552">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3552">Description</span></span>                                                                                                                                                                                                 |
|----------------|----------------|---------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-3553">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3553">0</span></span> <br/>  | <span data-ttu-id="cbcd2-3554">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3554">16</span></span> <br/> | <span data-ttu-id="cbcd2-3555">Name</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3555">Name</span></span> <br/>          | <span data-ttu-id="cbcd2-3556">封存成員的名稱，加上斜線 (/) 附加以終止名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3556">The name of the archive member, with a slash (/) appended to terminate the name.</span></span> <span data-ttu-id="cbcd2-3557">如果第一個字元是斜線，則名稱具有特殊的解讀，如下表所述。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3557">If the first character is a slash, the name has a special interpretation, as described in the following table.</span></span> <br/> |
| <span data-ttu-id="cbcd2-3558">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3558">16</span></span> <br/> | <span data-ttu-id="cbcd2-3559">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3559">12</span></span> <br/> | <span data-ttu-id="cbcd2-3560">Date</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3560">Date</span></span> <br/>          | <span data-ttu-id="cbcd2-3561">封存成員的建立日期和時間：這是自 1/1/1970 UCT 以來的秒數的 ASCII 小數表示。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3561">The date and time that the archive member was created: This is the ASCII decimal representation of the number of seconds since 1/1/1970 UCT.</span></span> <br/>                                                    |
| <span data-ttu-id="cbcd2-3562">28</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3562">28</span></span> <br/> | <span data-ttu-id="cbcd2-3563">6</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3563">6</span></span> <br/>  | <span data-ttu-id="cbcd2-3564">使用者識別碼</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3564">User ID</span></span> <br/>       | <span data-ttu-id="cbcd2-3565">使用者識別碼的 ASCII 十進位標記法。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3565">An ASCII decimal representation of the user ID.</span></span> <span data-ttu-id="cbcd2-3566">此欄位在 Windows 平臺上不包含有意義的值，因為 Microsoft 工具會發出所有的空白。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3566">This field does not contain a meaningful value on Windows platforms because Microsoft tools emit all blanks.</span></span> <br/>                                    |
| <span data-ttu-id="cbcd2-3567">34</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3567">34</span></span> <br/> | <span data-ttu-id="cbcd2-3568">6</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3568">6</span></span> <br/>  | <span data-ttu-id="cbcd2-3569">群組識別碼</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3569">Group ID</span></span> <br/>      | <span data-ttu-id="cbcd2-3570">群組識別碼的 ASCII 十進位標記法。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3570">An ASCII decimal representation of the group ID.</span></span> <span data-ttu-id="cbcd2-3571">此欄位在 Windows 平臺上不包含有意義的值，因為 Microsoft 工具會發出所有的空白。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3571">This field does not contain a meaningful value on Windows platforms because Microsoft tools emit all blanks.</span></span> <br/>                                   |
| <span data-ttu-id="cbcd2-3572">40</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3572">40</span></span> <br/> | <span data-ttu-id="cbcd2-3573">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3573">8</span></span> <br/>  | <span data-ttu-id="cbcd2-3574">模式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3574">Mode</span></span> <br/>          | <span data-ttu-id="cbcd2-3575">成員檔案模式的 ASCII 八進位標記法。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3575">An ASCII octal representation of the member's file mode.</span></span> <span data-ttu-id="cbcd2-3576">這是 \_ 來自 C 執行時間函數 wstat 的 ST 模式值 \_ 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3576">This is the ST\_MODE value from the C run-time function \_wstat.</span></span> <br/>                                                                       |
| <span data-ttu-id="cbcd2-3577">48</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3577">48</span></span> <br/> | <span data-ttu-id="cbcd2-3578">10</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3578">10</span></span> <br/> | <span data-ttu-id="cbcd2-3579">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3579">Size</span></span> <br/>          | <span data-ttu-id="cbcd2-3580">封存成員總大小的 ASCII 十進位標記法，不包括標頭的大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3580">An ASCII decimal representation of the total size of the archive member, not including the size of the header.</span></span> <br/>                                                                                  |
| <span data-ttu-id="cbcd2-3581">58</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3581">58</span></span> <br/> | <span data-ttu-id="cbcd2-3582">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3582">2</span></span> <br/>  | <span data-ttu-id="cbcd2-3583">標頭結尾</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3583">End of Header</span></span> <br/> | <span data-ttu-id="cbcd2-3584">C 字串 "̃ n" 中的兩個位元組 \\ (0X60 0x0A) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3584">The two bytes in the C string "˜\\n" (0x60 0x0A).</span></span> <br/>                                                                                                                                               |



 

<span data-ttu-id="cbcd2-3585">[名稱] 欄位具有下表所示的其中一種格式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3585">The Name field has one of the formats shown in the following table.</span></span> <span data-ttu-id="cbcd2-3586">如先前所述，每個字串都會保持對齊，並在16位元組的欄位內以尾端空格填補：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3586">As mentioned earlier, each of these strings is left justified and padded with trailing spaces within a field of 16 bytes:</span></span>



| <span data-ttu-id="cbcd2-3587">名稱欄位的內容</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3587">Contents of Name field</span></span> | <span data-ttu-id="cbcd2-3588">Description</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3588">Description</span></span>                                                                                                                                                                                                                                                                                          |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-3589">人名</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3589">name/</span></span> <br/>      | <span data-ttu-id="cbcd2-3590">封存成員的名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3590">The name of the archive member.</span></span> <br/>                                                                                                                                                                                                                                                          |
| / <br/>          | <span data-ttu-id="cbcd2-3591">封存成員是兩個連結器成員的其中一個。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3591">The archive member is one of the two linker members.</span></span> <span data-ttu-id="cbcd2-3592">這兩個連結器成員都有這個名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3592">Both of the linker members have this name.</span></span> <br/>                                                                                                                                                                                          |
| // <br/>         | <span data-ttu-id="cbcd2-3593">封存成員是 longnames 成員，由一系列以 null 終止的 ASCII 字串所組成。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3593">The archive member is the longnames member, which consists of a series of null-terminated ASCII strings.</span></span> <span data-ttu-id="cbcd2-3594">Longnames 成員是第三個封存成員，而且是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3594">The longnames member is the third archive member and is optional.</span></span> <br/>                                                                     |
| <span data-ttu-id="cbcd2-3595">/n</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3595">/n</span></span> <br/>         | <span data-ttu-id="cbcd2-3596">封存成員的名稱位於 longnames 成員內的位移 n。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3596">The name of the archive member is located at offset n within the longnames member.</span></span> <span data-ttu-id="cbcd2-3597">數位 n 是位移的十進位標記法。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3597">The number n is the decimal representation of the offset.</span></span> <span data-ttu-id="cbcd2-3598">例如： "/26" 表示封存成員的名稱位於 longnames 成員內容開頭以外的26個位元組。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3598">For example: "/26" indicates that the name of the archive member is located 26 bytes beyond the beginning of the longnames member contents.</span></span> <br/> |



 

### <a name="first-linker-member"></a><span data-ttu-id="cbcd2-3599">第一個連結器成員</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3599">First Linker Member</span></span>

<span data-ttu-id="cbcd2-3600">第一個連結器成員的名稱為 "/"。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3600">The name of the first linker member is "/".</span></span> <span data-ttu-id="cbcd2-3601">包含第一個連結器成員以提供回溯相容性。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3601">The first linker member is included for backward compatibility.</span></span> <span data-ttu-id="cbcd2-3602">目前的連結器不會使用它，但其格式必須正確。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3602">It is not used by current linkers, but its format must be correct.</span></span> <span data-ttu-id="cbcd2-3603">此連結器成員提供符號名稱的目錄，就像第二個連結器成員一樣。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3603">This linker member provides a directory of symbol names, as does the second linker member.</span></span> <span data-ttu-id="cbcd2-3604">針對每個符號，此資訊會指出要在何處尋找包含符號的封存成員。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3604">For each symbol, the information indicates where to find the archive member that contains the symbol.</span></span>

<span data-ttu-id="cbcd2-3605">第一個連結器成員具有下列格式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3605">The first linker member has the following format.</span></span> <span data-ttu-id="cbcd2-3606">此資訊會出現在標頭之後：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3606">This information appears after the header:</span></span>



| <span data-ttu-id="cbcd2-3607">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3607">Offset</span></span>         | <span data-ttu-id="cbcd2-3608">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3608">Size</span></span>               | <span data-ttu-id="cbcd2-3609">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3609">Field</span></span>                         | <span data-ttu-id="cbcd2-3610">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3610">Description</span></span>                                                                                                                                                                                                                                                                                                                                                        |
|----------------|--------------------|-------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-3611">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3611">0</span></span> <br/>  | <span data-ttu-id="cbcd2-3612">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3612">4</span></span> <br/>      | <span data-ttu-id="cbcd2-3613">符號數目</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3613">Number of Symbols</span></span> <br/> | <span data-ttu-id="cbcd2-3614">不帶正負號的長度，包含已編制索引的符號數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3614">Unsigned long that contains the number of indexed symbols.</span></span> <span data-ttu-id="cbcd2-3615">這個數位會以位元組由大到小的格式儲存。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3615">This number is stored in big-endian format.</span></span> <span data-ttu-id="cbcd2-3616">每個物件檔案成員通常會定義一或多個外部符號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3616">Each object-file member typically defines one or more external symbols.</span></span> <br/>                                                                                                                                                                         |
| <span data-ttu-id="cbcd2-3617">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3617">4</span></span> <br/>  | <span data-ttu-id="cbcd2-3618">4 \* n</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3618">4 \* n</span></span> <br/> | <span data-ttu-id="cbcd2-3619">位移</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3619">Offsets</span></span> <br/>           | <span data-ttu-id="cbcd2-3620">封存成員標頭的檔案位移陣列，其中 n 等於符號欄位數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3620">An array of file offsets to archive member headers, in which n is equal to the Number of Symbols field.</span></span> <span data-ttu-id="cbcd2-3621">陣列中的每個數位都是不帶正負號的長度，以位元組由大到小的格式儲存。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3621">Each number in the array is an unsigned long stored in big-endian format.</span></span> <span data-ttu-id="cbcd2-3622">針對字串資料表中所命名的每個符號，位移陣列中的對應專案會提供包含符號之封存成員的位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3622">For each symbol that is named in the string table, the corresponding element in the offsets array gives the location of the archive member that contains the symbol.</span></span> <br/> |
| \* <br/> | \* <br/>     | <span data-ttu-id="cbcd2-3623">字串資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3623">String Table</span></span> <br/>      | <span data-ttu-id="cbcd2-3624">以 null 結束的一連串字串，其命名目錄中的所有符號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3624">A series of null-terminated strings that name all the symbols in the directory.</span></span> <span data-ttu-id="cbcd2-3625">每個字串會緊接在先前字串中的 null 字元之後開始。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3625">Each string begins immediately after the null character in the previous string.</span></span> <span data-ttu-id="cbcd2-3626">字串數目必須等於 [符號] 欄位數目的值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3626">The number of strings must be equal to the value of the Number of Symbols field.</span></span> <br/>                                                                                                       |



 

<span data-ttu-id="cbcd2-3627">位移陣列中的元素必須以遞增順序排列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3627">The elements in the offsets array must be arranged in ascending order.</span></span> <span data-ttu-id="cbcd2-3628">這表示字串資料表中的符號必須根據封存成員的順序來排列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3628">This fact implies that the symbols in the string table must be arranged according to the order of archive members.</span></span> <span data-ttu-id="cbcd2-3629">例如，第一個物件檔案成員中的所有符號都必須列在第二個物件檔的符號前面。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3629">For example, all the symbols in the first object-file member would have to be listed before the symbols in the second object file.</span></span>

### <a name="second-linker-member"></a><span data-ttu-id="cbcd2-3630">第二個連結器成員</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3630">Second Linker Member</span></span>

<span data-ttu-id="cbcd2-3631">第二個連結器成員的名稱為 "/"，就像第一個連結器成員一樣。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3631">The second linker member has the name "/" as does the first linker member.</span></span> <span data-ttu-id="cbcd2-3632">雖然這兩個連結器成員都提供包含它們的符號和封存成員目錄，但第二個連結器成員會優先使用於所有目前連結器的第一個程式庫。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3632">Although both linker members provide a directory of symbols and archive members that contain them, the second linker member is used in preference to the first by all current linkers.</span></span> <span data-ttu-id="cbcd2-3633">第二個連結器成員以詞法順序包含符號名稱，可讓您更快速地依名稱搜尋。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3633">The second linker member includes symbol names in lexical order, which enables faster searching by name.</span></span>

<span data-ttu-id="cbcd2-3634">第二個成員具有下列格式。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3634">The second member has the following format.</span></span> <span data-ttu-id="cbcd2-3635">此資訊會出現在標頭之後：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3635">This information appears after the header:</span></span>



| <span data-ttu-id="cbcd2-3636">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3636">Offset</span></span>         | <span data-ttu-id="cbcd2-3637">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3637">Size</span></span>               | <span data-ttu-id="cbcd2-3638">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3638">Field</span></span>                         | <span data-ttu-id="cbcd2-3639">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3639">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                              |
|----------------|--------------------|-------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-3640">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3640">0</span></span> <br/>  | <span data-ttu-id="cbcd2-3641">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3641">4</span></span> <br/>      | <span data-ttu-id="cbcd2-3642">成員數目</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3642">Number of Members</span></span> <br/> | <span data-ttu-id="cbcd2-3643">不帶正負號的長度，包含封存成員的數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3643">An unsigned long that contains the number of archive members.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="cbcd2-3644">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3644">4</span></span> <br/>  | <span data-ttu-id="cbcd2-3645">4 \* m</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3645">4 \* m</span></span> <br/> | <span data-ttu-id="cbcd2-3646">位移</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3646">Offsets</span></span> <br/>           | <span data-ttu-id="cbcd2-3647">封存成員標頭的檔案位移陣列，以遞增順序排列。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3647">An array of file offsets to archive member headers, arranged in ascending order.</span></span> <span data-ttu-id="cbcd2-3648">每個位移都是不帶正負號的長整數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3648">Each offset is an unsigned long .</span></span> <span data-ttu-id="cbcd2-3649">數位 m 等於 [成員數目] 欄位的值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3649">The number m is equal to the value of the Number of Members field.</span></span> <br/>                                                                                                                                                                                                        |
| \* <br/> | <span data-ttu-id="cbcd2-3650">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3650">4</span></span> <br/>      | <span data-ttu-id="cbcd2-3651">符號數目</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3651">Number of Symbols</span></span> <br/> | <span data-ttu-id="cbcd2-3652">不帶正負號的長度，包含已編制索引的符號數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3652">An unsigned long that contains the number of symbols indexed.</span></span> <span data-ttu-id="cbcd2-3653">每個物件檔案成員通常會定義一或多個外部符號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3653">Each object-file member typically defines one or more external symbols.</span></span> <br/>                                                                                                                                                                                                                                                        |
| \* <br/> | <span data-ttu-id="cbcd2-3654">2 \* n</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3654">2 \* n</span></span> <br/> | <span data-ttu-id="cbcd2-3655">指標</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3655">Indices</span></span> <br/>           | <span data-ttu-id="cbcd2-3656">以1為基礎之索引的陣列 (不帶正負號的短 ) ，可將符號名稱對應至封存成員位移。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3656">An array of 1-based indexes (unsigned short ) that map symbol names to archive member offsets.</span></span> <span data-ttu-id="cbcd2-3657">數位 n 等於符號欄位數目。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3657">The number n is equal to the Number of Symbols field.</span></span> <span data-ttu-id="cbcd2-3658">對於字串資料表中所命名的每個符號，索引陣列中的對應元素都會提供位移陣列的索引。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3658">For each symbol that is named in the string table, the corresponding element in the Indices array gives an index into the offsets array.</span></span> <span data-ttu-id="cbcd2-3659">位移陣列接著會提供包含符號之封存成員的位置。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3659">The offsets array, in turn, gives the location of the archive member that contains the symbol.</span></span> <br/> |
| \* <br/> | \* <br/>     | <span data-ttu-id="cbcd2-3660">字串資料表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3660">String Table</span></span> <br/>      | <span data-ttu-id="cbcd2-3661">一系列以 null 終止的字串，用來命名目錄中的所有符號。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3661">A series of null-terminated strings that name all of the symbols in the directory.</span></span> <span data-ttu-id="cbcd2-3662">每個字串都會緊接在上一個字串中的 null 位元組之後開始。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3662">Each string begins immediately after the null byte in the previous string.</span></span> <span data-ttu-id="cbcd2-3663">字串數目必須等於 [符號] 欄位數目的值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3663">The number of strings must be equal to the value of the Number of Symbols field.</span></span> <span data-ttu-id="cbcd2-3664">下表以遞增的順序列出所有的符號名稱。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3664">This table lists all the symbol names in ascending lexical order.</span></span> <br/>                                                                             |



 

### <a name="longnames-member"></a><span data-ttu-id="cbcd2-3665">Longnames 成員</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3665">Longnames Member</span></span>

<span data-ttu-id="cbcd2-3666">Longnames 成員的名稱為 "//"。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3666">The name of the longnames member is "//".</span></span> <span data-ttu-id="cbcd2-3667">Longnames 成員是一系列封存成員名稱的字串。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3667">The longnames member is a series of strings of archive member names.</span></span> <span data-ttu-id="cbcd2-3668">只有當 Name 欄位的空間不足時，才會出現名稱 (16 個位元組) 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3668">A name appears here only when there is insufficient room in the Name field (16 bytes).</span></span> <span data-ttu-id="cbcd2-3669">Longnames 成員是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3669">The longnames member is optional.</span></span> <span data-ttu-id="cbcd2-3670">只有標頭可以是空的，或者即使沒有標頭也可完全不存在。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3670">It can be empty with only a header, or it can be completely absent without even a header.</span></span>

<span data-ttu-id="cbcd2-3671">字串以 null 結束。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3671">The strings are null-terminated.</span></span> <span data-ttu-id="cbcd2-3672">每個字串都會緊接在上一個字串中的 null 位元組之後開始。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3672">Each string begins immediately after the null byte in the previous string.</span></span>

## <a name="import-library-format"></a><span data-ttu-id="cbcd2-3673">匯入程式庫格式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3673">Import Library Format</span></span>

- [<span data-ttu-id="cbcd2-3674">匯入標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3674">Import Header</span></span>](#import-header)
- [<span data-ttu-id="cbcd2-3675">匯入類型</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3675">Import Type</span></span>](#import-type)

<span data-ttu-id="cbcd2-3676">傳統的匯入程式庫（也就是描述從某個影像匯出以供其他人使用的程式庫）通常會遵循第7節中所述的配置， [) 檔案格式](#archive-library-file-format)的封存 (程式庫。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3676">Traditional import libraries, that is, libraries that describe the exports from one image for use by another, typically follow the layout described in section 7, [Archive (Library) File Format](#archive-library-file-format).</span></span> <span data-ttu-id="cbcd2-3677">主要差異在於，匯入程式庫成員包含虛擬物件檔案，而不是實際的檔案，其中每個成員都包含建立匯入資料表所需的投稿區段（如6.4 章節所 [述），](#the-idata-section) 連結器會在建立匯出應用程式時產生此封存。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3677">The primary difference is that import library members contain pseudo-object files instead of real ones, in which each member includes the section contributions that are required to build the import tables that are described in section 6.4, [The .idata Section](#the-idata-section) The linker generates this archive while building the exporting application.</span></span>

<span data-ttu-id="cbcd2-3678">匯入的區段投稿可以從一小部分的資訊來推斷。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3678">The section contributions for an import can be inferred from a small set of information.</span></span> <span data-ttu-id="cbcd2-3679">連結器可以在建立程式庫時，為每個成員的匯入程式庫產生完整的詳細資訊，或只將標準資訊寫入程式庫，讓稍後使用它的應用程式產生必要的資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3679">The linker can either generate the complete, verbose information into the import library for each member at the time of the library's creation or write only the canonical information to the library and let the application that later uses it generate the necessary data on the fly.</span></span>

<span data-ttu-id="cbcd2-3680">在具有完整格式的匯入程式庫中，單一成員會包含下列資訊：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3680">In an import library with the long format, a single member contains the following information:</span></span>

<dl> <span data-ttu-id="cbcd2-3681">封存成員標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3681">Archive member header</span></span>  
<span data-ttu-id="cbcd2-3682">檔案標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3682">File header</span></span>  
<span data-ttu-id="cbcd2-3683">區段標題</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3683">Section headers</span></span>  
<span data-ttu-id="cbcd2-3684">對應至每個區段標頭的資料</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3684">Data that corresponds to each of the section headers</span></span>  
<span data-ttu-id="cbcd2-3685">COFF 符號表</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3685">COFF symbol table</span></span>  
<span data-ttu-id="cbcd2-3686">字串</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3686">Strings</span></span>  
  
</dl>

<span data-ttu-id="cbcd2-3687">相反地，簡短的匯入程式庫撰寫如下：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3687">In contrast, a short import library is written as follows:</span></span>

<dl> <span data-ttu-id="cbcd2-3688">封存成員標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3688">Archive member header</span></span>  
<span data-ttu-id="cbcd2-3689">匯入標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3689">Import header</span></span>  
<span data-ttu-id="cbcd2-3690">以 Null 結束的匯入名稱字串</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3690">Null-terminated import name string</span></span>  
<span data-ttu-id="cbcd2-3691">以 Null 結束的 DLL 名稱字串</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3691">Null-terminated DLL name string</span></span>  
</dl>

<span data-ttu-id="cbcd2-3692">這是足夠的資訊，可在使用時精確地重建成員的整個內容。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3692">This is sufficient information to accurately reconstruct the entire contents of the member at the time of its use.</span></span>

### <a name="import-header"></a><span data-ttu-id="cbcd2-3693">匯入標頭</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3693">Import Header</span></span>

<span data-ttu-id="cbcd2-3694">匯入標頭包含下欄欄位和位移：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3694">The import header contains the following fields and offsets:</span></span>



| <span data-ttu-id="cbcd2-3695">Offset</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3695">Offset</span></span>         | <span data-ttu-id="cbcd2-3696">大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3696">Size</span></span>                | <span data-ttu-id="cbcd2-3697">欄位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3697">Field</span></span>                       | <span data-ttu-id="cbcd2-3698">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3698">Description</span></span>                                                                                                                  |
|----------------|---------------------|-----------------------------|------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cbcd2-3699">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3699">0</span></span> <br/>  | <span data-ttu-id="cbcd2-3700">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3700">2</span></span> <br/>       | <span data-ttu-id="cbcd2-3701">Sig1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3701">Sig1</span></span> <br/>            | <span data-ttu-id="cbcd2-3702">必須是圖像 \_ 檔 \_ 電腦 \_ 未知。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3702">Must be IMAGE\_FILE\_MACHINE\_UNKNOWN.</span></span> <span data-ttu-id="cbcd2-3703">如需詳細資訊，請參閱 [電腦類型](#machine-types)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3703">For more information, see [Machine Types](#machine-types).</span></span> <br/>                |
| <span data-ttu-id="cbcd2-3704">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3704">2</span></span> <br/>  | <span data-ttu-id="cbcd2-3705">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3705">2</span></span> <br/>       | <span data-ttu-id="cbcd2-3706">Sig2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3706">Sig2</span></span> <br/>            | <span data-ttu-id="cbcd2-3707">必須是0xFFFF。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3707">Must be 0xFFFF.</span></span> <br/>                                                                                                  |
| <span data-ttu-id="cbcd2-3708">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3708">4</span></span> <br/>  | <span data-ttu-id="cbcd2-3709">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3709">2</span></span> <br/>       | <span data-ttu-id="cbcd2-3710">版本</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3710">Version</span></span> <br/>         | <span data-ttu-id="cbcd2-3711">結構版本。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3711">The structure version.</span></span> <br/>                                                                                           |
| <span data-ttu-id="cbcd2-3712">6</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3712">6</span></span> <br/>  | <span data-ttu-id="cbcd2-3713">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3713">2</span></span> <br/>       | <span data-ttu-id="cbcd2-3714">電腦</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3714">Machine</span></span> <br/>         | <span data-ttu-id="cbcd2-3715">識別目的電腦類型的數位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3715">The number that identifies the type of target machine.</span></span> <span data-ttu-id="cbcd2-3716">如需詳細資訊，請參閱 [電腦類型](#machine-types)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3716">For more information, see [Machine Types](#machine-types).</span></span><br/> |
| <span data-ttu-id="cbcd2-3717">8</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3717">8</span></span> <br/>  | <span data-ttu-id="cbcd2-3718">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3718">4</span></span> <br/>       | <span data-ttu-id="cbcd2-3719">Time-Date 戳記</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3719">Time-Date Stamp</span></span> <br/> | <span data-ttu-id="cbcd2-3720">建立檔案的時間和日期。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3720">The time and date that the file was created.</span></span> <br/>                                                                     |
| <span data-ttu-id="cbcd2-3721">12</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3721">12</span></span> <br/> | <span data-ttu-id="cbcd2-3722">4</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3722">4</span></span> <br/>       | <span data-ttu-id="cbcd2-3723">資料的大小</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3723">Size Of Data</span></span> <br/>    | <span data-ttu-id="cbcd2-3724">標頭後面的字串大小。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3724">The size of the strings that follow the header.</span></span> <br/>                                                                  |
| <span data-ttu-id="cbcd2-3725">16</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3725">16</span></span> <br/> | <span data-ttu-id="cbcd2-3726">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3726">2</span></span> <br/>       | <span data-ttu-id="cbcd2-3727">序數/提示</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3727">Ordinal/Hint</span></span> <br/>    | <span data-ttu-id="cbcd2-3728">匯入的序數或提示，是由 [名稱類型] 欄位中的值所決定。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3728">Either the ordinal or the hint for the import, determined by the value in the Name Type field.</span></span> <br/>                   |
| <span data-ttu-id="cbcd2-3729">18</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3729">18</span></span> <br/> | <span data-ttu-id="cbcd2-3730">2位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3730">2 bits</span></span> <br/>  | <span data-ttu-id="cbcd2-3731">類型</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3731">Type</span></span> <br/>            | <span data-ttu-id="cbcd2-3732">匯入類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3732">The import type.</span></span> <span data-ttu-id="cbcd2-3733">如需特定的值和描述，請參閱匯 [入類型](#import-type)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3733">For specific values and descriptions, see [Import Type](#import-type).</span></span><br/>                           |
|                | <span data-ttu-id="cbcd2-3734">3位</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3734">3 bits</span></span> <br/>  | <span data-ttu-id="cbcd2-3735">名稱類型</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3735">Name Type</span></span> <br/>       | <span data-ttu-id="cbcd2-3736">匯入名稱類型。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3736">The import name type.</span></span> <span data-ttu-id="cbcd2-3737">如需詳細資訊，請參閱匯 [入名稱類型](#import-name-type)。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3737">For more information, see [Import Name Type](#import-name-type).</span></span> <br/>                           |
|                | <span data-ttu-id="cbcd2-3738">11 位元</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3738">11 bits</span></span> <br/> | <span data-ttu-id="cbcd2-3739">保留</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3739">Reserved</span></span> <br/>        | <span data-ttu-id="cbcd2-3740">保留，必須是0。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3740">Reserved, must be 0.</span></span> <br/>                                                                                             |



 

<span data-ttu-id="cbcd2-3741">此結構後面會接著兩個以 null 終止的字串，這些字串會描述匯入的符號名稱和它的來源 DLL。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3741">This structure is followed by two null-terminated strings that describe the imported symbol's name and the DLL from which it came.</span></span>

### <a name="import-type"></a><span data-ttu-id="cbcd2-3742">匯入類型</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3742">Import Type</span></span>

<span data-ttu-id="cbcd2-3743">下列值是針對匯入標頭中的 [類型] 欄位所定義：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3743">The following values are defined for the Type field in the import header:</span></span>

| <span data-ttu-id="cbcd2-3744">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3744">Constant</span></span>                  | <span data-ttu-id="cbcd2-3745">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3745">Value</span></span>         | <span data-ttu-id="cbcd2-3746">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3746">Description</span></span>                                      |
|---------------------------|---------------|--------------------------------------------------|
| <span data-ttu-id="cbcd2-3747">匯入程式 \_ 代碼</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3747">IMPORT\_CODE</span></span> <br/>  | <span data-ttu-id="cbcd2-3748">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3748">0</span></span> <br/> | <span data-ttu-id="cbcd2-3749">可執行程式碼。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3749">Executable code.</span></span> <br/>                     |
| <span data-ttu-id="cbcd2-3750">匯入 \_ 資料</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3750">IMPORT\_DATA</span></span> <br/>  | <span data-ttu-id="cbcd2-3751">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3751">1</span></span> <br/> | <span data-ttu-id="cbcd2-3752">資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3752">Data.</span></span> <br/>                                |
| <span data-ttu-id="cbcd2-3753">匯入 \_ CONST</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3753">IMPORT\_CONST</span></span> <br/> | <span data-ttu-id="cbcd2-3754">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3754">2</span></span> <br/> | <span data-ttu-id="cbcd2-3755">在 .def 檔中指定為 CONST。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3755">Specified as CONST in the .def file.</span></span> <br/> |

<span data-ttu-id="cbcd2-3756">這些值可用來判斷當工具必須存取資料時，哪個部分的投稿必須由使用程式庫的工具產生。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3756">These values are used to determine which section contributions must be generated by the tool that uses the library if it must access that data.</span></span>

### <a name="import-name-type"></a><span data-ttu-id="cbcd2-3757">匯入名稱類型</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3757">Import Name Type</span></span>

<span data-ttu-id="cbcd2-3758">以 null 結束的匯入符號名稱會緊接在其相關聯的匯入標頭之後。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3758">The null-terminated import symbol name immediately follows its associated import header.</span></span> <span data-ttu-id="cbcd2-3759">下列值是針對匯入標頭中的名稱類型欄位所定義的。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3759">The following values are defined for the Name Type field in the import header.</span></span> <span data-ttu-id="cbcd2-3760">它們表示如何使用名稱來產生代表匯入的正確符號：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3760">They indicate how the name is to be used to generate the correct symbols that represent the import:</span></span>

| <span data-ttu-id="cbcd2-3761">常數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3761">Constant</span></span> | <span data-ttu-id="cbcd2-3762">值</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3762">Value</span></span> | <span data-ttu-id="cbcd2-3763">描述</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3763">Description</span></span> |
| - | - | - |
| <span data-ttu-id="cbcd2-3764">匯入 \_ 序數</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3764">IMPORT\_ORDINAL</span></span> | <span data-ttu-id="cbcd2-3765">0</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3765">0</span></span> | <span data-ttu-id="cbcd2-3766">匯入是依序數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3766">The import is by ordinal.</span></span> <span data-ttu-id="cbcd2-3767">這表示匯入標頭的序數/提示欄位中的值是匯入的序數。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3767">This indicates that the value in the Ordinal/Hint field of the import header is the import's ordinal.</span></span> <span data-ttu-id="cbcd2-3768">如果未指定這個常數，則序數/提示欄位應該一律解釋為匯入的提示。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3768">If this constant is not specified, then the Ordinal/Hint field should always be interpreted as the import's hint.</span></span> |
| <span data-ttu-id="cbcd2-3769">匯入 \_ 名稱</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3769">IMPORT\_NAME</span></span> | <span data-ttu-id="cbcd2-3770">1</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3770">1</span></span> | <span data-ttu-id="cbcd2-3771">匯入名稱與公用符號名稱相同。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3771">The import name is identical to the public symbol name.</span></span> |
| <span data-ttu-id="cbcd2-3772">匯入 \_ 名稱 \_ NOPREFIX</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3772">IMPORT\_NAME\_NOPREFIX</span></span> | <span data-ttu-id="cbcd2-3773">2</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3773">2</span></span> | <span data-ttu-id="cbcd2-3774">匯入名稱是公用符號名稱，但略過前置的？、@ 或選擇性的 \_ 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3774">The import name is the public symbol name, but skipping the leading ?, @, or optionally \_.</span></span> |
| <span data-ttu-id="cbcd2-3775">匯入 \_ 名稱 \_ UNDECORATE</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3775">IMPORT\_NAME\_UNDECORATE</span></span> | <span data-ttu-id="cbcd2-3776">3</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3776">3</span></span> | <span data-ttu-id="cbcd2-3777">匯入名稱是公用符號名稱，但略過開頭的？、@ 或（選擇性 \_ ），並在第一次截斷 @ 。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3777">The import name is the public symbol name, but skipping the leading ?, @, or optionally \_, and truncating at the first @.</span></span> |

## <a name="appendix-a-calculating-authenticode-pe-image-hash"></a><span data-ttu-id="cbcd2-3778">附錄 A：計算 Authenticode PE 映射雜湊</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3778">Appendix A: Calculating Authenticode PE Image Hash</span></span>

- [<span data-ttu-id="cbcd2-3779">什麼是 Authenticode PE 映射雜湊？</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3779">What is an Authenticode PE Image Hash?</span></span>](#what-is-an-authenticode-pe-image-hash)
- [<span data-ttu-id="cbcd2-3780">Authenticode PE 映射雜湊涵蓋了哪些內容？</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3780">What is Covered in an Authenticode PE Image Hash?</span></span>](#what-is-covered-in-an-authenticode-pe-image-hash)

<span data-ttu-id="cbcd2-3781">需要使用數個屬性憑證來驗證映射的完整性。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3781">Several attribute certificates are expected to be used to verify the integrity of the images.</span></span> <span data-ttu-id="cbcd2-3782">不過，最常見的是 Authenticode 簽章。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3782">However, the most common is Authenticode signature.</span></span> <span data-ttu-id="cbcd2-3783">您可以使用 Authenticode 簽章來確認 PE 影像檔的相關區段是否已從檔案的原始表單中以任何方式改變。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3783">An Authenticode signature can be used to verify that the relevant sections of a PE image file have not been altered in any way from the file’s original form.</span></span> <span data-ttu-id="cbcd2-3784">為了完成這項工作，Authenticode 簽章包含稱為 PE 映射雜湊的內容</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3784">To accomplish this task, Authenticode signatures contain something called a PE image hash</span></span>

### <a name="what-is-an-authenticode-pe-image-hash"></a><span data-ttu-id="cbcd2-3785">什麼是 Authenticode PE 映射雜湊？</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3785">What is an Authenticode PE Image Hash?</span></span>

<span data-ttu-id="cbcd2-3786">Authenticode PE 映射雜湊或簡短的檔案雜湊類似于檔案總和檢查碼，因為它會產生與檔案完整性相關的較小值。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3786">The Authenticode PE image hash, or file hash for short, is similar to a file checksum in that it produces a small value that relates to the integrity of a file.</span></span> <span data-ttu-id="cbcd2-3787">總和檢查碼是由簡單的演算法所產生，主要是用來偵測記憶體失敗。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3787">A checksum is produced by a simple algorithm and is used primarily to detect memory failures.</span></span> <span data-ttu-id="cbcd2-3788">也就是說，它會用來偵測磁片上的記憶體區塊是否已損毀，且儲存的值已損毀。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3788">That is, it is used to detect whether a block of memory on disk has gone bad and the values stored there have become corrupted.</span></span> <span data-ttu-id="cbcd2-3789">檔案雜湊類似于總和檢查碼，因為它也會偵測到檔案損毀。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3789">A file hash is similar to a checksum in that it also detects file corruption.</span></span> <span data-ttu-id="cbcd2-3790">但是，與大部分的總和檢查碼演算法不同的是，修改檔案時，它的檔案雜湊與原始 (未修改的) 形式很困難。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3790">However, unlike most checksum algorithms, it is very difficult to modify a file so that it has the same file hash as its original (unmodified) form.</span></span> <span data-ttu-id="cbcd2-3791">也就是說，總和檢查碼旨在偵測造成損毀的簡單記憶體失敗，但檔案雜湊可用來偵測檔案的蓄意甚至微妙修改，例如病毒、駭客或特洛伊木馬程式所引進的檔案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3791">That is, a checksum is intended to detect simple memory failures that lead to corruption, but a file hash can be used to detect intentional and even subtle modifications to a file, such as those introduced by viruses, hackers, or Trojan horse programs.</span></span>

<span data-ttu-id="cbcd2-3792">在 Authenticode 簽章中，檔案雜湊會使用只有檔案簽署者知道的私密金鑰，以數位方式簽署。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3792">In an Authenticode signature, the file hash is digitally signed by using a private key known only to the signer of the file.</span></span> <span data-ttu-id="cbcd2-3793">軟體取用者可以藉由計算檔案的雜湊值，並將其與 Authenticode 數位簽章中包含的已簽署雜湊值相比較，來驗證檔案的完整性。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3793">A software consumer can verify the integrity of the file by calculating the hash value of the file and comparing it to the value of signed hash contained in the Authenticode digital signature.</span></span> <span data-ttu-id="cbcd2-3794">如果檔案雜湊不相符，則已修改 PE 映射雜湊所涵蓋的部分檔案。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3794">If the file hashes do not match, part of the file covered by the PE image hash has been modified.</span></span>

### <a name="what-is-covered-in-an-authenticode-pe-image-hash"></a><span data-ttu-id="cbcd2-3795">Authenticode PE 映射雜湊涵蓋了哪些內容？</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3795">What is Covered in an Authenticode PE Image Hash?</span></span>

<span data-ttu-id="cbcd2-3796">在 PE 映射雜湊的計算中，不可能或不需要包含所有影像檔案資料。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3796">It is not possible or desirable to include all image file data in the calculation of the PE image hash.</span></span> <span data-ttu-id="cbcd2-3797">有時候，它只會顯示不想要的特性 (例如，無法從公開發行的檔案中移除偵錯工具資訊) ;有時候就是不可能的。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3797">Sometimes it simply presents undesirable characteristics (for example, debugging information cannot be removed from publicly released files); sometimes it is simply impossible.</span></span> <span data-ttu-id="cbcd2-3798">例如，您無法在 Authenticode 簽章中包含影像檔案中的所有資訊，然後將包含該 PE 映射雜湊的 Authenticode 簽章插入 PE 映射中，並在稍後將所有影像檔案資料都包含在計算中，藉以產生相同的 PE 映射雜湊，因為檔案現在包含原本沒有的 Authenticode 簽章。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3798">For example, it is not possible to include all information within an image file in an Authenticode signature, then insert the Authenticode signature that contains that PE image hash into the PE image, and later be able to generate an identical PE image hash by including all image file data in the calculation again, because the file now contains the Authenticode signature that was not originally there.</span></span>

#### <a name="process-for-generating-the-authenticode-pe-image-hash"></a><span data-ttu-id="cbcd2-3799">產生 Authenticode PE 映射雜湊的進程</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3799">Process for Generating the Authenticode PE Image Hash</span></span>

<span data-ttu-id="cbcd2-3800">本節說明如何計算 PE 映射雜湊，以及可以修改 PE 映射的哪些部分，而不使 Authenticode 簽章失效。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3800">This section describes how a PE image hash is calculated and what parts of the PE image can be modified without invalidating the Authenticode signature.</span></span>

> [!NOTE]
> <span data-ttu-id="cbcd2-3801">特定檔案的 PE 映射雜湊可包含在個別的類別目錄檔案中，而不需要在雜湊的檔案內包含屬性憑證。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3801">The PE image hash for a specific file can be included in a separate catalog file without including an attribute certificate within the hashed file.</span></span> <span data-ttu-id="cbcd2-3802">這是相關的，因為它可以藉由修改未實際包含 Authenticode 簽章的 PE 映射，使 Authenticode 簽署類別目錄檔案中的 PE 映射雜湊失效。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3802">This is relevant, because it becomes possible to invalidate the PE image hash in an Authenticode-signed catalog file by modifying a PE image that does not actually contain an Authenticode signature.</span></span>

<span data-ttu-id="cbcd2-3803">在區段資料表中指定之 PE 映射區段中的所有資料，都會以整體方式雜湊，但不包括下列排除範圍：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3803">All data in sections of the PE image that are specified in the section table are hashed in their entirety except for the following exclusion ranges:</span></span>

- <span data-ttu-id="cbcd2-3804">**選用標頭之 Windows 特定欄位的 [檔案總和檢查碼] 欄位。**</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3804">**The file CheckSum field of the Windows-specific fields of the optional header.**</span></span> <span data-ttu-id="cbcd2-3805">此總和檢查碼包含整個檔案 (包括) 檔案中的任何屬性憑證。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3805">This checksum includes the entire file (including any attribute certificates in the file).</span></span> <span data-ttu-id="cbcd2-3806">在所有可能性中，總和檢查碼在插入 Authenticode 簽章之後將會與原始值不同。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3806">In all likelihood, the checksum will be different than the original value after inserting the Authenticode signature.</span></span>

- <span data-ttu-id="cbcd2-3807">**與屬性憑證相關的資訊**。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3807">**Information related to attribute certificates**.</span></span> <span data-ttu-id="cbcd2-3808">與 Authenticode 簽章相關的 PE 映射區域不包含在計算 PE 映射雜湊中，因為可以在映射中新增或移除 Authenticode 簽章，而不會影響映射的整體完整性。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3808">The areas of the PE image that are related to the Authenticode signature are not included in the calculation of the PE image hash because Authenticode signatures can be added to or removed from an image without affecting the overall integrity of the image.</span></span> <span data-ttu-id="cbcd2-3809">這並不成問題，因為有一些使用者案例相依于重新簽署 PE 映射或新增時間戳記。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3809">This is not a problem, because there are user scenarios that depend on re-signing PE images or adding a time stamp.</span></span> <span data-ttu-id="cbcd2-3810">Authenticode 從雜湊計算中排除下列資訊：</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3810">Authenticode excludes the following information from the hash calculation:</span></span>

  - <span data-ttu-id="cbcd2-3811">選用標頭資料目錄的憑證資料表欄位。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3811">The Certificate Table field of the optional header data directories.</span></span>

  - <span data-ttu-id="cbcd2-3812">憑證資料表和對應的憑證（由上述的憑證表格欄位所指向）。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3812">The Certificate Table and corresponding certificates that are pointed to by the Certificate Table field listed immediately above.</span></span>

  <span data-ttu-id="cbcd2-3813">為了計算 PE 映射雜湊，Authenticode 會依位址範圍排列在區段資料表中指定的區段，然後雜湊產生的位元組序列，並傳遞排除範圍。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3813">To calculate the PE image hash, Authenticode orders the sections that are specified in the section table by address range, then hashes the resulting sequence of bytes, passing over the exclusion ranges.</span></span>

- <span data-ttu-id="cbcd2-3814">**前一節結尾的資訊。**</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3814">**Information past of the end of the last section.**</span></span> <span data-ttu-id="cbcd2-3815">最後一個區段之後的區域 (由最高位移) 所定義，則不會進行雜湊處理。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3815">The area past the last section (defined by highest offset) is not hashed.</span></span> <span data-ttu-id="cbcd2-3816">此區域通常包含調試資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3816">This area commonly contains debug information.</span></span> <span data-ttu-id="cbcd2-3817">Debug 資訊通常可以視為偵錯工具的諮詢;它不會影響可執行程式的實際完整性。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3817">Debug information can generally be considered advisory to debuggers; it does not affect the actual integrity of the executable program.</span></span> <span data-ttu-id="cbcd2-3818">在傳遞產品之後，您可以從影像中移除偵錯工具，而不會影響到程式的功能。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3818">It is quite literally possible to remove debug information from an image after a product has been delivered and not affect the functionality of the program.</span></span> <span data-ttu-id="cbcd2-3819">事實上，這有時是以磁片儲存量值來完成。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3819">In fact, this is sometimes done as a disk-saving measure.</span></span> <span data-ttu-id="cbcd2-3820">值得注意的是，在不 invaliding Authenticode 簽章的情況下，無法移除包含在 PE 映射指定區段內的偵錯工具資訊。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3820">It is worth noting that debug information contained within the specified sections of the PE Image cannot be removed without invaliding the Authenticode signature.</span></span>

<span data-ttu-id="cbcd2-3821">您可以使用 Windows Platform SDK 中提供的 makecert 和 signtool 工具，來試驗如何建立和驗證 Authenticode 簽章。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3821">You can use the makecert and signtool tools provided in the Windows Platform SDK to experiment with creating and verifying Authenticode signatures.</span></span> <span data-ttu-id="cbcd2-3822">如需詳細資訊，請參閱下方的參考。</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3822">For more information, see Reference, below.</span></span>

## <a name="references"></a><span data-ttu-id="cbcd2-3823">參考資料</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3823">References</span></span>

[<span data-ttu-id="cbcd2-3824">Windows (的下載和工具組含 Windows SDK) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-3824">Downloads and tools for Windows (includes the Windows SDK)</span></span>](https://developer.microsoft.com/windows/downloads)

[<span data-ttu-id="cbcd2-3825">建立、查看及管理憑證</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3825">Creating, Viewing, and Managing Certificates</span></span>](/windows/desktop/SecCrypto/creating-viewing-and-managing-certificates)

[<span data-ttu-id="cbcd2-3826">核心模式程式碼簽署逐步解說 ( .doc) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-3826">Kernel-Mode Code Signing Walkthrough (.doc)</span></span>](https://download.microsoft.com/download/9/c/5/9c5b2167-8017-4bae-9fde-d599bac8184a/KMCS_Walkthrough.doc)

[<span data-ttu-id="cbcd2-3827">SignTool</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3827">SignTool</span></span>](/windows/desktop/SecCrypto/signtool)

[<span data-ttu-id="cbcd2-3828">Windows Authenticode 可移植可執行檔案格式 ( .docx) </span><span class="sxs-lookup"><span data-stu-id="cbcd2-3828">Windows Authenticode Portable Executable Signature Format (.docx)</span></span>](https://download.microsoft.com/download/9/c/5/9c5b2167-8017-4bae-9fde-d599bac8184a/Authenticode_PE.docx)

[<span data-ttu-id="cbcd2-3829">Imagehlp.dll 函式</span><span class="sxs-lookup"><span data-stu-id="cbcd2-3829">ImageHlp Functions</span></span>](/windows/desktop/Debug/imagehlp-functions)