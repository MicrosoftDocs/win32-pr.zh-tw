---
description: 例外狀況可由硬體或軟體起始，並可在核心模式和使用者模式程式碼中進行。 結構化例外狀況處理提供單一機制來處理核心模式和使用者模式例外狀況。
ms.assetid: 760ddcaa-a18c-4fdf-836c-9028a2e4b62e
title: '例外狀況處理 (錯誤處理) '
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4eb44cd294d89be81862c5330dda5b14811add1f
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "104109972"
---
# <a name="exception-handling-error-handling"></a><span data-ttu-id="4d275-104">例外狀況處理 (錯誤處理) </span><span class="sxs-lookup"><span data-stu-id="4d275-104">Exception Handling (Error Handling)</span></span>

<span data-ttu-id="4d275-105">例外狀況可由硬體或軟體起始，並可在核心模式和使用者模式程式碼中進行。</span><span class="sxs-lookup"><span data-stu-id="4d275-105">Exceptions can be initiated by hardware or software, and can occur in kernel-mode as well as user-mode code.</span></span> <span data-ttu-id="4d275-106">結構化例外狀況處理提供單一機制來處理核心模式和使用者模式例外狀況。</span><span class="sxs-lookup"><span data-stu-id="4d275-106">Structured exception handling provides a single mechanism for the handling of kernel-mode and user-mode exceptions.</span></span>

<span data-ttu-id="4d275-107">執行特定的指令序列可能會導致硬體所起始的例外狀況。</span><span class="sxs-lookup"><span data-stu-id="4d275-107">The execution of certain instruction sequences can result in exceptions that are initiated by hardware.</span></span> <span data-ttu-id="4d275-108">例如，當進程嘗試讀取或寫入沒有適當存取權的虛擬位址時，硬體就會產生存取違規。</span><span class="sxs-lookup"><span data-stu-id="4d275-108">For example, an access violation is generated by the hardware when a process attempts to read from or write to a virtual address to which it does not have the appropriate access.</span></span>

<span data-ttu-id="4d275-109">需要例外狀況處理的事件也可能會在執行軟體常式期間發生 (例如，) 指定不正確參數值時。</span><span class="sxs-lookup"><span data-stu-id="4d275-109">Events that require exception handling may also occur during execution of a software routine (for example, when an invalid parameter value is specified).</span></span> <span data-ttu-id="4d275-110">發生這種情況時，執行緒可以藉由呼叫 [**RaiseException**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-raiseexception) 函式來明確起始例外狀況。</span><span class="sxs-lookup"><span data-stu-id="4d275-110">When this happens, a thread can initiate an exception explicitly by calling the [**RaiseException**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-raiseexception) function.</span></span> <span data-ttu-id="4d275-111">此函數可讓呼叫執行緒指定描述例外狀況的資訊。</span><span class="sxs-lookup"><span data-stu-id="4d275-111">This function enables the calling thread to specify information that describes the exception.</span></span>

<span data-ttu-id="4d275-112">例外狀況可以是持續性或 noncontinuable。</span><span class="sxs-lookup"><span data-stu-id="4d275-112">An exception can be continuable or noncontinuable.</span></span> <span data-ttu-id="4d275-113">當事件不在硬體中，或如果接續沒有意義時，就會發生 noncontinuable 例外狀況。</span><span class="sxs-lookup"><span data-stu-id="4d275-113">A noncontinuable exception arises when the event is not continuable in the hardware, or if continuation makes no sense.</span></span> <span data-ttu-id="4d275-114">Noncontinuable 例外狀況不會終止應用程式。</span><span class="sxs-lookup"><span data-stu-id="4d275-114">A noncontinuable exception does not terminate the application.</span></span> <span data-ttu-id="4d275-115">因此，應用程式可能可以攔截例外狀況並執行。</span><span class="sxs-lookup"><span data-stu-id="4d275-115">Therefore, an application may be able to catch the exception and run.</span></span> <span data-ttu-id="4d275-116">不過，noncontinuable 例外狀況通常是因為堆疊損毀或其他嚴重問題而產生，因此難以從例外狀況中復原。</span><span class="sxs-lookup"><span data-stu-id="4d275-116">However, a noncontinuable exception typically arises as a result of a corrupted stack or other serious problem, making it difficult to recover from the exception.</span></span>

 

 
