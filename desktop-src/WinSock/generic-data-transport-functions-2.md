---
description: Ws2spi 所公開的資料傳輸函數。
ms.assetid: 6900faa3-79bb-4ed8-b83e-148eb10425a0
title: 一般資料傳輸函數
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f63de41b90148210ea8a99d5271b62c5d8bc0c08
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "104511444"
---
# <a name="generic-data-transport-functions"></a><span data-ttu-id="f2f2e-103">一般資料傳輸函數</span><span class="sxs-lookup"><span data-stu-id="f2f2e-103">Generic Data Transport Functions</span></span>

<span data-ttu-id="f2f2e-104">此區段會列出 Ws2spi 所公開的資料傳輸函數。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-104">This section lists the data transport functions exposed by Ws2spi.h.</span></span>



| <span data-ttu-id="f2f2e-105">函式</span><span class="sxs-lookup"><span data-stu-id="f2f2e-105">Function</span></span>                                                   | <span data-ttu-id="f2f2e-106">描述</span><span class="sxs-lookup"><span data-stu-id="f2f2e-106">Description</span></span>                                                                                                                                                                                             |
|------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="f2f2e-107">**WSPAccept**</span><span class="sxs-lookup"><span data-stu-id="f2f2e-107">**WSPAccept**</span></span>](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept)                           | <span data-ttu-id="f2f2e-108">系統會確認連入連線，並與立即建立的通訊端建立關聯。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-108">An incoming connection is acknowledged and associated with an immediately created socket.</span></span> <span data-ttu-id="f2f2e-109">原始通訊端會回到接聽狀態。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-109">The original socket is returned to the listening state.</span></span> <span data-ttu-id="f2f2e-110">此函數也允許接受條件式接受。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-110">This function also allows for conditional acceptance.</span></span> |
| <span data-ttu-id="f2f2e-111">[**WSPAsyncSelect**](/previous-versions/windows/desktop/legacy/ms742267(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-111">[**WSPAsyncSelect**](/previous-versions/windows/desktop/legacy/ms742267(v=vs.85))</span></span>                 | <span data-ttu-id="f2f2e-112">執行 [**WSPSelect**](/previous-versions/windows/desktop/legacy/ms742289(v=vs.85))的非同步版本。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-112">Performs asynchronous version of [**WSPSelect**](/previous-versions/windows/desktop/legacy/ms742289(v=vs.85)).</span></span>                                                                                                                                      |
| <span data-ttu-id="f2f2e-113">[**WSPBind**](/previous-versions/windows/hardware/network/ff566268(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-113">[**WSPBind**](/previous-versions/windows/hardware/network/ff566268(v=vs.85))</span></span>                               | <span data-ttu-id="f2f2e-114">將本機名稱指派給未命名的通訊端。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-114">Assigns a local name to an unnamed socket.</span></span>                                                                                                                                                              |
| <span data-ttu-id="f2f2e-115">[**WSPCancelBlockingCall**](/previous-versions/windows/desktop/legacy/ms742269(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-115">[**WSPCancelBlockingCall**](/previous-versions/windows/desktop/legacy/ms742269(v=vs.85))</span></span>   | <span data-ttu-id="f2f2e-116">取消未完成的封鎖 Windows 通訊端呼叫。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-116">Cancels an outstanding blocking Windows Sockets call.</span></span>                                                                                                                                                   |
| <span data-ttu-id="f2f2e-117">[**WSPCleanup**](/previous-versions/windows/hardware/network/ff566270(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-117">[**WSPCleanup**](/previous-versions/windows/hardware/network/ff566270(v=vs.85))</span></span>                         | <span data-ttu-id="f2f2e-118">登出基礎 Windows 通訊端服務提供者。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-118">Signs off from the underlying Windows Sockets service provider.</span></span>                                                                                                                                         |
| <span data-ttu-id="f2f2e-119">[**WSPCloseSocket**](/previous-versions/windows/hardware/network/ff566273(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-119">[**WSPCloseSocket**](/previous-versions/windows/hardware/network/ff566273(v=vs.85))</span></span>                 | <span data-ttu-id="f2f2e-120">從每個處理常式的物件參考資料表中移除通訊端。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-120">Removes a socket from the per-process object reference table.</span></span> <span data-ttu-id="f2f2e-121">只有在 \_ 封鎖通訊端上設定了非零超時時，才會封鎖。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-121">Only blocks if SO\_LINGER is set with a nonzero time-out on a blocking socket.</span></span>                                                            |
| <span data-ttu-id="f2f2e-122">[**WSPConnect**](/previous-versions/windows/hardware/network/ff566275(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-122">[**WSPConnect**](/previous-versions/windows/hardware/network/ff566275(v=vs.85))</span></span>                         | <span data-ttu-id="f2f2e-123">初始化指定之通訊端上的連接。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-123">Initiates a connection on the specified socket.</span></span> <span data-ttu-id="f2f2e-124">此函式也允許 exchange connect 資料和 QoS 規格。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-124">This function also allows for exchange of connect data and QoS specification.</span></span>                                                                           |
| <span data-ttu-id="f2f2e-125">[**WSPDuplicateSocket**](/previous-versions/windows/hardware/network/ff566282(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-125">[**WSPDuplicateSocket**](/previous-versions/windows/hardware/network/ff566282(v=vs.85))</span></span>         | <span data-ttu-id="f2f2e-126">傳回 [**WSAPROTOCOL \_ 資訊**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) 結構，可用來為共用通訊端建立新的通訊端描述項。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-126">Returns a [**WSAPROTOCOL\_INFO**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) structure that can be used to create a new socket descriptor for a shared socket.</span></span>                                                             |
| <span data-ttu-id="f2f2e-127">[**WSPEnumNetworkEvents**](/previous-versions/windows/hardware/network/ff566284(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-127">[**WSPEnumNetworkEvents**](/previous-versions/windows/hardware/network/ff566284(v=vs.85))</span></span>     | <span data-ttu-id="f2f2e-128">探索網路事件的出現次數。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-128">Discovers occurrences of network events.</span></span>                                                                                                                                                                |
| <span data-ttu-id="f2f2e-129">[**WSPEventSelect**](/previous-versions/windows/hardware/network/ff566287(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-129">[**WSPEventSelect**](/previous-versions/windows/hardware/network/ff566287(v=vs.85))</span></span>                 | <span data-ttu-id="f2f2e-130">將網路事件與事件物件產生關聯。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-130">Associates network events with an event object.</span></span>                                                                                                                                                         |
| [<span data-ttu-id="f2f2e-131">**WSPGetOverlappedResult**</span><span class="sxs-lookup"><span data-stu-id="f2f2e-131">**WSPGetOverlappedResult**</span></span>](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspgetoverlappedresult) | <span data-ttu-id="f2f2e-132">取得重迭運算的完成狀態。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-132">Gets completion status of overlapped operation.</span></span>                                                                                                                                                         |
| <span data-ttu-id="f2f2e-133">[**WSPGetPeerName**](/previous-versions/windows/desktop/legacy/ms742278(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-133">[**WSPGetPeerName**](/previous-versions/windows/desktop/legacy/ms742278(v=vs.85))</span></span>                 | <span data-ttu-id="f2f2e-134">抓取連接到指定之通訊端的對等名稱。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-134">Retrieves the name of the peer connected to the specified socket.</span></span>                                                                                                                                       |
| <span data-ttu-id="f2f2e-135">[**WSPGetSockName**](/previous-versions/windows/desktop/legacy/ms742280(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-135">[**WSPGetSockName**](/previous-versions/windows/desktop/legacy/ms742280(v=vs.85))</span></span>                 | <span data-ttu-id="f2f2e-136">抓取指定之通訊端所系結的本機位址。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-136">Retrieves the local address to which the specified socket is bound.</span></span>                                                                                                                                     |
| <span data-ttu-id="f2f2e-137">[**WSPGetSockOpt**](/previous-versions/windows/hardware/network/ff566292(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-137">[**WSPGetSockOpt**](/previous-versions/windows/hardware/network/ff566292(v=vs.85))</span></span>                   | <span data-ttu-id="f2f2e-138">抓取與指定之通訊端相關聯的選項。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-138">Retrieves options associated with the specified socket.</span></span>                                                                                                                                                 |
| [<span data-ttu-id="f2f2e-139">**WSPGetQOSByName**</span><span class="sxs-lookup"><span data-stu-id="f2f2e-139">**WSPGetQOSByName**</span></span>](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspgetqosbyname)               | <span data-ttu-id="f2f2e-140">根據已知的服務名稱提供 QoS 參數。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-140">Supplies QoS parameters based on a well-known service name.</span></span>                                                                                                                                             |
| <span data-ttu-id="f2f2e-141">[**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-141">[**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85))</span></span>                             | <span data-ttu-id="f2f2e-142">提供通訊端的控制權。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-142">Provides control for sockets.</span></span>                                                                                                                                                                           |
| [<span data-ttu-id="f2f2e-143">**WSPJoinLeaf**</span><span class="sxs-lookup"><span data-stu-id="f2f2e-143">**WSPJoinLeaf**</span></span>](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf)                       | <span data-ttu-id="f2f2e-144">將分葉節點加入 multipoint 會話。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-144">Joins a leaf node into a multipoint session.</span></span>                                                                                                                                                            |
| <span data-ttu-id="f2f2e-145">[**WSPListen**](/previous-versions/windows/hardware/network/ff566297(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-145">[**WSPListen**](/previous-versions/windows/hardware/network/ff566297(v=vs.85))</span></span>                           | <span data-ttu-id="f2f2e-146">接聽指定之通訊端上的傳入連接。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-146">Listens for incoming connections on a specified socket.</span></span>                                                                                                                                                 |
| <span data-ttu-id="f2f2e-147">[**WSPRecv**](/previous-versions/windows/hardware/network/ff566309(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-147">[**WSPRecv**](/previous-versions/windows/hardware/network/ff566309(v=vs.85))</span></span>                               | <span data-ttu-id="f2f2e-148">從連線或未連接的通訊端接收資料。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-148">Receives data from a connected or unconnected socket.</span></span> <span data-ttu-id="f2f2e-149">此函式會容納散佈/收集 i/o、重迭通訊端，並將旗標參數提供為 IN/OUT。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-149">This function accommodates scatter/gather I/O, overlapped sockets, and provides the flags parameter as IN/OUT.</span></span>                                    |
| <span data-ttu-id="f2f2e-150">[**WSPRecvDisconnect**](/previous-versions/windows/desktop/legacy/ms742285(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-150">[**WSPRecvDisconnect**](/previous-versions/windows/desktop/legacy/ms742285(v=vs.85))</span></span>           | <span data-ttu-id="f2f2e-151">在通訊端上終止接收，如果通訊端為連線導向，則會取出中斷連接資料。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-151">Terminates reception on a socket, and retrieve the disconnect data if the socket is connection-oriented.</span></span>                                                                                                |
| <span data-ttu-id="f2f2e-152">[**WSPRecvFrom**](/previous-versions/windows/desktop/legacy/ms742287(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-152">[**WSPRecvFrom**](/previous-versions/windows/desktop/legacy/ms742287(v=vs.85))</span></span>                       | <span data-ttu-id="f2f2e-153">從已連接或未連接的通訊端接收資料。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-153">Receives data from either a connected or unconnected socket.</span></span> <span data-ttu-id="f2f2e-154">此函式會容納散佈/收集 i/o、重迭的通訊端，並將旗標參數提供為 IN/OUT。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-154">This function accommodates scatter/gather I/O, overlapped sockets and provides the flags parameter as IN/OUT.</span></span>                              |
| <span data-ttu-id="f2f2e-155">[**WSPSelect**](/previous-versions/windows/desktop/legacy/ms742289(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-155">[**WSPSelect**](/previous-versions/windows/desktop/legacy/ms742289(v=vs.85))</span></span>                           | <span data-ttu-id="f2f2e-156">執行同步的 i/o 多工。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-156">Performs synchronous I/O multiplexing.</span></span>                                                                                                                                                                  |
| <span data-ttu-id="f2f2e-157">[**WSPSend**](/previous-versions/windows/hardware/network/ff566316(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-157">[**WSPSend**](/previous-versions/windows/hardware/network/ff566316(v=vs.85))</span></span>                               | <span data-ttu-id="f2f2e-158">將資料傳送到已連線的通訊端。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-158">Sends data to a connected socket.</span></span> <span data-ttu-id="f2f2e-159">此函式也會容納散佈/收集 i/o 和重迭通訊端。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-159">This function also accommodates scatter/gather I/O and overlapped sockets.</span></span>                                                                                            |
| <span data-ttu-id="f2f2e-160">[**WSPSendDisconnect**](/previous-versions/windows/desktop/legacy/ms742290(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-160">[**WSPSendDisconnect**](/previous-versions/windows/desktop/legacy/ms742290(v=vs.85))</span></span>           | <span data-ttu-id="f2f2e-161">起始通訊端連線終止，並選擇性地傳送中斷連接資料。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-161">Initiates termination of a socket connection and optionally send disconnect data.</span></span>                                                                                                                       |
| <span data-ttu-id="f2f2e-162">[**WSPSendTo**](/previous-versions/windows/desktop/legacy/ms742291(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-162">[**WSPSendTo**](/previous-versions/windows/desktop/legacy/ms742291(v=vs.85))</span></span>                           | <span data-ttu-id="f2f2e-163">將資料傳送至已連線或未連接的通訊端。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-163">Sends data to either a connected or unconnected socket.</span></span> <span data-ttu-id="f2f2e-164">此函式也會容納散佈/收集 i/o 和重迭通訊端。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-164">This function also accommodates scatter/gather I/O and overlapped sockets.</span></span>                                                                      |
| <span data-ttu-id="f2f2e-165">[**WSPSetSockOpt**](/previous-versions/windows/hardware/network/ff566318(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-165">[**WSPSetSockOpt**](/previous-versions/windows/hardware/network/ff566318(v=vs.85))</span></span>                   | <span data-ttu-id="f2f2e-166">儲存與指定之通訊端相關聯的選項。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-166">Stores options associated with the specified socket.</span></span>                                                                                                                                                    |
| <span data-ttu-id="f2f2e-167">[**WSPShutdown**](/previous-versions/windows/desktop/legacy/ms742294(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f2f2e-167">[**WSPShutdown**](/previous-versions/windows/desktop/legacy/ms742294(v=vs.85))</span></span>                       | <span data-ttu-id="f2f2e-168">關閉全雙工連接的一部分。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-168">Shuts down part of a full-duplex connection.</span></span>                                                                                                                                                            |
| [<span data-ttu-id="f2f2e-169">**WSPSocket**</span><span class="sxs-lookup"><span data-stu-id="f2f2e-169">**WSPSocket**</span></span>](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspsocket)                           | <span data-ttu-id="f2f2e-170">通訊端建立函式，它會採用 [**WSAPROTOCOL \_ 資訊**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) 結構作為輸入，並允許建立重迭的通訊端。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-170">A socket creation function which takes a [**WSAPROTOCOL\_INFO**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) structure as input and allows overlapped sockets to be created.</span></span>                                                |
| [<span data-ttu-id="f2f2e-171">**WSPStartup**</span><span class="sxs-lookup"><span data-stu-id="f2f2e-171">**WSPStartup**</span></span>](/windows/desktop/api/Ws2spi/nf-ws2spi-wspstartup)                         | <span data-ttu-id="f2f2e-172">初始化基礎 Windows 通訊端服務提供者。</span><span class="sxs-lookup"><span data-stu-id="f2f2e-172">Initializes the underlying Windows Sockets service provider.</span></span>                                                                                                                                            |



 

 

 
