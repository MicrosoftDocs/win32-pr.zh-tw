---
description: 多播程式設計是透過 Windows 通訊端啟用。
ms.assetid: f729945b-b469-4baf-ac06-2431ee2d0e71
title: 多播程式設計
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 67af0eeb087e8c6a5938f26a0644dc346d55cf51
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "104511429"
---
# <a name="multicast-programming"></a><span data-ttu-id="0eced-103">多播程式設計</span><span class="sxs-lookup"><span data-stu-id="0eced-103">Multicast Programming</span></span>

<span data-ttu-id="0eced-104">多播程式設計是透過 Windows 通訊端啟用。</span><span class="sxs-lookup"><span data-stu-id="0eced-104">Multicast programming is enabled through Windows Sockets.</span></span> <span data-ttu-id="0eced-105">Windows 通訊端啟用多播接聽程式探索 (MLD) 第1版 (MLDv1) 和 2 (IPv6 上的 MLDv2) 和網際網路群組管理通訊協定第2版 (IGMPv2) 和 3 (IGMPv3) 使用通訊端選項或 IOCTLs。</span><span class="sxs-lookup"><span data-stu-id="0eced-105">Windows Sockets enables the Multicast Listener Discovery (MLD) versions 1 (MLDv1) and 2 (MLDv2) on IPv6 and the Internet Group Management Protocol versions 2 (IGMPv2) and 3 (IGMPv3) through the use of socket options or IOCTLs.</span></span> <span data-ttu-id="0eced-106">本節說明 Windows 的執行方式、說明如何使用 Windows 通訊端啟用多播程式設計，以及提供程式設計範例來說明其用途。</span><span class="sxs-lookup"><span data-stu-id="0eced-106">This section describes the Windows implementation, explains how to enable multicast programming using Windows Sockets, and provides programming samples to illustrate its use.</span></span>

<span data-ttu-id="0eced-107">第二個版本的 IGMP （此處稱為 IGMPv2）可讓主機加入和離開特定網路介面上的 IPv4 多播位址所識別的多播群組。</span><span class="sxs-lookup"><span data-stu-id="0eced-107">The second version of IGMP, hereafter referred to as IGMPv2, enables hosts to join and leave multicast groups identified by an IPv4 multicast address on a specific network interface.</span></span> <span data-ttu-id="0eced-108">Windows 通訊端可讓應用程式在特定通訊端上加入和離開這類群組。</span><span class="sxs-lookup"><span data-stu-id="0eced-108">Windows Sockets enables an application to join and leave such groups on specific sockets.</span></span> <span data-ttu-id="0eced-109">不過，IGMPv2 的缺點是，任何聯結至 IGMPv2 群組的 IPv4 來源位址都可以傳輸至所有成員，可能會湧入群組，並使其無法用於需要主要來源的傳輸，例如網際網路無線電站。</span><span class="sxs-lookup"><span data-stu-id="0eced-109">A drawback of IGMPv2, however, is that any IPv4 source address joined to the IGMPv2 group can transmit to all members, potentially flooding the group and making it unusable for transmissions that require a primary source, such as an Internet radio station.</span></span> <span data-ttu-id="0eced-110">IGMPv2 的問題是，無法選擇性地選擇單一 IPv4 來源位址 (或甚至幾個來源) ，而且無法封鎖傳送者 (例如，特定多播群組的惡意廣播或拒絕服務 perpetrators) 。</span><span class="sxs-lookup"><span data-stu-id="0eced-110">The problem with IGMPv2 is its inability to selectively choose a single IPv4 source address (or even a few sources), and its inability to block senders (such as rogue broadcasters or denial-of-service perpetrators) for a given multicast group.</span></span> <span data-ttu-id="0eced-111">IGMPv3 會解決這些缺點。</span><span class="sxs-lookup"><span data-stu-id="0eced-111">IGMPv3 addresses those shortcomings.</span></span>

<span data-ttu-id="0eced-112">透過 Windows 通訊端和 IGMPv3，應用程式可以選取特定的多播 IPv4 來源位址和多播群組配對。</span><span class="sxs-lookup"><span data-stu-id="0eced-112">With Windows Sockets and IGMPv3, applications can select a particular multicast IPv4 source address and multicast group pair.</span></span> <span data-ttu-id="0eced-113">此外，Windows 通訊端還可讓開發人員選擇性地允許指定來源/群組配對中的其他廣播者，或讓應用程式封鎖特定的廣播者。</span><span class="sxs-lookup"><span data-stu-id="0eced-113">In addition, Windows Sockets enables developers to selectively allow additional broadcasters in a given source/group pair, or enables applications to block specific broadcasters.</span></span> <span data-ttu-id="0eced-114">Windows Vista 和更新版本支援 IGMPv3。</span><span class="sxs-lookup"><span data-stu-id="0eced-114">IGMPv3 is supported on Windows Vista and later.</span></span>

<span data-ttu-id="0eced-115">IPv6 上的第一個 MLD 版本（稱為 MLDv1）與 IGMPv2 非常類似，而且受到相同的限制。</span><span class="sxs-lookup"><span data-stu-id="0eced-115">The first version of MLD on IPv6, referred to as MLDv1, is very similar to IGMPv2 and suffers from the same limitations.</span></span> <span data-ttu-id="0eced-116">MLDv1 可讓主機加入和離開特定網路介面上的 IPv6 多播位址所識別的多播群組。</span><span class="sxs-lookup"><span data-stu-id="0eced-116">MLDv1 enables hosts to join and leave multicast groups identified by an IPv6 multicast address on a specific network interface.</span></span> <span data-ttu-id="0eced-117">Windows 通訊端可讓應用程式在特定通訊端上加入和離開這類群組。</span><span class="sxs-lookup"><span data-stu-id="0eced-117">Windows Sockets enables an application to join and leave such groups on specific sockets.</span></span> <span data-ttu-id="0eced-118">不過，加入 MLDv1 群組的任何 IPv6 來源位址都可以傳輸給所有成員，可能會湧入群組，並使其無法用於需要主要來源的傳輸。</span><span class="sxs-lookup"><span data-stu-id="0eced-118">However, any IPv6 source address joined to the MLDv1 group can transmit to all members, potentially flooding the group and making it unusable for transmissions that require a primary source.</span></span> <span data-ttu-id="0eced-119">MLDv1 的問題是，無法選擇性地選擇單一 IPv6 來源位址 (或甚至幾個來源) ，而且無法封鎖傳送者 (例如，特定多播群組的惡意廣播或拒絕服務 perpetrators) 。</span><span class="sxs-lookup"><span data-stu-id="0eced-119">The problem with MLDv1 is its inability to selectively choose a single IPv6 source address (or even a few sources), and its inability to block senders (such as rogue broadcasters or denial-of-service perpetrators) for a given multicast group.</span></span> <span data-ttu-id="0eced-120">MLDv2 會解決這些缺點。</span><span class="sxs-lookup"><span data-stu-id="0eced-120">MLDv2 addresses those shortcomings.</span></span>

<span data-ttu-id="0eced-121">透過 Windows 通訊端和 MLDv2，應用程式可以選取特定的多播 IPv6 來源位址和多播群組配對。</span><span class="sxs-lookup"><span data-stu-id="0eced-121">With Windows Sockets and MLDv2, applications can select a particular multicast IPv6 source address and multicast group pair.</span></span> <span data-ttu-id="0eced-122">此外，Windows 通訊端還可讓開發人員選擇性地允許指定來源/群組配對中的其他廣播者，或讓應用程式封鎖特定的廣播者。</span><span class="sxs-lookup"><span data-stu-id="0eced-122">In addition, Windows Sockets enables developers to selectively allow additional broadcasters in a given source/group pair, or enables applications to block specific broadcasters.</span></span> <span data-ttu-id="0eced-123">Windows Vista 和更新版本支援 MLDv2。</span><span class="sxs-lookup"><span data-stu-id="0eced-123">MLDv2 is supported on Windows Vista and later.</span></span>

<span data-ttu-id="0eced-124">在 Windows 中開發多播應用程式時，應用程式設計人員可以採用兩種方法。</span><span class="sxs-lookup"><span data-stu-id="0eced-124">There are two approaches an application programmer can take when developing multicast applications in Windows.</span></span> <span data-ttu-id="0eced-125">第一個方法是以變更為基礎;您可以視需要使用通訊端選項來新增或移除多播來源，即使在傳輸過程中也是如此。</span><span class="sxs-lookup"><span data-stu-id="0eced-125">The first approach is change-based; multicast sources are added or removed using socket options, even during the course of transmission, as required.</span></span> <span data-ttu-id="0eced-126">第二種方法是以最終狀態為基礎;來源位址和任何包含/排除的位址都會使用 IOCTL 來指定。</span><span class="sxs-lookup"><span data-stu-id="0eced-126">The second approach is final-state based; source addresses and any included/excluded addresses are specified with an IOCTL.</span></span> <span data-ttu-id="0eced-127">每種方法都是有效的多播實務，但開發人員可能會發現使用通訊端選項，而且以變更為基礎的方法更具直覺性和彈性。</span><span class="sxs-lookup"><span data-stu-id="0eced-127">Each approach is a valid multicasting practice, but developers may find using socket options and the change-based approach more intuitive and flexible.</span></span>

<span data-ttu-id="0eced-128">本節包含下列頁面：</span><span class="sxs-lookup"><span data-stu-id="0eced-128">This section has the following pages:</span></span> 

| <span data-ttu-id="0eced-129">頁面標題</span><span class="sxs-lookup"><span data-stu-id="0eced-129">Page title</span></span>                                                                             | <span data-ttu-id="0eced-130">Description</span><span class="sxs-lookup"><span data-stu-id="0eced-130">Description</span></span>                                                                                                                                                                        |
|----------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="0eced-131">使用 Windows 通訊端的 MLD 和 IGMP</span><span class="sxs-lookup"><span data-stu-id="0eced-131">MLD and IGMP Using Windows Sockets</span></span>](igmp-and-windows-sockets.md)                     | <span data-ttu-id="0eced-132">使用以變更為基礎的程式設計方法，列舉可用於 Windows 通訊端程式設計的多播通訊端選項。</span><span class="sxs-lookup"><span data-stu-id="0eced-132">Enumerates the multicast socket options available for use in Windows Sockets programming, using a change-based programming approach.</span></span> <span data-ttu-id="0eced-133">定義兩個多播應用程式類別。</span><span class="sxs-lookup"><span data-stu-id="0eced-133">Defines two multicast application categories.</span></span> |
| [<span data-ttu-id="0eced-134">多播通訊端選項行為</span><span class="sxs-lookup"><span data-stu-id="0eced-134">Multicast Socket Option Behavior</span></span>](multicast-socket-option-behavior.md)               | <span data-ttu-id="0eced-135">提供詳盡的表格，說明以特定順序呼叫多播通訊端選項的含意和需求。</span><span class="sxs-lookup"><span data-stu-id="0eced-135">Provides an extensive table to explain the implications and requirements of calling multicast socket options in particular order.</span></span>                                                  |
| [<span data-ttu-id="0eced-136">多播程式設計範例</span><span class="sxs-lookup"><span data-stu-id="0eced-136">Multicast Programming Sample</span></span>](multicast-programming-sample.md)                       | <span data-ttu-id="0eced-137">說明如何使用通訊端選項在 Windows 中啟用多播應用程式的程式設計程式碼片段。</span><span class="sxs-lookup"><span data-stu-id="0eced-137">Programming snippet that illustrates how to use socket options to enable multicast applications in Windows.</span></span>                                                                        |
| [<span data-ttu-id="0eced-138">以最終狀態為基礎的多播程式設計</span><span class="sxs-lookup"><span data-stu-id="0eced-138">Final-State-based Multicast Programming</span></span>](final-state-based-multicast-programming.md) | <span data-ttu-id="0eced-139">說明最終狀態方法，以及如何使用 IOCTLs 進行 Windows 通訊端的多播程式設計。</span><span class="sxs-lookup"><span data-stu-id="0eced-139">Explains final-state approach, and how to use IOCTLs for multicast programming with Windows Sockets.</span></span>                                                                               |
| [<span data-ttu-id="0eced-140">將廣播應用程式移植至 IPv6</span><span class="sxs-lookup"><span data-stu-id="0eced-140">Porting Broadcast Applications to IPv6</span></span>](porting-broadcast-applications-to-ipv6.md)   | <span data-ttu-id="0eced-141">提供將 IPv4 廣播應用程式移植至 IPv6 多播的指導方針。</span><span class="sxs-lookup"><span data-stu-id="0eced-141">Provides guidelines for porting IPv4 broadcast applications to IPv6 multicast.</span></span>                                                                                                     |



 

 

 



