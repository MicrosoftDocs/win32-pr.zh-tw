---
description: 下列清單提供每個 Winsock 結構和 typedef 的精確描述。 如需任何結構或 typedef 的詳細資訊，請按一下結構或 typedef 名稱。
ms.assetid: 96bacf00-d1ea-4ba7-adf4-9078568ac44b
title: Winsock 結構
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ac97b8f9710163a29dc7d5938df4cb34bb51ec2f
ms.sourcegitcommit: 04fcd6711f2b167a3023a67310deb58780e1fea8
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/14/2021
ms.locfileid: "112082383"
---
# <a name="winsock-structures"></a>Winsock 結構

下列清單提供每個 Winsock 結構和 typedef 的精確描述。 如需任何結構或 typedef 的詳細資訊，請按一下結構或 typedef 名稱。



| 結構                                                                                 | Description                                                                                                                                                                                                                                                                       |
|-------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**addrinfo**](/windows/win32/api/ws2def/ns-ws2def-addrinfoa)                                                            | 由 [**getaddrinfo**](/windows/desktop/api/Ws2tcpip/nf-ws2tcpip-getaddrinfo) 函數用來保存主機位址資訊。                                                                                                                                                                                       |
| [**addrinfoW**](/windows/desktop/api/Ws2def/ns-ws2def-addrinfow)                                                            | 由 [**GetAddrInfoW**](/windows/desktop/api/Ws2tcpip/nf-ws2tcpip-getaddrinfow) 函數用來保存主機位址資訊。                                                                                                                                                                                       |
| [**addrinfoex**](/windows/desktop/api/Ws2def/ns-ws2def-addrinfoexw)                                                          | 由 [**GetAddrInfoEx**](/windows/desktop/api/Ws2tcpip/nf-ws2tcpip-getaddrinfoexa) 函數用來保存主機位址資訊。                                                                                                                                                                                     |
| [**addrinfoex2**](/windows/desktop/api/Ws2def/ns-ws2def-addrinfoex2w)                                                        | 當標準名稱和完整功能變數名稱都已要求時， [**GetAddrInfoEx**](/windows/desktop/api/Ws2tcpip/nf-ws2tcpip-getaddrinfoexa) 函式會用來保存主機位址資訊。                                                                                                    |
| [**addrinfoex3**](/windows/desktop/api/Ws2def/ns-ws2def-addrinfoex3)                                                        | 當要求特定的網路介面時， [**GetAddrInfoEx**](/windows/desktop/api/Ws2tcpip/nf-ws2tcpip-getaddrinfoexa) 函式會用來保存主機位址資訊。                                                                                                                                |
| [**addrinfoex4**](/windows/desktop/api/Ws2def/ns-ws2def-addrinfoex4)                                                        | 當要求完整功能變數名稱的控制碼時， [**GetAddrInfoEx**](/windows/desktop/api/Ws2tcpip/nf-ws2tcpip-getaddrinfoexa) 函式會使用此功能來保存主機位址資訊。                                                                                                                 |
| [**AFPROTOCOLS**](/windows/desktop/api/Winsock2/ns-winsock2-afprotocols)                                                      | 提供應用程式程式設計人員可以限制查詢的通訊協定清單。 僅用於查詢用途。                                                                                                                                                                |
| [**Blob**](/windows/win32/api/wtypesbase/ns-wtypesbase-blob)                                                                    | 包含資料區塊的相關資訊。 衍生自二進位大型物件。                                                                                                                                                                                                     |
| [**CSADDR \_ 資訊**](/windows/win32/api/ws2def/ns-ws2def-csaddr_info)                                                     | 包含網路服務或命名空間提供者的 Winsock 位址資訊。                                                                                                                                                                                                 |
| [**fd \_ 設定**](/windows/desktop/api/winsock/nf-winsock-fd_set)                                                               | 由各種 Winsock 函數和服務提供者（例如 [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select)）所使用，以將通訊端放入「設定」以供各種用途，例如測試指定的通訊端以提供可讀性。                                                                                  |
| [**群組 \_ 篩選**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-group_filter)                                                     | 提供多播 IPv6 或 IPv4 位址的多播篩選參數。                                                                                                                                                                                                     |
| [**群組 \_ 需求**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-group_req)                                                           | 提供 IPv6 或 IPv4 位址的多播群組資訊。                                                                                                                                                                                                                  |
| [**群組 \_ 來源 \_ 需求**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-group_source_req)                                            | 針對包含來源 IP 位址的 IPv6 或 IPv4 位址提供多播群組資訊。                                                                                                                                                                              |
| [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent)                                                              | 儲存指定主機的相關資訊，例如主機名稱、IP 位址等等。                                                                                                                                                                                               |
| [**在 \_ addr**](/windows/win32/api/winsock2/ns-winsock2-in_addr)                                                             | 代表 IPv4 網際網路位址。                                                                                                                                                                                                                                              |
| [**在 \_ pktinfo 中**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-in_pktinfo)                                                       | 儲存收到的封包位址資訊，Windows 會使用此資訊來傳回所接收封包的相關資訊。                                                                                                                                                                  |
| [**in6 \_ 位址**](/previous-versions/windows/desktop/legacy/ms738560(v=vs.85))                                                             | 代表 IPv6 網際網路位址。                                                                                                                                                                                                                                              |
| [**in6 \_ pktinfo**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-in6_pktinfo)                                                     | 儲存接收的 IPv6 封包位址資訊，Windows 會使用此資訊來傳回所接收封包的相關資訊。                                                                                                                                                             |
| [**INET \_ 埠 \_ 範圍**](/windows/desktop/api/Mstcpip/ns-mstcpip-inet_port_range)                                              | 提供 **SIO \_ 取得 \_ 埠 \_ 保留** Ioctl 用來取得 TCP 或 UDP 埠區塊之執行時間保留的輸入資料。                                                                                                                                   |
| [**INET \_ 埠 \_ 保留 \_ 實例**](/windows/desktop/api/Mstcpip/ns-mstcpip-inet_port_reservation_instance)               | 包含 TCP 或 UDP 埠區塊的埠保留和權杖。                                                                                                                                                                                                          |
| [**INET \_ 埠 \_ 保留 \_ 權杖**](/windows/desktop/api/Mstcpip/ns-mstcpip-inet_port_reservation_token)                     | 包含 TCP 或 UDP 埠區塊的埠保留標記。                                                                                                                                                                                                                |
| [**ip \_ mreq**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-ip_mreq)                                                               | 提供 IPv4 位址的多播群組資訊。                                                                                                                                                                                                                          |
| [**ip \_ mreq \_ 來源**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-ip_mreq_source)                                                | 針對 IPv4 位址提供多播群組和來源資訊。                                                                                                                                                                                                               |
| [**ip \_ msfilter**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-ip_msfilter)                                                       | 提供 IPv4 位址的多播篩選參數。                                                                                                                                                                                                                       |
| [**ipv6 \_ mreq**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-ipv6_mreq)                                                           | 提供 IPv6 位址的多播群組資訊。                                                                                                                                                                                                                          |
| [**縈繞**](/windows/desktop/api/winsock/ns-winsock-linger)                                                                | 維護特定通訊端的相關資訊，指定當資料已排入佇列以傳送，且在通訊端上呼叫 [**導致 closesocket**](/windows/desktop/api/winsock/nf-winsock-closesocket) 函式時，該通訊端應該如何行為。                                                                          |
| [**NAPI \_ 網域 \_ 描述 \_ BLOB**](/windows/desktop/api/Nsemail/ns-nsemail-napi_domain_description_blob)                   | 描述 NS \_ 電子郵件命名空間的命名空間提供者所處理的網域。                                                                                                                                                                                                   |
| [**NAPI \_ 提供者 \_ 安裝 \_ BLOB**](/windows/desktop/api/Nsemail/ns-nsemail-napi_provider_installation_blob)             | 包含安裝 NS \_ 電子郵件命名空間的命名空間提供者所需的資訊。                                                                                                                                                                                    |
| [**NS \_ 服務 \_ 資訊**](/windows/desktop/api/Nspapi/ns-nspapi-ns_service_infoa)                                            | 包含在指定的命名空間內容中的網路服務或網路服務類型的相關資訊，或一組預設的命名空間。                                                                                                                                   |
| [**通訊協定 \_ 資訊**](/windows/desktop/api/Nspapi/ns-nspapi-protocol_infoa)                                                 | 包含通訊協定的相關資訊。                                                                                                                                                                                                                                            |
| [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent)                                                            | 包含對應至指定通訊協定名稱的名稱和通訊協定編號。                                                                                                                                                                                                  |
| [**即時 \_ \_ 通知 \_ 設定 \_ 輸入**](/windows/desktop/api/Mstcpip/ns-mstcpip-real_time_notification_setting_input)  | 包含輸入設定，適用于使用 [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger)在 Windows Store 應用程式中接收背景網路通知的 TCP 通訊端 **即時 \_ \_ 通知 \_ 功能** 傳輸設定           |
| [**即時 \_ \_ 通知 \_ 設定 \_ 輸出**](/windows/desktop/api/Mstcpip/ns-mstcpip-real_time_notification_setting_input) | 包含與 [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger)搭配使用，以在 Windows Store 應用程式中接收背景網路通知之 TCP 通訊端的 **即時 \_ \_ 通知 \_ 功能** 傳輸設定查詢的輸出設定。 |
| [**RIO \_ 擴充 \_ 功能函式 \_ 表**](/windows/win32/api/mswsock/ns-mswsock-rio_extension_function_table)                   | 包含函式的資訊，這些函式會執行 Winsock 已註冊的 i/o 擴充功能。                                                                                                                                                                                       |
| [**RIO \_ BUF**](/windows/desktop/api/Mswsockdef/ns-mswsockdef-rio_buf)                                                               | 指定已註冊緩衝區的一部分，用來透過 Winsock 註冊的 i/o 擴充功能來傳送或接收網路資料。                                                                                                                                                 |
| [**RIO \_ BUFFERID**](rio-bufferid.md)                                                     | 指定搭配 Winsock 註冊的 i/o 擴充功能使用的已註冊緩衝區描述元。                                                                                                                                                                                         |
| [**RIO \_ CQ**](riocqueue.md)                                                              | 針對使用 Winsock 註冊的 i/o 擴充功能的傳送和接收要求，指定用於 i/o 完成通知的完成佇列描述項。                                                                                                                             |
| [**RIO \_ 通知 \_ 完成**](/windows/desktop/api/Mswsock/ns-mswsock-rio_notification_completion)                      | 指定要搭配使用 [**RIONotify**](/windows/win32/api/mswsock/nc-mswsock-lpfn_rionotify) 函式來傳送或接收具有 Winsock 註冊之 i/o 延伸的網路資料時，所要使用的 i/o 完成方法。                                                                                               |
| [**RIO \_ RQ**](riorqueue.md)                                                              | 指定傳送和接收要求與 Winsock 註冊的 i/o 擴充功能所使用的通訊端描述項。                                                                                                                                                                       |
| [**RIORESULT**](/windows/desktop/api/Mswsockdef/ns-mswsockdef-rioresult)                                                            | 包含用來指出與 Winsock 註冊之 i/o 延伸模組搭配使用之要求完成結果的資料。                                                                                                                                                                        |
| [**RM \_ FEC \_ 資訊**](/windows/desktop/api/Wsrm/ns-wsrm-rm_fec_info)                                                      | 指定使用「轉寄誤差更正」 (FEC) 與可靠多播的設定。                                                                                                                                                                                              |
| [**RM \_ 接收器 \_ 統計資料**](/windows/desktop/api/Wsrm/ns-wsrm-rm_receiver_stats)                                          | 提供可靠多播接收者會話的統計資訊。                                                                                                                                                                                                       |
| [**RM \_ 傳送 \_ 視窗**](/windows/desktop/api/Wsrm/ns-wsrm-rm_send_window)                                                | 指定可靠的多播傳送視窗。                                                                                                                                                                                                                                     |
| [**RM 傳送者 \_ \_ 統計資料**](/windows/desktop/api/Wsrm/ns-wsrm-rm_sender_stats)                                              | 提供可靠的多播傳送者會話的統計資訊。                                                                                                                                                                                                         |
| [**servent**](/windows/desktop/api/winsock/ns-winsock-servent)                                                              | 儲存或傳回指定服務名稱的名稱和服務編號。                                                                                                                                                                                                           |
| [**服務 \_ 位址**](/windows/desktop/api/Nspapi/ns-nspapi-service_address)                                             | 包含服務的位址資訊。                                                                                                                                                                                                                                       |
| [**服務 \_ 位址**](/windows/desktop/api/Nspapi/ns-nspapi-service_addresses)                                         | 包含 [**服務 \_ 位址**](/windows/desktop/api/Nspapi/ns-nspapi-service_address) 資料結構的陣列。                                                                                                                                                                                               |
| [**服務 \_ 資訊**](/windows/desktop/api/Nspapi/ns-nspapi-service_infoa)                                                   | 包含網路服務或網路服務類型的相關資訊。                                                                                                                                                                                                           |
| [**服務 \_ 類型 \_ 資訊 \_ ABS**](/windows/desktop/api/Nspapi/ns-nspapi-service_type_info_absa)                               | 包含網路服務類型的相關資訊。                                                                                                                                                                                                                                |
| [**服務 \_ 類型 \_ 值 \_ ABS**](/windows/desktop/api/Nspapi/ns-nspapi-service_type_value_absa)                             | 包含網路服務類型值的相關資訊。 這可能是命名空間特有的資訊。                                                                                                                                                                          |
| [**sockaddr**](sockaddr-2.md)                                                            | 包含通訊端位址資訊。 [**Sockaddr**](sockaddr-2.md)結構會根據選取的通訊協定而有所不同。 僅限 IPv4;請改用 [**SOCKADDR \_ 儲存體**](/previous-versions/windows/desktop/legacy/ms740504(v=vs.85)) 。                                                                        |
| [**SOCKADDR \_ IRDA**](/windows/desktop/api/Af_irda/ns-af_irda-sockaddr_irda)                                                 | 使用於由位址系列 *AF 的 \_ irda* 定義的 IrDA 通訊端作業。                                                                                                                                                                                                           |
| [**SOCKADDR \_ 儲存體**](/previous-versions/windows/desktop/legacy/ms740504(v=vs.85))                                           | 儲存通訊端位址資訊，而且夠大以儲存 IPv4 或 IPv6 位址資訊，提升通訊協定系列和通訊協定版本的獨立性。 使用此結構來取代 [**sockaddr**](sockaddr-2.md) 結構。                                 |
| [**通訊端 \_ 位址**](/windows/desktop/api/Ws2def/ns-ws2def-socket_address)                                               | 儲存通訊協定特定的位址資訊。                                                                                                                                                                                                                                     |
| [**通訊端 \_ 位址 \_ 清單**](/previous-versions/windows/desktop/legacy/aa385467(v=vs.85))                                      | 儲存 [**通訊端 \_ 位址**](/windows/desktop/api/Ws2def/ns-ws2def-socket_address) 結構的陣列，其中包含通訊協定特定的位址資訊。                                                                                                                                                     |
| [**通訊端 \_ 對等 \_ 目標 \_ 名稱**](/windows/desktop/api/Mstcpip/ns-mstcpip-socket_peer_target_name)                             | 包含對等目標的 IP 位址和名稱，以及要在通訊端上使用的安全性通訊協定類型。                                                                                                                                                                      |
| [**通訊端 \_ 安全性 \_ 查詢 \_ 資訊**](/windows/desktop/api/Mstcpip/ns-mstcpip-socket_security_query_info)                       | 包含 [**WSAQuerySocketSecurity**](/windows/desktop/api/Ws2tcpip/nf-ws2tcpip-wsaquerysocketsecurity) 函數所傳回的安全性資訊。                                                                                                                                                                  |
| [**通訊端 \_ 安全性 \_ 查詢 \_ 範本**](/windows/desktop/api/Mstcpip/ns-mstcpip-socket_security_query_template)               | 包含 [**WSAQuerySocketSecurity**](/windows/desktop/api/Ws2tcpip/nf-ws2tcpip-wsaquerysocketsecurity) 函數所使用的安全性範本。                                                                                                                                                                     |
| [**通訊端 \_ 安全性 \_ 設定**](/windows/desktop/api/Mstcpip/ns-mstcpip-socket_security_settings)                            | 指定通訊端的一般安全性需求。                                                                                                                                                                                                                             |
| [**通訊端 \_ 安全性 \_ 設定 \_ IPSEC**](/windows/desktop/api/Mstcpip/ns-mstcpip-socket_security_settings_ipsec)               | 指定 IPsec 特有的各種安全性需求和設定。                                                                                                                                                                                                  |
| [**timeval**](/windows/desktop/api/winsock/ns-winsock-timeval)                                                              | 用來指定時間值。 與 Berkeley 軟體散發相關聯 (BSD) 檔案時間 .h。                                                                                                                                                                                |
| [**傳輸 \_ 檔案 \_ 緩衝區**](/windows/desktop/api/mswsock/ns-mswsock-transmit_file_buffers)                                | 指定要在 [**TransmitFile**](/windows/win32/api/mswsock/nf-mswsock-transmitfile) 傳輸作業期間和之後傳送檔案資料的資料。                                                                                                                                                   |
| [**傳輸封 \_ 包 \_ 元素**](/windows/desktop/api/Mswsock/ns-mswsock-transmit_packets_element)                          | 指定 [**TransmitPackets**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_transmitpackets) 函數要傳送的單一資料項目。                                                                                                                                                                   |
| [**傳輸 \_ 設定 \_ 識別碼**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id)                                    | 指定 [**SIO \_ apply \_ Transport \_ 設定**](/previous-versions/windows/desktop/legacy/jj553481(v=vs.85)) 和 [**SIO \_ query \_ TRANSPORT \_ 設定**](/previous-versions/windows/desktop/legacy/jj553483(v=vs.85)) IOCTLs 所使用的傳輸設定識別碼，以套用或查詢通訊端的傳輸設定。                       |
| [**WSABUF**](/windows/desktop/api/ws2def/ns-ws2def-wsabuf)                                                                | 啟用資料緩衝區的建立或操作。                                                                                                                                                                                                                            |
| [**WSACOMPLETION**](/windows/desktop/api/Winsock2/ns-winsock2-wsacompletion)                                                    | 指定對已註冊命名空間進行之 i/o 控制項呼叫的完成通知設定。                                                                                                                                                                                  |
| [**WSADATA**](/windows/desktop/api/winsock/ns-winsock-wsadata)                                                              | 包含 Windows 通訊端執行的相關資訊。                                                                                                                                                                                                                    |
| [**WSAMSG**](/windows/desktop/api/Ws2def/ns-ws2def-wsamsg)                                                                | 儲存連接和未連接之通訊端的位址和選擇性控制項資訊。 與 [**LPFN_WSARECVMSG (WSARECVMSG)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) 函數搭配使用。                                                                                                                               |
| [**WSANAMESPACE \_ 資訊**](/windows/desktop/api/Winsock2/ns-winsock2-wsanamespace_infow)                                         | 包含命名空間提供者的註冊資訊。                                                                                                                                                                                                                       |
| [**WSANAMESPACE \_ INFOEX**](/windows/desktop/api/Winsock2/ns-winsock2-wsanamespace_infoexw)                                       | 包含命名空間提供者的增強型註冊資訊。                                                                                                                                                                                                              |
| [**WSANETWORKEVENTS**](/windows/desktop/api/Winsock2/ns-winsock2-wsanetworkevents)                                            | 儲存通訊端與網路事件相關的內部資訊。                                                                                                                                                                                                                      |
| [**WSANSCLASSINFO**](/windows/desktop/api/Winsock2/ns-winsock2-wsansclassinfow)                                                  | 提供特定 Winsock 命名空間的個別參數資訊。                                                                                                                                                                                                       |
| [**WSAOVERLAPPED**](/windows/desktop/api/Winsock2/ns-winsock2-wsaoverlapped)                                                  | 提供重迭的 i/o 作業和其後續完成之間的通訊媒介。                                                                                                                                                              |
| [**WSAPOLLFD**](/windows/win32/api/winsock2/ns-winsock2-wsapollfd)                                                               | 儲存 [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) 函式所使用的通訊端資訊。                                                                                                                                                                                                        |
| [**WSAPROTOCOL \_ 資訊**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa)                                           | 儲存或抓取指定通訊協定的完整資訊。                                                                                                                                                                                                                    |
| [**WSAPROTOCOL \_ INFOW**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa)                                          | 儲存或取得指定之通訊協定的完整資訊。 通訊協定名稱會以 Unicode 字元陣列表示。                                                                                                                                                 |
| [**WSAPROTOCOLCHAIN**](/windows/desktop/api/Winsock2/ns-winsock2-wsaprotocolchain)                                            | 包含組成通訊協定鏈的目錄專案識別碼計數清單。                                                                                                                                                                                              |
| [**WSAQUERYSET**](/windows/desktop/api/Winsock2/ns-winsock2-wsaquerysetw)                                                      | 提供有關指定服務的相關資訊。                                                                                                                                                                                                                              |
| [**WSAQUERYSET2**](/windows/desktop/api/Winsock2/ns-winsock2-wsaqueryset2w)                                                      | 提供有關指定服務的相關資訊。                                                                                                                                                                                                                              |
| [**WSASERVICECLASSINFO**](/windows/desktop/api/Winsock2/ns-winsock2-wsaserviceclassinfow)                                      | 包含指定服務類別的相關資訊。                                                                                                                                                                                                                             |
| [**WSAVERSION**](/windows/desktop/api/Winsock2/ns-winsock2-wsaversion)                                                        | 在 Winsock 中提供版本比較。                                                                                                                                                                                                                                           |



 

 

 
