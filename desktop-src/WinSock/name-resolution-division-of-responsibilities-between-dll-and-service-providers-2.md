---
title: DLL 和服務提供者的名稱解析
description: 下列段落描述 Ws2 \_32.dll 以及命名空間提供者如何執行 WINSOCK API 所支援的名稱解析服務。
ms.assetid: 25fcb1c2-2d28-41a0-9124-05608f22420f
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b527f0849eb441ab7bc8d096c0198d703f2ce337
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "103943421"
---
# <a name="name-resolution-for-dll-and-service-providers"></a>DLL 和服務提供者的名稱解析

下列段落描述 Ws2 \_32.dll 以及命名空間提供者如何執行 WINSOCK API 所支援的名稱解析服務。

## <a name="ws2_32dll-functionality-for-name-resolution"></a>Ws2 \_32.dll 的名稱解析功能

Ws2 \_32.dll 會管理個別命名空間提供者 dll 的註冊和需求載入。 它也負責將命名空間作業從 Windows 通訊端2應用程式路由至適當的命名空間提供者集合。 此對應是由命名空間的值和服務提供者識別碼參數的值所控制，這些參數可在個別 API 函式中找到。 一般而言，參考特定命名空間提供者時，作業只會路由至識別的提供者。 如果命名空間提供者識別碼為 null，但參考了特定的命名空間，則作業會路由至所有支援已識別之命名空間的命名空間提供者。 如果命名空間提供者識別碼為 null，且命名空間識別碼已指定為 NS \_ all，則作業會路由傳送至所有使用中的命名空間提供者。

在開始查詢一或多個服務提供者時，Ws232.dll 會配置 \_ 物件來追蹤查詢的進行中狀態。 表示這個物件的不透明控制碼會傳回給啟動查詢的應用程式。 應用程式會在每次重複呼叫應用程式介面函式時，將這個控制碼作為參數提供，以抓取查詢所產生的下一個資料單位。

為了回應這些應用程式介面程序呼叫，Ws2 \_32.dll 會使用它儲存在物件中的資訊，來對查詢中所涉及的命名空間提供者進行對應的呼叫。 Ws2 \_32.dll 會在每次進行後續的應用程式介面呼叫時，更新其物件中的資訊，以便對應至命名空間提供者的呼叫會透過查詢所涉及的所有命名空間提供者適當地進行。

## <a name="namespace-provider-functionality"></a>命名空間提供者功能

每個命名空間提供者都會負責將出現在 Windows 通訊端2名稱解析 SPI 中的一組函式，對應至具有支援命名空間的適當交易。 在某些情況下，這主要是將 SPI 對應至命名空間的任何原生介面。 在其他情況下，命名空間提供者必須透過網路與命名空間提供者進行交易。 有些命名空間提供者會藉由呼叫 Windows 通訊端 API 來執行這項作業，而其他命名空間會使用私用介面來建立相關聯的傳輸堆疊

 

 



