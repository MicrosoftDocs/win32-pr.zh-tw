---
description: 下表說明適用于為 \_ IPv4 位址系列建立之通訊端 (AF INET) 的 IPPROTO IP 通訊端選項 \_ 。 如需取得和設定通訊端選項的詳細資訊，請參閱 getsockopt 和 setsockopt 函數參考頁面。
ms.assetid: 6b06a29e-59cd-4446-bd2f-131dc25bf571
title: IPPROTO_IP 通訊端選項
ms.topic: article
ms.date: 10/02/2019
ms.openlocfilehash: b4c8daa18e7bd60e61473bdda1c885bbd163f0b4
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/22/2021
ms.locfileid: "106992564"
---
# <a name="ipproto_ip-socket-options"></a><span data-ttu-id="9f1f4-104">IPPROTO \_ IP 通訊端選項</span><span class="sxs-lookup"><span data-stu-id="9f1f4-104">IPPROTO\_IP socket options</span></span>

<span data-ttu-id="9f1f4-105">下表說明適用于為 IPv4 位址系列建立之通訊端的 **IPPROTO_IP** 通訊端選項 (AF \_ INET) 。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-105">The following tables describe **IPPROTO_IP** socket options that apply to sockets created for the IPv4 address family (AF\_INET).</span></span> <span data-ttu-id="9f1f4-106">如需取得和設定通訊端選項的詳細資訊，請參閱 [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) 和 [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) 函數參考頁面。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-106">See the [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) and [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) function reference pages for more information on getting and setting socket options.</span></span>

<span data-ttu-id="9f1f4-107">若要列舉通訊協定，並針對每個已安裝的通訊協定探索支援的屬性，請使用 [**WSAEnumProtocols**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa)、 [**WSCEnumProtocols**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumprotocols)或 [**WSCEnumProtocols32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumprotocols32) 函數。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-107">To enumerate protocols and discover supported properties for each installed protocol, use the [**WSAEnumProtocols**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa), [**WSCEnumProtocols**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumprotocols), or [**WSCEnumProtocols32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumprotocols32) function.</span></span>

<span data-ttu-id="9f1f4-108">有些通訊端選項需要比這些資料表可以傳達的更多說明;這類選項包含其他頁面的連結。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-108">Some socket options require more explanation than these tables can convey; such options contain links to additional pages.</span></span>

## <a name="options"></a><span data-ttu-id="9f1f4-109">選項。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-109">Options</span></span>

| <span data-ttu-id="9f1f4-110">選項</span><span class="sxs-lookup"><span data-stu-id="9f1f4-110">Option</span></span> | <span data-ttu-id="9f1f4-111">Get</span><span class="sxs-lookup"><span data-stu-id="9f1f4-111">Get</span></span> | <span data-ttu-id="9f1f4-112">設定</span><span class="sxs-lookup"><span data-stu-id="9f1f4-112">Set</span></span> | <span data-ttu-id="9f1f4-113">Optval 類型</span><span class="sxs-lookup"><span data-stu-id="9f1f4-113">Optval type</span></span> | <span data-ttu-id="9f1f4-114">Description</span><span class="sxs-lookup"><span data-stu-id="9f1f4-114">Description</span></span> |
|-|-|-|-|-|
| <span data-ttu-id="9f1f4-115">IP_ADD_IFLIST</span><span class="sxs-lookup"><span data-stu-id="9f1f4-115">IP_ADD_IFLIST</span></span> | | <span data-ttu-id="9f1f4-116">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-116">yes</span></span> | <span data-ttu-id="9f1f4-117">DWORD (IF_INDEX) </span><span class="sxs-lookup"><span data-stu-id="9f1f4-117">DWORD (IF_INDEX)</span></span> | <span data-ttu-id="9f1f4-118">將介面索引加入與 **IP_IFLIST** 選項相關聯的 IFLIST。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-118">Adds an interface index to the IFLIST associated with the **IP_IFLIST** option.</span></span> |
| <span data-ttu-id="9f1f4-119">IP_ADD_MEMBERSHIP</span><span class="sxs-lookup"><span data-stu-id="9f1f4-119">IP_ADD_MEMBERSHIP</span></span> | | <span data-ttu-id="9f1f4-120">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-120">yes</span></span> | [<span data-ttu-id="9f1f4-121">**ip_mreq**</span><span class="sxs-lookup"><span data-stu-id="9f1f4-121">**ip_mreq**</span></span>](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-ip_mreq) | <span data-ttu-id="9f1f4-122">將通訊端聯結至指定介面上提供的多播群組。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-122">Join the socket to the supplied multicast group on the specified interface.</span></span> |
| <span data-ttu-id="9f1f4-123">IP_ADD_SOURCE_MEMBERSHIP</span><span class="sxs-lookup"><span data-stu-id="9f1f4-123">IP_ADD_SOURCE_MEMBERSHIP</span></span> | | <span data-ttu-id="9f1f4-124">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-124">yes</span></span> | [<span data-ttu-id="9f1f4-125">**ip \_ mreq \_ 來源**</span><span class="sxs-lookup"><span data-stu-id="9f1f4-125">**ip\_mreq\_source**</span></span>](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-ip_mreq_source) | <span data-ttu-id="9f1f4-126">在指定的介面上加入所提供的多播群組，並接受源自所提供來源位址的資料。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-126">Join the supplied multicast group on the given interface and accept data sourced from the supplied source address.</span></span> |
| <span data-ttu-id="9f1f4-127">IP \_ 區塊 \_ 來源</span><span class="sxs-lookup"><span data-stu-id="9f1f4-127">IP\_BLOCK\_SOURCE</span></span> | | <span data-ttu-id="9f1f4-128">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-128">yes</span></span> | [<span data-ttu-id="9f1f4-129">**ip \_ mreq \_ 來源**</span><span class="sxs-lookup"><span data-stu-id="9f1f4-129">**ip\_mreq\_source**</span></span>](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-ip_mreq_source) | <span data-ttu-id="9f1f4-130">將指定的來源以傳送者的形式移除至提供的多播群組和介面。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-130">Removes the given source as a sender to the supplied multicast group and interface.</span></span> |
| <span data-ttu-id="9f1f4-131">IP_DEL_IFLIST</span><span class="sxs-lookup"><span data-stu-id="9f1f4-131">IP_DEL_IFLIST</span></span> | | <span data-ttu-id="9f1f4-132">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-132">yes</span></span> | <span data-ttu-id="9f1f4-133">DWORD (IF_INDEX) </span><span class="sxs-lookup"><span data-stu-id="9f1f4-133">DWORD (IF_INDEX)</span></span> | <span data-ttu-id="9f1f4-134">從與 **IP_IFLIST** 選項相關聯的 IFLIST 中移除介面索引。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-134">Removes an interface index from the IFLIST associated with the **IP_IFLIST** option.</span></span> <span data-ttu-id="9f1f4-135">只有應用程式才能移除專案，因此請注意，移除介面之後，專案可能會過時。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-135">Entries can be removed only by the application, so be aware that entries might go stale once an interface is removed.</span></span> |
| <span data-ttu-id="9f1f4-136">IP \_ DONTFRAGMENT</span><span class="sxs-lookup"><span data-stu-id="9f1f4-136">IP\_DONTFRAGMENT</span></span> | <span data-ttu-id="9f1f4-137">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-137">yes</span></span> | <span data-ttu-id="9f1f4-138">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-138">yes</span></span> | <span data-ttu-id="9f1f4-139">DWORD (布林值) </span><span class="sxs-lookup"><span data-stu-id="9f1f4-139">DWORD (boolean)</span></span> | <span data-ttu-id="9f1f4-140">指出不論本機 MTU 為何，都不應該分割資料。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-140">Indicates that data should not be fragmented regardless of the local MTU.</span></span> <span data-ttu-id="9f1f4-141">僅適用于訊息導向的通訊協定。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-141">Valid only for message oriented protocols.</span></span> <span data-ttu-id="9f1f4-142">Microsoft TCP/IP 提供者尊重 UDP 和 ICMP 的這個選項。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-142">Microsoft TCP/IP providers respect this option for UDP and ICMP.</span></span> |
| <span data-ttu-id="9f1f4-143">IP \_ 捨棄 \_ 成員資格</span><span class="sxs-lookup"><span data-stu-id="9f1f4-143">IP\_DROP\_MEMBERSHIP</span></span> | | <span data-ttu-id="9f1f4-144">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-144">yes</span></span> | [<span data-ttu-id="9f1f4-145">**ip \_ mreq**</span><span class="sxs-lookup"><span data-stu-id="9f1f4-145">**ip\_mreq**</span></span>](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-ip_mreq) | <span data-ttu-id="9f1f4-146">從指定的介面離開指定的多播群組。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-146">Leaves the specified multicast group from the specified interface.</span></span> <span data-ttu-id="9f1f4-147">當支援多播時，服務提供者必須支援此選項。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-147">Service providers must support this option when multicast is supported.</span></span> <span data-ttu-id="9f1f4-148">使用下列方法，在 [**WSAEnumProtocols**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa)函式呼叫所傳回的 [**WSAPROTOCOL \_ 資訊**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa)結構中指出支援： XPI \_ 支援 \_ MULTIPOINT = 1，XP1 \_ MULTIPOINT \_ 控制項 \_ 平面 = 0，XP1 \_ multipoint \_ 資料 \_ 平面 = 0。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-148">Support is indicated in the [**WSAPROTOCOL\_INFO**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) structure returned by a [**WSAEnumProtocols**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa) function call with the following: XPI\_SUPPORT\_MULTIPOINT=1, XP1\_MULTIPOINT\_CONTROL\_PLANE=0, XP1\_MULTIPOINT\_DATA\_PLANE=0.</span></span> |
| <span data-ttu-id="9f1f4-149">IP \_ DROP \_ SOURCE \_ 成員資格</span><span class="sxs-lookup"><span data-stu-id="9f1f4-149">IP\_DROP\_SOURCE\_MEMBERSHIP</span></span> | | <span data-ttu-id="9f1f4-150">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-150">yes</span></span> | [<span data-ttu-id="9f1f4-151">**ip \_ mreq \_ 來源**</span><span class="sxs-lookup"><span data-stu-id="9f1f4-151">**ip\_mreq\_source**</span></span>](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-ip_mreq_source) | <span data-ttu-id="9f1f4-152">卸載指定多播群組、介面和來源位址的成員資格。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-152">Drops membership to the given multicast group, interface, and source address.</span></span> |
| <span data-ttu-id="9f1f4-153">IP_GET_IFLIST</span><span class="sxs-lookup"><span data-stu-id="9f1f4-153">IP_GET_IFLIST</span></span> | <span data-ttu-id="9f1f4-154">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-154">yes</span></span> | | <span data-ttu-id="9f1f4-155">DWORD [] (IF_INDEX [] ) </span><span class="sxs-lookup"><span data-stu-id="9f1f4-155">DWORD[] (IF_INDEX[])</span></span> | <span data-ttu-id="9f1f4-156">取得與 **IP_IFLIST** 選項相關聯的目前 IFLIST。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-156">Gets the current IFLIST associated with the **IP_IFLIST** option.</span></span> <span data-ttu-id="9f1f4-157">如果未啟用 **IP_IFLIST** ，則會傳回錯誤。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-157">Returns error if **IP_IFLIST** is not enabled.</span></span> |
| <span data-ttu-id="9f1f4-158">IP \_ HDRINCL</span><span class="sxs-lookup"><span data-stu-id="9f1f4-158">IP\_HDRINCL</span></span> | <span data-ttu-id="9f1f4-159">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-159">yes</span></span> | <span data-ttu-id="9f1f4-160">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-160">yes</span></span> | <span data-ttu-id="9f1f4-161">DWORD (布林值) </span><span class="sxs-lookup"><span data-stu-id="9f1f4-161">DWORD (boolean)</span></span> | <span data-ttu-id="9f1f4-162">設定為 **TRUE** 時，表示應用程式會提供 IP 標頭。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-162">When set to **TRUE**, indicates the application provides the IP header.</span></span> <span data-ttu-id="9f1f4-163">只適用于 SOCK 的 \_ 原始通訊端。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-163">Applies only to SOCK\_RAW sockets.</span></span> <span data-ttu-id="9f1f4-164">如果應用程式所提供的值為零，TCP/IP 服務提供者可能會設定識別碼欄位。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-164">The TCP/IP service provider may set the ID field, if the value supplied by the application is zero.</span></span>  <span data-ttu-id="9f1f4-165">[IP \_ HDRINCL] 選項只會套用至 SOCK \_ 原始通訊協定類型。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-165">The IP\_HDRINCL option is applied only to the SOCK\_RAW type of protocol.</span></span> <span data-ttu-id="9f1f4-166">支援 SOCK RAW 的 TCP/IP 服務提供者 \_ 也應支援 IP \_ HDRINCL。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-166">A TCP/IP service provider that supports SOCK\_RAW should also support IP\_HDRINCL.</span></span>  |
| <span data-ttu-id="9f1f4-167">IP_IFLIST</span><span class="sxs-lookup"><span data-stu-id="9f1f4-167">IP_IFLIST</span></span> | <span data-ttu-id="9f1f4-168">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-168">yes</span></span> | <span data-ttu-id="9f1f4-169">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-169">yes</span></span> | <span data-ttu-id="9f1f4-170">DWORD (布林值) </span><span class="sxs-lookup"><span data-stu-id="9f1f4-170">DWORD (boolean)</span></span> | <span data-ttu-id="9f1f4-171">取得或設定通訊端的 **IP_IFLIST** 狀態。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-171">Gets or sets the **IP_IFLIST** state of the socket.</span></span> <span data-ttu-id="9f1f4-172">當此選項設定為 true 時，資料包接收會限制為 IFLIST 中的介面。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-172">When this option is set to true, Datagram reception is restricted to interfaces that are in the IFLIST.</span></span> <span data-ttu-id="9f1f4-173">系統會忽略在任何其他介面上接收的資料包。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-173">Datagrams received on any other interfaces are ignored.</span></span> <span data-ttu-id="9f1f4-174">IFLIST 會開始空白。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-174">IFLIST starts empty.</span></span> <span data-ttu-id="9f1f4-175">使用 **IP_ADD_IFLIST** 和 **IP_DEL_IFLIST** 來編輯 IFLIST。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-175">Use **IP_ADD_IFLIST** and **IP_DEL_IFLIST** to edit the IFLIST.</span></span> |
| <span data-ttu-id="9f1f4-176">IP \_ MTU</span><span class="sxs-lookup"><span data-stu-id="9f1f4-176">IP\_MTU</span></span> | <span data-ttu-id="9f1f4-177">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-177">yes</span></span> | | <span data-ttu-id="9f1f4-178">DWORD</span><span class="sxs-lookup"><span data-stu-id="9f1f4-178">DWORD</span></span> | <span data-ttu-id="9f1f4-179">取得系統對路徑 MTU 的估計值。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-179">Gets the system's estimate of the path MTU.</span></span> <span data-ttu-id="9f1f4-180">必須連接通訊端。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-180">Socket must be connected.</span></span> |
| <span data-ttu-id="9f1f4-181">IP \_ MTU \_ 探索</span><span class="sxs-lookup"><span data-stu-id="9f1f4-181">IP\_MTU\_DISCOVER</span></span> | <span data-ttu-id="9f1f4-182">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-182">yes</span></span> | <span data-ttu-id="9f1f4-183">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-183">yes</span></span> | <span data-ttu-id="9f1f4-184">DWORD (**PMTUD \_ 狀態**) </span><span class="sxs-lookup"><span data-stu-id="9f1f4-184">DWORD (**PMTUD\_STATE**)</span></span> | <span data-ttu-id="9f1f4-185">取得或設定通訊端的路徑 MTU 探索狀態。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-185">Gets or sets the path MTU discovery state for the socket.</span></span> <span data-ttu-id="9f1f4-186">預設值為 [ **\_ \_ 未 \_ 設定 IP PMTUDISC**]。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-186">The default value is **IP\_PMTUDISC\_NOT\_SET**.</span></span> <span data-ttu-id="9f1f4-187">針對串流通訊端 **， \_ \_ 未 \_ 設定 Ip PMTUDISC** ，且 **IP \_ PMTUDISC \_ 確實** 會執行路徑 MTU 探索。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-187">For stream sockets, **IP\_PMTUDISC\_NOT\_SET** and **IP\_PMTUDISC\_DO** will perform path MTU discovery.</span></span> <span data-ttu-id="9f1f4-188">**IP \_PMTUDISC \_** 不會和 **IP \_ PMTUDISC \_ 探查** 將會關閉路徑 MTU 探索。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-188">**IP\_PMTUDISC\_DONT** and **IP\_PMTUDISC\_PROBE** will turn off path MTU discovery.</span></span> <span data-ttu-id="9f1f4-189">針對資料包通訊端， **IP \_ PMTUDISC \_** 會強制所有傳出封包都設定 DF 位，而且嘗試傳送大於路徑 MTU 的封包會導致錯誤。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-189">For datagram sockets, **IP\_PMTUDISC\_DO** will force all outgoing packets to have the DF bit set and an attempt to send packets larger than path MTU will result in an error.</span></span> <span data-ttu-id="9f1f4-190">**IP \_PMTUDISC \_** 不會強制所有傳出的封包都未設定 DF 位，而且會根據介面 MTU 來分割封包。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-190">**IP\_PMTUDISC\_DONT** will force all outgoing packets to have the DF bit not set, and packets will be fragmented according to interface MTU.</span></span> <span data-ttu-id="9f1f4-191">**IP \_PMTUDISC \_ 探查** 會強制所有傳出封包都設定 DF 位，而且嘗試傳送大於介面 MTU 的封包會導致錯誤。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-191">**IP\_PMTUDISC\_PROBE** will force all outgoing packets to have the DF bit set, and an attempt to send packets larger than interface MTU will result in an error.</span></span> |
| <span data-ttu-id="9f1f4-192">IP \_ 多播 \_ IF</span><span class="sxs-lookup"><span data-stu-id="9f1f4-192">IP\_MULTICAST\_IF</span></span> | <span data-ttu-id="9f1f4-193">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-193">yes</span></span> | <span data-ttu-id="9f1f4-194">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-194">yes</span></span> | <span data-ttu-id="9f1f4-195">DWORD</span><span class="sxs-lookup"><span data-stu-id="9f1f4-195">DWORD</span></span> | <span data-ttu-id="9f1f4-196">取得或設定用於傳送 IPv4 多播流量的輸出介面。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-196">Gets or sets the outgoing interface for sending IPv4 multicast traffic.</span></span> <span data-ttu-id="9f1f4-197">此選項不會變更接收 IPv4 多播流量的預設介面。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-197">This option does not change the default interface for receiving IPv4 multicast traffic.</span></span>  <span data-ttu-id="9f1f4-198">設定此選項的輸入值是以網路位元組順序表示的4位元組 IPv4 位址。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-198">The input value for setting this option is a 4-byte IPv4 address in network byte order.</span></span> <span data-ttu-id="9f1f4-199">這個 DWORD 參數也可以是網路位元組順序的介面索引。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-199">This DWORD parameter can also be an interface index in network byte order.</span></span> <span data-ttu-id="9f1f4-200">在 0. x. x. x 區塊中的任何 IP 位址 (第一個八位) 的 IP 位址，除非 IPv4 位址0.0.0.0 被視為介面索引。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-200">Any IP address in the 0.x.x.x block (first octet of 0) except IPv4 address 0.0.0.0 is treated as an interface index.</span></span> <span data-ttu-id="9f1f4-201">介面索引是24位數位，且不會使用 0.0.0.0/8 IPv4 位址區塊 (此範圍是保留) 。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-201">An interface index is a 24-bit number, and the 0.0.0.0/8 IPv4 address block is not used (this range is reserved).</span></span> <span data-ttu-id="9f1f4-202">介面索引可以用來指定 IPv4 的多播流量預設介面。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-202">The interface index can be used to specify the default interface for multicast traffic for IPv4.</span></span> <span data-ttu-id="9f1f4-203">如果 *optval* 為零，則會指定接收多播的預設介面來傳送多播流量。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-203">If *optval* is zero , the default interface for receiving multicast is specified for sending multicast traffic.</span></span>  <span data-ttu-id="9f1f4-204">取得此選項時， *optval* 會傳回目前的預設介面索引，以依主機位元組順序傳送多播 IPv4 流量。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-204">When getting this option, the *optval* returns the current default interface index for sending multicast IPv4 traffic in host byte order.</span></span> |
| <span data-ttu-id="9f1f4-205">IP \_ 多播 \_ 迴圈</span><span class="sxs-lookup"><span data-stu-id="9f1f4-205">IP\_MULTICAST\_LOOP</span></span> | <span data-ttu-id="9f1f4-206">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-206">yes</span></span> | <span data-ttu-id="9f1f4-207">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-207">yes</span></span> | <span data-ttu-id="9f1f4-208">DWORD (布林值) </span><span class="sxs-lookup"><span data-stu-id="9f1f4-208">DWORD (boolean)</span></span> | <span data-ttu-id="9f1f4-209">控制應用程式在本機電腦上傳送的資料 (不一定是在多播會話中的相同通訊端) ，將會由聯結至回送介面上多播目的地群組的通訊端接收。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-209">Controls whether data sent by an application on the local computer (not necessarily by the same socket) in a multicast session will be received by a socket joined to the multicast destination group on the loopback interface.</span></span> <span data-ttu-id="9f1f4-210">**TRUE** 值會導致本機電腦上的應用程式傳送的多播資料，傳遞給回送介面上的接聽通訊端。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-210">A value of **TRUE** causes multicast data sent by an application on the local computer to be delivered to a listening socket on the loopback interface.</span></span> <span data-ttu-id="9f1f4-211">值為 **FALSE** 可防止本機電腦上的應用程式傳送的多播資料，將其傳遞至回送介面上的接聽通訊端。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-211">A value of **FALSE** prevents multicast data sent by an application on the local computer from being delivered to a listening socket on the loopback interface.</span></span> <span data-ttu-id="9f1f4-212">預設會啟用 **IP \_ 多播 \_ 回送** 。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-212">By default, **IP\_MULTICAST\_LOOPBACK** is enabled.</span></span> |
| <span data-ttu-id="9f1f4-213">IP \_ 多播 \_ TTL</span><span class="sxs-lookup"><span data-stu-id="9f1f4-213">IP\_MULTICAST\_TTL</span></span> | <span data-ttu-id="9f1f4-214">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-214">yes</span></span> | <span data-ttu-id="9f1f4-215">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-215">yes</span></span> | <span data-ttu-id="9f1f4-216">DWORD</span><span class="sxs-lookup"><span data-stu-id="9f1f4-216">DWORD</span></span> | <span data-ttu-id="9f1f4-217">設定/取得與通訊端上 IP 多播流量相關聯的 TTL 值。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-217">Sets/gets the TTL value associated with IP multicast traffic on the socket.</span></span> |
| <span data-ttu-id="9f1f4-218">IP \_ 選項</span><span class="sxs-lookup"><span data-stu-id="9f1f4-218">IP\_OPTIONS</span></span> | <span data-ttu-id="9f1f4-219">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-219">yes</span></span> | <span data-ttu-id="9f1f4-220">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-220">yes</span></span> | <span data-ttu-id="9f1f4-221">字元 \[\]</span><span class="sxs-lookup"><span data-stu-id="9f1f4-221">char \[\]</span></span> | <span data-ttu-id="9f1f4-222">指定要插入傳出封包中的 IP 選項。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-222">Specifies IP options to be inserted into outgoing packets.</span></span> <span data-ttu-id="9f1f4-223">設定新選項會覆寫所有先前指定的選項。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-223">Setting new options overwrites all previously specified options.</span></span> <span data-ttu-id="9f1f4-224">將 optval 設定為零會移除所有先前指定的選項。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-224">Setting optval to zero removes all previously specified options.</span></span> <span data-ttu-id="9f1f4-225">\_不需要 ip 選項支援; 若要檢查是否 \_ 支援 ip 選項，請使用 [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt)來取得目前的選項。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-225">IP\_OPTIONS support is not required; to check whether IP\_OPTIONS is supported, use [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) to get current options.</span></span> <span data-ttu-id="9f1f4-226">如果 **getsockopt** 失敗， \_ 則不支援 IP 選項。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-226">If **getsockopt** fails, IP\_OPTIONS is not supported.</span></span> |
| <span data-ttu-id="9f1f4-227">IP \_ 原始 \_ 抵達（ \_ 如果</span><span class="sxs-lookup"><span data-stu-id="9f1f4-227">IP\_ORIGINAL\_ARRIVAL\_IF</span></span> | <span data-ttu-id="9f1f4-228">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-228">yes</span></span> | <span data-ttu-id="9f1f4-229">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-229">yes</span></span> | <span data-ttu-id="9f1f4-230">DWORD (布林值) </span><span class="sxs-lookup"><span data-stu-id="9f1f4-230">DWORD (boolean)</span></span> | <span data-ttu-id="9f1f4-231">指出 [**LPFN_WSARECVMSG (WSARECVMSG)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) 函式是否應該傳回選擇性的控制項資料，其中包含針對資料包通訊端接收封包的抵達介面。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-231">Indicates if the [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) function should return optional control data containing the arrival interface where the packet was received for datagram sockets.</span></span> <span data-ttu-id="9f1f4-232">此選項可讓接收封包的 IPv4 介面，在 [**WSAMSG**](/windows/desktop/api/Ws2def/ns-ws2def-wsamsg) 結構中傳回。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-232">This option allows the IPv4 interface where the packet was received to be returned in the [**WSAMSG**](/windows/desktop/api/Ws2def/ns-ws2def-wsamsg) structure.</span></span>  <span data-ttu-id="9f1f4-233">此選項只適用于資料包和原始通訊端， (通訊端類型必須是 SOCK \_ DGRAM 或 SOCK \_ 原始) 。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-233">This option is only valid on datagram and raw sockets (the socket type must be SOCK\_DGRAM or SOCK\_RAW).</span></span> |
| [<span data-ttu-id="9f1f4-234">IP \_ PKTINFO</span><span class="sxs-lookup"><span data-stu-id="9f1f4-234">IP\_PKTINFO</span></span>](ip-pktinfo.md) | <span data-ttu-id="9f1f4-235">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-235">yes</span></span> | <span data-ttu-id="9f1f4-236">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-236">yes</span></span> | <span data-ttu-id="9f1f4-237">DWORD</span><span class="sxs-lookup"><span data-stu-id="9f1f4-237">DWORD</span></span> | <span data-ttu-id="9f1f4-238">指出 **WSARecvMsg** 函數應該傳回封包資訊。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-238">Indicates that packet information should be returned by the **WSARecvMsg** function.</span></span> |
| <span data-ttu-id="9f1f4-239">IP \_ 接收 \_ 廣播</span><span class="sxs-lookup"><span data-stu-id="9f1f4-239">IP\_RECEIVE\_BROADCAST</span></span> | <span data-ttu-id="9f1f4-240">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-240">yes</span></span> | <span data-ttu-id="9f1f4-241">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-241">yes</span></span> | <span data-ttu-id="9f1f4-242">DWORD (布林值) </span><span class="sxs-lookup"><span data-stu-id="9f1f4-242">DWORD (boolean)</span></span> | <span data-ttu-id="9f1f4-243">允許或封鎖廣播接收。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-243">Allows or blocks broadcast reception.</span></span> |
| <span data-ttu-id="9f1f4-244">IP \_ RECVIF</span><span class="sxs-lookup"><span data-stu-id="9f1f4-244">IP\_RECVIF</span></span> | <span data-ttu-id="9f1f4-245">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-245">yes</span></span> | <span data-ttu-id="9f1f4-246">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-246">yes</span></span> | <span data-ttu-id="9f1f4-247">DWORD (布林值) </span><span class="sxs-lookup"><span data-stu-id="9f1f4-247">DWORD (boolean)</span></span> | <span data-ttu-id="9f1f4-248">指出 IP 堆疊是否應在控制項緩衝區中填入有關使用資料包通訊端接收封包的介面詳細資料。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-248">Indicates whether the IP stack should populate the control buffer with details about which interface received a packet with a datagram socket.</span></span> <span data-ttu-id="9f1f4-249">當此值為 true 時， [**LPFN_WSARECVMSG (WSARECVMSG)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) 函式會傳回選擇性的控制項資料，其中包含針對資料包通訊端接收封包的介面。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-249">When this value is true, the [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) function will return optional control data containing the interface where the packet was received for datagram sockets.</span></span> <span data-ttu-id="9f1f4-250">此選項可讓接收封包的 IPv4 介面，在 [**WSAMSG**](/windows/desktop/api/Ws2def/ns-ws2def-wsamsg) 結構中傳回。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-250">This option allows the IPv4 interface where the packet was received to be returned in the [**WSAMSG**](/windows/desktop/api/Ws2def/ns-ws2def-wsamsg) structure.</span></span>  <span data-ttu-id="9f1f4-251">此選項只適用于資料包和原始通訊端， (通訊端類型必須是 SOCK \_ DGRAM 或 SOCK \_ 原始) 。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-251">This option is only valid on datagram and raw sockets (the socket type must be SOCK\_DGRAM or SOCK\_RAW).</span></span> |
| <span data-ttu-id="9f1f4-252">IP \_ RECVTOS</span><span class="sxs-lookup"><span data-stu-id="9f1f4-252">IP\_RECVTOS</span></span> | <span data-ttu-id="9f1f4-253">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-253">yes</span></span> | <span data-ttu-id="9f1f4-254">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-254">yes</span></span> | <span data-ttu-id="9f1f4-255">DWORD (布林值) </span><span class="sxs-lookup"><span data-stu-id="9f1f4-255">DWORD (boolean)</span></span> | <span data-ttu-id="9f1f4-256">指出 IP 堆疊是否應該在收到的資料包上，使用包含服務類型 (TOS) IPv4 標頭欄位的訊息來擴展控制項緩衝區。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-256">Indicates whether the IP stack should populate the control buffer with a message containing the Type of Service (TOS) IPv4 header field on a received datagram.</span></span> <span data-ttu-id="9f1f4-257">當此值為 true 時， [**LPFN_WSARECVMSG (WSARECVMSG)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) 函式會傳回選擇性的控制項資料，其中包含所接收資料包的 TOS IPv4 標頭域值。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-257">When this value is true, the [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) function will return optional control data containing the TOS IPv4 header field value of the received datagram.</span></span>  <span data-ttu-id="9f1f4-258">此選項允許在 [**WSAMSG**](/windows/desktop/api/Ws2def/ns-ws2def-wsamsg) 結構中傳回所接收資料包的 [TOS IPv4 標頭] 欄位。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-258">This option allows the TOS IPv4 header field of the received datagram to be returned in the [**WSAMSG**](/windows/desktop/api/Ws2def/ns-ws2def-wsamsg) structure.</span></span> <span data-ttu-id="9f1f4-259">傳回的訊息類型將是 IP \_ TOS。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-259">The returned message type will be IP\_TOS.</span></span> <span data-ttu-id="9f1f4-260">將會傳回 TOS 欄位的所有 DSCP 和 ECN 位。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-260">All DSCP and ECN bits of the TOS field will be returned.</span></span>  <span data-ttu-id="9f1f4-261">此選項只適用于資料包通訊端， (通訊端類型必須是 SOCK \_ DGRAM) 。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-261">This option is only valid on datagram sockets (the socket type must be SOCK\_DGRAM).</span></span>  |
| <span data-ttu-id="9f1f4-262">IP \_ RECVTTL</span><span class="sxs-lookup"><span data-stu-id="9f1f4-262">IP\_RECVTTL</span></span> | <span data-ttu-id="9f1f4-263">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-263">yes</span></span> | <span data-ttu-id="9f1f4-264">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-264">yes</span></span> | <span data-ttu-id="9f1f4-265">DWORD (布林值) </span><span class="sxs-lookup"><span data-stu-id="9f1f4-265">DWORD (boolean)</span></span> | <span data-ttu-id="9f1f4-266">表示應該在 [**LPFN_WSARECVMSG (WSARECVMSG)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) 函式中傳回躍點 (TTL) 資訊。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-266">Indicates that hop (TTL) information should be returned in the [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) function.</span></span> <span data-ttu-id="9f1f4-267">如果在呼叫 [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt)時， *optval* 設定為 **1** ，則會啟用此選項。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-267">If *optval* is set to **1** on the call to [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt), the option is enabled.</span></span> <span data-ttu-id="9f1f4-268">如果設定為 **0**，則會停用此選項。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-268">If set to **0**, the option is disabled.</span></span>  <span data-ttu-id="9f1f4-269">此選項僅適用于資料包和原始通訊端， (通訊端類型必須是 SOCK \_ DGRAM 或 SOCK \_ 原始) 。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-269">This option is only valid for datagram and raw sockets (the socket type must be SOCK\_DGRAM or SOCK\_RAW).</span></span> |
| <span data-ttu-id="9f1f4-270">IP \_ TOS</span><span class="sxs-lookup"><span data-stu-id="9f1f4-270">IP\_TOS</span></span> | <span data-ttu-id="9f1f4-271">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-271">yes</span></span> | <span data-ttu-id="9f1f4-272">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-272">yes</span></span> | <span data-ttu-id="9f1f4-273">DWORD (布林值) </span><span class="sxs-lookup"><span data-stu-id="9f1f4-273">DWORD (boolean)</span></span> | <span data-ttu-id="9f1f4-274">請勿使用。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-274">Do not use.</span></span> <span data-ttu-id="9f1f4-275">服務類型 (TOS) 設定只能使用服務 API 的品質來設定。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-275">Type of Service (TOS) settings should only be set using the Quality of Service API.</span></span> <span data-ttu-id="9f1f4-276">如需詳細資訊，請參閱 Platform SDK 的服務品質一節中的 [差異服務](/previous-versions/windows/desktop/qos/differentiated-services) 。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-276">See [Differentiated Services](/previous-versions/windows/desktop/qos/differentiated-services) in the Quality of Service section of the Platform SDK for more information.</span></span> |
| <span data-ttu-id="9f1f4-277">IP \_ TTL</span><span class="sxs-lookup"><span data-stu-id="9f1f4-277">IP\_TTL</span></span> | <span data-ttu-id="9f1f4-278">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-278">yes</span></span> | <span data-ttu-id="9f1f4-279">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-279">yes</span></span> | <span data-ttu-id="9f1f4-280">DWORD (布林值) </span><span class="sxs-lookup"><span data-stu-id="9f1f4-280">DWORD (boolean)</span></span> | <span data-ttu-id="9f1f4-281">在傳出資料包的 IP 標頭的 TTL 欄位中，變更 TCP/IP 服務提供者所設定的預設值。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-281">Changes the default value set by the TCP/IP service provider in the TTL field of the IP header in outgoing datagrams.</span></span> <span data-ttu-id="9f1f4-282">\_不需要 ip ttl 支援; 若要檢查 ip \_ ttl 是否受支援，請使用 [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt)來取得目前的選項。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-282">IP\_TTL support is not required; to check whether IP\_TTL is supported, use [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) to get current options.</span></span> <span data-ttu-id="9f1f4-283">如果 **getsockopt** 失敗， \_ 則不支援 IP TTL。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-283">If **getsockopt** fails, IP\_TTL is not supported.</span></span> |
| <span data-ttu-id="9f1f4-284">IP \_ 解除封鎖 \_ 來源</span><span class="sxs-lookup"><span data-stu-id="9f1f4-284">IP\_UNBLOCK\_SOURCE</span></span> | | <span data-ttu-id="9f1f4-285">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-285">yes</span></span> | [<span data-ttu-id="9f1f4-286">**ip \_ mreq \_ 來源**</span><span class="sxs-lookup"><span data-stu-id="9f1f4-286">**ip\_mreq\_source**</span></span>](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-ip_mreq_source) | <span data-ttu-id="9f1f4-287">將指定來源以傳送者的形式新增至提供的多播群組和介面。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-287">Adds the given source as a sender to the supplied multicast group and interface.</span></span> |
| <span data-ttu-id="9f1f4-288">IP \_ 單播（ \_ 如果</span><span class="sxs-lookup"><span data-stu-id="9f1f4-288">IP\_UNICAST\_IF</span></span> | <span data-ttu-id="9f1f4-289">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-289">yes</span></span> | <span data-ttu-id="9f1f4-290">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-290">yes</span></span> | <span data-ttu-id="9f1f4-291">如果索引) ，則為 DWORD (\_</span><span class="sxs-lookup"><span data-stu-id="9f1f4-291">DWORD (IF\_INDEX)</span></span> | <span data-ttu-id="9f1f4-292">取得或設定用於傳送 IPv4 流量的輸出介面。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-292">Gets or sets the outgoing interface for sending IPv4 traffic.</span></span> <span data-ttu-id="9f1f4-293">此選項不會變更接收 IPv4 流量的預設介面。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-293">This option does not change the default interface for receiving IPv4 traffic.</span></span> <span data-ttu-id="9f1f4-294">此選項對於多重主目錄電腦而言很重要。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-294">This option is important for multihomed computers.</span></span>  <span data-ttu-id="9f1f4-295">設定此選項的輸入值是以網路位元組順序表示的4位元組 IPv4 位址。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-295">The input value for setting this option is a 4-byte IPv4 address in network byte order.</span></span> <span data-ttu-id="9f1f4-296">這個 DWORD 參數必須是以網路位元組順序排列的介面索引。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-296">This DWORD parameter must be an interface index in network byte order.</span></span> <span data-ttu-id="9f1f4-297">在 0. x. x. x 區塊中的任何 IP 位址 (第一個八位) 的 IP 位址，除非 IPv4 位址0.0.0.0 被視為介面索引。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-297">Any IP address in the 0.x.x.x block (first octet of 0) except IPv4 address 0.0.0.0 is treated as an interface index.</span></span> <span data-ttu-id="9f1f4-298">介面索引是24位數位，且不會使用 0.0.0.0/8 IPv4 位址區塊 (此範圍是保留) 。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-298">An interface index is a 24-bit number, and the 0.0.0.0/8 IPv4 address block is not used (this range is reserved).</span></span> <span data-ttu-id="9f1f4-299">介面索引可以用來指定傳送 IPv4 流量的預設介面。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-299">The interface index can be used to specify the default interface for sending traffic for IPv4.</span></span> <span data-ttu-id="9f1f4-300">[**GetAdaptersAddresses**](/windows/win32/api/iphlpapi/nf-iphlpapi-getadaptersaddresses)函數可以用來取得介面索引資訊。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-300">The [**GetAdaptersAddresses**](/windows/win32/api/iphlpapi/nf-iphlpapi-getadaptersaddresses) function can be used to obtain the interface index information.</span></span> <span data-ttu-id="9f1f4-301">如果 *optval* 為零，則傳送流量的預設介面會設定為 [未指定]。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-301">If *optval* is zero , the default interface for sending traffic is set to unspecified.</span></span>  <span data-ttu-id="9f1f4-302">取得這個選項時， *optval* 會傳回目前的預設介面索引，以依主機位元組順序傳送 IPv4 流量。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-302">When getting this option, the *optval* returns the current default interface index for sending IPv4 traffic in host byte order.</span></span> |
| <span data-ttu-id="9f1f4-303">IP_USER_MTU</span><span class="sxs-lookup"><span data-stu-id="9f1f4-303">IP_USER_MTU</span></span> | <span data-ttu-id="9f1f4-304">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-304">yes</span></span> | <span data-ttu-id="9f1f4-305">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-305">yes</span></span> | <span data-ttu-id="9f1f4-306">DWORD</span><span class="sxs-lookup"><span data-stu-id="9f1f4-306">DWORD</span></span> | <span data-ttu-id="9f1f4-307">取得或設定指定之通訊端的 IP 層 MTU (（位元組) ）上限。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-307">Gets or sets an upper bound on the IP layer MTU (in bytes) for the given socket.</span></span> <span data-ttu-id="9f1f4-308">如果值高於系統對路徑 MTU 的估計 (您可以藉由查詢 **IP_MTU** 通訊端選項) 在連接的通訊端上抓取，則選項不會有任何作用。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-308">If the value is higher than the system's estimate of the path MTU (which you can retrieve on a connected socket by querying the **IP_MTU** socket option), then the option has no effect.</span></span> <span data-ttu-id="9f1f4-309">如果值較低，則大於此值的輸出封包將會被分割，或者將無法傳送，視 **IP_DONTFRAGMENT** 的值而定。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-309">If the value is lower, then outbound packets larger than this will be fragmented, or will fail to send, depending on the value of **IP_DONTFRAGMENT**.</span></span> <span data-ttu-id="9f1f4-310">預設值為 **IP_UNSPECIFIED_USER_MTU** (MAXULONG) 。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-310">Default value is **IP_UNSPECIFIED_USER_MTU** (MAXULONG).</span></span> <span data-ttu-id="9f1f4-311">針對型別安全，您應該使用 [**WSAGetIPUserMtu**](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetipusermtu) 和 [**WSASetIPUserMtu**](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetipusermtu) 函式，而不是直接使用通訊端選項。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-311">For type-safety, you should use the [**WSAGetIPUserMtu**](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetipusermtu) and [**WSASetIPUserMtu**](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetipusermtu) functions instead of using the socket option directly.</span></span> |
| <span data-ttu-id="9f1f4-312">IP \_ WFP 重新 \_ 導向 \_ 內容</span><span class="sxs-lookup"><span data-stu-id="9f1f4-312">IP\_WFP\_REDIRECT\_CONTEXT</span></span> | <span data-ttu-id="9f1f4-313">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-313">yes</span></span> | <span data-ttu-id="9f1f4-314">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-314">yes</span></span> | <span data-ttu-id="9f1f4-315">具有控制資料的 WSACMSGHDR</span><span class="sxs-lookup"><span data-stu-id="9f1f4-315">WSACMSGHDR with control data</span></span> | <span data-ttu-id="9f1f4-316">資料包通訊端附屬資料類型 (cmsg \_ 類型) ，指出使用者模式 Windows 篩選平台 (WFP) 重新導向服務所使用之 UDP 通訊端的重新導向內容。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-316">A datagram socket ancillary data type (cmsg\_type) to indicate the redirect context for a UDP socket used by a user mode Windows Filtering Platform (WFP) redirect service.</span></span> |
| <span data-ttu-id="9f1f4-317">IP \_ WFP 重新 \_ 導向 \_ 記錄</span><span class="sxs-lookup"><span data-stu-id="9f1f4-317">IP\_WFP\_REDIRECT\_RECORDS</span></span> | <span data-ttu-id="9f1f4-318">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-318">yes</span></span> | <span data-ttu-id="9f1f4-319">是</span><span class="sxs-lookup"><span data-stu-id="9f1f4-319">yes</span></span> | <span data-ttu-id="9f1f4-320">具有控制資料的 WSACMSGHDR</span><span class="sxs-lookup"><span data-stu-id="9f1f4-320">WSACMSGHDR with control data</span></span> | <span data-ttu-id="9f1f4-321">資料包通訊端附屬資料類型 (cmsg \_ 類型) ，指出使用者模式 Windows 篩選平台 (WFP) 重新導向服務所使用之 UDP 通訊端的重新導向記錄。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-321">A datagram socket ancillary data type (cmsg\_type) to indicate the redirect record for a UDP socket used by a user mode Windows Filtering Platform (WFP) redirect service.</span></span> |

## <a name="windows-support-for-ip_proto-options"></a><span data-ttu-id="9f1f4-322">IP PROTO 選項的 Windows 支援 \_</span><span class="sxs-lookup"><span data-stu-id="9f1f4-322">Windows support for IP\_PROTO options</span></span>

| <span data-ttu-id="9f1f4-323">選項</span><span class="sxs-lookup"><span data-stu-id="9f1f4-323">Option</span></span> | <span data-ttu-id="9f1f4-324">Windows 10</span><span class="sxs-lookup"><span data-stu-id="9f1f4-324">Windows 10</span></span> | <span data-ttu-id="9f1f4-325">Windows 8</span><span class="sxs-lookup"><span data-stu-id="9f1f4-325">Windows 8</span></span> | <span data-ttu-id="9f1f4-326">Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="9f1f4-326">Windows Server 2012</span></span> | <span data-ttu-id="9f1f4-327">Windows 7</span><span class="sxs-lookup"><span data-stu-id="9f1f4-327">Windows 7</span></span> | <span data-ttu-id="9f1f4-328">Windows Server 2008</span><span class="sxs-lookup"><span data-stu-id="9f1f4-328">Windows Server 2008</span></span> | <span data-ttu-id="9f1f4-329">Windows Vista</span><span class="sxs-lookup"><span data-stu-id="9f1f4-329">Windows Vista</span></span> |
|-|-|-|-|-|-|-|
| <span data-ttu-id="9f1f4-330">IP_ADD_IFLIST</span><span class="sxs-lookup"><span data-stu-id="9f1f4-330">IP_ADD_IFLIST</span></span> | <span data-ttu-id="9f1f4-331">從 Windows 10 開始，版本1803</span><span class="sxs-lookup"><span data-stu-id="9f1f4-331">Starting with Windows 10, version 1803</span></span> | | | | | |
| <span data-ttu-id="9f1f4-332">IP \_ 新增 \_ 成員資格</span><span class="sxs-lookup"><span data-stu-id="9f1f4-332">IP\_ADD\_MEMBERSHIP</span></span> | <span data-ttu-id="9f1f4-333">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-333">x</span></span> | <span data-ttu-id="9f1f4-334">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-334">x</span></span> | <span data-ttu-id="9f1f4-335">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-335">x</span></span> | <span data-ttu-id="9f1f4-336">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-336">x</span></span> | <span data-ttu-id="9f1f4-337">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-337">x</span></span> | <span data-ttu-id="9f1f4-338">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-338">x</span></span> |
| <span data-ttu-id="9f1f4-339">IP \_ 新增 \_ 來源 \_ 成員資格</span><span class="sxs-lookup"><span data-stu-id="9f1f4-339">IP\_ADD\_SOURCE\_MEMBERSHIP</span></span> | <span data-ttu-id="9f1f4-340">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-340">x</span></span> | <span data-ttu-id="9f1f4-341">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-341">x</span></span> | <span data-ttu-id="9f1f4-342">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-342">x</span></span> | <span data-ttu-id="9f1f4-343">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-343">x</span></span> | <span data-ttu-id="9f1f4-344">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-344">x</span></span> | <span data-ttu-id="9f1f4-345">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-345">x</span></span> |
| <span data-ttu-id="9f1f4-346">IP \_ 區塊 \_ 來源</span><span class="sxs-lookup"><span data-stu-id="9f1f4-346">IP\_BLOCK\_SOURCE</span></span> | <span data-ttu-id="9f1f4-347">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-347">x</span></span> | <span data-ttu-id="9f1f4-348">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-348">x</span></span> | <span data-ttu-id="9f1f4-349">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-349">x</span></span> | <span data-ttu-id="9f1f4-350">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-350">x</span></span> | <span data-ttu-id="9f1f4-351">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-351">x</span></span> | <span data-ttu-id="9f1f4-352">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-352">x</span></span> |
| <span data-ttu-id="9f1f4-353">IP_DEL_IFLIST</span><span class="sxs-lookup"><span data-stu-id="9f1f4-353">IP_DEL_IFLIST</span></span> | <span data-ttu-id="9f1f4-354">從 Windows 10 開始，版本1803</span><span class="sxs-lookup"><span data-stu-id="9f1f4-354">Starting with Windows 10, version 1803</span></span> | | | | | |
| <span data-ttu-id="9f1f4-355">IP \_ DONTFRAGMENT</span><span class="sxs-lookup"><span data-stu-id="9f1f4-355">IP\_DONTFRAGMENT</span></span> | <span data-ttu-id="9f1f4-356">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-356">x</span></span> | <span data-ttu-id="9f1f4-357">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-357">x</span></span> | <span data-ttu-id="9f1f4-358">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-358">x</span></span> | <span data-ttu-id="9f1f4-359">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-359">x</span></span> | <span data-ttu-id="9f1f4-360">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-360">x</span></span> | <span data-ttu-id="9f1f4-361">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-361">x</span></span> |
| <span data-ttu-id="9f1f4-362">IP \_ 捨棄 \_ 成員資格</span><span class="sxs-lookup"><span data-stu-id="9f1f4-362">IP\_DROP\_MEMBERSHIP</span></span> | <span data-ttu-id="9f1f4-363">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-363">x</span></span> | <span data-ttu-id="9f1f4-364">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-364">x</span></span> | <span data-ttu-id="9f1f4-365">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-365">x</span></span> | <span data-ttu-id="9f1f4-366">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-366">x</span></span> | <span data-ttu-id="9f1f4-367">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-367">x</span></span> | <span data-ttu-id="9f1f4-368">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-368">x</span></span> |
| <span data-ttu-id="9f1f4-369">IP \_ DROP \_ SOURCE \_ 成員資格</span><span class="sxs-lookup"><span data-stu-id="9f1f4-369">IP\_DROP\_SOURCE\_MEMBERSHIP</span></span> | <span data-ttu-id="9f1f4-370">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-370">x</span></span> | <span data-ttu-id="9f1f4-371">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-371">x</span></span> | <span data-ttu-id="9f1f4-372">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-372">x</span></span> | <span data-ttu-id="9f1f4-373">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-373">x</span></span> | <span data-ttu-id="9f1f4-374">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-374">x</span></span> | <span data-ttu-id="9f1f4-375">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-375">x</span></span> |
| <span data-ttu-id="9f1f4-376">IP_GET_IFLIST</span><span class="sxs-lookup"><span data-stu-id="9f1f4-376">IP_GET_IFLIST</span></span> | <span data-ttu-id="9f1f4-377">從 Windows 10 開始，版本1803</span><span class="sxs-lookup"><span data-stu-id="9f1f4-377">Starting with Windows 10, version 1803</span></span> | | | | | |
| <span data-ttu-id="9f1f4-378">IP \_ HDRINCL</span><span class="sxs-lookup"><span data-stu-id="9f1f4-378">IP\_HDRINCL</span></span> | <span data-ttu-id="9f1f4-379">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-379">x</span></span> | <span data-ttu-id="9f1f4-380">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-380">x</span></span> | <span data-ttu-id="9f1f4-381">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-381">x</span></span> | <span data-ttu-id="9f1f4-382">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-382">x</span></span> | <span data-ttu-id="9f1f4-383">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-383">x</span></span> | <span data-ttu-id="9f1f4-384">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-384">x</span></span> |
| <span data-ttu-id="9f1f4-385">IP_IFLIST</span><span class="sxs-lookup"><span data-stu-id="9f1f4-385">IP_IFLIST</span></span> | <span data-ttu-id="9f1f4-386">從 Windows 10 開始，版本1803</span><span class="sxs-lookup"><span data-stu-id="9f1f4-386">Starting with Windows 10, version 1803</span></span> | | | | | |
| <span data-ttu-id="9f1f4-387">IP \_ 多播 \_ IF</span><span class="sxs-lookup"><span data-stu-id="9f1f4-387">IP\_MULTICAST\_IF</span></span> | <span data-ttu-id="9f1f4-388">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-388">x</span></span> | <span data-ttu-id="9f1f4-389">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-389">x</span></span> | <span data-ttu-id="9f1f4-390">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-390">x</span></span> | <span data-ttu-id="9f1f4-391">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-391">x</span></span> | <span data-ttu-id="9f1f4-392">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-392">x</span></span> | <span data-ttu-id="9f1f4-393">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-393">x</span></span> |
| <span data-ttu-id="9f1f4-394">IP \_ 多播 \_ 迴圈</span><span class="sxs-lookup"><span data-stu-id="9f1f4-394">IP\_MULTICAST\_LOOP</span></span> | <span data-ttu-id="9f1f4-395">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-395">x</span></span> | <span data-ttu-id="9f1f4-396">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-396">x</span></span> | <span data-ttu-id="9f1f4-397">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-397">x</span></span> | <span data-ttu-id="9f1f4-398">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-398">x</span></span> | <span data-ttu-id="9f1f4-399">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-399">x</span></span> | <span data-ttu-id="9f1f4-400">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-400">x</span></span> |
| <span data-ttu-id="9f1f4-401">IP \_ 多播 \_ TTL</span><span class="sxs-lookup"><span data-stu-id="9f1f4-401">IP\_MULTICAST\_TTL</span></span> | <span data-ttu-id="9f1f4-402">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-402">x</span></span> | <span data-ttu-id="9f1f4-403">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-403">x</span></span> | <span data-ttu-id="9f1f4-404">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-404">x</span></span> | <span data-ttu-id="9f1f4-405">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-405">x</span></span> | <span data-ttu-id="9f1f4-406">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-406">x</span></span> | <span data-ttu-id="9f1f4-407">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-407">x</span></span> |
| <span data-ttu-id="9f1f4-408">IP \_ 選項</span><span class="sxs-lookup"><span data-stu-id="9f1f4-408">IP\_OPTIONS</span></span> | <span data-ttu-id="9f1f4-409">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-409">x</span></span> | <span data-ttu-id="9f1f4-410">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-410">x</span></span> | <span data-ttu-id="9f1f4-411">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-411">x</span></span> | <span data-ttu-id="9f1f4-412">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-412">x</span></span> | <span data-ttu-id="9f1f4-413">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-413">x</span></span> | <span data-ttu-id="9f1f4-414">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-414">x</span></span> |
| <span data-ttu-id="9f1f4-415">IP \_ 原始 \_ 抵達（ \_ 如果</span><span class="sxs-lookup"><span data-stu-id="9f1f4-415">IP\_ORIGINAL\_ARRIVAL\_IF</span></span> | <span data-ttu-id="9f1f4-416">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-416">x</span></span> | <span data-ttu-id="9f1f4-417">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-417">x</span></span> | <span data-ttu-id="9f1f4-418">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-418">x</span></span> | <span data-ttu-id="9f1f4-419">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-419">x</span></span> | | |
| <span data-ttu-id="9f1f4-420">IP \_ PKTINFO</span><span class="sxs-lookup"><span data-stu-id="9f1f4-420">IP\_PKTINFO</span></span> | <span data-ttu-id="9f1f4-421">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-421">x</span></span> | <span data-ttu-id="9f1f4-422">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-422">x</span></span> | <span data-ttu-id="9f1f4-423">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-423">x</span></span> | <span data-ttu-id="9f1f4-424">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-424">x</span></span> | <span data-ttu-id="9f1f4-425">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-425">x</span></span> | <span data-ttu-id="9f1f4-426">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-426">x</span></span> |
| <span data-ttu-id="9f1f4-427">IP \_ 接收 \_ 廣播</span><span class="sxs-lookup"><span data-stu-id="9f1f4-427">IP\_RECEIVE\_BROADCAST</span></span> | <span data-ttu-id="9f1f4-428">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-428">x</span></span> | <span data-ttu-id="9f1f4-429">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-429">x</span></span> | <span data-ttu-id="9f1f4-430">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-430">x</span></span> | <span data-ttu-id="9f1f4-431">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-431">x</span></span> | <span data-ttu-id="9f1f4-432">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-432">x</span></span> | <span data-ttu-id="9f1f4-433">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-433">x</span></span> |
| <span data-ttu-id="9f1f4-434">IP \_ RECVIF</span><span class="sxs-lookup"><span data-stu-id="9f1f4-434">IP\_RECVIF</span></span> | <span data-ttu-id="9f1f4-435">從 Windows 10 開始，版本1703</span><span class="sxs-lookup"><span data-stu-id="9f1f4-435">Starting with Windows 10, version 1703</span></span> | <span data-ttu-id="9f1f4-436">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-436">x</span></span> | <span data-ttu-id="9f1f4-437">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-437">x</span></span> | <span data-ttu-id="9f1f4-438">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-438">x</span></span> | <span data-ttu-id="9f1f4-439">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-439">x</span></span> | <span data-ttu-id="9f1f4-440">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-440">x</span></span> |
| <span data-ttu-id="9f1f4-441">IP \_ RECVTTL</span><span class="sxs-lookup"><span data-stu-id="9f1f4-441">IP\_RECVTTL</span></span> | <span data-ttu-id="9f1f4-442">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-442">x</span></span> | | | | | |
| <span data-ttu-id="9f1f4-443">IP \_ TOS</span><span class="sxs-lookup"><span data-stu-id="9f1f4-443">IP\_TOS</span></span> | <span data-ttu-id="9f1f4-444">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-444">x</span></span> | <span data-ttu-id="9f1f4-445">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-445">x</span></span> | <span data-ttu-id="9f1f4-446">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-446">x</span></span> | | | |
| <span data-ttu-id="9f1f4-447">IP \_ TTL</span><span class="sxs-lookup"><span data-stu-id="9f1f4-447">IP\_TTL</span></span> | <span data-ttu-id="9f1f4-448">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-448">x</span></span> | <span data-ttu-id="9f1f4-449">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-449">x</span></span> | <span data-ttu-id="9f1f4-450">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-450">x</span></span> | <span data-ttu-id="9f1f4-451">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-451">x</span></span> | <span data-ttu-id="9f1f4-452">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-452">x</span></span> | <span data-ttu-id="9f1f4-453">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-453">x</span></span> |
| <span data-ttu-id="9f1f4-454">IP \_ 解除封鎖 \_ 來源</span><span class="sxs-lookup"><span data-stu-id="9f1f4-454">IP\_UNBLOCK\_SOURCE</span></span> | <span data-ttu-id="9f1f4-455">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-455">x</span></span> | <span data-ttu-id="9f1f4-456">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-456">x</span></span> | <span data-ttu-id="9f1f4-457">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-457">x</span></span> | <span data-ttu-id="9f1f4-458">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-458">x</span></span> | <span data-ttu-id="9f1f4-459">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-459">x</span></span> | <span data-ttu-id="9f1f4-460">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-460">x</span></span> |
| <span data-ttu-id="9f1f4-461">IP \_ 單播（ \_ 如果</span><span class="sxs-lookup"><span data-stu-id="9f1f4-461">IP\_UNICAST\_IF</span></span> | <span data-ttu-id="9f1f4-462">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-462">x</span></span> | <span data-ttu-id="9f1f4-463">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-463">x</span></span> | <span data-ttu-id="9f1f4-464">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-464">x</span></span> | <span data-ttu-id="9f1f4-465">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-465">x</span></span> | <span data-ttu-id="9f1f4-466">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-466">x</span></span> | <span data-ttu-id="9f1f4-467">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-467">x</span></span> |
| <span data-ttu-id="9f1f4-468">IP \_ WFP 重新 \_ 導向 \_ 內容</span><span class="sxs-lookup"><span data-stu-id="9f1f4-468">IP\_WFP\_REDIRECT\_CONTEXT</span></span> | <span data-ttu-id="9f1f4-469">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-469">x</span></span> | <span data-ttu-id="9f1f4-470">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-470">x</span></span> | <span data-ttu-id="9f1f4-471">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-471">x</span></span> | | | |
| <span data-ttu-id="9f1f4-472">IP \_ WFP 重新 \_ 導向 \_ 記錄</span><span class="sxs-lookup"><span data-stu-id="9f1f4-472">IP\_WFP\_REDIRECT\_RECORDS</span></span> | <span data-ttu-id="9f1f4-473">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-473">x</span></span> | <span data-ttu-id="9f1f4-474">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-474">x</span></span> | <span data-ttu-id="9f1f4-475">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-475">x</span></span> | | | |

<br/>

| <span data-ttu-id="9f1f4-476">選項</span><span class="sxs-lookup"><span data-stu-id="9f1f4-476">Option</span></span> | <span data-ttu-id="9f1f4-477">Windows Server 2003</span><span class="sxs-lookup"><span data-stu-id="9f1f4-477">Windows Server 2003</span></span> | <span data-ttu-id="9f1f4-478">Windows XP</span><span class="sxs-lookup"><span data-stu-id="9f1f4-478">Windows XP</span></span> |
|-|-|-|
| <span data-ttu-id="9f1f4-479">IP_ADD_IFLIST</span><span class="sxs-lookup"><span data-stu-id="9f1f4-479">IP_ADD_IFLIST</span></span> | | |
| <span data-ttu-id="9f1f4-480">IP \_ 新增 \_ 成員資格</span><span class="sxs-lookup"><span data-stu-id="9f1f4-480">IP\_ADD\_MEMBERSHIP</span></span> | <span data-ttu-id="9f1f4-481">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-481">x</span></span> | <span data-ttu-id="9f1f4-482">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-482">x</span></span> |
| <span data-ttu-id="9f1f4-483">IP \_ 新增 \_ 來源 \_ 成員資格</span><span class="sxs-lookup"><span data-stu-id="9f1f4-483">IP\_ADD\_SOURCE\_MEMBERSHIP</span></span> | <span data-ttu-id="9f1f4-484">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-484">x</span></span> | <span data-ttu-id="9f1f4-485">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-485">x</span></span> |
| <span data-ttu-id="9f1f4-486">IP \_ 區塊 \_ 來源</span><span class="sxs-lookup"><span data-stu-id="9f1f4-486">IP\_BLOCK\_SOURCE</span></span> | <span data-ttu-id="9f1f4-487">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-487">x</span></span> | <span data-ttu-id="9f1f4-488">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-488">x</span></span> |
| <span data-ttu-id="9f1f4-489">IP_DEL_IFLIST</span><span class="sxs-lookup"><span data-stu-id="9f1f4-489">IP_DEL_IFLIST</span></span> | | |
| <span data-ttu-id="9f1f4-490">IP \_ DONTFRAGMENT</span><span class="sxs-lookup"><span data-stu-id="9f1f4-490">IP\_DONTFRAGMENT</span></span> | <span data-ttu-id="9f1f4-491">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-491">x</span></span> | <span data-ttu-id="9f1f4-492">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-492">x</span></span> |
| <span data-ttu-id="9f1f4-493">IP \_ 捨棄 \_ 成員資格</span><span class="sxs-lookup"><span data-stu-id="9f1f4-493">IP\_DROP\_MEMBERSHIP</span></span> | <span data-ttu-id="9f1f4-494">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-494">x</span></span> | <span data-ttu-id="9f1f4-495">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-495">x</span></span> |
| <span data-ttu-id="9f1f4-496">IP \_ DROP \_ SOURCE \_ 成員資格</span><span class="sxs-lookup"><span data-stu-id="9f1f4-496">IP\_DROP\_SOURCE\_MEMBERSHIP</span></span> | <span data-ttu-id="9f1f4-497">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-497">x</span></span> | <span data-ttu-id="9f1f4-498">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-498">x</span></span> |
| <span data-ttu-id="9f1f4-499">IP_GET_IFLIST</span><span class="sxs-lookup"><span data-stu-id="9f1f4-499">IP_GET_IFLIST</span></span> | | |
| <span data-ttu-id="9f1f4-500">IP \_ HDRINCL</span><span class="sxs-lookup"><span data-stu-id="9f1f4-500">IP\_HDRINCL</span></span> | <span data-ttu-id="9f1f4-501">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-501">x</span></span> | <span data-ttu-id="9f1f4-502">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-502">x</span></span> |
| <span data-ttu-id="9f1f4-503">IP_IFLIST</span><span class="sxs-lookup"><span data-stu-id="9f1f4-503">IP_IFLIST</span></span> | | |
| <span data-ttu-id="9f1f4-504">IP \_ 多播 \_ IF</span><span class="sxs-lookup"><span data-stu-id="9f1f4-504">IP\_MULTICAST\_IF</span></span> | <span data-ttu-id="9f1f4-505">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-505">x</span></span> | <span data-ttu-id="9f1f4-506">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-506">x</span></span> |
| <span data-ttu-id="9f1f4-507">IP \_ 多播 \_ 迴圈</span><span class="sxs-lookup"><span data-stu-id="9f1f4-507">IP\_MULTICAST\_LOOP</span></span> | <span data-ttu-id="9f1f4-508">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-508">x</span></span> | <span data-ttu-id="9f1f4-509">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-509">x</span></span> |
| <span data-ttu-id="9f1f4-510">IP \_ 多播 \_ TTL</span><span class="sxs-lookup"><span data-stu-id="9f1f4-510">IP\_MULTICAST\_TTL</span></span> | <span data-ttu-id="9f1f4-511">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-511">x</span></span> | <span data-ttu-id="9f1f4-512">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-512">x</span></span> |
| <span data-ttu-id="9f1f4-513">IP \_ 選項</span><span class="sxs-lookup"><span data-stu-id="9f1f4-513">IP\_OPTIONS</span></span> | <span data-ttu-id="9f1f4-514">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-514">x</span></span> | <span data-ttu-id="9f1f4-515">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-515">x</span></span> |
| <span data-ttu-id="9f1f4-516">IP \_ 原始 \_ 抵達（ \_ 如果</span><span class="sxs-lookup"><span data-stu-id="9f1f4-516">IP\_ORIGINAL\_ARRIVAL\_IF</span></span> | | |
| <span data-ttu-id="9f1f4-517">IP \_ PKTINFO</span><span class="sxs-lookup"><span data-stu-id="9f1f4-517">IP\_PKTINFO</span></span> | <span data-ttu-id="9f1f4-518">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-518">x</span></span> | <span data-ttu-id="9f1f4-519">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-519">x</span></span> |
| <span data-ttu-id="9f1f4-520">IP \_ 接收 \_ 廣播</span><span class="sxs-lookup"><span data-stu-id="9f1f4-520">IP\_RECEIVE\_BROADCAST</span></span> | <span data-ttu-id="9f1f4-521">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-521">x</span></span> | <span data-ttu-id="9f1f4-522">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-522">x</span></span> |
| <span data-ttu-id="9f1f4-523">IP \_ RECVIF</span><span class="sxs-lookup"><span data-stu-id="9f1f4-523">IP\_RECVIF</span></span> | | |
| <span data-ttu-id="9f1f4-524">IP \_ RECVTTL</span><span class="sxs-lookup"><span data-stu-id="9f1f4-524">IP\_RECVTTL</span></span> | | |
| <span data-ttu-id="9f1f4-525">IP \_ TOS</span><span class="sxs-lookup"><span data-stu-id="9f1f4-525">IP\_TOS</span></span> | | |
| <span data-ttu-id="9f1f4-526">IP \_ TTL</span><span class="sxs-lookup"><span data-stu-id="9f1f4-526">IP\_TTL</span></span> | <span data-ttu-id="9f1f4-527">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-527">x</span></span> | <span data-ttu-id="9f1f4-528">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-528">x</span></span> |
| <span data-ttu-id="9f1f4-529">IP \_ 解除封鎖 \_ 來源</span><span class="sxs-lookup"><span data-stu-id="9f1f4-529">IP\_UNBLOCK\_SOURCE</span></span> | <span data-ttu-id="9f1f4-530">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-530">x</span></span> | <span data-ttu-id="9f1f4-531">x</span><span class="sxs-lookup"><span data-stu-id="9f1f4-531">x</span></span> |
| <span data-ttu-id="9f1f4-532">IP \_ 單播（ \_ 如果</span><span class="sxs-lookup"><span data-stu-id="9f1f4-532">IP\_UNICAST\_IF</span></span> | | |
| <span data-ttu-id="9f1f4-533">IP \_ WFP 重新 \_ 導向 \_ 內容</span><span class="sxs-lookup"><span data-stu-id="9f1f4-533">IP\_WFP\_REDIRECT\_CONTEXT</span></span> | | |
| <span data-ttu-id="9f1f4-534">IP \_ WFP 重新 \_ 導向 \_ 記錄</span><span class="sxs-lookup"><span data-stu-id="9f1f4-534">IP\_WFP\_REDIRECT\_RECORDS</span></span> | | |

## <a name="remarks"></a><span data-ttu-id="9f1f4-535">備註</span><span class="sxs-lookup"><span data-stu-id="9f1f4-535">Remarks</span></span>

<span data-ttu-id="9f1f4-536">在 Windows Vista 和更新版本的 Microsoft Windows 軟體開發套件 (SDK) 中，標頭檔的組織已變更，且 **IPPROTO \_ IP** 層級定義于 *Ws2def .h* 標頭檔中，該檔案會自動包含在 *Winsock2* 標頭檔中。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-536">In the Microsoft Windows Software Development Kit (SDK) released for Windows Vista and later, the organization of header files has changed and **IPPROTO\_IP** level is defined in the *Ws2def.h* header file which is automatically included in the *Winsock2.h* header file.</span></span> <span data-ttu-id="9f1f4-537">某些 **IPPROTO \_ IP** 通訊端選項定義于 *Ws2ipdef .h* 標頭檔中，該檔案會自動包含在 *Ws2tcpip .h* 標頭檔中。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-537">Some of the **IPPROTO\_IP** socket options are defined in the *Ws2ipdef.h* header file which is automatically included by the *Ws2tcpip.h* header file.</span></span> <span data-ttu-id="9f1f4-538">其餘的 **IPPROTO \_ IP** 通訊端選項是在 *Wsipv6ok .h* 標頭檔中定義，此檔案會自動包含在 *Winsock2* 標頭檔中。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-538">The remaining **IPPROTO\_IP** socket options are defined in the *Wsipv6ok.h* header file which is automatically included by the *Winsock2.h* header file.</span></span> <span data-ttu-id="9f1f4-539">絕不能直接使用 *Ws2def .h*、 *Ws2ipdef .h* 和 *Wsipv6ok .h* 標頭檔。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-539">The *Ws2def.h*, *Ws2ipdef.h*, and *Wsipv6ok.h* header files should never be used directly.</span></span>

<span data-ttu-id="9f1f4-540">在針對 Windows Server 2003 和 Windows XP 發行的 Platform SDK 中， **IPPROTO \_ IP** 層級會定義于 *Winsock2* 標頭檔中。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-540">In the Platform SDK released for Windows Server 2003 and Windows XP, the **IPPROTO\_IP** level is defined in the *Winsock2.h* header file.</span></span> <span data-ttu-id="9f1f4-541">某些 **IPPROTO \_ IP** 通訊端選項定義于 *Ws2tcpip .h* 標頭檔中。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-541">Some of the **IPPROTO\_IP** socket options are defined in the *Ws2tcpip.h* header file.</span></span> <span data-ttu-id="9f1f4-542">其餘的 **IPPROTO \_ IP** 通訊端選項是在 *Wsipv6ok .h* 標頭檔中定義，此檔案會自動包含在 *Winsock2* 標頭檔中。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-542">The remaining **IPPROTO\_IP** socket options are defined in the *Wsipv6ok.h* header file which is automatically included by the *Winsock2.h* header file.</span></span> <span data-ttu-id="9f1f4-543">不應直接使用 *Wsipv6ok* 標頭檔。</span><span class="sxs-lookup"><span data-stu-id="9f1f4-543">The *Wsipv6ok.h* header file should never be used directly.</span></span>

## <a name="requirements"></a><span data-ttu-id="9f1f4-544">規格需求</span><span class="sxs-lookup"><span data-stu-id="9f1f4-544">Requirements</span></span>

| <span data-ttu-id="9f1f4-545">需求</span><span class="sxs-lookup"><span data-stu-id="9f1f4-545">Requirement</span></span> | <span data-ttu-id="9f1f4-546">值</span><span class="sxs-lookup"><span data-stu-id="9f1f4-546">Value</span></span> |
|-|-|
| <span data-ttu-id="9f1f4-547">標頭</span><span class="sxs-lookup"><span data-stu-id="9f1f4-547">Header</span></span> | <dl> <span data-ttu-id="9f1f4-548"><dt>Ws2def (包含 Winsock2. h) ;</dt><dt>Ws2ipdef (包括 Ws2tcpip .h) ;</dt><dt>Wsipv6ok (包含 Winsock2) </dt></span><span class="sxs-lookup"><span data-stu-id="9f1f4-548"><dt>Ws2def.h (include Winsock2.h); </dt> <dt>Ws2ipdef.h (include Ws2tcpip.h); </dt> <dt>Wsipv6ok.h (include Winsock2.h)</dt></span></span> </dl> |
