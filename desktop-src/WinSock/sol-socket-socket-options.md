---
description: 下表說明 SOL \_ 通訊端通訊端選項。 如需取得和設定通訊端選項的詳細資訊，請參閱 getsockopt 和 setsockopt 函數參考頁面。
ms.assetid: 0cd0056e-0c33-4f6e-9f70-5417f8f8da4b
title: 'SOL_SOCKET 的通訊端選項 (Winsock2) '
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 0fbafca519c6068cd14fcbb15998bc9a25a5447b
ms.sourcegitcommit: 30ce00809dcba5b8df06813445c97ae204a901c5
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 05/13/2021
ms.locfileid: "109853977"
---
# <a name="sol_socket-socket-options"></a>SOL \_ 通訊端通訊端選項

下表說明 **SOL \_ 套** 接字通訊端選項。 如需取得和設定通訊端選項的詳細資訊，請參閱 [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) 和 [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) 函數參考頁面。

若要列舉通訊協定，並針對每個已安裝的通訊協定探索支援的屬性，請使用 [**WSAEnumProtocols**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa)、 [**WSCEnumProtocols**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumprotocols)或 [**WSCEnumProtocols32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumprotocols32) 函數。

有些通訊端選項需要比這些資料表可以傳達的更多說明;這類選項包含其他頁面的連結。

> [!Note]  
> 所有的 **SOL \_ 套** 接字通訊端選項同樣適用于 IPv4 和 IPv6 (但因為廣播未 \_ 在 IPv6) 中執行，所以廣播除外。

 

<dl> <dt><span id="SOL_SOCKET_Socket_Options"></span><span id="sol_socket_socket_options"></span><span id="SOL_SOCKET_SOCKET_OPTIONS"></span>**SOL \_ 通訊端通訊端選項**</dt> <dd> <dl> <dt> 

| 選項                                                   | Get | 設定 | Optval 類型                                      | 描述                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|----------------------------------------------------------|-----|-----|--------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| PVD \_ 設定                                              | 是 | 是 | 字元 \[\]                                        | 不透明的資料結構物件，其中包含服務提供者的設定資訊。 此選項與執行相依。                                                                                                                                                                                                                                                                                                                                                                                                   |
| \_ACCEPTCONN                                           | 是 |     | DWORD (布林值)                                   | 傳回通訊端是否處於接聽模式。 此選項只適用于連接導向的通訊協定。                                                                                                                                                                                                                                                                                                                                                                                                                               |
| \_廣播                                            | 是 | 是 | DWORD (布林值)                                   | 設定用來傳送廣播資料的通訊端。 此選項僅適用于支援廣播 (IPX 和 UDP 的通訊協定，例如) 。                                                                                                                                                                                                                                                                                                                                                                                              |
| [**所以 \_ BSP \_ 狀態**](so-bsp-state.md)                   | 是 |     | [**CSADDR \_ 資訊**](/windows/win32/api/ws2def/ns-ws2def-csaddr_info)            | 傳回通訊端使用的本機位址、本機埠、遠端位址、遠端埠、通訊端類型和通訊協定。 如需詳細資訊，請參閱： [**\_ BSP \_ 狀態**](so-bsp-state.md) 參考。                                                                                                                                                                                                                                                                                                                                            |
| [**因此 \_ 條件 \_ 接受**](so-conditional-accept.md) | 是 | 是 | DWORD (布林值)                                   | 指出應用程式是否接受或拒絕連入連線，而不是由通訊協定堆疊接受。 如需詳細資訊，請參閱「 [**\_ 條件式 \_ 接受**](so-conditional-accept.md) 參考」。                                                                                                                                                                                                                                                                                                                          |
| \_CONNDATA                                             | 是 | 是 | 字元 \[\]                                        | 其他資料，而不是一般網路資料流程，會隨著網路要求傳送以建立連線。 舊版通訊協定（例如 DECNet、OSI TP4 和其他通訊協定）會使用此選項。 Windows 中的 TCP/IP 通訊協定不支援這個選項。                                                                                                                                                                                                                                                                        |
| \_CONNDATALEN                                          |     | 是 | DWORD                                            | 與網路要求一起傳送以建立連線的額外資料長度（以位元組為單位），不在一般網路資料流程中。 舊版通訊協定（例如 DECNet、OSI TP4 和其他通訊協定）會使用此選項。 Windows 中的 TCP/IP 通訊協定不支援這個選項。                                                                                                                                                                                                                                               |
| \_連接 \_ 時間                                        | 是 |     | DWORD                                            | 傳回通訊端已連接的秒數。 此選項只適用于連接導向的通訊協定。                                                                                                                                                                                                                                                                                                                                                                                                                   |
| \_CONNOPT                                              | 是 | 是 | 字元 \[\]                                        | 其他連接選項資料（而不是一般網路資料流程）會隨網路要求傳送以建立連線。 舊版通訊協定（例如 DECNet、OSI TP4 和其他通訊協定）會使用此選項。 Windows 中的 TCP/IP 通訊協定不支援這個選項。                                                                                                                                                                                                                                                         |
| \_CONNOPTLEN                                           |     | 是 | DWORD                                            | 連接選項資料的長度（以位元組為單位），不在一般網路資料流程中，會隨著網路要求傳送以建立連線。 舊版通訊協定（例如 DECNet、OSI TP4 和其他通訊協定）會使用此選項。 Windows 中的 TCP/IP 通訊協定不支援這個選項。                                                                                                                                                                                                                                           |
| \_DISCDATA                                             | 是 | 是 | 字元 \[\]                                        | 額外的資料，而不是一般的網路資料流程，會隨著網路要求而傳送，以中斷連線連接。 舊版通訊協定（例如 DECNet、OSI TP4 和其他通訊協定）會使用此選項。 Windows 中的 TCP/IP 通訊協定不支援這個選項。                                                                                                                                                                                                                                                                       |
| \_DISCDATALEN                                          |     | 是 | DWORD                                            | 以位元組為單位，其他資料的長度（以位元組為單位），不在一般網路資料流程中，會隨著網路要求而傳送，以中斷連線連接。 舊版通訊協定（例如 DECNet、OSI TP4 和其他通訊協定）會使用此選項。 Windows 中的 TCP/IP 通訊協定不支援這個選項。                                                                                                                                                                                                                                              |
| \_DISCOPT                                              | 是 | 是 | 字元 \[\]                                        | 額外的中斷連接選項資料（而不是一般網路資料流程）會隨網路要求傳送以中斷連線。 舊版通訊協定（例如 DECNet、OSI TP4 和其他通訊協定）會使用此選項。 Windows 中的 TCP/IP 通訊協定不支援這個選項。                                                                                                                                                                                                                                                     |
| \_DISCOPTLEN                                           |     | 是 | DWORD                                            | 其他中斷連接選項資料的長度（以位元組為單位），不在一般網路資料流程中，會隨著網路要求傳送以中斷連線。 舊版通訊協定（例如 DECNet、OSI TP4 和其他通訊協定）會使用此選項。 Windows 中的 TCP/IP 通訊協定不支援這個選項。                                                                                                                                                                                                                            |
| \_DEBUG                                                | 是 | 是 | DWORD (布林值)                                   | 啟用調試輸出。 Microsoft 提供者目前不會輸出任何偵錯工具資訊。                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| \_DONTLINGER                                           | 是 | 是 | DWORD (布林值)                                   | 指出與通訊端相關聯之 [**逗留**](/windows/desktop/api/winsock/ns-winsock-linger)結構的 **l \_ onoff** 成員狀態。 如果這個成員為非零值，則在 [**導致 closesocket**](/windows/desktop/api/winsock/nf-winsock-closesocket) 函式呼叫之後，通訊端會保持開啟狀態一段指定的時間，以啟用要傳送的佇列資料。 此選項只適用于可靠的連線導向通訊協定。                                                                                                                                                                  |
| \_DONTROUTE                                            | 是 | 是 | DWORD (布林值)                                   | 指出傳出的資料應在通訊端所系結的任何介面上傳送，而不是在其他介面上路由傳送。 此選項只適用于訊息導向的通訊協定。 Microsoft 提供者會以無訊息方式略過此選項，並一律查閱路由表以找出適當的輸出介面。                                                                                                                                                                                                             |
| \_錯誤                                                | 是 |     | DWORD                                            | 傳回這個通訊端上的最後一個錯誤碼。 每個通訊端的錯誤碼不一定都會立即設定。                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [\_EXCLUSIVEADDRUSE](so-exclusiveaddruse.md)          | 是 | 是 | DWORD (布林值)                                   | 防止任何其他通訊端系結至相同的位址和埠。 呼叫系結函式之前，必須[](/windows/desktop/api/winsock/nf-winsock-bind)先設定這個選項。 如需詳細資訊，請參閱 [ \_ EXCLUSIVEADDRUSE](so-exclusiveaddruse.md) 參考。                                                                                                                                                                                                                                                                                                  |
| \_群組 \_ 識別碼                                            | 是 |     | 不帶正負號的整數                                     | 這個通訊端選項是保留的，不應該使用。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| \_群組 \_ 優先順序                                      | 是 | 是 | int                                              | 這個通訊端選項是保留的，不應該使用。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [**所以 \_ KEEPALIVE**](so-keepalive.md)                    | 是 | 是 | DWORD (布林值)                                   | 啟用通訊端連接的 keep-alive。 僅適用于支援 keep-alive (連接導向通訊協定) 的通訊協定。 若為 TCP，預設的 keep-alive timeout 為2小時，而 keep-alive 間隔為1秒。 預設的 keep-alive 探查數目會根據 Windows 版本而有所不同。 See the [**SO\_KEEPALIVE**](so-keepalive.md) reference for more information.                                                                                                                                     |
| \_延遲                                               | 是 | 是 | 結構延遲                                    | 指出與通訊端相關聯的 [**延遲**](/windows/desktop/api/winsock/ns-winsock-linger) 結構狀態。 如果 **延遲** 結構的 **l \_ onoff** 成員為非零值，則在 [**導致 closesocket**](/windows/desktop/api/winsock/nf-winsock-closesocket)函式呼叫之後，通訊端會保持開啟狀態一段指定的時間，以啟用要傳送的佇列資料。 要保持開啟狀態的時間長度（以秒為單位）會在 **延遲** 結構的 **l \_ 延遲** 成員中指定。 此選項只適用于可靠的連線導向通訊協定。                                |
| \_最大 \_ 訊息 \_ 大小                                       | 是 |     | DWORD                                            | 傳回通訊協定所支援之訊息導向通訊端的輸出訊息大小上限。 對資料流程導向通訊端沒有任何意義。                                                                                                                                                                                                                                                                                                                                                                                             |
| \_MAXDG                                                | 是 |     | DWORD                                            | 傳回通訊協定所支援之輸出資料包的大小上限（以位元組為單位）。 此通訊端選項對資料流程導向通訊端沒有任何意義。                                                                                                                                                                                                                                                                                                                                                                                      |
| \_MAXPATHDG                                            | 是 |     | DWORD                                            | 將通訊協定支援的輸出資料包的大小上限（以位元組為單位）傳給指定的目的地位址。 此通訊端選項對資料流程導向通訊端沒有任何意義。 Microsoft 提供者可能會以無訊息方式將此視為 \_ MAXDG。                                                                                                                                                                                                                                                                                             |
| \_OOBINLINE                                            | 是 | 是 | DWORD (布林值)                                   | 表示應該以定期資料的方式傳回外送資料。 此選項僅適用于支援頻外資料的連接導向通訊協定。                                                                                                                                                                                                                                                                                                                                                                 |
| 因此 \_ OPENTYPE                                             | 是 | 是 | DWORD                                            | 一旦設定，就會影響所建立的後續通訊端是否不會重迭。 此選項的可能值為 \_ 同步 \_ 警示，以及 \_ 同步 \_ NONALERT。 不應使用這個選項。 請改為使用 [**WSASocket**](/windows/desktop/api/Winsock2/nf-winsock2-wsasocketa)函式，並將 dwFlags 參數中的 WSA 旗標重迭 \_ 位保持 \_ 在關閉狀態。                                                                                                                                                                               |
| 因此 \_ 暫停 \_ 接受                                        | 是 | 是 | DWORD (布林值)                                    | 針對接聽通訊端，請使用此選項。 當設定此選項時，通訊端會以 RST 回應所有連入連線，而不是接受這些連接。                                                                                                                                                                                                                                                                                                                                                                                    |
| [**因此， \_ 埠擴充 \_ 性**](so-port-scalability.md)     | 是 | 是 | DWORD (布林值)                                   | 藉由為本機電腦上不同的本機位址埠組配置萬用字元埠，藉此為通訊端啟用本機通訊埠擴充。 在兩個選項都可以使用的平臺上，請使用 \_ \_ UNICASTPORT，而不是此選項。 如需詳細資訊，請參閱 [**\_ 埠擴充 \_ 性**](so-port-scalability.md) 參考。                                                                                                                                          |
| \_通訊協定 \_ 資訊                                       | 是 |     | [**WSAPROTOCOL \_ 資訊**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa)  | 如果已定義 UNICODE 宏，此選項會定義為 SO \_ PROTOCOL \_ INFOW socket 選項。 如果未定義 UNICODE 宏，則此選項會定義為 SO \_ PROTOCOL \_ INFOA socket 選項。                                                                                                                                                                                                                                                                                                                               |
| SO \_ PROTOCOL \_ INFOA                                      | 是 |     | [**WSAPROTOCOL \_ INFOA**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) | 傳回指定之通訊端的 [**WSAPROTOCOL \_ INFOA**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) 結構                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| SO \_ PROTOCOL \_ INFOW                                      | 是 |     | [**WSAPROTOCOL \_ INFOW**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) | 傳回指定之通訊端的 [**WSAPROTOCOL \_ INFOW**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) 結構                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 所以 \_ 隨機化 \_ 埠                                      | 是 | 是 | DWORD (布林值)                                            | 此選項應設定在未系結的通訊端上。 若已 \_ \_ 設定 [隨機化] 埠，且在通訊端上選取了暫時埠，則會系結隨機的埠號碼。 使用 UNICASTPORT 自動重複使用埠 (埠 \_ \_ ，) 也會隨機化傳回的埠，因此，如果應用程式設定為 \_ 重複使用 UNICASTPORT，然後 \_ 嘗試設定為 \_ 隨機化 \_ 埠，則第二個 [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) 呼叫會失敗。                                                                                                                 |
| \_RCVBUF                                               | 是 | 是 | DWORD                                            | 保留給接收的每個通訊端緩衝區空間總數。 這與「 \_ 最大訊息 \_ 大小」無關 \_ ，而且不一定會對應到 TCP 接收視窗的大小。                                                                                                                                                                                                                                                                                                                                                               |
| \_RCVLOWAT                                             | 是 | 是 | DWORD                                            | 從 BSD UNIX 提供的通訊端選項，可提供回溯相容性。 此選項會設定通訊端輸入作業要處理的最小位元組數目。 Windows TCP/IP 提供者不支援此選項。 如果在 Windows Vista 和更新版本上使用此選項， [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) 和 [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) 函數會失敗並出現 WSAEINVAL。 在舊版的 Windows 上，這些功能會因為 WSAENOPROTOOPT 而失敗。<br/>                                                                 |
| \_RCVTIMEO                                             | 是 | 是 | DWORD                                            | 封鎖接收呼叫的超時（以毫秒為單位）。 此選項的預設值為零，表示接收作業不會超時。如果封鎖接收呼叫超時，連接會處於不定狀態，而且應該會關閉。<br/> 如果通訊端是使用 [**WSASocket**](/windows/desktop/api/Winsock2/nf-winsock2-wsasocketa) 函式建立的，則 *dwFlags* 參數必須 \_ 設定 WSA 旗標 \_ 重迭屬性，讓 timeout 能夠正常運作。 否則，timeout 永遠不會生效。<br/>     |
| \_REUSEADDR                                            | 是 | 是 | DWORD (布林值)                                   | 允許通訊端系結至已在使用中的位址和埠。 SO \_ EXCLUSIVEADDRUSE 選項可以防止這種情況。                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 因此 \_ 重複使用 \_ UNICASTPORT                                   | 是 | 是 | DWORD (布林值)                                   | 設定時，允許暫時埠重複使用需要明確系結的 Winsock API 連接功能，例如 [**ConnectEx**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex)。 請注意，具有隱含系結的連接函式 (例如 [**沒有明確系**](/windows/desktop/api/winsock/nf-winsock-bind)結的 [**連接**](/windows/desktop/api/Winsock2/nf-winsock2-connect)) 預設會設定此選項。 使用這個選項，而不是在兩者皆可使用的平臺上進行 [**\_ 埠擴充 \_ 性**](so-port-scalability.md) 。                                                                                        |
| 因此 \_ 重複使用 \_ MULTICASTPORT                                 | 是 |     | DWORD                                            | 在通訊端上設定時，此選項表示將永遠不會使用通訊端來接收單播封包，因此其埠可以與其他多播應用程式共用。 將值設定為1，可讓您一律在埠上共用多播流量。 將值設定為 0 (預設值) 會停用此行為。                                                                                                                                                                                                     |
| \_SNDBUF                                               | 是 | 是 | DWORD                                            | 保留給傳送的每個通訊端緩衝區空間總數。 這與「 \_ 最大訊息 \_ 大小」無關 \_ ，而且不一定會對應至 TCP 傳送視窗的大小。                                                                                                                                                                                                                                                                                                                                                                       |
| \_SNDLOWAT                                             | 是 | 是 | DWORD                                            | 從 BSD UNIX 提供的通訊端選項，可提供回溯相容性。 此選項會設定通訊端輸出作業要處理的最小位元組數目。 Windows TCP/IP 提供者不支援此選項。 如果在 Windows Vista 和更新版本上使用此選項， [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) 和 [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) 函數會失敗並出現 WSAEINVAL。 在舊版的 Windows 上，這些功能會因為 WSAENOPROTOOPT 而失敗。<br/>                                                                |
| \_SNDTIMEO                                             | 是 | 是 | DWORD                                            | 封鎖傳送呼叫的超時（以毫秒為單位）。 此選項的預設值為零，表示傳送作業不會超時。如果封鎖的傳送呼叫超時，連接會處於不定狀態，而且應該會關閉。<br/> 如果通訊端是使用 [**WSASocket**](/windows/desktop/api/Winsock2/nf-winsock2-wsasocketa) 函式建立的，則 *dwFlags* 參數必須 \_ 設定 WSA 旗標 \_ 重迭屬性，讓 timeout 能夠正常運作。 否則，timeout 永遠不會生效。<br/>              |
| \_請輸入                                                 | 是 |     | DWORD                                            | 傳回指定之通訊端的通訊端類型 (SOCK \_ 資料流程或 SOCK \_ DGRAM，例如) 。                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| \_更新 \_ 接受 \_ 內容                              |     | 是 | DWORD (布林值)                                   | 此選項會與 [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) 函數搭配使用。 此選項會更新從接聽通訊端繼承之通訊端的屬性。 如果 [**getpeername**](/windows/desktop/api/winsock/nf-winsock-getpeername)、 [**getsockname**](/windows/desktop/api/winsock/nf-winsock-getsockname)、 [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt)或 [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) 函式要用於接受的通訊端，則應該設定此選項。                                                                                                                             |
| \_更新 \_ 連接 \_ 內容                             |     | 是 | DWORD (布林值)                                   | 此選項會搭配 [**ConnectEx**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex)、 [**WSAConnectByList**](/windows/desktop/api/Winsock2/nf-winsock2-wsaconnectbylist)和 [**WSAConnectByName**](/windows/desktop/api/Winsock2/nf-winsock2-wsaconnectbynamea) 函式使用。 此選項會在建立連接之後，更新通訊端的屬性。 如果要在連接的通訊端上使用 [**getpeername**](/windows/desktop/api/winsock/nf-winsock-getpeername)、 [**getsockname**](/windows/desktop/api/winsock/nf-winsock-getsockname)、 [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt)、 [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt)或 [**shutdown**](/windows/desktop/api/winsock/nf-winsock-shutdown) 函式，則應該設定此選項。 |
| \_USELOOPBACK                                          | 是 | 是 | DWORD (布林值)                                   | 從此通訊端傳送資料時，請使用本機回送位址。 只有當傳送的所有資料也會在本機接收時，才應該使用此選項。 Windows TCP/IP 提供者不支援此選項。 如果在 Windows Vista 和更新版本上使用此選項， [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) 和 [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) 函數會失敗並出現 WSAEINVAL。 在舊版的 Windows 上，這些功能會因為 WSAENOPROTOOPT 而失敗。<br/>                                                                    |



 

</dt> </dl> </dd> <dt><span id="Windows_Support_for_SOL_SOCKET_Options"></span><span id="windows_support_for_sol_socket_options"></span><span id="WINDOWS_SUPPORT_FOR_SOL_SOCKET_OPTIONS"></span>**適用于 SOL \_ 通訊端選項的 Windows 支援**</dt> <dd> <dl> <dt> 

| 選項                                          | Windows 10 | Windows 7 | Windows Server 2008 | Windows Vista | Windows Server 2003 | Windows XP | Windows 2000 | Windows NT4 | Windows 9x/我 |
|-------------------------------------------------|------------|-----------|---------------------|---------------|---------------------|------------|--------------|-------------|---------------|
| PVD \_ 設定                                     |            |           |                     |               |                     |            |              |             |               |
| \_ACCEPTCONN                                  | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| \_廣播                                   | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| [**所以 \_ BSP \_ 狀態**](so-bsp-state.md)          | x          | x         | x                   | x             |                     |            |              |             |               |
| 因此 \_ 條件 \_ 接受                         | x          | x         | x                   | x             | x                   | x          | x            |             |               |
| \_CONNDATA                                    | x          | x         | x                   | x             | x                   | x          | x            | x           |               |
| \_CONNDATALEN                                 | x          | x         | x                   | x             | x                   | x          | x            | x           |               |
| \_連接 \_ 時間                               | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| \_CONNOPT                                     | x          | x         | x                   | x             | x                   | x          | x            | x           |               |
| \_CONNOPTLEN                                  | x          | x         | x                   | x             | x                   | x          | x            | x           |               |
| \_DISCDATA                                    | x          | x         | x                   | x             | x                   | x          | x            | x           |               |
| \_DISCDATALEN                                 | x          | x         | x                   | x             | x                   | x          | x            | x           |               |
| \_DISCOPT                                     | x          | x         | x                   | x             | x                   | x          | x            | x           |               |
| \_DISCOPTLEN                                  | x          | x         | x                   | x             | x                   | x          | x            | x           |               |
| \_DEBUG                                       | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| \_DONTLINGER                                  | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| \_DONTROUTE                                   | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| \_錯誤                                       | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| [\_EXCLUSIVEADDRUSE](so-exclusiveaddruse.md) | x          | x         | x                   | x             | x                   | x          | x            | x SP4 +      |               |
| \_群組 \_ 識別碼                                   | x          | x         | x                   | x             |                     |            |              |             |               |
| \_群組 \_ 優先順序                             | x          | x         | x                   | x             |                     |            |              |             |               |
| 所以 \_ KEEPALIVE                                   | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| \_延遲                                      | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| \_最大 \_ 訊息 \_ 大小                              | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| \_MAXDG                                       | x          | x         | x                   | x             | x                   | x          | x            |             |               |
| \_MAXPATHDG                                   | x          | x         | x                   | x             | x                   | x          | x            |             |               |
| \_OOBINLINE                                   | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| 因此 \_ OPENTYPE                                    | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| 因此， \_ 埠擴充 \_ 性                           | x          | x         | x                   |               |                     |            |              |             |               |
| \_保護                                     |            |           |                     |               | x                   |            |              |             |               |
| \_通訊協定 \_ 資訊                              | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| SO \_ PROTOCOL \_ INFOA                             | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| SO \_ PROTOCOL \_ INFOW                             | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| \_RCVBUF                                      | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| \_RCVLOWAT                                    |            |           |                     |               |                     |            |              |             |               |
| \_RCVTIMEO                                    | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| 所以 \_ 隨機化 \_ 埠                             | x          | x         | x                   | x             |                     |            |              |             |               |
| \_REUSEADDR                                   | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| 因此 \_ 重複使用 \_ UNICASTPORT                          | x          |           |                     |               |                     |            |              |             |               |
| 因此 \_ 重複使用 \_ MULTICASTPORT                        | x          |           |                     |               |                     |            |              |             |               |
| \_SNDBUF                                      | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| \_SNDLOWAT                                    |            |           |                     |               |                     |            |              |             |               |
| \_SNDTIMEO                                    | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| \_請輸入                                        | x          | x         | x                   | x             | x                   | x          | x            | x           | x             |
| \_更新 \_ 接受 \_ 內容                     | x          | x         | x                   | x             | x                   | x          | x            | x           |               |
| \_更新 \_ 連接 \_ 內容                    | x          | x         | x                   | x             | x                   | x          |              |             |               |
| \_USELOOPBACK                                 |            |           |                     |               |                     |            |              |             |               |



 


</dt> </dl> </dd> </dl>

## <a name="remarks"></a>備註

**SOL \_ 套** 接字通訊端選項定義于數個 Winsock 標頭檔中：

-   *Winsock2. h*
-   *Mswsock。h*
-   *Ws2def。h*

在 Windows Vista （含）以後版本的 Microsoft Windows 軟體開發套件 (SDK) 上，標頭檔的組織已變更，且 **SOL \_ 通訊端** 層級定義于 *Ws2def .h* 標頭檔中，該檔案會自動包含在 *Winsock2* 標頭檔中。 部分 **SOL \_ 套** 接字通訊端選項定義于 *Winsock2* 和 *Mswsock* 標頭檔中。 其餘的 **SOL \_ 套** 接字通訊端選項定義于 *Ws2def .h* 標頭檔中，該檔案會自動包含在 *Winsock2* 標頭檔中。 不應直接使用 *Ws2def。*

在針對 Windows Server 2003 和 Windows XP 發行的平臺軟體發展工具組 (SDK) 中，會在 *Winsock2* 標頭檔中定義 **SOL \_ 通訊端** 層級。 **SOL \_ 套** 接字通訊端選項定義于 *Winsock2. h* 和 *Mswsock .h* 標頭檔中。

## <a name="requirements"></a>規格需求



| 需求 | 值 |
|-------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 標頭<br/> | <dl> <dt>Winsock2. h;</dt><dt>Mswsock .h;</dt><dt>Ws2def (包含 Winsock2) </dt> </dl> |



 

 
