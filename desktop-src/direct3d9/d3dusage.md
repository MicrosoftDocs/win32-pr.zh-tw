---
description: 識別如何使用資源的使用方式選項。
ms.assetid: c8823c39-8f17-441c-a42b-de3d7ec02f75
title: 'D3DUSAGE (D3d9types) '
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- D3DUSAGE_AUTOGENMIPMAP
- D3DUSAGE_DEPTHSTENCIL
- D3DUSAGE_DMAP
- D3DUSAGE_DONOTCLIP
- D3DUSAGE_DYNAMIC
- D3DUSAGE_NONSECURE
- D3DUSAGE_NPATCHES
- D3DUSAGE_POINTS
- D3DUSAGE_RENDERTARGET
- D3DUSAGE_RTPATCHES
- D3DUSAGE_SOFTWAREPROCESSING
- D3DUSAGE_TEXTAPI
- D3DUSAGE_WRITEONLY
- D3DUSAGE_RESTRICTED_CONTENT
- D3DUSAGE_RESTRICT_SHARED_RESOURCE
- D3DUSAGE_RESTRICT_SHARED_RESOURCE_DRIVER
api_type:
- HeaderDef
api_location:
- d3d9types.h
ms.openlocfilehash: 7f9a16fecc110a7bef8e6c065d8772ee72c46b77abf63857d23b734c555eba2d
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/11/2021
ms.locfileid: "119750588"
---
# <a name="d3dusage"></a>D3DUSAGE

識別如何使用資源的使用方式選項。

下表摘要說明可用的使用方式選項。



| 常數                                                                                                                                                                                                                                          | 描述                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="D3DUSAGE_AUTOGENMIPMAP"></span><span id="d3dusage_autogenmipmap"></span><dl> <dt>**D3DUSAGE \_ AUTOGENMIPMAP**</dt> </dl>                                                          | 資源將會自動產生 mipmap。 請參閱 [自動產生 mipmap (Direct3D 9) ](automatic-generation-of-mipmaps.md)。 磁片區材質和深度樣板表面/材質不支援自動產生 mipmap。 此使用方式對系統記憶體 (**D3DPOOL \_ SYSTEMMEM**) 中的資源無效。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="D3DUSAGE_DEPTHSTENCIL"></span><span id="d3dusage_depthstencil"></span><dl> <dt>**D3DUSAGE \_ DEPTHSTENCIL**</dt> </dl>                                                             | 資源將會是深度樣板緩衝區。 **D3DUSAGE \_DEPTHSTENCIL** 只能搭配 **D3DPOOL \_ 預設值** 使用。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="D3DUSAGE_DMAP"></span><span id="d3dusage_dmap"></span><dl> <dt>**D3DUSAGE \_ DMAP**</dt> </dl>                                                                                     | 資源將會是置換地圖。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span id="D3DUSAGE_DONOTCLIP"></span><span id="d3dusage_donotclip"></span><dl> <dt>**D3DUSAGE \_ DONOTCLIP**</dt> </dl>                                                                      | 設定以指出頂點緩衝區內容永遠不需要剪切。 使用已設定這個旗標的緩衝區轉譯時， **D3DRS \_ 裁剪** 轉譯狀態必須設定為 false。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="D3DUSAGE_DYNAMIC"></span><span id="d3dusage_dynamic"></span><dl> <dt>**D3DUSAGE \_ 動態**</dt> </dl>                                                                            | 設定以指出頂點緩衝區需要動態記憶體使用。 這對驅動程式很有用，因為它可讓它們決定緩衝區的放置位置。 一般而言，靜態頂點緩衝區會放置在視訊記憶體中，且動態頂點緩衝區會放置在 AGP 記憶體中。 請注意，沒有個別的靜態用途。 如果您未指定 **D3DUSAGE \_ 動態**，則會將頂點緩衝區設為靜態。 **D3DUSAGE \_動態** 是透過 **D3DLOCK \_ 捨棄** 和 **D3DLOCK \_ NOOVERWRITE** 鎖定旗標嚴格強制執行。 因此， **D3DLOCK \_ 捨棄** 和 **D3DLOCK \_ NOOVERWRITE** 只適用于使用 **D3DUSAGE \_ 動態** 建立的頂點緩衝區。 它們在靜態頂點緩衝區上是不正確旗標。 如需詳細資訊，請參閱 [管理資源 (Direct3D 9) ](managing-resources.md)。 <br/> 如需使用動態頂點緩衝區的詳細資訊，請參閱 [ (Direct3D 9) 的效能優化 ](performance-optimizations.md)。<br/> **D3DUSAGE \_動態** 和 **D3DPOOL \_ 管理** 都不相容，而且不應該一起使用。 請參閱 [**D3DPOOL**](./d3dpool.md)。<br/> 紋理可以指定 **D3DUSAGE \_ 動態**。 不過，managed 紋理無法使用 **D3DUSAGE \_ 動態**。 如需動態材質的詳細資訊，請參閱 [使用動態紋理](performance-optimizations.md)。 <br/> |
| <span id="D3DUSAGE_NONSECURE"></span><span id="d3dusage_nonsecure"></span><dl> <dt>**D3DUSAGE 不 \_ 安全**</dt> </dl>                                                                      | 允許安全應用程式所建立的共用介面，由具有共用控制碼的非安全應用程式開啟。 <br/> **Direct3d 9 與 Direct3d 9Ex 之間的差異：** 此旗標僅適用于 Direct3D 9Ex。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span id="D3DUSAGE_NPATCHES"></span><span id="d3dusage_npatches"></span><dl> <dt>**D3DUSAGE \_ NPATCHES**</dt> </dl>                                                                         | 設定以指出要使用頂點緩衝區來繪製 N 個修補程式。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="D3DUSAGE_POINTS"></span><span id="d3dusage_points"></span><dl> <dt>**D3DUSAGE \_ 點**</dt> </dl>                                                                               | 設定以表示頂點或索引緩衝區將用於繪製點 sprite。 如果需要軟體頂點處理來模擬點 sprite，緩衝區將會載入系統記憶體中。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="D3DUSAGE_RENDERTARGET"></span><span id="d3dusage_rendertarget"></span><dl> <dt>**D3DUSAGE \_ RENDERTARGET**</dt> </dl>                                                             | 資源將會是呈現目標。 **D3DUSAGE \_RENDERTARGET** 只能搭配 **D3DPOOL \_ 預設值** 使用。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span id="D3DUSAGE_RTPATCHES"></span><span id="d3dusage_rtpatches"></span><dl> <dt>**D3DUSAGE \_ RTPATCHES**</dt> </dl>                                                                      | 設定以指出要使用頂點緩衝區來繪製高序位基本專案。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span id="D3DUSAGE_SOFTWAREPROCESSING"></span><span id="d3dusage_softwareprocessing"></span><dl> <dt>**D3DUSAGE \_ SOFTWAREPROCESSING**</dt> </dl>                                           | 如果使用此旗標，則會在軟體中執行頂點處理。 如果未使用此旗標，則會在硬體中完成頂點處理。<br/> 當您針對該裝置啟用混合模式或軟體頂點處理 (**D3DCREATE \_ mixed \_ VERTEXPROCESSING** **\_**  /  **D3DCREATE \_ software \_ VERTEXPROCESSING**) 時，可以設定 D3DUSAGE SOFTWAREPROCESSING 旗標。 **D3DUSAGE \_** 必須針對要在混合模式中使用軟體頂點處理的緩衝區設定 SOFTWAREPROCESSING，但不應針對在混合模式中使用硬體索引處理的最佳效能進行設定， (**D3DCREATE \_ 硬體 \_ VERTEXPROCESSING**) 。 不過，當單一緩衝區同時搭配硬體和軟體頂點處理使用時，設定 **D3DUSAGE \_ SOFTWAREPROCESSING** 是唯一的選項。 **D3DUSAGE \_** 混合和軟體裝置允許 SOFTWAREPROCESSING。<br/> **D3DUSAGE \_SOFTWAREPROCESSING** 可搭配 [**CheckDeviceFormat**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat) 使用，以找出特定的材質格式是否可在軟體頂點處理期間當做頂點紋理來使用。 如果可以的話，就必須在 **D3DPOOL \_** 中建立紋理。<br/>                                                                                                                                                                 |
| <span id="D3DUSAGE_TEXTAPI"></span><span id="d3dusage_textapi"></span><dl> <dt>**D3DUSAGE \_ TEXTAPI**</dt> </dl>                                                                            | 您必須為頂點緩衝區和來源介面指定此使用旗標，以用於 [**ComposeRects**](/windows/desktop/api/d3d9/nf-d3d9-idirect3ddevice9ex-composerects)的呼叫。 使用此使用旗標建立的 T extures 無法用於材質篩選。 使用此使用方式旗標建立的頂點緩衝區不能當做輸入資料流程來源使用。 <br/> **Direct3d 9 與 Direct3d 9Ex 之間的差異：** 此旗標僅適用于 Direct3D 9Ex。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="D3DUSAGE_WRITEONLY"></span><span id="d3dusage_writeonly"></span><dl> <dt>**D3DUSAGE \_ WRITEONLY**</dt> </dl>                                                                      | 通知系統應用程式只寫入頂點緩衝區。 使用這個旗標可讓驅動程式選擇最佳的記憶體位置，以進行有效率的寫入作業和轉譯。 嘗試從使用這項功能建立的頂點緩衝區讀取將會失敗。 使用未指定 **D3DUSAGE \_ WRITEONLY** 的 **D3DPOOL \_ 預設** 所建立的緩衝區可能會受到嚴重的效能負面影響。 **D3DUSAGE \_WRITEONLY** 只會影響 **D3DPOOL \_ 預設** 緩衝區的效能。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span id="D3DUSAGE_RESTRICTED_CONTENT"></span><span id="d3dusage_restricted_content"></span><dl> <dt>**D3DUSAGE \_ 限制 \_ 內容**</dt> </dl>                                          | 設定此旗標表示資源可能包含受保護的內容。<br/> **Direct3d 9 與 Direct3d 9Ex 之間的差異：** 此旗標僅適用于 Direct3D 9Ex。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="D3DUSAGE_RESTRICT_SHARED_RESOURCE"></span><span id="d3dusage_restrict_shared_resource"></span><dl> <dt>**D3DUSAGE \_ 限制 \_ 共用 \_ 資源**</dt> </dl>                       | 設定此旗標表示應限制對共用資源的存取。 <br/> **Direct3d 9 與 Direct3d 9Ex 之間的差異：** 此旗標僅適用于 Direct3D 9Ex。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span id="D3DUSAGE_RESTRICT_SHARED_RESOURCE_DRIVER"></span><span id="d3dusage_restrict_shared_resource_driver"></span><dl> <dt>**D3DUSAGE \_ 限制 \_ 共用 \_ 資源 \_ 驅動程式**</dt> </dl> | 設定此旗標表示驅動程式應該限制對共用資源的存取。 呼叫端必須使用驅動程式來建立已驗證的通道。 接著，驅動程式應該允許存取嘗試開啟該共用資源的進程。<br/> **Direct3d 9 與 Direct3d 9Ex 之間的差異：** 此旗標僅適用于 Direct3D 9Ex。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |



## <a name="remarks"></a>備註

### <a name="usage-and-resource-combinations"></a>使用方式和資源組合

使用方式是在建立資源時指定，或使用 [**CheckDeviceType**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdevicetype) 指定以測試現有資源的功能。 下表將識別可套用至哪些資源類型的使用方式。



| 使用方式                            | 頂點緩衝區建立 | 索引緩衝區建立 | 材質建立 | Cube 材質建立 | 磁片區材質建立 | Surface 建立 | 檢查裝置格式 |
|----------------------------------|----------------------|---------------------|----------------|---------------------|-----------------------|----------------|---------------------|
| **D3DUSAGE \_ AUTOGENMIPMAP**      |                      |                     | x              | x                   |                       |                | x                   |
| **D3DUSAGE \_ DEPTHSTENCIL**       |                      |                     | x              | x                   |                       | x              | x                   |
| **D3DUSAGE \_ DMAP**               |                      |                     | x              |                     |                       |                | x                   |
| **D3DUSAGE \_ DONOTCLIP**          | x                    | x                   |                |                     |                       |                |                     |
| **D3DUSAGE \_ 動態**            | x                    | x                   | x              | x                   | x                     |                | x                   |
| **D3DUSAGE 不 \_ 安全**          | x                    | x                   | x              | x                   | x                     | x              | x                   |
| **D3DUSAGE \_ NPATCHES**           | x                    | x                   |                |                     |                       |                |                     |
| **D3DUSAGE \_ 點**             | x                    | x                   |                |                     |                       |                |                     |
| **D3DUSAGE \_ RTPATCHES**          | x                    | x                   |                |                     |                       |                |                     |
| **D3DUSAGE \_ RENDERTARGET**       |                      |                     | x              | x                   |                       | x              | x                   |
| **D3DUSAGE \_ SOFTWAREPROCESSING** | x                    | x                   | x              | x                   | x                     |                | x                   |
| **D3DUSAGE \_ TEXTAPI**            | x                    |                     | x              |                     |                       |                |                     |
| **D3DUSAGE \_ WRITEONLY**          | x                    | x                   |                |                     |                       |                |                     |



 

使用 [**CheckDeviceFormat**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat) 來檢查這些使用方式的硬體支援。

這裡列出每個資源建立方法。

-   [**CreateCubeTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createcubetexture)
-   [**CreateDepthStencilSurface**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createdepthstencilsurface)
-   [**CreateIndexBuffer**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createindexbuffer)
-   [**CreateOffscreenPlainSurface**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createoffscreenplainsurface)
-   [**CreateRenderTarget**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createrendertarget)
-   [**CreateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createtexture)
-   [**CreateVertexBuffer**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createvertexbuffer)
-   [**CreateVolumeTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createvolumetexture)

[D3DXCreatexxx](dx9-graphics-reference-d3dx-functions-texture.md)紋理函式也會使用這些常數值來建立資源。

如需集區類型的詳細資訊及其對特定使用方式的限制，請參閱 [**D3DPOOL**](./d3dpool.md)。

## <a name="requirements"></a>規格需求



| 需求 | 值 |
|-------------------|----------------------------------------------------------------------------------------|
| 標頭<br/> | <dl> <dt>D3d9types。h</dt> </dl> |



## <a name="see-also"></a>另請參閱

<dl> <dt>

[Direct3D 常數](dx9-graphics-reference-d3d-constants.md)
</dt> <dt>

[D3DUSAGE \_ 查詢](d3dusage-query.md)
</dt> <dt>

[**D3DDECLUSAGE**](./d3ddeclusage.md)
</dt> <dt>

[**D3DPOOL**](./d3dpool.md)
</dt> </dl>

 

 
