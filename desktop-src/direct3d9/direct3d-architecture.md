---
description: 本主題提供 Direct3D 架構的兩個高階觀點：
ms.assetid: ed08b4c8-fdd9-46fb-a2be-c2fb15af2dc6
title: Direct3D 架構 (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e557b7a36aadcaa8b96899047a721741ecef2156
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/06/2021
ms.locfileid: "104109168"
---
# <a name="direct3d-architecture-direct3d-9"></a><span data-ttu-id="06ff5-103">Direct3D 架構 (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="06ff5-103">Direct3D Architecture (Direct3D 9)</span></span>

<span data-ttu-id="06ff5-104">本主題提供 Direct3D 架構的兩個高階觀點：</span><span class="sxs-lookup"><span data-stu-id="06ff5-104">This topic provides two high-level views of the architecture of Direct3D:</span></span>

-   <span data-ttu-id="06ff5-105">[Direct3d 圖形管線](#direct3d-graphics-pipeline) -direct3d 轉譯系統內部處理架構的觀點。</span><span class="sxs-lookup"><span data-stu-id="06ff5-105">[Direct3D Graphics Pipeline](#direct3d-graphics-pipeline) - A view of the internal processing architecture of the Direct3D rendering system.</span></span>
-   <span data-ttu-id="06ff5-106">[Direct3d 系統整合](#direct3d-system-integration) ： direct3d 如何在應用程式和圖形硬體之間進行協調的觀點。</span><span class="sxs-lookup"><span data-stu-id="06ff5-106">[Direct3D System Integration](#direct3d-system-integration) - A view of how Direct3D mediates between an application and the graphics hardware.</span></span>

## <a name="direct3d-graphics-pipeline"></a><span data-ttu-id="06ff5-107">Direct3D 圖形管線</span><span class="sxs-lookup"><span data-stu-id="06ff5-107">Direct3D Graphics Pipeline</span></span>

<span data-ttu-id="06ff5-108">圖形管線提供強大的功能，可有效率地處理和轉譯 Direct3D 場景至顯示器，利用可用的硬體。</span><span class="sxs-lookup"><span data-stu-id="06ff5-108">The graphics pipeline provides the horsepower to efficiently process and render Direct3D scenes to a display, taking advantage of available hardware.</span></span> <span data-ttu-id="06ff5-109">下圖顯示管線的建立區塊：</span><span class="sxs-lookup"><span data-stu-id="06ff5-109">The following diagram shows the building blocks of the pipeline:</span></span>

![direct3d 圖形管線的圖表](images/blockdiag-graphics.png)



| <span data-ttu-id="06ff5-111">管線元件</span><span class="sxs-lookup"><span data-stu-id="06ff5-111">Pipeline Component</span></span>  | <span data-ttu-id="06ff5-112">Description</span><span class="sxs-lookup"><span data-stu-id="06ff5-112">Description</span></span>                                                                                                                                                                                      | <span data-ttu-id="06ff5-113">[相關主題]</span><span class="sxs-lookup"><span data-stu-id="06ff5-113">Related Topics</span></span>                                                                                                                                                                                             |
|---------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="06ff5-114">頂點資料</span><span class="sxs-lookup"><span data-stu-id="06ff5-114">Vertex Data</span></span>         | <span data-ttu-id="06ff5-115">未轉換模型頂點會儲存在頂點記憶體緩衝區中。</span><span class="sxs-lookup"><span data-stu-id="06ff5-115">Untransformed model vertices are stored in vertex memory buffers.</span></span>                                                                                                                                | <span data-ttu-id="06ff5-116">[ (Direct3D 9) ](vertex-buffers.md)、IDirect3DVertexBuffer9 的頂點緩衝區[ ](/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3dvertexbuffer9)</span><span class="sxs-lookup"><span data-stu-id="06ff5-116">[Vertex Buffers (Direct3D 9)](vertex-buffers.md), [**IDirect3DVertexBuffer9**](/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3dvertexbuffer9)</span></span>                                                                                                |
| <span data-ttu-id="06ff5-117">基本資料</span><span class="sxs-lookup"><span data-stu-id="06ff5-117">Primitive Data</span></span>      | <span data-ttu-id="06ff5-118">幾何基本類型（包括點、線條、三角形和多邊形）會在具有索引緩衝區的頂點資料中參考。</span><span class="sxs-lookup"><span data-stu-id="06ff5-118">Geometric primitives, including points, lines, triangles, and polygons, are referenced in the vertex data with index buffers.</span></span>                                                                    | <span data-ttu-id="06ff5-119"> (direct3d 9 的 [索引緩衝區)](index-buffers.md)、 [**IDirect3DIndexBuffer9**](/windows/desktop/api)、[基本](primitives.md)專案、[高序位的基本專案 (direct3d 9)](higher-order-primitives.md)</span><span class="sxs-lookup"><span data-stu-id="06ff5-119">[Index Buffers (Direct3D 9)](index-buffers.md), [**IDirect3DIndexBuffer9**](/windows/desktop/api), [Primitives](primitives.md), [Higher-Order Primitives (Direct3D 9)](higher-order-primitives.md)</span></span> |
| <span data-ttu-id="06ff5-120">鑲嵌</span><span class="sxs-lookup"><span data-stu-id="06ff5-120">Tessellation</span></span>        | <span data-ttu-id="06ff5-121">Tesselator 單位會將高序位基本、置換地圖和網狀修補程式轉換成頂點位置，並將這些位置儲存在頂點緩衝區中。</span><span class="sxs-lookup"><span data-stu-id="06ff5-121">The tesselator unit converts higher-order primitives, displacement maps, and mesh patches to vertex locations and stores those locations in vertex buffers.</span></span>                                      | [<span data-ttu-id="06ff5-122"> (Direct3D 9) 的鑲嵌 </span><span class="sxs-lookup"><span data-stu-id="06ff5-122">Tessellation (Direct3D 9)</span></span>](tessellation.md)                                                                                                                                                              |
| <span data-ttu-id="06ff5-123">頂點處理</span><span class="sxs-lookup"><span data-stu-id="06ff5-123">Vertex Processing</span></span>   | <span data-ttu-id="06ff5-124">Direct3D 轉換適用于儲存在頂點緩衝區中的頂點。</span><span class="sxs-lookup"><span data-stu-id="06ff5-124">Direct3D transformations are applied to vertices stored in the vertex buffer.</span></span>                                                                                                                    | [<span data-ttu-id="06ff5-125"> (Direct3D 9) 的頂點管線 </span><span class="sxs-lookup"><span data-stu-id="06ff5-125">Vertex Pipeline (Direct3D 9)</span></span>](vertex-pipeline.md)                                                                                                                                                        |
| <span data-ttu-id="06ff5-126">幾何處理</span><span class="sxs-lookup"><span data-stu-id="06ff5-126">Geometry Processing</span></span> | <span data-ttu-id="06ff5-127">裁剪、背面的臉部剔除、屬性評估和柵格化都會套用至轉換的頂點。</span><span class="sxs-lookup"><span data-stu-id="06ff5-127">Clipping, back face culling, attribute evaluation, and rasterization are applied to the transformed vertices.</span></span>                                                                                    | [<span data-ttu-id="06ff5-128"> (Direct3D 9) 的圖元管線 </span><span class="sxs-lookup"><span data-stu-id="06ff5-128">Pixel Pipeline (Direct3D 9)</span></span>](pixel-pipeline.md)                                                                                                                                                          |
| <span data-ttu-id="06ff5-129">紋理表面</span><span class="sxs-lookup"><span data-stu-id="06ff5-129">Textured Surface</span></span>    | <span data-ttu-id="06ff5-130">Direct3D 表面的材質座標會透過 [**IDirect3DTexture9**](/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3dtexture9) 介面提供給 direct3d。</span><span class="sxs-lookup"><span data-stu-id="06ff5-130">Texture coordinates for Direct3D surfaces are supplied to Direct3D through the [**IDirect3DTexture9**](/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3dtexture9) interface.</span></span>                                                         | <span data-ttu-id="06ff5-131">[Direct3d 材質 (direct3d 9)](direct3d-textures.md)、 [ **IDirect3DTexture9**](/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3dtexture9)</span><span class="sxs-lookup"><span data-stu-id="06ff5-131">[Direct3D Textures (Direct3D 9)](direct3d-textures.md), [**IDirect3DTexture9**](/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3dtexture9)</span></span>                                                                                                    |
| <span data-ttu-id="06ff5-132">紋理取樣器</span><span class="sxs-lookup"><span data-stu-id="06ff5-132">Texture Sampler</span></span>     | <span data-ttu-id="06ff5-133">材質層級詳細資料篩選會套用至輸入材質值。</span><span class="sxs-lookup"><span data-stu-id="06ff5-133">Texture level-of-detail filtering is applied to input texture values.</span></span>                                                                                                                            | [<span data-ttu-id="06ff5-134">Direct3d 材質 (Direct3D 9) </span><span class="sxs-lookup"><span data-stu-id="06ff5-134">Direct3D Textures (Direct3D 9)</span></span>](direct3d-textures.md)                                                                                                                                                    |
| <span data-ttu-id="06ff5-135">圖元處理</span><span class="sxs-lookup"><span data-stu-id="06ff5-135">Pixel Processing</span></span>    | <span data-ttu-id="06ff5-136">圖元著色器作業會使用幾何資料來修改輸入頂點和材質資料，產生輸出圖元色彩值。</span><span class="sxs-lookup"><span data-stu-id="06ff5-136">Pixel shader operations use geometry data to modify input vertex and texture data, yielding output pixel color values.</span></span>                                                                           | [<span data-ttu-id="06ff5-137"> (Direct3D 9) 的圖元管線 </span><span class="sxs-lookup"><span data-stu-id="06ff5-137">Pixel Pipeline (Direct3D 9)</span></span>](pixel-pipeline.md)                                                                                                                                                          |
| <span data-ttu-id="06ff5-138">圖元轉譯</span><span class="sxs-lookup"><span data-stu-id="06ff5-138">Pixel Rendering</span></span>     | <span data-ttu-id="06ff5-139">最終轉譯程式會使用 Alpha、深度或樣板測試修改圖元色彩值，或是套用 Alpha 混色或霧化來修改圖元色彩值。</span><span class="sxs-lookup"><span data-stu-id="06ff5-139">Final rendering processes modify pixel color values with alpha, depth, or stencil testing, or by applying alpha blending or fog.</span></span> <span data-ttu-id="06ff5-140">所有產生的圖元值都會顯示在輸出顯示中。</span><span class="sxs-lookup"><span data-stu-id="06ff5-140">All resulting pixel values are presented to the output display.</span></span> | [<span data-ttu-id="06ff5-141"> (Direct3D 9) 的圖元管線 </span><span class="sxs-lookup"><span data-stu-id="06ff5-141">Pixel Pipeline (Direct3D 9)</span></span>](pixel-pipeline.md)                                                                                                                                                          |



 

## <a name="direct3d-system-integration"></a><span data-ttu-id="06ff5-142">Direct3D 系統整合</span><span class="sxs-lookup"><span data-stu-id="06ff5-142">Direct3D System Integration</span></span>

<span data-ttu-id="06ff5-143">下圖顯示視窗應用程式、Direct3D、GDI 和硬體之間的關聯性：</span><span class="sxs-lookup"><span data-stu-id="06ff5-143">The following diagram shows the relationships between a Window application, Direct3D,GDI, and the hardware:</span></span>

![direct3d 與其他系統元件之間關聯性的圖表](images/d3dsysint.png)

<span data-ttu-id="06ff5-145">Direct3D 會向應用程式公開與裝置無關的介面。</span><span class="sxs-lookup"><span data-stu-id="06ff5-145">Direct3D exposes a device-independent interface to an application.</span></span> <span data-ttu-id="06ff5-146">Direct3D 應用程式可以與 GDI 應用程式並存，而且兩者都可以透過圖形配接器的設備磁碟機存取電腦的圖形硬體。</span><span class="sxs-lookup"><span data-stu-id="06ff5-146">Direct3D applications can exist alongside GDI applications, and both have access to the computer's graphics hardware through the device driver for the graphics card.</span></span> <span data-ttu-id="06ff5-147">與 GDI 不同的是，Direct3D 可以藉由建立 hal 裝置來利用硬體功能。</span><span class="sxs-lookup"><span data-stu-id="06ff5-147">Unlike GDI, Direct3D can take advantage of hardware features by creating a hal device.</span></span>

<span data-ttu-id="06ff5-148">Hal 裝置會根據圖形配接器所支援的功能集，提供硬體加速給圖形管線功能。</span><span class="sxs-lookup"><span data-stu-id="06ff5-148">A hal device provides hardware acceleration to graphics pipeline functions, based upon the feature set supported by the graphics card.</span></span> <span data-ttu-id="06ff5-149">系統會提供 Direct3D 方法，以在執行時間取得裝置顯示功能。</span><span class="sxs-lookup"><span data-stu-id="06ff5-149">Direct3D methods are provided to retrieve device display capabilities at run time.</span></span> <span data-ttu-id="06ff5-150"> (參閱 [**IDirect3DDevice9：： GetDeviceCaps**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-getdevicecaps)) 。如果硬體未提供某項功能，則 hal 不會將它報告為硬體功能。</span><span class="sxs-lookup"><span data-stu-id="06ff5-150">(See [**IDirect3DDevice9::GetDeviceCaps**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-getdevicecaps).) If a capability is not provided by the hardware, the hal does not report it as a hardware capability.</span></span>

<span data-ttu-id="06ff5-151">如需 Direct3D 所支援之 hal 和參考裝置的詳細資訊，請參閱 [ (direct3d 9) 的裝置類型 ](device-types.md)。</span><span class="sxs-lookup"><span data-stu-id="06ff5-151">For more information about hal and reference devices supported by Direct3D, see [Device Types (Direct3D 9)](device-types.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="06ff5-152">相關主題</span><span class="sxs-lookup"><span data-stu-id="06ff5-152">Related topics</span></span>

[<span data-ttu-id="06ff5-153">快速入門</span><span class="sxs-lookup"><span data-stu-id="06ff5-153">Getting Started</span></span>](getting-started.md)
