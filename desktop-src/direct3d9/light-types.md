---
description: 光源類型屬性定義您正在使用的光源類型。
ms.assetid: 7718383a-6e49-4ad2-acc1-fc8fec0d4844
title: " (Direct3D 9) 的燈光類型"
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 39ae2c7fd5380b0f604181f36d784afe3f3fc3ff
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/06/2021
ms.locfileid: "104025600"
---
# <a name="light-types-direct3d-9"></a><span data-ttu-id="d30e7-103"> (Direct3D 9) 的燈光類型</span><span class="sxs-lookup"><span data-stu-id="d30e7-103">Light Types (Direct3D 9)</span></span>

<span data-ttu-id="d30e7-104">光源類型屬性定義您正在使用的光源類型。</span><span class="sxs-lookup"><span data-stu-id="d30e7-104">The light type property defines which type of light source you're using.</span></span> <span data-ttu-id="d30e7-105">Light 型別是使用 [**D3DLIGHTTYPE**](./d3dlighttype.md) c + + 列舉中的值，在光線 [**D3DLIGHT9**](d3dlight9.md) 結構的型別成員中進行設定。</span><span class="sxs-lookup"><span data-stu-id="d30e7-105">The light type is set by using a value from the [**D3DLIGHTTYPE**](./d3dlighttype.md) C++ enumeration in the Type member of the light's [**D3DLIGHT9**](d3dlight9.md) structure.</span></span> <span data-ttu-id="d30e7-106">Direct3D 中有三種光線類型 - 點狀光源、聚光燈和方向燈。</span><span class="sxs-lookup"><span data-stu-id="d30e7-106">There are three types of lights in Direct3D - point lights, spotlights, and directional lights.</span></span> <span data-ttu-id="d30e7-107">每個類型運用不同等級的計算負荷，以不同方式照亮場景中的物件。</span><span class="sxs-lookup"><span data-stu-id="d30e7-107">Each type illuminates objects in a scene differently, with varying levels of computational overhead.</span></span>

## <a name="point-light"></a><span data-ttu-id="d30e7-108">點狀光源</span><span class="sxs-lookup"><span data-stu-id="d30e7-108">Point Light</span></span>

<span data-ttu-id="d30e7-109">點狀光源在場景中有色彩和位置，但無單一方向。</span><span class="sxs-lookup"><span data-stu-id="d30e7-109">Point lights have color and position within a scene, but no single direction.</span></span> <span data-ttu-id="d30e7-110">他們在所有方向發出同樣的光，如下圖所示。</span><span class="sxs-lookup"><span data-stu-id="d30e7-110">They give off light equally in all directions, as shown in the following illustration.</span></span>

![點狀光源的圖例](images/ptlight.png)

<span data-ttu-id="d30e7-112">燈泡是使用點狀光源的好範例。</span><span class="sxs-lookup"><span data-stu-id="d30e7-112">A light bulb is a good example of a point light.</span></span> <span data-ttu-id="d30e7-113">點狀光源會受到衰減和範圍的影片，並逐頂點照亮網格。</span><span class="sxs-lookup"><span data-stu-id="d30e7-113">Point lights are affected by attenuation and range, and illuminate a mesh on a vertex-by-vertex basis.</span></span> <span data-ttu-id="d30e7-114">在照明期間，Direct3D 在世界空間使用點狀光源位置及頂點座標，點亮以衍生光線的方向向量，以及光線行進的距離。</span><span class="sxs-lookup"><span data-stu-id="d30e7-114">During lighting, Direct3D uses the point light's position in world space and the coordinates of the vertex being lit to derive a vector for the direction of the light, and the distance that the light has traveled.</span></span> <span data-ttu-id="d30e7-115">並隨著頂點法線使用兩者，以計算光線對表面照明的貢獻。</span><span class="sxs-lookup"><span data-stu-id="d30e7-115">Both are used, along with the vertex normal, to calculate the contribution of the light to the illumination of the surface.</span></span>

## <a name="directional-light"></a><span data-ttu-id="d30e7-116">方向燈</span><span class="sxs-lookup"><span data-stu-id="d30e7-116">Directional Light</span></span>

<span data-ttu-id="d30e7-117">方向光源有只色彩和方向，不含位置。</span><span class="sxs-lookup"><span data-stu-id="d30e7-117">Directional lights have only color and direction, not position.</span></span> <span data-ttu-id="d30e7-118">他們發出平行光線。</span><span class="sxs-lookup"><span data-stu-id="d30e7-118">They emit parallel light.</span></span> <span data-ttu-id="d30e7-119">這表示方向光源產生的所有光線，均透過場景同方向行進。</span><span class="sxs-lookup"><span data-stu-id="d30e7-119">This means that all light generated by directional lights travels through a scene in the same direction.</span></span> <span data-ttu-id="d30e7-120">請想像方向光線為附近無限距離的光源，例如陽光。</span><span class="sxs-lookup"><span data-stu-id="d30e7-120">Imagine a directional light as a light source at near infinite distance, such as the sun.</span></span> <span data-ttu-id="d30e7-121">方向光源不受衰減或範圍的影響，因此當 Direct3D 計算頂點色彩時，您指定的方向與色彩為認定的唯一係數。</span><span class="sxs-lookup"><span data-stu-id="d30e7-121">Directional lights are not affected by attenuation or range, so the direction and color you specify are the only factors considered when Direct3D calculates vertex colors.</span></span> <span data-ttu-id="d30e7-122">由於照明係數少，這些都是可使用的最少計算密集型光線。</span><span class="sxs-lookup"><span data-stu-id="d30e7-122">Because of the small number of illumination factors, these are the least computationally intensive lights to use.</span></span>

## <a name="spotlight"></a><span data-ttu-id="d30e7-123">聚光燈</span><span class="sxs-lookup"><span data-stu-id="d30e7-123">SpotLight</span></span>

<span data-ttu-id="d30e7-124">聚光燈有色彩、位置及發光方向。</span><span class="sxs-lookup"><span data-stu-id="d30e7-124">Spotlights have color, position, and direction in which they emit light.</span></span> <span data-ttu-id="d30e7-125">從聚光燈發出的光線由明亮內錐和較大的外錐體組成，兩者之間的光照強度減弱，如下圖所示。</span><span class="sxs-lookup"><span data-stu-id="d30e7-125">Light emitted from a spotlight is made up of a bright inner cone and a larger outer cone, with the light intensity diminishing between the two, as shown in the following illustration.</span></span>

![具內錐和外錐體的聚光燈圖例](images/spotlt.png)

<span data-ttu-id="d30e7-127">聚光燈受衰退、衰減及範圍的影片。</span><span class="sxs-lookup"><span data-stu-id="d30e7-127">Spotlights are affected by falloff, attenuation, and range.</span></span> <span data-ttu-id="d30e7-128">這些係數及行進至每個頂點的距離，會在計算場景中的物件照明效果時計入。</span><span class="sxs-lookup"><span data-stu-id="d30e7-128">These factors, as well as the distance light travels to each vertex, are figured in when computing lighting effects for objects in a scene.</span></span> <span data-ttu-id="d30e7-129">為每個頂點運算這些效果，使聚光燈成為 Direct3D 所有光線中運算時間最長者。</span><span class="sxs-lookup"><span data-stu-id="d30e7-129">Computing these effects for each vertex makes spotlights the most computationally time-consuming of all lights in Direct3D.</span></span>

<span data-ttu-id="d30e7-130">[**D3DLIGHT9**](d3dlight9.md) c + + 結構包含三個只由聚光燈使用的成員。</span><span class="sxs-lookup"><span data-stu-id="d30e7-130">The [**D3DLIGHT9**](d3dlight9.md) C++ structure contains three members that are used only by spotlights.</span></span> <span data-ttu-id="d30e7-131">這些成員（衰減、Theta 和 Phi）控制焦點物件內部和外部圓錐的大小或小，以及光線之間的減少量。</span><span class="sxs-lookup"><span data-stu-id="d30e7-131">These members - Falloff, Theta, and Phi - control how large or small a spotlight object's inner and outer cones are, and how light decreases between them.</span></span>

<span data-ttu-id="d30e7-132">Theta 值是焦點內部錐形的弧度角度，而 Phi 值則是淺外部錐形的角度。</span><span class="sxs-lookup"><span data-stu-id="d30e7-132">The Theta value is the radian angle of the spotlight's inner cone, and the Phi value is the angle for the outer cone of light.</span></span> <span data-ttu-id="d30e7-133">衰減值會控制在內部錐形的外部邊緣和外部錐形的內部邊緣之間，光線濃度如何減少。</span><span class="sxs-lookup"><span data-stu-id="d30e7-133">The Falloff value controls how light intensity decreases between the outer edge of the inner cone and the inner edge of the outer cone.</span></span> <span data-ttu-id="d30e7-134">大部分應用程式將衰退設定為 1.0 以建立兩個錐體之間平均發生的衰退，但您可以視需要設定其他值。</span><span class="sxs-lookup"><span data-stu-id="d30e7-134">Most applications set Falloff to 1.0 to create falloff that occurs evenly between the two cones, but you can set other values as needed.</span></span>

<span data-ttu-id="d30e7-135">下圖顯示這些成員的值之間的關聯性，以及它們如何影響焦點的內部和外部圓錐。</span><span class="sxs-lookup"><span data-stu-id="d30e7-135">The following illustration shows the relationship between the values for these members and how they can affect a spotlight's inner and outer cones of light.</span></span>

![了解 phi 值和 theta 值如何與聚光燈錐體相關聯](images/spotlt2.png)

<span data-ttu-id="d30e7-137">聚光燈發出的光線錐體分兩部分︰明亮的內錐和外錐體。</span><span class="sxs-lookup"><span data-stu-id="d30e7-137">Spotlights emit a cone of light that has two parts: a bright inner cone and an outer cone.</span></span> <span data-ttu-id="d30e7-138">光線是內錐體中最明亮者，且未出現在外錐體外面，而兩個區域之間的亮度衰減中。</span><span class="sxs-lookup"><span data-stu-id="d30e7-138">Light is brightest in the inner cone and isn't present outside the outer cone, with light intensity attenuating between the two areas.</span></span> <span data-ttu-id="d30e7-139">這種類型的衰減通常稱為衰退。</span><span class="sxs-lookup"><span data-stu-id="d30e7-139">This type of attenuation is commonly referred to as falloff.</span></span>

<span data-ttu-id="d30e7-140">頂點接收的光線量是以內錐和外錐體中頂點位置為基礎。</span><span class="sxs-lookup"><span data-stu-id="d30e7-140">The amount of light a vertex receives is based on the vertex's location in the inner or outer cones.</span></span> <span data-ttu-id="d30e7-141">Direct3D 計算聚光燈之方向向量 (L) 的內積，和光線到頂點 (D) 之向量。</span><span class="sxs-lookup"><span data-stu-id="d30e7-141">Direct3D computes the dot product of the spotlight's direction vector (L) and the vector from the light to the vertex (D).</span></span> <span data-ttu-id="d30e7-142">這個值等於兩個向量之間的餘弦角，充當頂點位置的指標，可與光線圓錐體角度做比較，以判斷頂點可能會位於內錐或外錐中的何處。</span><span class="sxs-lookup"><span data-stu-id="d30e7-142">This value is equal to the cosine of the angle between the two vectors, and serves as an indicator of the vertex's position that can be compared to the light's cone angles to determine where the vertex might lie in the inner or outer cones.</span></span> <span data-ttu-id="d30e7-143">下圖提供圖形表示這兩個向量之間的關聯。</span><span class="sxs-lookup"><span data-stu-id="d30e7-143">The following illustration provides a graphical representation of the association between these two vectors.</span></span>

![聚光燈方向向量和頂點到聚光燈向量的圖例](images/spotalg1.png)

<span data-ttu-id="d30e7-145">系統會比較此值和聚光燈之內錐和外錐角度的餘弦。</span><span class="sxs-lookup"><span data-stu-id="d30e7-145">The system compares this value to the cosine of the spotlight's inner and outer cone angles.</span></span> <span data-ttu-id="d30e7-146">在光線的 [**D3DLIGHT9**](d3dlight9.md) 結構中，Theta 和 Phi 成員代表內部和外部錐形的錐形角度總計。</span><span class="sxs-lookup"><span data-stu-id="d30e7-146">In the light's [**D3DLIGHT9**](d3dlight9.md) structure, the Theta and Phi members represent the total cone angles for the inner and outer cones.</span></span> <span data-ttu-id="d30e7-147">當頂點離照明中心更遠 (而不是跨總圓錐角度) 便會發生衰減，因為執行階段將這些圓錐角度分成一半。</span><span class="sxs-lookup"><span data-stu-id="d30e7-147">Because the attenuation occurs as the vertex becomes more distant from the center of illumination (rather than across the total cone angle), the runtime divides these cone angles in half before calculating their cosines.</span></span>

<span data-ttu-id="d30e7-148">如果向量 L 和 D 的內積小於或等於外錐體角度，頂點落外錐以外，且收不到光線。</span><span class="sxs-lookup"><span data-stu-id="d30e7-148">If the dot product of vectors L and D is less than or equal to the cosine of the outer cone angle, the vertex lies beyond the outer cone and receives no light.</span></span> <span data-ttu-id="d30e7-149">如果 L 和 D 的內積大於內錐角的餘弦，而頂點位於內錐之內，且收到最大光線量，仍要思考因距離而衰減情況。</span><span class="sxs-lookup"><span data-stu-id="d30e7-149">If the dot product of L and D is greater than the cosine of the inner cone angle, then the vertex is within the inner cone and receives the maximum amount of light, still considering attenuation over distance.</span></span> <span data-ttu-id="d30e7-150">如果頂點落在兩個地區之間某處，則可使用下列方程式計算衰退。</span><span class="sxs-lookup"><span data-stu-id="d30e7-150">If the vertex is somewhere between the two regions, then falloff is calculated with the following equation.</span></span>

![頂點亮度公式，衰退之後](images/falloff.png)

<span data-ttu-id="d30e7-152">其中：</span><span class="sxs-lookup"><span data-stu-id="d30e7-152">Where:</span></span>

-   <span data-ttu-id="d30e7-153">在衰減之後，I <sub>f</sub> 濃度較低</span><span class="sxs-lookup"><span data-stu-id="d30e7-153">I <sub>f</sub> is light intensity after falloff</span></span>
-   <span data-ttu-id="d30e7-154">Alpha 是向量 L 和 D 之間的角度</span><span class="sxs-lookup"><span data-stu-id="d30e7-154">Alpha is the angle between vectors L and D</span></span>
-   <span data-ttu-id="d30e7-155">Theta 是內錐角度</span><span class="sxs-lookup"><span data-stu-id="d30e7-155">Theta is the inner cone angle</span></span>
-   <span data-ttu-id="d30e7-156">Phi 是外錐角度</span><span class="sxs-lookup"><span data-stu-id="d30e7-156">Phi is the outer cone angle</span></span>
-   <span data-ttu-id="d30e7-157">P 是衰退</span><span class="sxs-lookup"><span data-stu-id="d30e7-157">p is the falloff</span></span>

<span data-ttu-id="d30e7-158">這個公式產生 0.0 和 1.0 之間的值，其調整頂點的光線強度，以將衰退考慮進去。</span><span class="sxs-lookup"><span data-stu-id="d30e7-158">This formula generates a value between 0.0 and 1.0 that scales the light's intensity at the vertex to account for falloff.</span></span> <span data-ttu-id="d30e7-159">也會套用頂點離光線之距離的衰減係數。</span><span class="sxs-lookup"><span data-stu-id="d30e7-159">Attenuation as a factor of the vertex's distance from the light is also applied.</span></span> <span data-ttu-id="d30e7-160">下圖顯示不同衰退可能會影響衰退曲線。</span><span class="sxs-lookup"><span data-stu-id="d30e7-160">The following graph shows how different falloff values can affect the falloff curve.</span></span>

![光線強度的圖表與頂點離光線的距離](images/fallgraf.png)

<span data-ttu-id="d30e7-162">實際照明影響各種衰退值的效果很細微，可藉由塑造 1.0 以外的衰退值衰退曲線引發小效能罰則。</span><span class="sxs-lookup"><span data-stu-id="d30e7-162">The effect of various falloff values on the actual lighting is subtle, and a small performance penalty is incurred by shaping the falloff curve with falloff values other than 1.0.</span></span> <span data-ttu-id="d30e7-163">基於這些原因，此值通常設為 1.0。</span><span class="sxs-lookup"><span data-stu-id="d30e7-163">For these reasons, this value is typically set to 1.0.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d30e7-164">相關主題</span><span class="sxs-lookup"><span data-stu-id="d30e7-164">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d30e7-165">燈光和材質</span><span class="sxs-lookup"><span data-stu-id="d30e7-165">Lights and Materials</span></span>](lights-and-materials.md)
</dt> </dl>

 

 
