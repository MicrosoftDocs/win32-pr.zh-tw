---
description: Windows 7 作業系統提供感應器裝置的內建支援。
ms.assetid: 751ba2fc-fbff-4418-82ac-eebc8a145b14
title: Windows 感應器和位置平台的總覽
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b01b6d3132ad6e1bc299895bc39668edbe19b91c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "103943320"
---
# <a name="overview-of-the-windows-sensor-and-location-platform"></a><span data-ttu-id="c18bb-103">Windows 感應器和位置平台的總覽</span><span class="sxs-lookup"><span data-stu-id="c18bb-103">Overview of the Windows sensor and location platform</span></span>

<span data-ttu-id="c18bb-104">Windows 7 作業系統提供感應器裝置的內建支援。</span><span class="sxs-lookup"><span data-stu-id="c18bb-104">The Windows 7 operating system provides built-in support for sensor devices.</span></span> <span data-ttu-id="c18bb-105">這包括支援定位感應器，例如 GPS 裝置。</span><span class="sxs-lookup"><span data-stu-id="c18bb-105">This includes support for location sensors, such as GPS devices.</span></span> <span data-ttu-id="c18bb-106">作為這項支援的一部分，Windows 感應器和位置平台提供了一種標準方式，讓裝置製造商向軟體發展人員和取用者公開感應器裝置。</span><span class="sxs-lookup"><span data-stu-id="c18bb-106">As part of this support, the Windows Sensor and Location platform provides a standard way for device manufacturers to expose sensor devices to software developers and consumers.</span></span> <span data-ttu-id="c18bb-107">同時，平臺會為開發人員提供標準化的 API 和設備磁碟機介面， (的 DDI) 來處理感應器和感應器資料。</span><span class="sxs-lookup"><span data-stu-id="c18bb-107">At the same time, the platform gives developers a standardized API and device driver interface (DDI) to work with sensors and sensor data.</span></span>

## <a name="about-sensor-devices"></a><span data-ttu-id="c18bb-108">關於感應器裝置</span><span class="sxs-lookup"><span data-stu-id="c18bb-108">About Sensor Devices</span></span>

<span data-ttu-id="c18bb-109">感應器有許多設定，從某種觀點來看，幾乎任何提供實體現象相關資料的資訊都可以稱為感應器。</span><span class="sxs-lookup"><span data-stu-id="c18bb-109">Sensors come in many configurations and, from a certain perspective, almost anything that provides data about physical phenomena can be called a sensor.</span></span> <span data-ttu-id="c18bb-110">雖然我們通常會將感應器視為硬體裝置，但是邏輯感應器也可以透過模擬軟體或固件中的感應器功能來提供資訊。</span><span class="sxs-lookup"><span data-stu-id="c18bb-110">Although we typically think of sensors as hardware devices, logical sensors can also provide information through emulation of sensor functionality in software or firmware.</span></span> <span data-ttu-id="c18bb-111">此外，單一硬體裝置也可以包含多個感應器。</span><span class="sxs-lookup"><span data-stu-id="c18bb-111">Also, a single hardware device can contain multiple sensors.</span></span>

<span data-ttu-id="c18bb-112">Windows 感應器和位置平台會將感應器組織成類別，其代表各種不同的感應器裝置 *類別*，而 *類型* 則代表特定類型的感應器。</span><span class="sxs-lookup"><span data-stu-id="c18bb-112">The Windows Sensor and Location platform organizes sensors into *categories*, which represent broad classes of sensor devices, and *types*, which represent specific kinds of sensors.</span></span> <span data-ttu-id="c18bb-113">例如，影片遊戲控制器中的感應器偵測播放程式手的位置和移動 (或許是保齡球遊戲的影片) 會分類為方向感應器，但其類型會是立體加速計。</span><span class="sxs-lookup"><span data-stu-id="c18bb-113">For example, a sensor in a video game controller that detects the position and movement of a player's hand (perhaps for a video bowling game) would be categorized as an Orientation sensor, but its type would be 3-D Accelerometer.</span></span> <span data-ttu-id="c18bb-114">在程式碼中，Windows 會使用全域唯一識別碼 (Guid) 來代表類別和類型，其中許多都是預先定義的。</span><span class="sxs-lookup"><span data-stu-id="c18bb-114">In code, Windows represents categories and types by using globally unique identifiers (GUIDs), many of which are predefined.</span></span> <span data-ttu-id="c18bb-115">裝置製造商可以在必要時定義和發佈新的 Guid，藉以建立新的類別和類型。</span><span class="sxs-lookup"><span data-stu-id="c18bb-115">Device manufacturers can create new categories and types by defining and publishing new GUIDs, when it is required.</span></span>

<span data-ttu-id="c18bb-116">位置裝置組成一個特別有趣的類別。</span><span class="sxs-lookup"><span data-stu-id="c18bb-116">Location devices make up one especially interesting category.</span></span> <span data-ttu-id="c18bb-117">目前，大部分的人都熟悉全球定位系統 (GPS) 。</span><span class="sxs-lookup"><span data-stu-id="c18bb-117">By now, most people are familiar with global positioning systems (GPS).</span></span> <span data-ttu-id="c18bb-118">在 Windows 中，GPS 感應器是 [位置] 類別的一部分。</span><span class="sxs-lookup"><span data-stu-id="c18bb-118">In Windows, a GPS sensor is part of the Location category.</span></span> <span data-ttu-id="c18bb-119">位置分類可能包含其他感應器類型。</span><span class="sxs-lookup"><span data-stu-id="c18bb-119">The Location category could include other sensor types.</span></span> <span data-ttu-id="c18bb-120">其中有些感應器類型是以軟體為基礎，例如根據網際網路位址提供位置資訊的 IP 解析程式、根據附近的塔來決定位置的行動電話塔 triangulator，或從連線的無線網路中樞讀取位置資訊的 Wi-Fi 網路位置提供者。</span><span class="sxs-lookup"><span data-stu-id="c18bb-120">Some of these sensor types are software based, such as an IP resolver that provides location information based on an Internet address, a mobile phone tower triangulator that determines location based on nearby towers, or a Wi-Fi network location provider that reads location information from the connected wireless network hub.</span></span>

## <a name="about-the-platform"></a><span data-ttu-id="c18bb-121">關於平臺</span><span class="sxs-lookup"><span data-stu-id="c18bb-121">About the Platform</span></span>

<span data-ttu-id="c18bb-122">Windows 感應器和位置平台是由下列開發人員和使用者元件所組成：</span><span class="sxs-lookup"><span data-stu-id="c18bb-122">The Windows Sensor and Location platform consists of the following developer and user components:</span></span>

-   <span data-ttu-id="c18bb-123">DDI 可讓 Windows 提供標準的方式讓感應器裝置連接到電腦，並將資料提供給其他子系統。</span><span class="sxs-lookup"><span data-stu-id="c18bb-123">The DDI enables Windows to provide a standard way for sensor devices to connect to the computer and to provide data to other subsystems.</span></span>
-   <span data-ttu-id="c18bb-124">Windows 感應器 API 提供一組方法、屬性和事件，以搭配連線的感應器和感應器資料使用。</span><span class="sxs-lookup"><span data-stu-id="c18bb-124">The Windows Sensor API provides a set of methods, properties, and events to work with connected sensors and sensor data.</span></span>
-   <span data-ttu-id="c18bb-125">Windows 位置 API 是以 Windows 感應器 API 建立的，可提供一組程式設計物件，包括腳本物件，以使用位置資訊。</span><span class="sxs-lookup"><span data-stu-id="c18bb-125">The Windows Location API, which is built on the Windows Sensor API, provides a set of programming objects, including scripting objects, for working with location information.</span></span>
-   <span data-ttu-id="c18bb-126">定位和其他感應器主控台可讓電腦系統管理員設定每位使用者的感應器，包括定位感應器。</span><span class="sxs-lookup"><span data-stu-id="c18bb-126">The Location and Other Sensors Control Panel enables computer administrators to set sensors, including location sensors, for each user.</span></span>

<span data-ttu-id="c18bb-127">下列各節將說明每個元件。</span><span class="sxs-lookup"><span data-stu-id="c18bb-127">The following sections describe each of these components.</span></span>

## <a name="architecture-diagram"></a><span data-ttu-id="c18bb-128">架構圖</span><span class="sxs-lookup"><span data-stu-id="c18bb-128">Architecture Diagram</span></span>

<span data-ttu-id="c18bb-129">下圖顯示元件之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="c18bb-129">The following diagram shows the relationship between the components.</span></span>

![感應器和位置平臺圖表](images/platformarchitecture.png)

## <a name="device-driver-interface"></a><span data-ttu-id="c18bb-131">設備磁碟機介面</span><span class="sxs-lookup"><span data-stu-id="c18bb-131">Device Driver Interface</span></span>

<span data-ttu-id="c18bb-132">感應器製造商可以建立設備磁碟機，以與 Windows 7 連接感應器。</span><span class="sxs-lookup"><span data-stu-id="c18bb-132">Sensor manufacturers can create device drivers to connect sensors with Windows 7.</span></span> <span data-ttu-id="c18bb-133">感應器設備磁碟機是使用 Windows 可攜式裝置 (WPD) 驅動程式模型來執行，這是以 Windows 使用者模式驅動程式架構 (的 UMDF) 為基礎。許多設備磁碟機都是使用這些架構來撰寫的。</span><span class="sxs-lookup"><span data-stu-id="c18bb-133">Sensor device drivers are implemented by using the Windows Portable Devices (WPD) driver model, which is based on the Windows User Mode Driver Framework (UMDF).Many device drivers have been written by using these frameworks.</span></span> <span data-ttu-id="c18bb-134">因為已建立這些技術，所以有經驗的設備磁碟機程式設計人員會發現將感應器驅動程式寫成熟悉的工作。</span><span class="sxs-lookup"><span data-stu-id="c18bb-134">Because these technologies are established, experienced device driver programmers will find writing a sensor driver to be a familiar task.</span></span> <span data-ttu-id="c18bb-135">感應器 DDI 會使用特定的 UMDF 和 WPD 資料類型和介面，也會定義需要的感應器特定 WPD 命令和參數。</span><span class="sxs-lookup"><span data-stu-id="c18bb-135">The sensor DDI uses specific UMDF and WPD data types and interfaces, and also defines sensor-specific WPD commands and parameters, where it is required.</span></span> <span data-ttu-id="c18bb-136">如需有關建立感應器設備磁碟機的詳細資訊，請參閱 Windows 驅動程式套件。</span><span class="sxs-lookup"><span data-stu-id="c18bb-136">For more information about creating sensor device drivers, see the Windows Driver Kit.</span></span>

## <a name="sensor-api"></a><span data-ttu-id="c18bb-137">感應器 API</span><span class="sxs-lookup"><span data-stu-id="c18bb-137">Sensor API</span></span>

<span data-ttu-id="c18bb-138">感應器 API 可讓 c + + 開發人員使用一組 COM 介面建立以感應器為基礎的程式。</span><span class="sxs-lookup"><span data-stu-id="c18bb-138">The Sensor API enables C++ developers to create sensor-based programs by using a set of COM interfaces.</span></span> <span data-ttu-id="c18bb-139">API 會定義介面來執行常見的感應器程式設計工作，包括依類別、類型或識別碼管理感應器、管理感應器事件、使用個別感應器和感應器集合，以及使用感應器資料。</span><span class="sxs-lookup"><span data-stu-id="c18bb-139">The API defines interfaces to perform common sensor programming tasks that include managing sensors by category, type, or ID, managing sensor events, working with individual sensors and sensor collections, and working with sensor data.</span></span> <span data-ttu-id="c18bb-140">Windows SDK 包含標頭檔、檔、範例和工具，可協助引導軟體發展人員如何使用 Windows 程式中的感應器。</span><span class="sxs-lookup"><span data-stu-id="c18bb-140">The Windows SDK includes header files, documentation, samples, and tools to help guide software developers on how to use sensors in Windows programs.</span></span> <span data-ttu-id="c18bb-141">本檔說明感應器 API。</span><span class="sxs-lookup"><span data-stu-id="c18bb-141">This documentation describes the Sensor API.</span></span>

## <a name="location-api"></a><span data-ttu-id="c18bb-142">位置 API</span><span class="sxs-lookup"><span data-stu-id="c18bb-142">Location API</span></span>

<span data-ttu-id="c18bb-143">位置 API 建基於感應器 API，可讓您輕鬆地取出地理位置的相關資料，同時保護使用者隱私權。</span><span class="sxs-lookup"><span data-stu-id="c18bb-143">Built on the Sensor API, the Location API provides an easy way to retrieve data about geographic location while protecting user privacy.</span></span> <span data-ttu-id="c18bb-144">位置 API 會透過一組代表物件的 COM 介面提供其功能。</span><span class="sxs-lookup"><span data-stu-id="c18bb-144">The Location API provides its functionality through a set of COM interfaces that represent objects.</span></span> <span data-ttu-id="c18bb-145">這些物件可供瞭解如何透過 c + + 程式設計語言或指令碼語言（如 JScript）使用 COM 的程式設計人員使用。</span><span class="sxs-lookup"><span data-stu-id="c18bb-145">These objects can be used by programmers who understand how to use COM through the C++ programming language, or in scripting languages, such as JScript.</span></span> <span data-ttu-id="c18bb-146">腳本支援可讓您輕鬆存取在本機電腦區域（例如小工具）中執行之專案的位置資料。</span><span class="sxs-lookup"><span data-stu-id="c18bb-146">Scripting support gives easy access to location data for projects that run in the Local Computer zone, such as gadgets.</span></span> <span data-ttu-id="c18bb-147">Windows SDK 包括標頭檔、檔 (，包括腳本參考檔) 、範例和工具，可協助引導 Web 和軟體發展人員如何在其程式中使用位置資訊。</span><span class="sxs-lookup"><span data-stu-id="c18bb-147">The Windows SDK includes header files, documentation (including scripting reference documentation), samples, and tools to help guide Web and software developers on how to use location information in their programs.</span></span>

## <a name="location-and-other-sensors-control-panel"></a><span data-ttu-id="c18bb-148">定位和其他感應器主控台</span><span class="sxs-lookup"><span data-stu-id="c18bb-148">Location and Other Sensors Control Panel</span></span>

<span data-ttu-id="c18bb-149">Windows 7 包含一個控制台，可讓電腦系統管理員啟用或停用整個系統或每位使用者的感應器。</span><span class="sxs-lookup"><span data-stu-id="c18bb-149">Windows 7 includes a control panel that lets computer administrators enable or disable sensors system-wide or for each user.</span></span> <span data-ttu-id="c18bb-150">因為某些感應器可以公開機密資料，所以此使用者介面可讓系統管理員控制所有程式是否都能存取每個使用者的每個感應器。</span><span class="sxs-lookup"><span data-stu-id="c18bb-150">Because some sensors can expose sensitive data, this user interface gives administrators control over whether all programs have access to each sensor for each user.</span></span> <span data-ttu-id="c18bb-151">使用者也可以查看感應器屬性，並變更使用者介面中顯示的感應器描述。</span><span class="sxs-lookup"><span data-stu-id="c18bb-151">Users can also view sensor properties and change the sensor description that is displayed in the user interface.</span></span>

<span data-ttu-id="c18bb-152">主控台也提供預設位置頁面，讓使用者能夠提供其位置。</span><span class="sxs-lookup"><span data-stu-id="c18bb-152">The Control Panel also provides a Default Location page to enable users to provide their location.</span></span> <span data-ttu-id="c18bb-153">如果沒有可用的感應器，平臺將會使用使用者提供的位置。</span><span class="sxs-lookup"><span data-stu-id="c18bb-153">When no sensor is available, the platform will use the user-provided location.</span></span> <span data-ttu-id="c18bb-154">使用者可以提供市政位址欄位，其中包括街道位址、城市、州/省和國家或地區。</span><span class="sxs-lookup"><span data-stu-id="c18bb-154">Users can provide civic address fields, which include the street address, city, state or province, and country or region.</span></span>

## <a name="related-topics"></a><span data-ttu-id="c18bb-155">相關主題</span><span class="sxs-lookup"><span data-stu-id="c18bb-155">Related topics</span></span>

[<span data-ttu-id="c18bb-156">關於感應器 API</span><span class="sxs-lookup"><span data-stu-id="c18bb-156">About the Sensor API</span></span>](about-the-sensor-api.md)

[<span data-ttu-id="c18bb-157">Windows 硬體開發人員中心網站</span><span class="sxs-lookup"><span data-stu-id="c18bb-157">Windows Hardware Developer Central Web site</span></span>](https://www.microsoft.com/whdc/device/sensors/default.mspx)

[<span data-ttu-id="c18bb-158">Windows 開發人員中心</span><span class="sxs-lookup"><span data-stu-id="c18bb-158">Windows Developer Center</span></span>](https://msdn.microsoft.com/windows/default.aspx?wt.svl=client)
