---
title: 控制 (AD DS) 的存取權限
description: Active Directory Domain Services 中的所有物件都支援 ADS \_ 許可權列舉列舉中所定義的一組標準存取權限 \_ 。
ms.assetid: 27ad74bd-ad87-422e-a4a2-02c0d51c4dd4
ms.tgt_platform: multiple
keywords:
- 控制存取權限
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 048c4aa685e0c569ef2ac762dcf17366a2394826
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/17/2020
ms.locfileid: "104462908"
---
# <a name="control-access-rights-ad-ds"></a><span data-ttu-id="12fff-104">控制 (AD DS) 的存取權限</span><span class="sxs-lookup"><span data-stu-id="12fff-104">Control Access Rights (AD DS)</span></span>

<span data-ttu-id="12fff-105">Active Directory Domain Services 中的所有物件都支援 [**ADS \_ 許可權 \_ 列舉**](/windows/win32/api/iads/ne-iads-ads_rights_enum) 列舉中所定義的一組標準存取權限。</span><span class="sxs-lookup"><span data-stu-id="12fff-105">All objects in Active Directory Domain Services support a standard set of access rights defined in the [**ADS\_RIGHTS\_ENUM**](/windows/win32/api/iads/ne-iads-ads_rights_enum) enumeration.</span></span> <span data-ttu-id="12fff-106">這些存取權限可以在物件的安全描述項 (Ace) 的存取控制專案中使用，以控制物件的存取權;也就是說，您可以控制誰可以執行標準作業，例如建立和刪除子物件，或讀取和寫入物件屬性。</span><span class="sxs-lookup"><span data-stu-id="12fff-106">These access rights can be used in the Access Control Entries (ACEs) of an object's security descriptor to control access to the object; that is, to control who can perform standard operations, such as creating and deleting child objects, or reading and writing the object attributes.</span></span> <span data-ttu-id="12fff-107">不過，對於某些物件類別，可能需要以標準存取權限不支援的方式來控制存取權。</span><span class="sxs-lookup"><span data-stu-id="12fff-107">However, for some object classes, it may be desirable to control access in a way not supported by the standard access rights.</span></span> <span data-ttu-id="12fff-108">為了達成此目的，Active Directory Domain Services 允許透過 **controlAccessRight** 物件延伸標準存取控制機制。</span><span class="sxs-lookup"><span data-stu-id="12fff-108">To facilitate this, Active Directory Domain Services allow the standard access control mechanism to be extended through the **controlAccessRight** object.</span></span>

<span data-ttu-id="12fff-109">使用控制存取權限的方式有三種：</span><span class="sxs-lookup"><span data-stu-id="12fff-109">Control access rights are used in three ways:</span></span>

-   <span data-ttu-id="12fff-110">針對擴充許可權，這是標準存取權限集未涵蓋的特殊作業。</span><span class="sxs-lookup"><span data-stu-id="12fff-110">For extended rights, which are special operations not covered by the standard set of access rights.</span></span> <span data-ttu-id="12fff-111">例如，使用者類別可以被授與可供 Exchange、Outlook 或任何其他郵件應用程式使用的「傳送為」許可權，以判斷特定使用者是否可以讓其他使用者代表他們傳送郵件。</span><span class="sxs-lookup"><span data-stu-id="12fff-111">For example, the user class can be granted a "Send As" right that can be used by Exchange, Outlook, or any other mail application, to determine whether a particular user can have another user send mail on their behalf.</span></span> <span data-ttu-id="12fff-112">在 **controlAccessRight** 物件上建立延伸許可權的方式，是將 **validAccesses** 屬性設定為等於 (256) 存取權限的 **ADS \_ 正確 \_ DS \_ 控制 \_ 存取權** 。</span><span class="sxs-lookup"><span data-stu-id="12fff-112">Extended rights are created on **controlAccessRight** objects by setting the **validAccesses** attribute to equal the **ADS\_RIGHT\_DS\_CONTROL\_ACCESS** (256) access right.</span></span>
-   <span data-ttu-id="12fff-113">若要定義屬性集，可讓您控制對物件屬性子集的存取，而不只是個別的屬性。</span><span class="sxs-lookup"><span data-stu-id="12fff-113">For defining property sets, to enable controlling access to a subset of an object's attributes, rather than just to the individual attributes.</span></span> <span data-ttu-id="12fff-114">使用標準存取權限時，單一 ACE 可以授與或拒絕存取所有物件的屬性或單一屬性。</span><span class="sxs-lookup"><span data-stu-id="12fff-114">Using the standard access rights, a single ACE can grant or deny access to all of an object's attributes or to a single attribute.</span></span> <span data-ttu-id="12fff-115">控制存取權限提供單一 ACE 的方法，以控制一組屬性的存取權。</span><span class="sxs-lookup"><span data-stu-id="12fff-115">Control access rights provide a way for a single ACE to control access to a set of attributes.</span></span> <span data-ttu-id="12fff-116">例如，使用者類別支援包含如街道位址和電話號碼等屬性的 **個人資訊** 屬性集。</span><span class="sxs-lookup"><span data-stu-id="12fff-116">For example, the user class supports the **Personal-Information** property set that includes attributes such as street address and telephone number.</span></span> <span data-ttu-id="12fff-117">在 **controlAccessRight** 物件上建立屬性集許可權的方法是設定 **validAccesses** 屬性，以同時包含 **ACTR \_ ds \_ 讀取 \_** 屬性 (16) 和 **ACTRL \_ DS \_ 寫入 \_** 屬性 (32) 存取權限。</span><span class="sxs-lookup"><span data-stu-id="12fff-117">Property set rights are created on **controlAccessRight** objects by setting the **validAccesses** attribute to contain both the **ACTR\_DS\_READ\_PROP** (16) and the **ACTRL\_DS\_WRITE\_PROP** (32) access rights.</span></span>
-   <span data-ttu-id="12fff-118">針對已驗證的寫入，要求系統在將值寫入 DS 物件的屬性之前，先執行值檢查或驗證（除了架構所需的值）。</span><span class="sxs-lookup"><span data-stu-id="12fff-118">For validated writes, to require that the system perform value checking, or validation, beyond that which is required by the schema, before writing a value to an attribute on a DS object.</span></span> <span data-ttu-id="12fff-119">這樣可確保針對屬性輸入的值符合所需的語法、位於值的合法範圍內，或進行一些其他特殊檢查，而不會對屬性進行簡單的低層級寫入。</span><span class="sxs-lookup"><span data-stu-id="12fff-119">This ensures that the value entered for the attribute conforms to required semantics, is within a legal range of values, or undergoes some other special checking that would not be performed for a simple low-level write to the attribute.</span></span> <span data-ttu-id="12fff-120">驗證的寫入會與「寫入」許可權不同的特殊許可權相關聯， <attribute> 該許可權會允許將任何值寫入屬性，而不會執行任何值檢查。</span><span class="sxs-lookup"><span data-stu-id="12fff-120">A validated write is associated to a special permission that is distinct from the "Write <attribute>" permission that would allow any value to be written to the attribute with no value checking performed.</span></span> <span data-ttu-id="12fff-121">驗證的寫入是這三種存取權限的唯一一種，無法建立為應用程式的新控制項存取權限。</span><span class="sxs-lookup"><span data-stu-id="12fff-121">The validated write is the only one of the three control access rights that cannot be created as a new control access right for an application.</span></span> <span data-ttu-id="12fff-122">這是因為無法以程式設計方式修改現有的系統來強制執行驗證。</span><span class="sxs-lookup"><span data-stu-id="12fff-122">This is because the existing system cannot be programmatically modified to enforce validation.</span></span> <span data-ttu-id="12fff-123">如果控制項存取權是在系統中設定為經過驗證的寫入，則 **controlAccessRight** 物件上的 **validAccesses** 屬性將會包含 **ADS \_ right \_ \_ SELF** (8) 存取權限。</span><span class="sxs-lookup"><span data-stu-id="12fff-123">If a control access right was set up in the system as a validated write, the **validAccesses** attribute on the **controlAccessRight** objects will contain the **ADS\_RIGHT\_DS\_SELF** (8) access right.</span></span>

    <span data-ttu-id="12fff-124">在 Windows 2000 Active Directory 架構中，只會定義三個已驗證的寫入：</span><span class="sxs-lookup"><span data-stu-id="12fff-124">There are only three validated writes defined in the Windows 2000 Active Directory schema:</span></span>

    -   <span data-ttu-id="12fff-125">群組物件的 Self-Membership 許可權，允許從群組的成員資格新增或移除呼叫者的帳戶，而不是其他帳戶。</span><span class="sxs-lookup"><span data-stu-id="12fff-125">Self-Membership permission on a Group object, which allows the caller's account, but no other account, to be added or removed from a group's membership.</span></span>
    -   <span data-ttu-id="12fff-126">電腦物件上已驗證的 DNS 主機名稱許可權，允許符合要設定之電腦名稱稱和功能變數名稱的 DNS 主機名稱屬性。</span><span class="sxs-lookup"><span data-stu-id="12fff-126">Validated-DNS-Host-Name permission on a Computer object, which allows a DNS host name attribute that is compliant with the computer name and domain name to be set.</span></span>
    -   <span data-ttu-id="12fff-127">已驗證-電腦物件的 SPN 許可權，允許符合要設定之電腦的 DNS 主機名稱的 SPN 屬性。</span><span class="sxs-lookup"><span data-stu-id="12fff-127">Validated-SPN permission on a Computer object, which allows an SPN attribute which is compliant with the DNS host name of the computer to be set.</span></span>

<span data-ttu-id="12fff-128">為了方便起見，每個存取權限都是由設定磁碟分割之 Extended-Rights 容器中的 **controlAccessRight** 物件代表，即使屬性集和驗證的寫入不會被視為擴充許可權也一樣。</span><span class="sxs-lookup"><span data-stu-id="12fff-128">For convenience, each control access right is represented by a **controlAccessRight** object in the Extended-Rights container of the Configuration partition, even though property sets and validated writes are not considered to be extended rights.</span></span> <span data-ttu-id="12fff-129">由於設定容器會複寫到整個樹系中，因此控制權會傳播到樹系中的所有網域。</span><span class="sxs-lookup"><span data-stu-id="12fff-129">Because the Configuration container is replicated across the entire forest, control rights are propagated across all domains in a forest.</span></span> <span data-ttu-id="12fff-130">有許多預先定義的控制存取權限，當然也可以定義自訂存取權限。</span><span class="sxs-lookup"><span data-stu-id="12fff-130">There are a number of predefined control access rights, and of course, custom access rights can also be defined.</span></span>

<span data-ttu-id="12fff-131">您可以在 ACL 編輯器中，將所有控制存取權限視為許可權。</span><span class="sxs-lookup"><span data-stu-id="12fff-131">All control access rights can be viewed as permissions in the ACL Editor.</span></span>

<span data-ttu-id="12fff-132">如需詳細資訊以及設定 ACE 來控制屬性集之讀取/寫入存取的 c + + 和 Visual Basic 程式碼範例，請參閱 [在目錄物件上設定 ace 的範例程式碼](example-code-for-setting-an-ace-on-a-directory-object.md)。</span><span class="sxs-lookup"><span data-stu-id="12fff-132">For more information and a C++ and Visual Basic code example that sets an ACE to control read/write access to a property set, see [Example Code for Setting an ACE on a Directory Object](example-code-for-setting-an-ace-on-a-directory-object.md).</span></span>

<span data-ttu-id="12fff-133">如需使用控制存取權限來控制特殊作業存取權的詳細資訊，請參閱：</span><span class="sxs-lookup"><span data-stu-id="12fff-133">For more information about using control access rights to control access to special operations, see:</span></span>

-   [<span data-ttu-id="12fff-134">建立控制項存取權</span><span class="sxs-lookup"><span data-stu-id="12fff-134">Creating a Control Access Right</span></span>](creating-a-control-access-right.md)
-   [<span data-ttu-id="12fff-135">在物件的 ACL 中設定 Control 存取權限 ACE</span><span class="sxs-lookup"><span data-stu-id="12fff-135">Setting a Control Access Right ACE in an Object's ACL</span></span>](setting-a-control-access-right-ace-in-an-objectampaposs-acl.md)
-   [<span data-ttu-id="12fff-136">在物件的 ACL 中檢查控制項存取權</span><span class="sxs-lookup"><span data-stu-id="12fff-136">Checking a Control Access Right in an Object's ACL</span></span>](checking-a-control-access-right-in-an-objectampaposs-acl.md)
-   [<span data-ttu-id="12fff-137">讀取物件 ACL 中的 Control 存取權限集合</span><span class="sxs-lookup"><span data-stu-id="12fff-137">Reading a Control Access Right Set in an Object's ACL</span></span>](reading-a-control-access-right-set-in-an-objectampaposs-acl.md)

 

 