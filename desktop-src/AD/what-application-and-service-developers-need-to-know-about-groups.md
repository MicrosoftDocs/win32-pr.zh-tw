---
title: 哪些應用程式和服務開發人員需要瞭解群組
description: 開發應用程式或服務時，您可以使用群組來委派整體或部分的管理或控制應用程式或服務的存取權。
ms.assetid: 19e189a5-2880-4b45-84c8-e7b542c4fbb6
ms.tgt_platform: multiple
keywords:
- 哪些應用程式和服務開發人員需要瞭解群組
- 為應用程式和服務開發人員分組 AD、資訊
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dd23f598925c959502e1013ff43ad18bbb42ed7b
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/17/2020
ms.locfileid: "103681628"
---
# <a name="what-application-and-service-developers-need-to-know-about-groups"></a><span data-ttu-id="f04fe-105">哪些應用程式和服務開發人員需要瞭解群組</span><span class="sxs-lookup"><span data-stu-id="f04fe-105">What Application and Service Developers Need to Know About Groups</span></span>

<span data-ttu-id="f04fe-106">開發應用程式或服務時，您可以使用群組來委派整體或部分的管理或控制應用程式或服務的存取權。</span><span class="sxs-lookup"><span data-stu-id="f04fe-106">When developing an application or service, you can use groups to delegate administration or control access to the application or service as a whole or part.</span></span> <span data-ttu-id="f04fe-107">例如，應用程式可以控制誰可以執行各種系統管理作業。</span><span class="sxs-lookup"><span data-stu-id="f04fe-107">For example, an application can control who can perform various administrative operations.</span></span> <span data-ttu-id="f04fe-108">若要這樣做，請建立 Ace，以將指定的存取權限授與適當的群組。</span><span class="sxs-lookup"><span data-stu-id="f04fe-108">To do this, create ACEs that grant specified access rights to the appropriate groups.</span></span> <span data-ttu-id="f04fe-109">最好的程式設計作法是讓 ACE 授與群組的存取權，而不是授與個別使用者或電腦存取權的數個 Ace。</span><span class="sxs-lookup"><span data-stu-id="f04fe-109">It is good programming practice to have an ACE that grants access to a group than to have several ACEs that grant access to individual users or computers.</span></span>

<span data-ttu-id="f04fe-110">使用群組時，建議應用程式使用下列指導方針：</span><span class="sxs-lookup"><span data-stu-id="f04fe-110">It is recommended that applications use the following guidelines when using groups:</span></span>

-   <span data-ttu-id="f04fe-111">請勿建立硬式編碼群組的相依性，如果刪除或移動群組，這可能會產生複雜的專案。</span><span class="sxs-lookup"><span data-stu-id="f04fe-111">Do not create dependencies on hard-coded groups, which can create complications if the group is deleted or moved.</span></span>
-   <span data-ttu-id="f04fe-112">除非群組的功能提供應用程式的特定需求，否則請避免使用內建群組。</span><span class="sxs-lookup"><span data-stu-id="f04fe-112">Avoid using built-in groups unless the function of the group provides the specific needs for the application.</span></span> <span data-ttu-id="f04fe-113">例如，不要求使用者必須是 Administrators 群組的成員，就能為使用者提供建立電腦帳戶的許可權。</span><span class="sxs-lookup"><span data-stu-id="f04fe-113">For example, do not require that a user be a member of the Administrators group just to provide the user with permission to create a computer account.</span></span> <span data-ttu-id="f04fe-114">這麼做會為使用者提供他們可能不需要的許可權，這可能會造成安全性弱點。</span><span class="sxs-lookup"><span data-stu-id="f04fe-114">Doing this provides the user with permissions and privileges that they may not need, which can cause security vulnerability.</span></span> <span data-ttu-id="f04fe-115">相反地，您應該建立具有所需特定許可權的新安全性群組，並將使用者新增至此新群組。</span><span class="sxs-lookup"><span data-stu-id="f04fe-115">Instead, you should create a new security group that has the specific permissions required and add the user to this new group.</span></span>
-   <span data-ttu-id="f04fe-116">建立新群組時，請記住下列建議：</span><span class="sxs-lookup"><span data-stu-id="f04fe-116">When creating new groups, keep in mind the following recommendations:</span></span>
    -   <span data-ttu-id="f04fe-117">藉由設定 Ace 來控制可以加入或移除成員的使用者，來保護群組。</span><span class="sxs-lookup"><span data-stu-id="f04fe-117">Protect the group by setting ACEs that control who can add or remove members.</span></span>
    -   <span data-ttu-id="f04fe-118">如果使用全域群組進行 Active Directory Domain Services 中物件的存取控制，請使用全域群組。</span><span class="sxs-lookup"><span data-stu-id="f04fe-118">Use global groups if they are used for access control on objects in Active Directory Domain Services.</span></span>
    -   <span data-ttu-id="f04fe-119">只有在必要時才使用萬用群組 (成員資料是使用通用類別目錄的全域需求;群組可包含任何) 的使用者/群組。</span><span class="sxs-lookup"><span data-stu-id="f04fe-119">Use universal groups only if necessary (member data is required globally using global catalog; group can contain any user/group).</span></span> <span data-ttu-id="f04fe-120">如果您使用萬用群組，請將全域群組放置在萬用群組中，並在全域群組中新增/移除使用者。</span><span class="sxs-lookup"><span data-stu-id="f04fe-120">If you do use universal groups, place global groups in the universal group and add/remove users from the global group.</span></span> <span data-ttu-id="f04fe-121">避免對萬用群組進行過多的變更，以提供複寫效率。</span><span class="sxs-lookup"><span data-stu-id="f04fe-121">Avoid excess change to universal groups for replication efficiency.</span></span>
-   <span data-ttu-id="f04fe-122">請勿使用存取控制的群組成員資格。</span><span class="sxs-lookup"><span data-stu-id="f04fe-122">Do not use group membership for access control.</span></span> <span data-ttu-id="f04fe-123">相反地，請使用 ACE 並藉由讓系統執行存取檢查來控制存取權。</span><span class="sxs-lookup"><span data-stu-id="f04fe-123">Instead, use an ACE and control access by having the system perform an access check.</span></span>

<span data-ttu-id="f04fe-124">若要控制不符合 Active Directory 網域服務中物件之預先定義存取權限的作業存取權，請使用 Windows 2000 中存取控制的 [存取控制] 存取權限功能。</span><span class="sxs-lookup"><span data-stu-id="f04fe-124">To control access to operations that do not fit within the predefined access rights for objects in Active Directory Domain services, use the control access rights feature of access control in Windows 2000.</span></span> <span data-ttu-id="f04fe-125">如需詳細資訊，請參閱 [**ADS \_ 許可權 \_ 列舉**](/windows/win32/api/iads/ne-iads-ads_rights_enum)。</span><span class="sxs-lookup"><span data-stu-id="f04fe-125">For more information, see [**ADS\_RIGHTS\_ENUM**](/windows/win32/api/iads/ne-iads-ads_rights_enum).</span></span>

<span data-ttu-id="f04fe-126">**使用控制項存取權限控制執行作業的許可權**</span><span class="sxs-lookup"><span data-stu-id="f04fe-126">**To use a control access right to control the right to perform an operation**</span></span>

1.  <span data-ttu-id="f04fe-127">建立可定義應用程式或服務存取類型的 control 存取權限。</span><span class="sxs-lookup"><span data-stu-id="f04fe-127">Create a control access right that defines the type of access to the application or service.</span></span> <span data-ttu-id="f04fe-128">如需詳細資訊，請參閱 [控制存取權限](control-access-rights.md)。</span><span class="sxs-lookup"><span data-stu-id="f04fe-128">For more information, see [Control Access Rights](control-access-rights.md).</span></span>
2.  <span data-ttu-id="f04fe-129">在 Active Directory Domain Services 中建立代表應用程式、服務或資源的物件。</span><span class="sxs-lookup"><span data-stu-id="f04fe-129">Create an object in Active Directory Domain Services that represents the application, service, or resource.</span></span>
3.  <span data-ttu-id="f04fe-130">將物件 Ace 新增至物件安全描述項中的 DACL，以授與或拒絕使用者或群組該物件上的控制項存取權限。</span><span class="sxs-lookup"><span data-stu-id="f04fe-130">Add object ACEs to the DACL in the object security descriptor to grant or deny users or groups the control access right on that object.</span></span> <span data-ttu-id="f04fe-131">如需詳細資訊，請參閱 [設定物件的存取權限](setting-access-rights-on-an-object.md)。</span><span class="sxs-lookup"><span data-stu-id="f04fe-131">For more information, see [Setting Access Rights on an Object](setting-access-rights-on-an-object.md).</span></span>
4.  <span data-ttu-id="f04fe-132">當使用者嘗試執行受保護的作業時，您的應用程式或服務會使用 [**AccessCheckByTypeResultList**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-accesscheckbytyperesultlist) 函式來判斷是否將控制項存取權授與使用者。</span><span class="sxs-lookup"><span data-stu-id="f04fe-132">When a user attempts to perform the protected operation, your application or service uses the [**AccessCheckByTypeResultList**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-accesscheckbytyperesultlist) function to determine whether the control access right is granted to the user.</span></span> <span data-ttu-id="f04fe-133">如需詳細資訊，請參閱 [在物件的 ACL 中檢查控制項訪問](checking-a-control-access-right-in-an-objectampaposs-acl.md)許可權。</span><span class="sxs-lookup"><span data-stu-id="f04fe-133">For more information, see [Checking a Control Access Right in an Object's ACL](checking-a-control-access-right-in-an-objectampaposs-acl.md).</span></span>
5.  <span data-ttu-id="f04fe-134">根據對物件進行存取檢查的結果，您的應用程式或服務可以授與或拒絕使用者對應用程式或服務的存取權。</span><span class="sxs-lookup"><span data-stu-id="f04fe-134">Based on the result of the access check on the object, your application or service can grant or deny the user access to the application or service.</span></span>

<span data-ttu-id="f04fe-135">服務應用程式也可以建立一個群組，其成員會是不同的服務實例。</span><span class="sxs-lookup"><span data-stu-id="f04fe-135">A service application could also create a group whose members would be the various service instances.</span></span> <span data-ttu-id="f04fe-136">例如，在整個企業中的多部電腦上安裝實例的服務，可能會有所有服務實例寫入的通用記錄檔。</span><span class="sxs-lookup"><span data-stu-id="f04fe-136">For example, a service with instances installed on multiple computers throughout an enterprise might have a common log file that all service instances write to.</span></span> <span data-ttu-id="f04fe-137">服務安裝程式會建立記錄檔，並使用 DACL 將存取權授與群組的成員。</span><span class="sxs-lookup"><span data-stu-id="f04fe-137">The service installation program creates the log file and uses a DACL to grant access only to members of a group.</span></span> <span data-ttu-id="f04fe-138">群組成員將會是執行不同服務實例的使用者帳戶，或者，如果服務是在 LocalSystem 帳戶下執行，則成員會是主機伺服器的電腦帳戶。</span><span class="sxs-lookup"><span data-stu-id="f04fe-138">The group members would be the user accounts under which the various service instances are running, or if the services run under the LocalSystem account, the members would be the computer accounts of the host servers.</span></span>

 

 