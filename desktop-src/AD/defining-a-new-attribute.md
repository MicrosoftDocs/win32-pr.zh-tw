---
title: 定義新屬性
description: 本主題說明如何在擴充 Active Directory 架構時，定義新的屬性。
ms.assetid: b8ac69ba-3b75-4e55-bf80-dabf2e80288a
ms.tgt_platform: multiple
keywords:
- 定義新的屬性廣告
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9da1a0a003d92fe09f27043098cb1abc4387b81e
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/17/2020
ms.locfileid: "104092641"
---
# <a name="defining-a-new-attribute"></a><span data-ttu-id="3136b-104">定義新屬性</span><span class="sxs-lookup"><span data-stu-id="3136b-104">Defining a New Attribute</span></span>

<span data-ttu-id="3136b-105">本主題說明如何在擴充 Active Directory 架構時，定義新的屬性。</span><span class="sxs-lookup"><span data-stu-id="3136b-105">This topic shows how to define a new attribute when extending the Active Directory schema.</span></span>

<span data-ttu-id="3136b-106">在定義新的屬性時，請考慮下列事項：</span><span class="sxs-lookup"><span data-stu-id="3136b-106">Consider the following when defining a new attribute:</span></span>

-   <span data-ttu-id="3136b-107">可能的話，請使用現有的屬性。</span><span class="sxs-lookup"><span data-stu-id="3136b-107">Use existing attributes when possible.</span></span>
-   <span data-ttu-id="3136b-108">請一律使用 **cn** ( 「一般名稱」 ) 屬性做為命名 (相對分辨名稱) 屬性。</span><span class="sxs-lookup"><span data-stu-id="3136b-108">Always use the **cn** ("common name") property as the naming (relative distinguished name) attribute.</span></span> <span data-ttu-id="3136b-109">這是大部分類別的預設值，包括直接從頂端衍生的類別。</span><span class="sxs-lookup"><span data-stu-id="3136b-109">This is the default for most classes, including those derived directly from Top.</span></span> <span data-ttu-id="3136b-110">**Cn** 屬性是已編制索引的屬性，並將依名稱搜尋物件，使其更有效率。</span><span class="sxs-lookup"><span data-stu-id="3136b-110">The **cn** property is an indexed property and will make searching for objects by name more efficient.</span></span>
-   <span data-ttu-id="3136b-111">大量的多重值屬性在儲存和取得時成本高昂，應予以避免。</span><span class="sxs-lookup"><span data-stu-id="3136b-111">Large multi-valued attributes are costly to store and retrieve and should be avoided.</span></span> <span data-ttu-id="3136b-112">Active Directory Domain Services 會執行 LDAP 延伸模組，以啟用具有多個值的大型屬性的累加式讀取，但並非所有 LDAP 用戶端都會辨識此延伸模組。</span><span class="sxs-lookup"><span data-stu-id="3136b-112">Active Directory Domain Services implement an LDAP extension to enable incremental read of large properties with multiple values, but not all LDAP clients will recognize this extension.</span></span>
-   <span data-ttu-id="3136b-113">請記住，屬性是平面的，這表示屬性沒有隱含的子結構。</span><span class="sxs-lookup"><span data-stu-id="3136b-113">Remember that attributes are flat, that is there is no implied substructure to an attribute.</span></span> <span data-ttu-id="3136b-114">指定類別中的所有屬性都應該直接與該類別的實例相關聯。</span><span class="sxs-lookup"><span data-stu-id="3136b-114">All attributes in a given class should relate directly to instances of that class.</span></span>

## <a name="creating-a-new-attribute"></a><span data-ttu-id="3136b-115">建立新屬性</span><span class="sxs-lookup"><span data-stu-id="3136b-115">Creating a New Attribute</span></span>

<span data-ttu-id="3136b-116">若要建立新的屬性：</span><span class="sxs-lookup"><span data-stu-id="3136b-116">To create a new attribute:</span></span>

-   <span data-ttu-id="3136b-117">選擇屬性的名稱。</span><span class="sxs-lookup"><span data-stu-id="3136b-117">Choose a name for the attribute.</span></span> <span data-ttu-id="3136b-118">名稱將包含在 **cn** 和 **lDAPDisplayName** 屬性中。</span><span class="sxs-lookup"><span data-stu-id="3136b-118">The name will be contained in the **cn** and **lDAPDisplayName** attributes.</span></span> <span data-ttu-id="3136b-119">如需撰寫新屬性名稱的詳細資訊，請參閱 [命名屬性和類別](naming-attributes-and-classes.md)。</span><span class="sxs-lookup"><span data-stu-id="3136b-119">For more information about composing a name for a new attribute, see [Naming Attributes and Classes](naming-attributes-and-classes.md).</span></span>
-   <span data-ttu-id="3136b-120">取得屬性 (OID) 的物件識別碼。</span><span class="sxs-lookup"><span data-stu-id="3136b-120">Obtain an object identifier (OID) for the attribute.</span></span> <span data-ttu-id="3136b-121">如需詳細資訊，請參閱 [取得根物件識別碼](obtaining-an-object-identifier.md)。</span><span class="sxs-lookup"><span data-stu-id="3136b-121">For more information, see [Obtaining a Root Object Identifier](obtaining-an-object-identifier.md).</span></span>
-   <span data-ttu-id="3136b-122">選擇屬性的語法。</span><span class="sxs-lookup"><span data-stu-id="3136b-122">Choose a syntax for the attribute.</span></span> <span data-ttu-id="3136b-123">語法是由 **oMSyntax** 和 **oMObjectClass** 屬性的組合所決定。</span><span class="sxs-lookup"><span data-stu-id="3136b-123">The syntax is determined by the combination of the **oMSyntax** and **oMObjectClass** attributes.</span></span> <span data-ttu-id="3136b-124">如需詳細資訊，請參閱 [選擇語法](choosing-a-syntax.md)。</span><span class="sxs-lookup"><span data-stu-id="3136b-124">For more information, see [Choosing a Syntax](choosing-a-syntax.md).</span></span>
-   <span data-ttu-id="3136b-125">決定屬性是單一或多重值。</span><span class="sxs-lookup"><span data-stu-id="3136b-125">Decide if the attribute is single or multi-valued.</span></span> <span data-ttu-id="3136b-126">**IsSingleValued** 屬性可判斷屬性是單一值或多重值。</span><span class="sxs-lookup"><span data-stu-id="3136b-126">The **isSingleValued** attribute determines if the attribute is single or multi-valued.</span></span>
-   <span data-ttu-id="3136b-127">決定是否應該根據預設來編制屬性的索引。</span><span class="sxs-lookup"><span data-stu-id="3136b-127">Decide if the attribute should be indexed by default.</span></span> <span data-ttu-id="3136b-128">如需詳細資訊，請參閱 [索引屬性](indexed-attributes.md)。</span><span class="sxs-lookup"><span data-stu-id="3136b-128">For more information, see [Indexed Attributes](indexed-attributes.md).</span></span>
-   <span data-ttu-id="3136b-129">根據預設，決定屬性是否應該在通用類別目錄中。</span><span class="sxs-lookup"><span data-stu-id="3136b-129">Decide if the attribute should be in the global catalog by default.</span></span> <span data-ttu-id="3136b-130">如需詳細資訊，請參閱 [通用類別目錄中包含的屬性](attributes-included-in-the-global-catalog.md)。</span><span class="sxs-lookup"><span data-stu-id="3136b-130">For more information, see [Attributes Included in the Global Catalog](attributes-included-in-the-global-catalog.md).</span></span>
-   <span data-ttu-id="3136b-131">如果屬性是整數或字串，請決定是否需要範圍限制。</span><span class="sxs-lookup"><span data-stu-id="3136b-131">If the attribute is an integer or string, decide if a range limit is required.</span></span> <span data-ttu-id="3136b-132">**RangeLower** 和 **rangeUpper** 屬性是用來指定範圍限制。</span><span class="sxs-lookup"><span data-stu-id="3136b-132">The **rangeLower** and **rangeUpper** attributes are used to specify the range limit.</span></span>
-   <span data-ttu-id="3136b-133">如果屬性為 DN 值，請決定是否要將屬性與另一個屬性連結。</span><span class="sxs-lookup"><span data-stu-id="3136b-133">If the attribute is DN-valued, decide if the attribute should be linked with another attribute.</span></span> <span data-ttu-id="3136b-134">如果是，則必須在每個屬性上適當設定 [**linkID**](/windows/desktop/ADSchema/a-linkid) 屬性;其中一個屬性必須是轉寄連結，另一個則是上一頁連結。</span><span class="sxs-lookup"><span data-stu-id="3136b-134">If so, the [**linkID**](/windows/desktop/ADSchema/a-linkid) attribute must be set appropriately on each attribute; one attribute must be a forward link, the other a back link.</span></span> <span data-ttu-id="3136b-135">如需連結屬性的詳細資訊，請參閱 [連結的屬性](linked-attributes.md)。</span><span class="sxs-lookup"><span data-stu-id="3136b-135">For more information about linked attributes, see [Linked Attributes](linked-attributes.md).</span></span>
-   <span data-ttu-id="3136b-136">在架構容器中建立新的 **attributeSchema** 物件，並為物件設定適當的屬性。</span><span class="sxs-lookup"><span data-stu-id="3136b-136">Create a new **attributeSchema** object in the schema container and set the appropriate attributes for the object.</span></span> <span data-ttu-id="3136b-137">可以針對 **attributeSchema** 物件設定的屬性有很多，但下表所列的屬性對新屬性的定義而言是不可或缺的。</span><span class="sxs-lookup"><span data-stu-id="3136b-137">There are a large number of attributes that can be set for an **attributeSchema** object, but the attributes listed in the following table below are critical to the definition of a new attribute.</span></span> <span data-ttu-id="3136b-138">這些屬性的值取決於先前的步驟。</span><span class="sxs-lookup"><span data-stu-id="3136b-138">The values of these attributes are determined by the previous steps.</span></span> <span data-ttu-id="3136b-139">如需這些屬性的詳細資訊，請參閱 [屬性特性](characteristics-of-attributes.md)。</span><span class="sxs-lookup"><span data-stu-id="3136b-139">For more information about these attributes, see [Characteristics of Attributes](characteristics-of-attributes.md).</span></span>

    | <span data-ttu-id="3136b-140">屬性</span><span class="sxs-lookup"><span data-stu-id="3136b-140">Attribute</span></span>                                    | <span data-ttu-id="3136b-141">註解</span><span class="sxs-lookup"><span data-stu-id="3136b-141">Comment</span></span>                                              |
    |----------------------------------------------|------------------------------------------------------|
    | <span data-ttu-id="3136b-142">**cn**</span><span class="sxs-lookup"><span data-stu-id="3136b-142">**cn**</span></span><br/>                            | <span data-ttu-id="3136b-143">必要。</span><span class="sxs-lookup"><span data-stu-id="3136b-143">Required.</span></span><br/>                                 |
    | <span data-ttu-id="3136b-144">**lDAPDisplayName**</span><span class="sxs-lookup"><span data-stu-id="3136b-144">**lDAPDisplayName**</span></span><br/>               | <span data-ttu-id="3136b-145">必要。</span><span class="sxs-lookup"><span data-stu-id="3136b-145">Required.</span></span><br/>                                 |
    | <span data-ttu-id="3136b-146">**adminDisplayName**</span><span class="sxs-lookup"><span data-stu-id="3136b-146">**adminDisplayName**</span></span><br/>              | <span data-ttu-id="3136b-147">必要。</span><span class="sxs-lookup"><span data-stu-id="3136b-147">Required.</span></span><br/>                                 |
    | <span data-ttu-id="3136b-148">**attributeSyntax**</span><span class="sxs-lookup"><span data-stu-id="3136b-148">**attributeSyntax**</span></span><br/>               | <span data-ttu-id="3136b-149">必要。</span><span class="sxs-lookup"><span data-stu-id="3136b-149">Required.</span></span><br/>                                 |
    | <span data-ttu-id="3136b-150">**oMSyntax**</span><span class="sxs-lookup"><span data-stu-id="3136b-150">**oMSyntax**</span></span><br/>                      | <span data-ttu-id="3136b-151">必要。</span><span class="sxs-lookup"><span data-stu-id="3136b-151">Required.</span></span><br/>                                 |
    | <span data-ttu-id="3136b-152">**oMObjectClass**</span><span class="sxs-lookup"><span data-stu-id="3136b-152">**oMObjectClass**</span></span><br/>                 | <span data-ttu-id="3136b-153">必要。</span><span class="sxs-lookup"><span data-stu-id="3136b-153">Required.</span></span><br/>                                 |
    | <span data-ttu-id="3136b-154">**schemaIDGUID**</span><span class="sxs-lookup"><span data-stu-id="3136b-154">**schemaIDGUID**</span></span><br/>                  | <span data-ttu-id="3136b-155">必要。</span><span class="sxs-lookup"><span data-stu-id="3136b-155">Required.</span></span><br/>                                 |
    | <span data-ttu-id="3136b-156">**attributeID**</span><span class="sxs-lookup"><span data-stu-id="3136b-156">**attributeID**</span></span><br/>                   | <span data-ttu-id="3136b-157">必要。</span><span class="sxs-lookup"><span data-stu-id="3136b-157">Required.</span></span><br/>                                 |
    | <span data-ttu-id="3136b-158">**isSingleValued**</span><span class="sxs-lookup"><span data-stu-id="3136b-158">**isSingleValued**</span></span><br/>                | <span data-ttu-id="3136b-159">必要。</span><span class="sxs-lookup"><span data-stu-id="3136b-159">Required.</span></span><br/>                                 |
    | <span data-ttu-id="3136b-160">**searchFlags**</span><span class="sxs-lookup"><span data-stu-id="3136b-160">**searchFlags**</span></span><br/>                   | <span data-ttu-id="3136b-161">必要。</span><span class="sxs-lookup"><span data-stu-id="3136b-161">Required.</span></span><br/>                                 |
    | <span data-ttu-id="3136b-162">**isMemberOfPartialAttributeSet**</span><span class="sxs-lookup"><span data-stu-id="3136b-162">**isMemberOfPartialAttributeSet**</span></span><br/> | <span data-ttu-id="3136b-163">必要。</span><span class="sxs-lookup"><span data-stu-id="3136b-163">Required.</span></span><br/>                                 |
    | <span data-ttu-id="3136b-164">**rangeLower**</span><span class="sxs-lookup"><span data-stu-id="3136b-164">**rangeLower**</span></span><br/>                    | <span data-ttu-id="3136b-165">選擇性。</span><span class="sxs-lookup"><span data-stu-id="3136b-165">Optional.</span></span><br/>                                 |
    | <span data-ttu-id="3136b-166">**rangeUpper**</span><span class="sxs-lookup"><span data-stu-id="3136b-166">**rangeUpper**</span></span><br/>                    | <span data-ttu-id="3136b-167">選擇性。</span><span class="sxs-lookup"><span data-stu-id="3136b-167">Optional.</span></span><br/>                                 |
    | <span data-ttu-id="3136b-168">**linkID**</span><span class="sxs-lookup"><span data-stu-id="3136b-168">**linkID**</span></span><br/>                        | <span data-ttu-id="3136b-169">選擇性。</span><span class="sxs-lookup"><span data-stu-id="3136b-169">Optional.</span></span> <span data-ttu-id="3136b-170">連結屬性的必要參數。</span><span class="sxs-lookup"><span data-stu-id="3136b-170">Required for linked attributes.</span></span><br/> |
    | <span data-ttu-id="3136b-171">**description**</span><span class="sxs-lookup"><span data-stu-id="3136b-171">**description**</span></span><br/>                   | <span data-ttu-id="3136b-172">選擇性。</span><span class="sxs-lookup"><span data-stu-id="3136b-172">Optional.</span></span><br/>                                 |

    

     

-   <span data-ttu-id="3136b-173">將新的 **attributeSchema** 物件認可至架構容器。</span><span class="sxs-lookup"><span data-stu-id="3136b-173">Commit the new **attributeSchema** object to the schema container.</span></span>
-   <span data-ttu-id="3136b-174">視需要更新架構快取。</span><span class="sxs-lookup"><span data-stu-id="3136b-174">Update the schema cache, if necessary.</span></span> <span data-ttu-id="3136b-175">如需詳細資訊，請參閱 [更新架構](updating-the-schema-cache.md)快取。</span><span class="sxs-lookup"><span data-stu-id="3136b-175">For more information, see [Updating the Schema Cache](updating-the-schema-cache.md).</span></span>

 

