---
title: 架構執行
description: 在 Active Directory Domain Services 中，類別和屬性定義會分別儲存在目錄中，做為 classSchema 和 attributeSchema 類別的實例。
ms.assetid: 917f8e65-df2c-457e-bfd8-3f1ce0d0fbae
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a7ff18046841b5603be235266e33a7252049f93c
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/17/2020
ms.locfileid: "104023220"
---
# <a name="schema-implementation"></a><span data-ttu-id="353e3-103">架構執行</span><span class="sxs-lookup"><span data-stu-id="353e3-103">Schema Implementation</span></span>

<span data-ttu-id="353e3-104">在 Active Directory Domain Services 中，類別和屬性定義會分別儲存在目錄中，做為 [**classSchema**](/windows/desktop/ADSchema/c-classschema) 和 [**attributeSchema**](/windows/desktop/ADSchema/c-attributeschema) 類別的實例。</span><span class="sxs-lookup"><span data-stu-id="353e3-104">In Active Directory Domain Services, class and attribute definitions are stored in the directory as instances of the [**classSchema**](/windows/desktop/ADSchema/c-classschema) and [**attributeSchema**](/windows/desktop/ADSchema/c-attributeschema) classes, respectively.</span></span> <span data-ttu-id="353e3-105">**classSchema** 和 **attributeSchema** 是架構中定義的類別。</span><span class="sxs-lookup"><span data-stu-id="353e3-105">**classSchema** and **attributeSchema** are classes defined in the schema.</span></span> <span data-ttu-id="353e3-106">若要操作 Active Directory 架構，請使用用來操作其他物件的相同 LDAP 作業。</span><span class="sxs-lookup"><span data-stu-id="353e3-106">To manipulate the Active Directory schema, use the same LDAP operations used to manipulate other object.</span></span> <span data-ttu-id="353e3-107">因為架構是影響整個樹系之目錄的重要部分，所以會將特殊限制套用至架構延伸。</span><span class="sxs-lookup"><span data-stu-id="353e3-107">Because the schema is a key part of the directory that affects the entire forest, special restrictions apply to schema extensions.</span></span> <span data-ttu-id="353e3-108">如需有關限制的詳細資訊，請參閱 [架構延伸的限制](restrictions-on-schema-extension.md)。</span><span class="sxs-lookup"><span data-stu-id="353e3-108">For more information about restrictions, see [Restrictions on Schema Extensions](restrictions-on-schema-extension.md).</span></span>

<span data-ttu-id="353e3-109">若要摘要架構的執行：</span><span class="sxs-lookup"><span data-stu-id="353e3-109">To summarize the schema implementation:</span></span>

-   <span data-ttu-id="353e3-110">[**ClassSchema**](/windows/desktop/ADSchema/c-classschema)類別的實例會定義 Active Directory Domain Services 所支援的每個物件類別。</span><span class="sxs-lookup"><span data-stu-id="353e3-110">Instances of the [**classSchema**](/windows/desktop/ADSchema/c-classschema) class define every object class supported by Active Directory Domain Services.</span></span> <span data-ttu-id="353e3-111">**ClassSchema** 物件的屬性（例如，其 [**mayContain**](/windows/desktop/ADSchema/a-maycontain)和 [**mustContain**](/windows/desktop/ADSchema/a-mustcontain)屬性）描述物件類別，方式與使用者物件的屬性（例如，其 [**userPrincipalName**](/windows/desktop/ADSchema/a-userprincipalname)和 [**telephoneNumber**](/windows/desktop/ADSchema/a-telephonenumber)屬性）描述該使用者的方式相同。</span><span class="sxs-lookup"><span data-stu-id="353e3-111">The attributes of a **classSchema** object, for example, its [**mayContain**](/windows/desktop/ADSchema/a-maycontain) and [**mustContain**](/windows/desktop/ADSchema/a-mustcontain) attributes, describe an object class, the same way that the attributes of a user object, for example, its [**userPrincipalName**](/windows/desktop/ADSchema/a-userprincipalname) and [**telephoneNumber**](/windows/desktop/ADSchema/a-telephonenumber) attributes, describe that user.</span></span> <span data-ttu-id="353e3-112">如需詳細資訊，請參閱 [物件類別的特性](characteristics-of-object-classes.md)。</span><span class="sxs-lookup"><span data-stu-id="353e3-112">For more information, see [Characteristics of Object Classes](characteristics-of-object-classes.md).</span></span>
-   <span data-ttu-id="353e3-113">[**AttributeSchema**](/windows/desktop/ADSchema/c-attributeschema)類別的實例是用來定義 Active Directory Domain Services 所支援的每個屬性。</span><span class="sxs-lookup"><span data-stu-id="353e3-113">Instances of the [**attributeSchema**](/windows/desktop/ADSchema/c-attributeschema) class are used to define every attribute supported by Active Directory Domain Services.</span></span> <span data-ttu-id="353e3-114">**AttributeSchema** 物件的屬性，例如其 **attributeSyntax** 和 **isSingleValued** 屬性、描述屬性，與使用者物件的屬性描述該使用者的方式相同。</span><span class="sxs-lookup"><span data-stu-id="353e3-114">The attributes of an **attributeSchema** object, for example, its **attributeSyntax** and **isSingleValued** attributes, describe an attribute, the same way the attributes of a user object describe that user.</span></span> <span data-ttu-id="353e3-115">如需詳細資訊，請參閱 [屬性的特性](characteristics-of-attributes.md)。</span><span class="sxs-lookup"><span data-stu-id="353e3-115">For more information, see [Characteristics of Attributes](characteristics-of-attributes.md).</span></span>
-   <span data-ttu-id="353e3-116">[**AttributeSchema**](/windows/desktop/ADSchema/c-attributeschema)和 [**classSchema**](/windows/desktop/ADSchema/c-classschema)類別的實例會儲存在目錄的已知位置，也就是架構容器。</span><span class="sxs-lookup"><span data-stu-id="353e3-116">Instances of the [**attributeSchema**](/windows/desktop/ADSchema/c-attributeschema) and [**classSchema**](/windows/desktop/ADSchema/c-classschema) classes are stored in a well-known place in the directory, the schema container.</span></span> <span data-ttu-id="353e3-117">架構容器一律具有下列格式的辨別名稱：</span><span class="sxs-lookup"><span data-stu-id="353e3-117">The schema container always has a distinguished name of the form:</span></span>

    ```C++
    CN=Schema,CN=Configuration,<DC=forestroot>
    ```

    

    <span data-ttu-id="353e3-118">其中 " &lt; dc = forestroot &gt; " 是樹系根的辨別名稱，例如 "Dc = FABRIKAM，DC = Com"。</span><span class="sxs-lookup"><span data-stu-id="353e3-118">where "&lt;DC=forestroot&gt;" is the distinguished name of the root of the forest, for example, "DC=Fabrikam,DC=Com".</span></span>

    <span data-ttu-id="353e3-119">若要取得架構容器的辨別名稱，請讀取 rootDSE 的 **schemaNamingCoNtext** 屬性。</span><span class="sxs-lookup"><span data-stu-id="353e3-119">To get the distinguished name of the schema container, read the **schemaNamingContext** attribute of rootDSE.</span></span> <span data-ttu-id="353e3-120">如需 rootDSE 及其屬性的詳細資訊，請參閱 [無伺服器系結和 rootdse](serverless-binding-and-rootdse.md)。</span><span class="sxs-lookup"><span data-stu-id="353e3-120">For more information about rootDSE and its attributes, see [Serverless Binding and RootDSE](serverless-binding-and-rootdse.md).</span></span>

<span data-ttu-id="353e3-121">考慮架構時，請記住：</span><span class="sxs-lookup"><span data-stu-id="353e3-121">When thinking about the schema, remember:</span></span>

-   <span data-ttu-id="353e3-122">架構變更是全域的。</span><span class="sxs-lookup"><span data-stu-id="353e3-122">Schema changes are global.</span></span> <span data-ttu-id="353e3-123">整個樹系都有一個架構。</span><span class="sxs-lookup"><span data-stu-id="353e3-123">There is a single schema for an entire forest.</span></span> <span data-ttu-id="353e3-124">架構會進行全域複寫：樹系中的每個網域控制站上都有架構的複本。</span><span class="sxs-lookup"><span data-stu-id="353e3-124">The schema is globally replicated: a copy of the schema exists on every domain controller in the forest.</span></span> <span data-ttu-id="353e3-125">當您擴充架構時，您可以為整個樹系進行此作業。</span><span class="sxs-lookup"><span data-stu-id="353e3-125">When you extend the schema, you do so for the entire forest.</span></span>
-   <span data-ttu-id="353e3-126">無法還原架構新增專案。</span><span class="sxs-lookup"><span data-stu-id="353e3-126">Schema additions are not reversible.</span></span> <span data-ttu-id="353e3-127">當新的類別或屬性加入至架構時，就無法將它移除。</span><span class="sxs-lookup"><span data-stu-id="353e3-127">When a new class or attribute is added to the schema, it cannot be removed.</span></span> <span data-ttu-id="353e3-128">現有的屬性或類別可以停用，但不能移除。</span><span class="sxs-lookup"><span data-stu-id="353e3-128">An existing attribute or class can be disabled, but not removed.</span></span> <span data-ttu-id="353e3-129">如需詳細資訊，請參閱 [停用現有的類別和屬性](disabling-existing-classes-and-attributes.md)。</span><span class="sxs-lookup"><span data-stu-id="353e3-129">For more information, see [Disabling Existing Classes and Attributes](disabling-existing-classes-and-attributes.md).</span></span>
-   <span data-ttu-id="353e3-130">停用類別或屬性不會影響現有的類別或屬性實例，但是會防止建立新的實例。</span><span class="sxs-lookup"><span data-stu-id="353e3-130">Disabling a class or attribute does not affect existing instances of the class or attribute, but it prevents new instances from being created.</span></span> <span data-ttu-id="353e3-131">如果屬性包含在未停用的任何類別中，就無法停用屬性。</span><span class="sxs-lookup"><span data-stu-id="353e3-131">You cannot disable an attribute if it is included in any class that is not disabled.</span></span>

 

 