---
title: 將屬性包含在通用類別目錄中
description: 樹系的通用類別目錄包含樹系中每個物件的部分複本。
ms.assetid: 185467ed-7bcf-41e9-9862-02412009c437
ms.tgt_platform: multiple
keywords:
- 包含在通用類別目錄 AD 中的屬性
- 包含在通用類別目錄中的屬性 AD
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3ffbffd39e92456e6de7eccc6127f8a1351a4466
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/17/2020
ms.locfileid: "104462937"
---
# <a name="including-attributes-in-the-global-catalog"></a><span data-ttu-id="9f8f6-105">將屬性包含在通用類別目錄中</span><span class="sxs-lookup"><span data-stu-id="9f8f6-105">Including Attributes in the Global Catalog</span></span>

<span data-ttu-id="9f8f6-106">樹系的通用類別目錄包含樹系中每個物件的部分複本。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-106">The global catalog of a forest includes a partial replica of every object in the forest.</span></span> <span data-ttu-id="9f8f6-107">針對每個物件，通用類別目錄只會包含每個物件屬性的子集。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-107">For each object, the global catalog includes only a subset of each object's attributes.</span></span> <span data-ttu-id="9f8f6-108">如果屬性已複寫至通用類別目錄， [**attributeSchema**](/windows/desktop/ADSchema/c-attributeschema)物件的 [**isMemberOfPartialAttributeSet**](/windows/desktop/ADSchema/a-ismemberofpartialattributeset)屬性會設定為 **TRUE** 。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-108">The [**isMemberOfPartialAttributeSet**](/windows/desktop/ADSchema/a-ismemberofpartialattributeset) attribute of an [**attributeSchema**](/windows/desktop/ADSchema/c-attributeschema) object is set to **TRUE** if the attribute is replicated to the global catalog.</span></span>

<span data-ttu-id="9f8f6-109">具有下列特性的屬性適用于通用類別目錄中的儲存體：</span><span class="sxs-lookup"><span data-stu-id="9f8f6-109">Attributes with the following characteristics are appropriate for storage in the global catalog:</span></span>

-   <span data-ttu-id="9f8f6-110">屬性是全域有趣的，因為找出可能發生在樹系中任何位置的物件，或因為無法存取完整的物件，而對屬性的讀取存取是很重要的。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-110">The attribute is globally interesting, either because the attribute is required for locating objects that can occur anywhere in the forest, or because read access to the attribute is valuable even when the full object is not accessible.</span></span> <span data-ttu-id="9f8f6-111">第一個型別的範例是 [**location**](/windows/desktop/ADSchema/a-location) 屬性，它可以用來尋找 [**列印佇列**](/windows/desktop/ADSchema/c-printqueue) 物件。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-111">An example of the first type is the [**location**](/windows/desktop/ADSchema/a-location) attribute, which can be used to find a [**printQueue**](/windows/desktop/ADSchema/c-printqueue) object.</span></span> <span data-ttu-id="9f8f6-112">第二種類型的範例是 [**telephoneNumber**](/windows/desktop/ADSchema/a-telephonenumber)，因為即使您無法存取其 [**使用者**](/windows/desktop/ADSchema/c-user) 物件的完整複本，也可以呼叫某人。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-112">An example of the second type is [**telephoneNumber**](/windows/desktop/ADSchema/a-telephonenumber), because you can call someone even if you cannot access a full replica of their [**user**](/windows/desktop/ADSchema/c-user) object.</span></span>
-   <span data-ttu-id="9f8f6-113">屬性的變動性很低。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-113">The volatility of the attribute is very low.</span></span> <span data-ttu-id="9f8f6-114">這點很重要，因為如果屬性類別包含在通用類別目錄中，則整個企業樹系中該屬性類別之每個值的變更都會複寫至企業中的所有通用類別目錄伺服器。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-114">This is important, because if an attribute class is included in the global catalog, changes to every value of that attribute class throughout the enterprise forest are replicated to all global catalog servers in the enterprise.</span></span>
-   <span data-ttu-id="9f8f6-115">屬性值的大小很小。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-115">The size of the attribute value is small.</span></span> <span data-ttu-id="9f8f6-116">"Small" 具有高度主觀：將屬性放在通用類別目錄中，請考慮將屬性複寫至企業中所有通用類別目錄伺服器的影響。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-116">"Small" is highly subjective: when placing an attribute in the global catalog, consider the impact of replicating the attribute to all global catalog servers in the enterprise.</span></span> <span data-ttu-id="9f8f6-117">屬性越小，影響愈低。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-117">The smaller the attribute, the lower the impact.</span></span> <span data-ttu-id="9f8f6-118">因為只有在屬性變更時才會發生複寫，所以複寫的影響也會隨著變動性的減少而變小，因此具有極低變動性的大型屬性可能會有較大的整體影響，而不是具有高變動性的小型屬性。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-118">Because replication occurs only when the attribute changes, the impact of replication is also smaller as volatility decreases, so a large attribute with very low volatility may have a smaller overall impact than a small attribute with high volatility.</span></span>

<span data-ttu-id="9f8f6-119">決定是否要將屬性放在通用類別目錄中時，請記住，您在通用類別目錄伺服器上的交易增加複寫和增加磁片儲存空間，可能會加快查詢效能。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-119">When deciding whether or not to place an attribute in the global catalog remember that you are trading increased replication and increased disk storage on global catalog servers for, potentially, faster query performance.</span></span> <span data-ttu-id="9f8f6-120">一般而言，您會使用通用類別目錄來搜尋感興趣的物件，以便您可以讀取物件的選取屬性。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-120">Typically, you would use the global catalog to search for an object of interest so you can read selected attributes of the object.</span></span> <span data-ttu-id="9f8f6-121">如果您感興趣的屬性已複寫至通用類別目錄，則可以直接從通用類別目錄讀取它們。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-121">If the attributes you are interested in are replicated to the global catalog, you can read them directly from the global catalog.</span></span> <span data-ttu-id="9f8f6-122">或者，若要讀取未複寫至通用類別目錄的屬性，您必須執行其他步驟來取得它們。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-122">Alternately, to read attributes that are not replicated to the global catalog, you must perform additional steps to retrieve them.</span></span> <span data-ttu-id="9f8f6-123">在此情況下，在搜尋通用類別目錄以尋找感興趣的物件之後，您必須從通用類別目錄讀取物件的辨別名稱，使用 DN 直接系結至物件的完整複本（可能位於不同的伺服器上），最後從物件的完整複本讀取非通用類別目錄屬性。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-123">In this case, after searching the global catalog to find the object of interest, you must read the object's distinguished name from the global catalog, use the DN to bind directly to a full replica of the object, which may be on a different server, and finally read the non-global-catalog attributes from the full replica of the object.</span></span>

<span data-ttu-id="9f8f6-124">經常查詢及參考的屬性（例如員工名稱和電話號碼）很適合包含在通用類別目錄中。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-124">Frequently queried and referenced attributes, such as employee name and phone number, are good to include in the global catalog.</span></span> <span data-ttu-id="9f8f6-125">不常參考的屬性（例如 "driverVersion"），最好是從通用類別目錄中排除。</span><span class="sxs-lookup"><span data-stu-id="9f8f6-125">An infrequently referenced attribute such as "driverVersion" for printers is best left out of the global catalog.</span></span>

 

 