---
title: 總和檢查碼和物件計數
description: 總和檢查碼和物件計數是偵測策略，可讓應用程式偵測部分更新狀態。
ms.assetid: 14829a74-c186-4250-beac-036c5ecc5913
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bc643ec7cd896a7c73df0be5738887a330392140
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/16/2019
ms.locfileid: "104461964"
---
# <a name="checksums-and-object-counts"></a>總和檢查碼和物件計數

總和檢查碼和物件計數是偵測策略，可讓應用程式偵測部分更新狀態。 您也可以使用總和檢查碼來偵測衝突解決所引進的不一致。 總和檢查碼和物件計數都需要一個位置來儲存用來驗證總和檢查碼或物件計數的值。 這可以在與應用程式特定關聯性相關的「主要」物件上，或是在儲存相關物件的父物件上。

若為總和檢查碼，讀取相關物件的應用程式會藉由計算本機結果並與儲存的值進行比較，以驗證總和檢查碼。 如果值不相符，則複本會處於部分更新狀態，而且無法使用物件。

針對物件計數，應用程式會計算相關物件 (通常是單一父) 的子系，並將計數與儲存的值進行比較。 如果計數不相符，則複本會處於部分更新狀態，而且無法使用物件。

一些重要考量︰

-   若要讓總和檢查碼方法能夠運作，必須更新用來計算總和檢查碼的一或多個屬性。 用來計算總和檢查碼的演算法必須可靠地反映輸入中的差異。 如果許多不同的輸入產品都有相同的總和檢查碼，演算法將無法可靠地偵測部分更新。 「進行 salt 處理」輸入值（例如來源電腦的 **objectGUID** ）和更新的日期和時間也很有用。
-   當物件計數與新的物件集搭配使用，或與一致性 Guid 搭配使用時，物件計數的效果最佳 (參閱下一節，以取得) 的詳細資訊。 執行更新的應用程式必須事先知道當更新完成時，容器中的物件數目，或在更新進行時使用其他將容器標示為不正確方式 (例如，將計數設定為零) 。 完成更新之後，來源應用程式會將容器標示為包含的物件計數。

 

 




