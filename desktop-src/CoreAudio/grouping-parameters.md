---
description: 群組參數
ms.assetid: 088156f7-fb75-4fcf-b928-87e97b13bdab
title: 群組參數
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ecfb674d4349f351ce36fe1e236d1ecd3b265d8e
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "103688868"
---
# <a name="grouping-parameters"></a><span data-ttu-id="090db-103">群組參數</span><span class="sxs-lookup"><span data-stu-id="090db-103">Grouping Parameters</span></span>

<span data-ttu-id="090db-104">群組參數會識別一組 [音訊會話](audio-sessions.md) ，這些會話全都由系統音量控制程式 Sndvol 中的單一音量控制所控制。</span><span class="sxs-lookup"><span data-stu-id="090db-104">A grouping parameter identifies a collection of [audio sessions](audio-sessions.md) that are all controlled by a single volume control in the system volume-control program, Sndvol.</span></span> <span data-ttu-id="090db-105">群組參數是 GUID，可唯一識別電腦範圍內的集合。</span><span class="sxs-lookup"><span data-stu-id="090db-105">The grouping parameter is a GUID that uniquely identifies the collection within the scope of the computer.</span></span>

<span data-ttu-id="090db-106">群組參數的用途類似于跨進程會話的會話 GUID。</span><span class="sxs-lookup"><span data-stu-id="090db-106">The purpose of a grouping parameter is similar to that of the session GUID for a cross-process session.</span></span> <span data-ttu-id="090db-107">也就是說，群組參數可讓使用者從任意數目的進程，以單一單位來控制資料流程的集合。</span><span class="sxs-lookup"><span data-stu-id="090db-107">That is, the grouping parameter enables the user to control a collection of streams from any number of processes as a single unit.</span></span> <span data-ttu-id="090db-108">不過，在跨進程會話無法提供解決方案的情況下，群組參數會有此用途。</span><span class="sxs-lookup"><span data-stu-id="090db-108">However, the grouping parameter serves this purpose in circumstances in which cross-process sessions cannot provide a solution.</span></span>

<span data-ttu-id="090db-109">如果有數個用戶端將各自的串流指派給個別的會話，但指派相同的群組參數給所有會話，Sndvol 會顯示這些會話的單一磁片區控制項。</span><span class="sxs-lookup"><span data-stu-id="090db-109">If several clients assign their respective streams to separate sessions but assign the same grouping parameter to all of the sessions, Sndvol displays a single volume control for these sessions.</span></span> <span data-ttu-id="090db-110">若要提供群組參數的支援，Sndvol 或任何類似的磁片區控制應用程式都必須執行下列動作：</span><span class="sxs-lookup"><span data-stu-id="090db-110">To provide support for grouping parameters, Sndvol or any similar volume-control application must do the following:</span></span>

-   <span data-ttu-id="090db-111">在顯示磁片區控制項之前，請檢查所有使用中會話的群組參數。</span><span class="sxs-lookup"><span data-stu-id="090db-111">Before displaying the volume controls, check the grouping parameters of all the active sessions.</span></span> <span data-ttu-id="090db-112">將所有具有相同群組參數的會話組合在同一個磁片區下。</span><span class="sxs-lookup"><span data-stu-id="090db-112">Group together under a single volume control all sessions that have the same grouping parameter.</span></span>
-   <span data-ttu-id="090db-113">當使用者變更特定群組參數之磁片區控制項的設定時，請更新共用該群組參數之所有會話的磁片區層級。</span><span class="sxs-lookup"><span data-stu-id="090db-113">When the user changes the setting on a volume control for a particular grouping parameter, update the volume levels of all of the sessions that share that grouping parameter.</span></span>

<span data-ttu-id="090db-114">群組參數有助於減少 Sndvol 所顯示的音量控制項數目。</span><span class="sxs-lookup"><span data-stu-id="090db-114">Grouping parameters help to reduce the number of volume controls that are displayed by Sndvol.</span></span> <span data-ttu-id="090db-115">如果 Sndvol clutters 顯示的控制項太多，使用者可能會混淆。</span><span class="sxs-lookup"><span data-stu-id="090db-115">Users might become confused if Sndvol clutters its display with too many controls.</span></span> <span data-ttu-id="090db-116">如果不支援群組參數，Sndvol 一律會針對每個會話顯示個別的音量控制項，這在所有情況下可能都不適用。</span><span class="sxs-lookup"><span data-stu-id="090db-116">Without support for grouping parameters, Sndvol would always display a separate volume control for each session, which might not be appropriate in all circumstances.</span></span> <span data-ttu-id="090db-117">此外，群組參數提供便利的方式，以確保包含類似音訊內容類型的會話可以輕鬆地設定為相同的磁片區層級。</span><span class="sxs-lookup"><span data-stu-id="090db-117">In addition, grouping parameters provide a convenient way to ensure that sessions that contain similar types of audio content can easily be set to the same volume level.</span></span>

<span data-ttu-id="090db-118">如先前所述，較高層級的音訊 Api 通常會將它們的串流指派給預設的進程特定會話， (由會話 GUID 值 GUID \_ Null) 識別。</span><span class="sxs-lookup"><span data-stu-id="090db-118">As explained previously, higher-level audio APIs typically assign their streams to the default, process-specific session (identified by the session GUID value GUID\_NULL).</span></span> <span data-ttu-id="090db-119">此預設值可讓 Sndvol 針對每個用戶端應用程式進程顯示個別的音量控制項，這通常是想要的行為。</span><span class="sxs-lookup"><span data-stu-id="090db-119">This default enables Sndvol to display a separate volume control for each client application process, which is frequently the desired behavior.</span></span> <span data-ttu-id="090db-120">此外，如果同一個用戶端的多個實例在不同的進程中執行，但需要單一的共用磁片區控制，則用戶端可以直接將它們的串流指派給相同的跨進程會話。</span><span class="sxs-lookup"><span data-stu-id="090db-120">Furthermore, if several instances of the same client run in separate processes but require a single, shared volume control, the clients can simply assign their streams to the same cross-process session.</span></span> <span data-ttu-id="090db-121">這兩種情況都不需要使用群組參數。</span><span class="sxs-lookup"><span data-stu-id="090db-121">Neither of these cases requires the use of grouping parameters.</span></span> <span data-ttu-id="090db-122">不過，Microsoft Internet Explorer 所查詢示的一個重要案例，需要使用群組參數來達成所需的行為。</span><span class="sxs-lookup"><span data-stu-id="090db-122">However, one important case, as exemplified by Microsoft Internet Explorer, does require the use of grouping parameters to achieve the desired behavior.</span></span>

<span data-ttu-id="090db-123">Internet Explorer 可讓使用者開啟多個瀏覽器視窗，而且這些視窗可能不會在相同的進程中執行。</span><span class="sxs-lookup"><span data-stu-id="090db-123">Internet Explorer allows users to open multiple browser windows, and these windows might not all run in the same process.</span></span> <span data-ttu-id="090db-124">如果 Sndvol 針對每個應用程式實例顯示個別的音量控制項，而且它們都有相同的標籤「Internet Explorer」，則使用者可能會混淆。</span><span class="sxs-lookup"><span data-stu-id="090db-124">Users might become confused if Sndvol displayed a separate volume control for each application instance, all of which had the same label, "Internet Explorer."</span></span> <span data-ttu-id="090db-125">在此情況下，跨進程會話不是可行的解決方案。如果 Internet Explorer 的多個實例在不同的進程中執行，它們可能無法將其所有音訊串流指派給單一跨進程會話。</span><span class="sxs-lookup"><span data-stu-id="090db-125">A cross-process session is not a feasible solution in this case—if several instances of Internet Explorer run in different processes, they might be unable to assign all of their audio streams to a single cross-process session.</span></span> <span data-ttu-id="090db-126">原因是 Internet Explorer 的 windows 可能正在執行 Windows Media Player 的實例，或其他使用較高層級音訊 API 來播放其音訊串流的多媒體外掛程式。</span><span class="sxs-lookup"><span data-stu-id="090db-126">The reason is that the Internet Explorer windows might be running instances of Windows Media Player or some other multimedia plug-in that uses a higher-level audio API to play its audio streams.</span></span> <span data-ttu-id="090db-127">這些 Api 通常會將進程中的串流指派給預設的進程特定會話。</span><span class="sxs-lookup"><span data-stu-id="090db-127">These APIs typically assign the streams in a process to a default, process-specific session.</span></span> <span data-ttu-id="090db-128">Internet Explorer 無法控制這些資料流程的指派給會話。</span><span class="sxs-lookup"><span data-stu-id="090db-128">Internet Explorer has no control over the assignment of these streams to sessions.</span></span>

<span data-ttu-id="090db-129">WASAPI 藉由啟用 Internet Explorer 的每個實例，以存取其預設、進程特定會話的會話控制項，以及將群組參數指派給該會話，來解決這個問題。</span><span class="sxs-lookup"><span data-stu-id="090db-129">WASAPI solves this problem by enabling each instance of Internet Explorer to access the session controls for its default, process-specific session and to assign a grouping parameter to that session.</span></span> <span data-ttu-id="090db-130">如果 Internet Explorer 的所有實例指派相同的群組參數給所有的音訊會話，Sndvol 就會顯示這些會話的單一音量控制。</span><span class="sxs-lookup"><span data-stu-id="090db-130">If all instances of Internet Explorer assign the same grouping parameter to all of their audio sessions, then Sndvol will display a single volume control for these sessions.</span></span>

<span data-ttu-id="090db-131">依預設，會話不屬於任何群組。</span><span class="sxs-lookup"><span data-stu-id="090db-131">By default, a session does not belong to any grouping.</span></span> <span data-ttu-id="090db-132">如果用戶端未明確指派會話至群組，則 Sndvol 會顯示該會話的專用磁片區控制項。</span><span class="sxs-lookup"><span data-stu-id="090db-132">If a client does not explicitly assign a session to a grouping, then Sndvol displays a dedicated volume control for that session.</span></span> <span data-ttu-id="090db-133">群組參數值 GUID \_ Null 表示會話不屬於任何群組。</span><span class="sxs-lookup"><span data-stu-id="090db-133">The grouping parameter value GUID\_NULL indicates that a session does not belong to any grouping.</span></span> <span data-ttu-id="090db-134">如果沒有用戶端明確指派會話的群組參數，則該會話的群組參數值預設為 GUID \_ Null。</span><span class="sxs-lookup"><span data-stu-id="090db-134">If no client has explicitly assigned a grouping parameter to a session, then the grouping parameter value for that session is GUID\_NULL by default.</span></span>

<span data-ttu-id="090db-135">用戶端可以動態變更指派給會話的群組。</span><span class="sxs-lookup"><span data-stu-id="090db-135">A client can dynamically change the grouping to which a session is assigned.</span></span>

<span data-ttu-id="090db-136">群組可以包含 [音訊端點裝置](audio-endpoint-devices.md)上跨進程會話和進程特定會話的任何組合。</span><span class="sxs-lookup"><span data-stu-id="090db-136">A grouping can include any combination of cross-process sessions and process-specific sessions on an [audio endpoint device](audio-endpoint-devices.md).</span></span>

<span data-ttu-id="090db-137">Sndvol 使用者介面可讓使用者一次只顯示一個音訊端點裝置的音量控制項。</span><span class="sxs-lookup"><span data-stu-id="090db-137">The Sndvol user interface allows the user to display the volume controls for only one audio endpoint device at a time.</span></span> <span data-ttu-id="090db-138">當使用者調整特定裝置的音量控制項時，連接到其他裝置的會話音量層級不會受到影響。</span><span class="sxs-lookup"><span data-stu-id="090db-138">When the user adjusts the volume controls for a particular device, the volume levels of sessions that connect to other devices are not affected.</span></span> <span data-ttu-id="090db-139">尤其是，特定群組參數的磁片區控制項只會影響共用群組參數的會話，並連接到目前選取的裝置。</span><span class="sxs-lookup"><span data-stu-id="090db-139">In particular, a volume control for a particular grouping parameter affects only sessions that share the grouping parameter and are connected to the currently selected device.</span></span> <span data-ttu-id="090db-140">具有相同群組參數但連接至另一部裝置的會話不會受到影響。</span><span class="sxs-lookup"><span data-stu-id="090db-140">A session that happens to have an identical grouping parameter but is connected to another device is not affected.</span></span>

<span data-ttu-id="090db-141">如先前所述，Sndvol 會以顯示名稱和圖示來標記所顯示的每個磁片區控制項。</span><span class="sxs-lookup"><span data-stu-id="090db-141">As described previously, Sndvol labels each volume control that it displays with a display name and icon.</span></span> <span data-ttu-id="090db-142">在群組的磁片區控制項的案例中，Sndvol 會任意選取群組中的其中一個會話，作為顯示名稱的來源，以及它與音量控制項一起顯示的圖示。</span><span class="sxs-lookup"><span data-stu-id="090db-142">In the case of a volume control for a grouping, Sndvol arbitrarily selects one of the sessions in the grouping as the source for the display name and icon that it displays with the volume control.</span></span> <span data-ttu-id="090db-143">因此，為了確保 Sndvol 一律會顯示相同的群組顯示名稱和圖示，將會話指派給該群組的所有應用程式實例都應確定其各自的會話具有相同的顯示名稱和圖示。</span><span class="sxs-lookup"><span data-stu-id="090db-143">Thus, to ensure that Sndvol always displays the same display name and icon for a grouping, all application instances that assign sessions to that grouping should ensure that their respective sessions have the same display name and icon.</span></span> <span data-ttu-id="090db-144">如需有關顯示名稱和圖示的詳細資訊，請參閱 [音訊會話](audio-sessions.md)。</span><span class="sxs-lookup"><span data-stu-id="090db-144">For more information about display names and icons, see [Audio Sessions](audio-sessions.md).</span></span>

<span data-ttu-id="090db-145">應用程式（例如 Sndvol）可以在會話的群組參數變更時註冊自己，以接收通知。</span><span class="sxs-lookup"><span data-stu-id="090db-145">An application such as Sndvol can register itself to receive notifications when the grouping parameter for a session changes.</span></span> <span data-ttu-id="090db-146">如果應用程式將會話指派的相關資訊快取到群組參數，這類通知可能很有用。</span><span class="sxs-lookup"><span data-stu-id="090db-146">Such notifications might be useful if the application caches information about the assignment of sessions to grouping parameters.</span></span> <span data-ttu-id="090db-147">通知會通知應用程式，快取的資訊可能不再有效。</span><span class="sxs-lookup"><span data-stu-id="090db-147">A notification informs the application that the cached information might no longer be valid.</span></span>

<span data-ttu-id="090db-148">若要將群組參數指派給會話，請呼叫 [**IAudioSessionControl：： SetGroupingParam**](/windows/desktop/api/Audiopolicy/nf-audiopolicy-iaudiosessioncontrol-setgroupingparam) 方法。</span><span class="sxs-lookup"><span data-stu-id="090db-148">To assign a grouping parameter to a session, call the [**IAudioSessionControl::SetGroupingParam**](/windows/desktop/api/Audiopolicy/nf-audiopolicy-iaudiosessioncontrol-setgroupingparam) method.</span></span> <span data-ttu-id="090db-149">若要取得指派給會話的群組參數，請呼叫 [**IAudioSessionControl：： GetGroupingParam**](/windows/desktop/api/Audiopolicy/nf-audiopolicy-iaudiosessioncontrol-getgroupingparam) 方法。</span><span class="sxs-lookup"><span data-stu-id="090db-149">To obtain the grouping parameter that is assigned to a session, call the [**IAudioSessionControl::GetGroupingParam**](/windows/desktop/api/Audiopolicy/nf-audiopolicy-iaudiosessioncontrol-getgroupingparam) method.</span></span>

## <a name="related-topics"></a><span data-ttu-id="090db-150">相關主題</span><span class="sxs-lookup"><span data-stu-id="090db-150">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="090db-151">音訊會話</span><span class="sxs-lookup"><span data-stu-id="090db-151">Audio Sessions</span></span>](audio-sessions.md)
</dt> </dl>

 

 



