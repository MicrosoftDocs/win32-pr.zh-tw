---
description: Microsoft 空間音效是 Microsoft 的平台層級解決方案，適用于 Xbox、Windows 和 HoloLens 2 上的空間音效支援，可在接聽程式上方或低於接聽程式) 音訊提示時，啟用環繞和提高許可權 (。
ms.assetid: 4F962F1A-CA4A-4018-BA97-516EA3519650
title: 適用於開發人員的空間音效
ms.custom: contperf-fy21q1
ms.topic: article
ms.date: 09/18/2020
ms.openlocfilehash: 9db3614ea7932af874da351e7a92980d51b90011
ms.sourcegitcommit: f374b50b37160b683da16b59ac9340282a8f50a5
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/04/2021
ms.locfileid: "104555276"
---
# <a name="spatial-sound-for-developers"></a><span data-ttu-id="16d3f-103">適用於開發人員的空間音效</span><span class="sxs-lookup"><span data-stu-id="16d3f-103">Spatial Sound for Developers</span></span>
> [!Note] 
> <span data-ttu-id="16d3f-104">本檔的目標物件是開發人員。</span><span class="sxs-lookup"><span data-stu-id="16d3f-104">This documentation is targeted for a developer audience.</span></span> <span data-ttu-id="16d3f-105">如需在裝置上啟用空間音效的終端使用者支援，請參閱 [如何在 Windows 10 中開啟空間音效](https://support.microsoft.com/help/4563140/how-to-turn-on-spatial-sound-in-windows-10)。</span><span class="sxs-lookup"><span data-stu-id="16d3f-105">For end-user support for enabling spatial sound on your device, see [How to turn on spatial sound in Windows 10](https://support.microsoft.com/help/4563140/how-to-turn-on-spatial-sound-in-windows-10).</span></span>

<span data-ttu-id="16d3f-106">Microsoft 空間音效是 Microsoft 的平台層級解決方案，適用于 Xbox、Windows 和 HoloLens 2 上的空間音效支援，可在接聽程式上方或低於接聽程式) 音訊提示時，啟用環繞和提高許可權 (。空間音效可由 Windows 桌面 (Win32) 應用程式，以及在支援的平臺上通用 Windows 平臺 (UWP) 應用程式來運用。</span><span class="sxs-lookup"><span data-stu-id="16d3f-106">Microsoft Spatial Sound is Microsoft’s platform-level solution for spatial sound support on Xbox, Windows and HoloLens 2, enabling both surround and elevation (above or below the listener) audio cues. Spatial sound can be leveraged by Windows desktop (Win32) apps as well as Universal Windows Platform (UWP) apps on supported platforms.</span></span> <span data-ttu-id="16d3f-107">空間音效 Api 可讓開發人員建立音訊物件，以從3D 空間中的位置發出音訊。</span><span class="sxs-lookup"><span data-stu-id="16d3f-107">The spatial sound APIs allow developers to create audio objects that emit audio from positions in 3D space.</span></span> <span data-ttu-id="16d3f-108">動態音訊物件可讓您從空間中的任意位置發出音訊，這可能會隨著時間而改變。</span><span class="sxs-lookup"><span data-stu-id="16d3f-108">Dynamic audio objects allow you to emit audio from an arbitrary position in space, which can change over time.</span></span> <span data-ttu-id="16d3f-109">您也可以指定音訊物件從17個預先定義的靜態通道之一發出音效 (可代表真實或虛擬化喇叭的 8.1.4.4) 。</span><span class="sxs-lookup"><span data-stu-id="16d3f-109">You can also specify that audio objects emit sound from one of 17 pre-defined static channels (8.1.4.4) that can represent real or virtualized speakers.</span></span> <span data-ttu-id="16d3f-110">實際的輸出格式是由使用者選取，並且可以從 Microsoft 空間音效的實作為抽象化;音訊將會呈現給現有的喇叭、耳機和家用劇院接收器，而不需要變更任何程式碼或內容。</span><span class="sxs-lookup"><span data-stu-id="16d3f-110">The actual output format is selected by the user, and can be abstracted from Microsoft Spatial Sound implementations; audio will be presented to existing speakers, headphones, and home theater receivers without needing any code or content changes.</span></span> <span data-ttu-id="16d3f-111">平臺完全支援 HDMI 和身歷聲耳機輸出的即時杜兼編碼、DTS： X 用於耳機，以及適用于身歷聲耳機的耳機用 Windows Sonic 編碼。</span><span class="sxs-lookup"><span data-stu-id="16d3f-111">The platform fully supports real-time Dolby Atmos encoding for both HDMI and stereo headphone output, DTS:X for Headphones, and Windows Sonic for Headphones encoding for stereo headphones.</span></span> <span data-ttu-id="16d3f-112">最後，Microsoft 空間音效應用程式遵守系統混合原則，而其音訊也會與非空間感知應用程式混合。</span><span class="sxs-lookup"><span data-stu-id="16d3f-112">Finally, Microsoft Spatial Sound apps abide by the system mixing policy, and their audio will also be mixed with non-spatially aware apps.</span></span> <span data-ttu-id="16d3f-113">Microsoft 空間音效支援也已整合至媒體基礎;使用媒體基礎的應用程式可以成功地播放杜比 Atmos 內容，而不需執行其他任何程式。</span><span class="sxs-lookup"><span data-stu-id="16d3f-113">Microsoft Spatial Sound support is also integrated into Media Foundation; apps that use media foundation can successfully play Dolby Atmos content with no additional implementation.</span></span>

<span data-ttu-id="16d3f-114">具有 Microsoft 空間音效的空間音效支援支援杜比的電視、家用劇院和音效。</span><span class="sxs-lookup"><span data-stu-id="16d3f-114">Spatial sound with Microsoft Spatial Sound supports TVs, home theaters, and sound bars that support Dolby Atmos.</span></span> <span data-ttu-id="16d3f-115">空間音效也可以搭配消費者可能擁有的任何一對耳機使用，並使用耳機用 Windows Sonic、Dolby Atmos for Headphones 或 DTS 耳機： X 以平臺轉譯音訊。</span><span class="sxs-lookup"><span data-stu-id="16d3f-115">Spatial sound can also be used with any pair of headphones the consumer may own, with audio rendered by the platform using Windows Sonic for Headphones, Dolby Atmos for Headphones, or DTS Headphone:X.</span></span>


## <a name="enabling-microsoft-spatial-sound"></a><span data-ttu-id="16d3f-116">啟用 Microsoft 空間音效</span><span class="sxs-lookup"><span data-stu-id="16d3f-116">Enabling Microsoft Spatial Sound</span></span>

<span data-ttu-id="16d3f-117">不論是開發人員或取用者，使用者都必須在其裝置上啟用 Microsoft 空間音效，才能聽到 hrtf 音效。</span><span class="sxs-lookup"><span data-stu-id="16d3f-117">Whether as a developer or a consumer, a user must enable Microsoft Spatial Sound on their device in order to hear spatialized sound.</span></span>

### <a name="windows"></a><span data-ttu-id="16d3f-118">Windows</span><span class="sxs-lookup"><span data-stu-id="16d3f-118">Windows</span></span>
<span data-ttu-id="16d3f-119">在 Windows 電腦上，這是透過指定音效輸出裝置的 [內容] 頁面來完成。</span><span class="sxs-lookup"><span data-stu-id="16d3f-119">On Windows PCs, this is done via the properties page for a given sound output device.</span></span> <span data-ttu-id="16d3f-120">從 **音效** 控制台選取輸出裝置，然後按一下 [ **裝置屬性**]。</span><span class="sxs-lookup"><span data-stu-id="16d3f-120">From the **Sound** control panel, select an output device and click **Device properties**.</span></span> <span data-ttu-id="16d3f-121">在頁面的 [ **空間音效** ] 區段中，如果裝置支援空間音效，您可以從 [ **空間音效格式** ] 下拉式清單中選取其中一種可用的格式。</span><span class="sxs-lookup"><span data-stu-id="16d3f-121">In the **Spatial sound** section of the page, if the device supports spatial sound, you can select one of the available formats from the **Spatial sound format** dropdown.</span></span>

![在音效控制台中啟用空間音效](images/spatialsoundsettingswindows1.png)

<span data-ttu-id="16d3f-123">您也可以用滑鼠右鍵按一下工作列中的 **音量** 圖示來啟用 Microsoft 空間音效。</span><span class="sxs-lookup"><span data-stu-id="16d3f-123">You can also enable Microsoft Spatial Sound by right-clicking the **Volume** icon in the taskbar.</span></span>

![從工作列啟用空間音效](images/spatialsoundsettingswindows2.png)

### <a name="xbox-one"></a><span data-ttu-id="16d3f-125">Xbox One</span><span class="sxs-lookup"><span data-stu-id="16d3f-125">Xbox One</span></span>
<span data-ttu-id="16d3f-126">在 Xbox One 上，適用于取用者的 Microsoft 空間音效功能一律可供取用者使用，並可透過 **[一般] > 音量 & 音訊輸出** 中的 [設定] 應用程式啟用。</span><span class="sxs-lookup"><span data-stu-id="16d3f-126">On Xbox One, Microsoft Spatial Sound capabilities are always available for the consumer, and are enabled via the Settings App under **General -> Volume & audio output**.</span></span>


![<span data-ttu-id="16d3f-127">在 [設定] 應用程式中啟用 xbox one 的空間音效</span><span class="sxs-lookup"><span data-stu-id="16d3f-127">enable spatial sound on xbox one in the settings app</span></span> ](images/audiosettingsbitstream.png)

<span data-ttu-id="16d3f-128">將 [家用劇院] 的 [杜比 Atmos] 選取為 [位流格式] 之後，就會透過 HDMI 擴充顯示器識別資料 (EDID) 來檢查此格式的支援。</span><span class="sxs-lookup"><span data-stu-id="16d3f-128">After Dolby Atmos for home theater is selected as a “Bitstream format”, support for this format is checked via HDMI Extended Display Identification Data (EDID).</span></span> <span data-ttu-id="16d3f-129">如果 HDMI 裝置不支援此格式，則會向使用者顯示錯誤訊息。</span><span class="sxs-lookup"><span data-stu-id="16d3f-129">If the HDMI device does not support the format, an error message is displayed to the user.</span></span> <span data-ttu-id="16d3f-130">請注意，第一次需要使用者下載 Dolby Access 應用程式時，請選取此選項。</span><span class="sxs-lookup"><span data-stu-id="16d3f-130">Note that selecting this option the first time requires the user download the Dolby Access app.</span></span>

<span data-ttu-id="16d3f-131">如果為 **HDMI 音訊** 選取了 "位流 out" 以外的格式，則會停用 [ **位流格式** ] 下拉式清單。</span><span class="sxs-lookup"><span data-stu-id="16d3f-131">If a format other than "Bitstream out" is selected for **HDMI audio** then the **Bitstream format** dropdown is disabled.</span></span>

![<span data-ttu-id="16d3f-132">在 [設定] 應用程式中的 xbox one 上停用空間音效</span><span class="sxs-lookup"><span data-stu-id="16d3f-132">spatial sound disabled on xbox one in the settings app</span></span> ](images/audiosettingsplain.png)

<span data-ttu-id="16d3f-133">從 **耳機音訊** 下的 **耳機格式** 下拉式清單中選取 Dolby Atmos for Headphones、DTS 耳機： X 或耳機用 Windows Sonic</span><span class="sxs-lookup"><span data-stu-id="16d3f-133">Select Dolby Atmos for Headphones, DTS Headphone:X, or Windows Sonic for Headphones from the **Headset format** dropdown under **Headset audio**</span></span>

![<span data-ttu-id="16d3f-134">在 [設定] 應用程式的 xbox one 上啟用耳機的空間音效</span><span class="sxs-lookup"><span data-stu-id="16d3f-134">enable spatial sound for headphones on xbox one in the settings app</span></span> ](images/audiosettingsheadphone.png)

<span data-ttu-id="16d3f-135">當 Microsoft 空間音效無法使用時 (例如，當您播放 embedded 膝上型電腦身歷聲喇叭，或使用者未明確啟用每個以上) 的 Microsoft 空間音效時， [**ISpatialAudioClient：： GetMaxDynamicObjectCount**](/windows/desktop/api/spatialaudioclient/nf-spatialaudioclient-ispatialaudioclient-getmaxdynamicobjectcount) 對應用程式所傳回的可用動態物件數目將會是0。</span><span class="sxs-lookup"><span data-stu-id="16d3f-135">When Microsoft Spatial Sound is not available (for instance, when playing to embedded laptop stereo speakers, or if the user has not explicitly enabled Microsoft Spatial Sound per above), the number of available dynamic objects returned by [**ISpatialAudioClient::GetMaxDynamicObjectCount**](/windows/desktop/api/spatialaudioclient/nf-spatialaudioclient-ispatialaudioclient-getmaxdynamicobjectcount) to an application will be 0.</span></span>

### <a name="hololens-2"></a><span data-ttu-id="16d3f-136">HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="16d3f-136">HoloLens 2</span></span>

<span data-ttu-id="16d3f-137">在 HoloLens 2 上，預設會啟用 Microsoft 空間音效，並使用專門針對耳機用 Windows Sonic 所設計的硬體 DSP 卸載。</span><span class="sxs-lookup"><span data-stu-id="16d3f-137">On HoloLens 2, Microsoft Spatial Sound is enabled by default and uses hardware DSP offload designed specifically for Windows Sonic for Headphones.</span></span>

## <a name="microsoft-spatial-sound-and-audio-middleware"></a><span data-ttu-id="16d3f-138">Microsoft 空間音效和音訊中介軟體</span><span class="sxs-lookup"><span data-stu-id="16d3f-138">Microsoft Spatial Sound and Audio Middleware</span></span>

<span data-ttu-id="16d3f-139">許多應用程式和遊戲開發人員使用協力廠商音訊轉譯引擎解決方案，通常包括精密的撰寫和試聽工具。</span><span class="sxs-lookup"><span data-stu-id="16d3f-139">Many app and game developers use third party audio rendering engine solutions, which often include sophisticated authoring and auditioning tools.</span></span> <span data-ttu-id="16d3f-140">Microsoft 已與數個解決方案提供者合作，在現有的撰寫環境中實行 Microsoft 空間音效。</span><span class="sxs-lookup"><span data-stu-id="16d3f-140">Microsoft has partnered with several of these solution providers to implement Microsoft Spatial Sound in their existing authoring environments.</span></span> <span data-ttu-id="16d3f-141">這通常表示從應用程式的觀點來看，這裡討論的 Api 是抽象的，它們會包裝為數字信號處理 (可具現化應用程式的 DSP) 外掛程式，以及應用程式的音訊實作者可以用來混合到 Microsoft 空間音效 channel 床、submix，或視需要將個別語音傳送給動態物件實例外掛程式。</span><span class="sxs-lookup"><span data-stu-id="16d3f-141">This will frequently mean the APIs discussed here are abstracted from the app’s view; they are wrapped as digital signal processing (DSP) plug-ins that the app can instantiate, and which the app’s audio implementer can use to mix to a Microsoft Spatial Sound channel bed, submix, or send individual voices to dynamic object instance plug-ins as desired.</span></span> <span data-ttu-id="16d3f-142">請洽詢您的音訊中介軟體解決方案提供者，以瞭解其對 Microsoft 空間音效的支援層級。</span><span class="sxs-lookup"><span data-stu-id="16d3f-142">Consult with your audio middleware solution provider for their level of support for Microsoft Spatial Sound.</span></span>

## <a name="microsoft-spatial-sound-for-audio-renderers"></a><span data-ttu-id="16d3f-143">適用于音訊轉譯器的 Microsoft 空間音效</span><span class="sxs-lookup"><span data-stu-id="16d3f-143">Microsoft Spatial Sound for Audio Renderers</span></span>

<span data-ttu-id="16d3f-144">許多音訊轉譯器都是以 Windows 音訊會話 API 為目標 (WASAPI) [**IAudioClient**](/windows/desktop/api/Audioclient/nn-audioclient-iaudioclient) 端點，其中應用程式會將混合和採用格式之音訊資料的緩衝區輸出到 WASAPI 音訊接收器;接著會使用傳遞的緩衝區來與其他用戶端、最終的系統層級處理和轉譯進行混合。</span><span class="sxs-lookup"><span data-stu-id="16d3f-144">Many audio renderers target a Windows Audio Session API (WASAPI) [**IAudioClient**](/windows/desktop/api/Audioclient/nn-audioclient-iaudioclient) endpoint, where the application feeds buffers of mixed and format-conformed audio data to a WASAPI audio sink; the delivered buffers are then consumed for mixing with other clients, final system-level processing, and rendering.</span></span>

<span data-ttu-id="16d3f-145">Microsoft 空間音效空間端點會實作為 [**ISpatialAudioClient**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient)，與 **IAudioClient** 有許多相似之處。</span><span class="sxs-lookup"><span data-stu-id="16d3f-145">Microsoft Spatial Sound spatial endpoints are implemented as [**ISpatialAudioClient**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient), which has many similarities to **IAudioClient**.</span></span> <span data-ttu-id="16d3f-146">它支援形成通道床的 *靜態* 音效物件，最多可支援 8.1.4.4 (通道，在接聽程式的周圍有8個通道：左邊、右邊、中央、左邊、右邊、左方、向右和後置：1個低頻率效果頻道;接聽程式上方的4個通道;接聽程式) 的4個通道。</span><span class="sxs-lookup"><span data-stu-id="16d3f-146">It supports *static* sound objects forming a channel bed, with support for up to 8.1.4.4 channels (8 channels around the listener – Left, Right, Center, Side Left, Side Right, Back Left, Back Right, and Back Center; 1 low frequency effects channel; 4 channels above the listener; 4 channels below the listener).</span></span> <span data-ttu-id="16d3f-147">此外，它也支援 *動態* 音效物件，這些物件可任意放置於3d 空間中。</span><span class="sxs-lookup"><span data-stu-id="16d3f-147">And it supports *dynamic* sound objects, which can be arbitrarily positioned in 3D space.</span></span>

<span data-ttu-id="16d3f-148">**ISpatialAudioClient** 的一般執行程式碼撰寫模式如下：</span><span class="sxs-lookup"><span data-stu-id="16d3f-148">The general implementation coding pattern for **ISpatialAudioClient** is:</span></span>

-   <span data-ttu-id="16d3f-149">建立靜態和/或動態音訊物件。</span><span class="sxs-lookup"><span data-stu-id="16d3f-149">Create static and/or dynamic audio objects.</span></span>
-   <span data-ttu-id="16d3f-150">將每個物件的音訊緩衝區送入每個框架，讓系統可以轉譯它。</span><span class="sxs-lookup"><span data-stu-id="16d3f-150">Feed each object’s audio buffer each frame so the system can render it.</span></span>
-   <span data-ttu-id="16d3f-151">視需要將動態物件的3D 位置更新為應用程式所需的頻繁 (或不常) 。</span><span class="sxs-lookup"><span data-stu-id="16d3f-151">Update dynamic objects’ 3D positions on demand – as frequently (or infrequently) as the app desires.</span></span>

<span data-ttu-id="16d3f-152">請注意，目前的輸出格式 (喇叭或耳機;耳機用 Windows Sonic、杜比 Atmos 或 DTS 耳機： X) 是從上述的實作為抽象化，應用程式開發人員可以專注于空間音效，而不需要根據格式進行資料透視。</span><span class="sxs-lookup"><span data-stu-id="16d3f-152">Note that the current output format (speakers or headphones; Windows Sonic for Headphones, Dolby Atmos, or DTS Headphone:X) is abstracted from the above implementation – the app developer can focus on spatial sound without needing to pivot based on format.</span></span> <span data-ttu-id="16d3f-153">如果應用程式想要根據輸出格式來分離行為，可以查詢使用中的格式，但抽象表示應用程式不需要處理這些格式。</span><span class="sxs-lookup"><span data-stu-id="16d3f-153">Apps that do want their behavior to diverge based on output format can query the format in use, but the abstraction means an app is not required to handle these formats.</span></span>

## <a name="microsoft-spatial-sound-integration-with-audio-renderers"></a><span data-ttu-id="16d3f-154">Microsoft 空間音效與音訊轉譯器的整合</span><span class="sxs-lookup"><span data-stu-id="16d3f-154">Microsoft Spatial Sound Integration with Audio Renderers</span></span>

<span data-ttu-id="16d3f-155">因為 [**ISpatialAudioClient**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient) 是使用資料的音訊接收器，所以音訊轉譯器有數個選項，可讓您與之互動和傳遞音訊資料給它。</span><span class="sxs-lookup"><span data-stu-id="16d3f-155">Because [**ISpatialAudioClient**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient) is an audio sink that consumes data, an audio renderer has several options for how to interact with and deliver audio data to it.</span></span> <span data-ttu-id="16d3f-156">有三種常用的整合技巧 (以及使用音訊中介軟體的標題，您可能會看到根據這些選項所提供的對應外掛程式) ：</span><span class="sxs-lookup"><span data-stu-id="16d3f-156">There are three commonly used integration techniques (and for titles using audio middleware, you may see equivalent plug-ins made available based on these options):</span></span>

-   <span data-ttu-id="16d3f-157">**7.1.4 panners 和掌控語音**：已支援7.1 端點的轉譯器，可選擇直接新增 **ISpatialAudioClient** 靜態通道平臺支援之四個額外高度通道的支援。</span><span class="sxs-lookup"><span data-stu-id="16d3f-157">**7.1.4 panners and mastering voice**: Renderers that already support 7.1 endpoints may opt to simply add support for the four additional height channels that the **ISpatialAudioClient** static channel bed supports.</span></span> <span data-ttu-id="16d3f-158">先前所做過的任何頻道移動 (可能已經利用 x、y、z 座標) 可以更新成現在包含這些高度通道。</span><span class="sxs-lookup"><span data-stu-id="16d3f-158">Any channel panning they previously did (likely already leveraging x,y, z coordinates) can be updated to now include these height channels.</span></span> <span data-ttu-id="16d3f-159">這通常會提供轉譯器和應用程式音訊工作流程、信號、流程和混合控制的最少干擾。</span><span class="sxs-lookup"><span data-stu-id="16d3f-159">This often offers the least disruption to renderer and app audio workflows, signal, flow, and mix control.</span></span> <span data-ttu-id="16d3f-160">在耳機上，請注意完整的應用程式混合將會 hrtf，因此甚至身歷聲音樂也可以從接聽程式被視為「外部化」。</span><span class="sxs-lookup"><span data-stu-id="16d3f-160">Over headphones, note that the full app mix will be spatialized – so even stereo music may be perceived as “externalized” from the listener.</span></span>
-   <span data-ttu-id="16d3f-161">**維護現有的端點，再加上7.1.4 匯流排 (和 panners)**：某些標題可能會選擇維護兩個端點：其現有的身歷聲 WASAPI 端點 (適用于「直接到耳」內容，而不是 hrtf) 與支援 ISpatialAudioClient (的 **7.1.4** 靜態通道平臺或甚至高達 8.1.4.4) 。</span><span class="sxs-lookup"><span data-stu-id="16d3f-161">**Maintain existing endpoint, plus add a 7.1.4 bus (and panners)**: Some titles may choose to maintain two endpoints: their existing stereo WASAPI endpoint (for “direct to ears” content not meant to be spatialized) alongside an **ISpatialAudioClient** static channel bed supporting 7.1.4 (or even up to 8.1.4.4).</span></span> <span data-ttu-id="16d3f-162">當然，管理兩個混合之間的互動會對內容建立者帶來額外的挑戰，雖然會維持同步處理，但是在指定時間內作用中的 WASAPI 和 ISAC 實例都使用相同的緩衝區大小和時鐘進行處理。</span><span class="sxs-lookup"><span data-stu-id="16d3f-162">Of course, managing interactions between two mixes presents additional challenges to content creators, though synchronization is maintained, as both WASAPI and ISAC instances active at a given time do use the same buffer size and clock for processing.</span></span>
-   <span data-ttu-id="16d3f-163">**針對特定聲音或 Submixes 使用動態音效物件**：提供最詳細/精確的定位，但可能建立混合的不透明度，這項技術牽涉到使用 **ISpatialAudioClient** 動態音效物件。</span><span class="sxs-lookup"><span data-stu-id="16d3f-163">**Use dynamic sound objects for certain voices or submixes**: Offering perhaps the most detailed/accurate positioning, but potentially creating mix opacity, this technique involves using **ISpatialAudioClient** dynamic sound objects.</span></span> <span data-ttu-id="16d3f-164">請注意，中繼資料加上音訊緩衝區會傳遞至轉譯器，因此這些音效對應用程式混合的其餘部分會是不透明的。</span><span class="sxs-lookup"><span data-stu-id="16d3f-164">Note that the metadata plus audio buffer is delivered to the renderer, so these sounds will be opaque to the rest of the app mix.</span></span> <span data-ttu-id="16d3f-165">此外，由於可用的動態音效物件數目有限，因此轉譯器必須考慮採用優先順序技術–剔除、音效共置、混合到靜態 channel 床等等。</span><span class="sxs-lookup"><span data-stu-id="16d3f-165">Additionally, since there are a limited number of available dynamic sound objects, the renderer will need to consider implementing prioritization techniques – culling, sound co-location, blending to the static channel bed, and so on.</span></span> <span data-ttu-id="16d3f-166">遊戲經常針對個別的「主圖」音效使用這項技術，例如會在接聽程式上方移動的直升機。</span><span class="sxs-lookup"><span data-stu-id="16d3f-166">Games have frequently used this technique for individual “hero” sounds, such as a helicopter that will move around above the listener.</span></span>

<span data-ttu-id="16d3f-167">轉譯器也可以在這些方法之間進行混合和比對。</span><span class="sxs-lookup"><span data-stu-id="16d3f-167">Renderers can also mix and match between these approaches.</span></span>

## <a name="microsoft-spatial-sound-runtime-resource-implications"></a><span data-ttu-id="16d3f-168">Microsoft 空間音效執行時間資源含意</span><span class="sxs-lookup"><span data-stu-id="16d3f-168">Microsoft Spatial Sound Runtime Resource Implications</span></span>

<span data-ttu-id="16d3f-169">在 Windows 和 Xbox 上，可用的語音數目會根據使用中的格式而有所不同。</span><span class="sxs-lookup"><span data-stu-id="16d3f-169">On Windows and Xbox, the number of available voices varies based on the format in use.</span></span> <span data-ttu-id="16d3f-170">杜比 Atmos 格式支援32的作用中物件總數 (因此，如果 7.1.4 channel 床正在使用中，則可以) 20 個額外的動態音效物件。</span><span class="sxs-lookup"><span data-stu-id="16d3f-170">Dolby Atmos formats support 32 total active objects (so if a 7.1.4 channel bed is in use, 20 additional dynamic sound objects can be active).</span></span> <span data-ttu-id="16d3f-171">耳機用 Windows Sonic 支援128個作用中物件總數，並具有低頻率的效果 (LFE) 通道實際上不會被視為物件，因此當 8.1.4.4 channel 床正在使用中時，112動態音效物件可以處於作用中狀態。</span><span class="sxs-lookup"><span data-stu-id="16d3f-171">Windows Sonic for Headphones supports 128 total active objects, with the Low Frequency Effects (LFE) channel not actually being counted as an object -- so when an 8.1.4.4 channel bed is in use, 112 dynamic sound objects can be active.</span></span>

<span data-ttu-id="16d3f-172">針對在 Xbox One 遊戲主控台上執行的通用 Windows 平臺應用程式，即時編碼 (以針對家用劇院、Dolby Atmos for Headphones、DTS 耳機： X 和耳機用 Windows Sonic) 在硬體中執行，不需 CPU 成本。</span><span class="sxs-lookup"><span data-stu-id="16d3f-172">For Universal Windows Platform apps running on Xbox One game consoles, realtime encode (for Dolby Atmos for home theater, Dolby Atmos for Headphones, DTS Headphone:X, and Windows Sonic for Headphones) is performed in hardware at no CPU cost.</span></span>

| <span data-ttu-id="16d3f-173">格式</span><span class="sxs-lookup"><span data-stu-id="16d3f-173">Format</span></span>                       | <span data-ttu-id="16d3f-174"> (Channel 床的最大靜態物件) </span><span class="sxs-lookup"><span data-stu-id="16d3f-174">Max Static Objects (Channel Bed)</span></span> | <span data-ttu-id="16d3f-175">最大動態物件</span><span class="sxs-lookup"><span data-stu-id="16d3f-175">Max Dynamic Objects</span></span> <br> <span data-ttu-id="16d3f-176">Xbox One</span><span class="sxs-lookup"><span data-stu-id="16d3f-176">Xbox One</span></span> | <span data-ttu-id="16d3f-177">最大動態物件</span><span class="sxs-lookup"><span data-stu-id="16d3f-177">Max Dynamic Objects</span></span> <br> <span data-ttu-id="16d3f-178">Windows</span><span class="sxs-lookup"><span data-stu-id="16d3f-178">Windows</span></span> | <span data-ttu-id="16d3f-179">最大動態物件</span><span class="sxs-lookup"><span data-stu-id="16d3f-179">Max Dynamic Objects</span></span> <br> <span data-ttu-id="16d3f-180">HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="16d3f-180">HoloLens 2</span></span>
|------------------------------|----------------------------------|-------------------------------------------|------------------------------------------|------------------------------------------|
| <span data-ttu-id="16d3f-181">杜比 Atmos (HDMI) </span><span class="sxs-lookup"><span data-stu-id="16d3f-181">Dolby Atmos (HDMI)</span></span>           | <span data-ttu-id="16d3f-182">12 (7.1.4) </span><span class="sxs-lookup"><span data-stu-id="16d3f-182">12 (7.1.4)</span></span>                       | <span data-ttu-id="16d3f-183">20</span><span class="sxs-lookup"><span data-stu-id="16d3f-183">20</span></span>                                        | <span data-ttu-id="16d3f-184">20</span><span class="sxs-lookup"><span data-stu-id="16d3f-184">20</span></span>                                       | <span data-ttu-id="16d3f-185">NA</span><span class="sxs-lookup"><span data-stu-id="16d3f-185">NA</span></span> |
| <span data-ttu-id="16d3f-186"> (耳機 & 內建的喇叭) </span><span class="sxs-lookup"><span data-stu-id="16d3f-186">Dolby Atmos (Headphones & Built-in Speakers)</span></span>     | <span data-ttu-id="16d3f-187">17 (8.1.4.4) </span><span class="sxs-lookup"><span data-stu-id="16d3f-187">17 (8.1.4.4)</span></span>                     | <span data-ttu-id="16d3f-188">16</span><span class="sxs-lookup"><span data-stu-id="16d3f-188">16</span></span>                                        | <span data-ttu-id="16d3f-189">16</span><span class="sxs-lookup"><span data-stu-id="16d3f-189">16</span></span>                                       | <span data-ttu-id="16d3f-190">NA</span><span class="sxs-lookup"><span data-stu-id="16d3f-190">NA</span></span> |
| <span data-ttu-id="16d3f-191">DTS 耳機： X (耳機) </span><span class="sxs-lookup"><span data-stu-id="16d3f-191">DTS Headphone:X (Headphones)</span></span> | <span data-ttu-id="16d3f-192">17 (8.1.4.4) </span><span class="sxs-lookup"><span data-stu-id="16d3f-192">17 (8.1.4.4)</span></span>        | <span data-ttu-id="16d3f-193">16</span><span class="sxs-lookup"><span data-stu-id="16d3f-193">16</span></span>                                        | <span data-ttu-id="16d3f-194">32</span><span class="sxs-lookup"><span data-stu-id="16d3f-194">32</span></span>                                      | <span data-ttu-id="16d3f-195">NA</span><span class="sxs-lookup"><span data-stu-id="16d3f-195">NA</span></span> |
| <span data-ttu-id="16d3f-196">耳機用 Windows Sonic</span><span class="sxs-lookup"><span data-stu-id="16d3f-196">Windows Sonic for Headphones</span></span> | <span data-ttu-id="16d3f-197">17 (8.1.4.4) </span><span class="sxs-lookup"><span data-stu-id="16d3f-197">17 (8.1.4.4)</span></span>        | <span data-ttu-id="16d3f-198">15</span><span class="sxs-lookup"><span data-stu-id="16d3f-198">15</span></span>                                        | <span data-ttu-id="16d3f-199">112</span><span class="sxs-lookup"><span data-stu-id="16d3f-199">112</span></span>                                      | <span data-ttu-id="16d3f-200">31</span><span class="sxs-lookup"><span data-stu-id="16d3f-200">31</span></span> |


<span data-ttu-id="16d3f-201">應用程式也應該考慮下列資源含意：</span><span class="sxs-lookup"><span data-stu-id="16d3f-201">Apps should also consider the following resource implications:</span></span>

-   <span data-ttu-id="16d3f-202">**儲存體/光碟頻寬**：預先編寫給7.1.4 的線性內容通常會大於7.1 線性內容 (但感知編解碼器通常會利用通道相互關聯，使其遠低於50% 的音訊資料通道) </span><span class="sxs-lookup"><span data-stu-id="16d3f-202">**Storage/disc bandwidth**: Linear content pre-authored to 7.1.4 will typically be larger than 7.1 linear content (though perceptual codecs already often take advantage of channel correlation to make this far less than the 50% more actual channels of audio data)</span></span>
-   <span data-ttu-id="16d3f-203">**其他數位信號處理成本**：某些先前的全域效果現在可能會成為每個動態音效物件的實例。</span><span class="sxs-lookup"><span data-stu-id="16d3f-203">**Other digital signal processing costs**: Some previously global effects may now become instanced per dynamic sound object.</span></span> <span data-ttu-id="16d3f-204">此外，某些內容建立者可能會想要更新某些 DSP 效果，以支援其他通道或使用它們。</span><span class="sxs-lookup"><span data-stu-id="16d3f-204">Additionally, some content creators may wish to update some DSP effects to support additional channels or use them uniquely.</span></span>

## <a name="microsoft-spatial-sound-and-sound-spatialization-cues"></a><span data-ttu-id="16d3f-205">Microsoft 空間音效和音效 Spatialization 提示</span><span class="sxs-lookup"><span data-stu-id="16d3f-205">Microsoft Spatial Sound and Sound Spatialization Cues</span></span>

<span data-ttu-id="16d3f-206">Microsoft 空間音效著重在接聽程式周圍理想化球體的音效定位模擬。</span><span class="sxs-lookup"><span data-stu-id="16d3f-206">Microsoft Spatial Sound is focused on sound positioning simulation on an idealized sphere around the listener.</span></span> <span data-ttu-id="16d3f-207">耳機用 Windows Sonic、DTS 耳機： X 和杜型 Atmos 可將說話者對應和虛擬化運用於耳機，但請注意，許多其他的音效空間模擬功能，通常都是以內容建立者為啟用的方式來執行，這會留給現有的引擎。</span><span class="sxs-lookup"><span data-stu-id="16d3f-207">Windows Sonic for Headphones, DTS Headphone:X, and Dolby Atmos implement speaker mapping and virtualization to headphones, but note that many other aspects of sound spatial simulation, already typically implemented in content creator-enabled ways, are left to existing engines.</span></span> <span data-ttu-id="16d3f-208">內容建立者會繼續使用現有的遊戲工具和先前針對這類空間提示所擁有的 Doppler、以距離為基礎的衰減和篩選、遮蔽和障礙物，以及環境殘響。</span><span class="sxs-lookup"><span data-stu-id="16d3f-208">Content creators continue to use the existing game tools and processes they’ve previously had for such spatial cues as Doppler, distance-based attenuation and filtering, occlusion and obstruction, and environmental reverberation.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="16d3f-209">其他資源</span><span class="sxs-lookup"><span data-stu-id="16d3f-209">Additional Resources</span></span>

-   [<span data-ttu-id="16d3f-210">Microsoft 空間音效範例 github 存放庫</span><span class="sxs-lookup"><span data-stu-id="16d3f-210">Microsoft Spatial Sound samples github repository</span></span>](https://github.com/Microsoft/Xbox-ATG-Samples/tree/master/UWPSamples/Audio)
-   <span data-ttu-id="16d3f-211">杜比提供許多與杜和 Dolby Access 應用程式相關的支援資源 <https://developer.dolby.com> 。</span><span class="sxs-lookup"><span data-stu-id="16d3f-211">Dolby offers a number of support resources relating to Dolby Atmos and the Dolby Access app at <https://developer.dolby.com>.</span></span>

## <a name="spatial-sound-interfaces"></a><span data-ttu-id="16d3f-212">空間音效介面</span><span class="sxs-lookup"><span data-stu-id="16d3f-212">Spatial Sound Interfaces</span></span>



| <span data-ttu-id="16d3f-213">介面</span><span class="sxs-lookup"><span data-stu-id="16d3f-213">Interface</span></span>                                                                              | <span data-ttu-id="16d3f-214">描述</span><span class="sxs-lookup"><span data-stu-id="16d3f-214">Description</span></span>                                                                                                                    |
|----------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="16d3f-215">**ISpatialAudioClient**</span><span class="sxs-lookup"><span data-stu-id="16d3f-215">**ISpatialAudioClient**</span></span>](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient)                                     | <span data-ttu-id="16d3f-216">讓用戶端能夠建立音訊串流，以從3D 空間中的位置發出音訊。</span><span class="sxs-lookup"><span data-stu-id="16d3f-216">Enables a client to create audio streams that emit audio from a position in 3D space.</span></span>                                          |
| [<span data-ttu-id="16d3f-217">**ISpatialAudioObject**</span><span class="sxs-lookup"><span data-stu-id="16d3f-217">**ISpatialAudioObject**</span></span>](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioobject)                                     | <span data-ttu-id="16d3f-218">表示物件，這個物件會提供從3D 空間中的位置（相對於使用者）轉譯音訊資料的物件。</span><span class="sxs-lookup"><span data-stu-id="16d3f-218">Represents an object that provides audio data to be rendered from a position in 3D space, relative to the user.</span></span>                |
| [<span data-ttu-id="16d3f-219">**ISpatialAudioObjectRenderStream**</span><span class="sxs-lookup"><span data-stu-id="16d3f-219">**ISpatialAudioObjectRenderStream**</span></span>](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioobjectrenderstream)             | <span data-ttu-id="16d3f-220">提供控制空間音訊物件轉譯資料流程的方法，包括啟動、停止和重設資料流程。</span><span class="sxs-lookup"><span data-stu-id="16d3f-220">Provides methods for controlling a spatial audio object render stream, including starting, stopping, and resetting the stream.</span></span> |
| [<span data-ttu-id="16d3f-221">**ISpatialAudioObjectRenderStreamNotify**</span><span class="sxs-lookup"><span data-stu-id="16d3f-221">**ISpatialAudioObjectRenderStreamNotify**</span></span>](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioobjectrenderstreamnotify) | <span data-ttu-id="16d3f-222">提供空間音訊用戶端的通知，以回應 ISpatialAudioObjectRenderStream 狀態的變更。</span><span class="sxs-lookup"><span data-stu-id="16d3f-222">Provides notifications for spatial audio clients to respond to changes in the state of an ISpatialAudioObjectRenderStream.</span></span>     |



 

> [!Note]  
> <span data-ttu-id="16d3f-223">在 Xbox One 開發工具組上使用 [**ISpatialAudioClient**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient) 介面時 (XDK) 標題，您必須先呼叫 **EnableSpatialAudio** ，然後再呼叫 [**IMMDeviceEnumerator：： EnumAudioEndpoints**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-enumaudioendpoints) 或 [**IMMDeviceEnumerator：： GetDefaultAudioEndpoint**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-getdefaultaudioendpoint)。</span><span class="sxs-lookup"><span data-stu-id="16d3f-223">When using the [**ISpatialAudioClient**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient) interfaces on an Xbox One Development Kit (XDK) title, you must first call **EnableSpatialAudio** before calling [**IMMDeviceEnumerator::EnumAudioEndpoints**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-enumaudioendpoints) or [**IMMDeviceEnumerator::GetDefaultAudioEndpoint**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-getdefaultaudioendpoint).</span></span> <span data-ttu-id="16d3f-224">若未這麼做，將會導致 \_ 從啟動的呼叫傳回電子 NOINTERFACE 錯誤。</span><span class="sxs-lookup"><span data-stu-id="16d3f-224">Failure to do so will result in an E\_NOINTERFACE error being returned from the call to Activate.</span></span> <span data-ttu-id="16d3f-225">**EnableSpatialAudio** 僅適用于 XDK 標題，不需要針對 Xbox One 上執行的通用 Windows 平臺應用程式，或任何非 Xbox One 裝置呼叫。</span><span class="sxs-lookup"><span data-stu-id="16d3f-225">**EnableSpatialAudio** is only available for XDK titles, and does not need to be called for Universal Windows Platform apps running on Xbox One, nor for any non-Xbox One devices.</span></span>

 

## <a name="spatial-sound-structures"></a><span data-ttu-id="16d3f-226">空間音效結構</span><span class="sxs-lookup"><span data-stu-id="16d3f-226">Spatial Sound Structures</span></span>



| <span data-ttu-id="16d3f-227">結構</span><span class="sxs-lookup"><span data-stu-id="16d3f-227">Structure</span></span>                                                                                                 | <span data-ttu-id="16d3f-228">Description</span><span class="sxs-lookup"><span data-stu-id="16d3f-228">Description</span></span>                                                                  |
|-----------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
| [<span data-ttu-id="16d3f-229">**SpatialAudioObjectRenderStreamActivationParams**</span><span class="sxs-lookup"><span data-stu-id="16d3f-229">**SpatialAudioObjectRenderStreamActivationParams**</span></span>](/windows/desktop/api/spatialaudioclient/ns-spatialaudioclient-spatialaudioobjectrenderstreamactivationparams) | <span data-ttu-id="16d3f-230">代表空間音訊轉譯資料流程的啟用參數。</span><span class="sxs-lookup"><span data-stu-id="16d3f-230">Represents activation parameters for a spatial audio render stream.</span></span>          |
| [<span data-ttu-id="16d3f-231">**SpatialAudioClientActivationParams**</span><span class="sxs-lookup"><span data-stu-id="16d3f-231">**SpatialAudioClientActivationParams**</span></span>](/windows/desktop/api/spatialaudioclient/ns-spatialaudioclient-spatialaudioclientactivationparams)                          | <span data-ttu-id="16d3f-232">代表空間音訊轉譯資料流程的選擇性啟動參數。</span><span class="sxs-lookup"><span data-stu-id="16d3f-232">Represents optional activation parameters for a spatial audio render stream.</span></span> |



 

## <a name="spatial-sound-enumerations"></a><span data-ttu-id="16d3f-233">空間音效列舉</span><span class="sxs-lookup"><span data-stu-id="16d3f-233">Spatial Sound Enumerations</span></span>



| <span data-ttu-id="16d3f-234">列舉型別</span><span class="sxs-lookup"><span data-stu-id="16d3f-234">Enumeration</span></span>                                | <span data-ttu-id="16d3f-235">描述</span><span class="sxs-lookup"><span data-stu-id="16d3f-235">Description</span></span>                                   |
|--------------------------------------------|-----------------------------------------------|
| [<span data-ttu-id="16d3f-236">**AudioObjectType**</span><span class="sxs-lookup"><span data-stu-id="16d3f-236">**AudioObjectType**</span></span>](/windows/desktop/api/spatialaudioclient/ne-spatialaudioclient-audioobjecttype) | <span data-ttu-id="16d3f-237">指定 ISpatialAudioObject 的類型。</span><span class="sxs-lookup"><span data-stu-id="16d3f-237">Specifies the type of an ISpatialAudioObject.</span></span> |



 

 

 



