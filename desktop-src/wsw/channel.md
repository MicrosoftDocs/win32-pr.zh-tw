---
title: 'Channel (Windows Web 服務) '
description: 通道會在兩個或多個合作物件之間封裝通訊內容，用來傳送和接收訊息。
ms.assetid: 5a04580d-c89f-4505-a4b7-0724ffb788fd
keywords:
- 適用于 Windows 的通道 Web 服務
- WWSAPI
- WWS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b93819057f2de4ecf82b2def9cdc4fe14dd1b0ee
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 12/10/2020
ms.locfileid: "103933844"
---
# <a name="channel-windows-web-services"></a><span data-ttu-id="5e0f9-106">Channel (Windows Web 服務) </span><span class="sxs-lookup"><span data-stu-id="5e0f9-106">Channel (Windows Web Services)</span></span>

<span data-ttu-id="5e0f9-107">通道會在兩個或多個合作物件之間封裝通訊內容，用來傳送和接收訊息。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-107">Channels encapsulate a communication context between two or more parties and are used to send and receive messages.</span></span>


<span data-ttu-id="5e0f9-108">在用戶端上，使用 [**WsCreateChannel**](/windows/desktop/api/WebServices/nf-webservices-wscreatechannel) 來建立通道。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-108">On the client, use [**WsCreateChannel**](/windows/desktop/api/WebServices/nf-webservices-wscreatechannel) to create a channel.</span></span> <span data-ttu-id="5e0f9-109">在伺服器上，使用 [**WsCreateChannelForListener**](/windows/desktop/api/WebServices/nf-webservices-wscreatechannelforlistener)來建立可由用戶端使用接聽程式接受的 [通道。](listener.md)</span><span class="sxs-lookup"><span data-stu-id="5e0f9-109">On the server, use [**WsCreateChannelForListener**](/windows/desktop/api/WebServices/nf-webservices-wscreatechannelforlistener) to create a channel that can be accepted by the client using a [listener](listener.md).</span></span>

<span data-ttu-id="5e0f9-110">當您建立通道時，您會指定下列資訊，以判斷通道的本機行為和要使用的網路通訊協定。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-110">When you create a channel, you specify the following information, which determines both the local behavior of the channel and the wire protocol to be used.</span></span>

-   <span data-ttu-id="5e0f9-111">[**WS \_ 通道 \_ 類型**](/windows/desktop/api/WebServices/ne-webservices-ws_channel_type)，可識別通道的訊息交換模式。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-111">A [**WS\_CHANNEL\_TYPE**](/windows/desktop/api/WebServices/ne-webservices-ws_channel_type), which identifies the message exchange pattern of the channel.</span></span>
-   <span data-ttu-id="5e0f9-112">[**WS \_ 通道 \_**](/windows/desktop/api/WebServices/ne-webservices-ws_channel_binding)系結，識別要使用的傳輸通訊協定。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-112">A [**WS\_CHANNEL\_BINDING**](/windows/desktop/api/WebServices/ne-webservices-ws_channel_binding), which identifies the transfer protocol to use.</span></span>
-   <span data-ttu-id="5e0f9-113">[**WS \_ 安全性 \_ 描述**](/windows/desktop/api/WebServices/ns-webservices-ws_security_description)，指定用於通道的安全性。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-113">A [**WS\_SECURITY\_DESCRIPTION**](/windows/desktop/api/WebServices/ns-webservices-ws_security_description), which specifies the security used for the channel.</span></span> <span data-ttu-id="5e0f9-114">建立要在伺服器中使用的通道時，會針對指定接聽程式接受的所有通道指定一次。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-114">When creating channels for use in a server, this is specified once for all channels that will be accepted for a given listener.</span></span>
-   <span data-ttu-id="5e0f9-115">設定的 [**WS \_ 通道 \_ 屬性**](/windows/desktop/api/WebServices/ns-webservices-ws_channel_property)s，指定其他選擇性設定 (針對這些設定的清單，請參閱 [**WS \_ 通道 \_ 屬性 \_ 識別碼**](/windows/desktop/api/WebServices/ne-webservices-ws_channel_property_id) 列舉) 。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-115">A set [**WS\_CHANNEL\_PROPERTY**](/windows/desktop/api/WebServices/ns-webservices-ws_channel_property)s, which specify additional optional settings (for a list of these settings, see the [**WS\_CHANNEL\_PROPERTY\_ID**](/windows/desktop/api/WebServices/ne-webservices-ws_channel_property_id) enumerations).</span></span>

<span data-ttu-id="5e0f9-116">使用通道之前，您必須先呼叫 [**WsOpenChannel**](/windows/desktop/api/WebServices/nf-webservices-wsopenchannel) 函式來開啟它，並指定通道和 [端點位址](endpoint-address.md)，以及其他選擇性資訊。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-116">Before you use the channel, you must open it by calling the [**WsOpenChannel**](/windows/desktop/api/WebServices/nf-webservices-wsopenchannel) function, and specifying the channel and [endpoint address](endpoint-address.md), along with other, optional information.</span></span>

<span data-ttu-id="5e0f9-117">如需通道狀態轉換的詳細資訊，請參閱 [**通道狀態**](/windows/desktop/api/WebServices/ne-webservices-ws_channel_state) 主題。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-117">For information on the state transitions for a channel, see the [**Channel States**](/windows/desktop/api/WebServices/ne-webservices-ws_channel_state) topic.</span></span>

<span data-ttu-id="5e0f9-118">如需通道的詳細資訊，請參閱 [通道層級總覽](channel-layer-overview.md) 主題。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-118">For more information on channels, see the [Channel Layer Overview](channel-layer-overview.md) topic.</span></span>

<span data-ttu-id="5e0f9-119">下列 API 元素會與通道搭配使用。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-119">The following API elements are used with channels.</span></span>

| <span data-ttu-id="5e0f9-120">回呼</span><span class="sxs-lookup"><span data-stu-id="5e0f9-120">Callback</span></span>                                                                                  | <span data-ttu-id="5e0f9-121">Description</span><span class="sxs-lookup"><span data-stu-id="5e0f9-121">Description</span></span>                                                                                                                                           |
|-------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="5e0f9-122">**WS \_ 放棄 \_ 訊息 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-122">**WS\_ABANDON\_MESSAGE\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_abandon_message_callback)                     | <span data-ttu-id="5e0f9-123">使用自訂通道系結處理通道的 [**WsAbandonMessage**](/windows/desktop/api/WebServices/nf-webservices-wsabandonmessage) 呼叫。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-123">Handles the [**WsAbandonMessage**](/windows/desktop/api/WebServices/nf-webservices-wsabandonmessage) call for a channel with custom channel binding.</span></span>                                              |
| [<span data-ttu-id="5e0f9-124">**WS \_ 中止 \_ 通道 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-124">**WS\_ABORT\_CHANNEL\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_abort_channel_callback)                         | <span data-ttu-id="5e0f9-125">使用自訂通道系結處理通道的 [**WsAbortChannel**](/windows/desktop/api/WebServices/nf-webservices-wsabortchannel) 呼叫。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-125">Handles the [**WsAbortChannel**](/windows/desktop/api/WebServices/nf-webservices-wsabortchannel) call for a channel with custom channel binding.</span></span>                                                  |
| [<span data-ttu-id="5e0f9-126">**WS \_ 關閉 \_ 通道 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-126">**WS\_CLOSE\_CHANNEL\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_close_channel_callback)                         | <span data-ttu-id="5e0f9-127">使用自訂通道系結處理通道的 [**WsCloseChannel**](/windows/desktop/api/WebServices/nf-webservices-wsclosechannel) 呼叫。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-127">Handles the [**WsCloseChannel**](/windows/desktop/api/WebServices/nf-webservices-wsclosechannel) call for a channel with custom channel binding.</span></span>                                                  |
| [<span data-ttu-id="5e0f9-128">**WS \_ 建立 \_ 通道 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-128">**WS\_CREATE\_CHANNEL\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_create_channel_callback)                       | <span data-ttu-id="5e0f9-129">使用自訂通道系結處理通道的 [**WsCloseChannel**](/windows/desktop/api/WebServices/nf-webservices-wsclosechannel) 呼叫。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-129">Handles the [**WsCloseChannel**](/windows/desktop/api/WebServices/nf-webservices-wsclosechannel) call for a channel with custom channel binding.</span></span>                                                  |
| [<span data-ttu-id="5e0f9-130">**WS \_ 建立 \_ 解碼器 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-130">**WS\_CREATE\_DECODER\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_create_decoder_callback)                       | <span data-ttu-id="5e0f9-131">處理建立解碼器實例的處理。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-131">Handles creating a decoder instance.</span></span>                                                                                                                  |
| [<span data-ttu-id="5e0f9-132">**WS \_ 建立 \_ 編碼器 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-132">**WS\_CREATE\_ENCODER\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_create_encoder_callback)                       | <span data-ttu-id="5e0f9-133">處理建立編碼器實例的程式。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-133">Handles creating an encoder instance.</span></span>                                                                                                                 |
| [<span data-ttu-id="5e0f9-134">**WS \_ 解碼 \_ 解碼 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-134">**WS\_DECODER\_DECODE\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_decoder_decode_callback)                       | <span data-ttu-id="5e0f9-135">解碼訊息。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-135">Decodes a message.</span></span>                                                                                                                                    |
| [<span data-ttu-id="5e0f9-136">**WS \_ 解碼器 \_ 結束 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-136">**WS\_DECODER\_END\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_decoder_end_callback)                             | <span data-ttu-id="5e0f9-137">解碼訊息的結尾。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-137">Decodes the end of a message.</span></span>                                                                                                                         |
| [<span data-ttu-id="5e0f9-138">**WS \_ 解碼 \_ 取得 \_ 內容 \_ 類型 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-138">**WS\_DECODER\_GET\_CONTENT\_TYPE\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_decoder_get_content_type_callback) | <span data-ttu-id="5e0f9-139">取得訊息的內容類型。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-139">Gets the content type of the message.</span></span>                                                                                                                 |
| [<span data-ttu-id="5e0f9-140">**WS \_ 解碼 \_ 開始 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-140">**WS\_DECODER\_START\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_decoder_start_callback)                         | <span data-ttu-id="5e0f9-141">開始解碼訊息。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-141">Starts decoding a message.</span></span>                                                                                                                            |
| [<span data-ttu-id="5e0f9-142">**WS \_ 編碼器 \_ 編碼 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-142">**WS\_ENCODER\_ENCODE\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_encoder_encode_callback)                       | <span data-ttu-id="5e0f9-143">編碼訊息。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-143">Encodes a message.</span></span>                                                                                                                                    |
| [<span data-ttu-id="5e0f9-144">**WS \_ 編碼器 \_ 結束 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-144">**WS\_ENCODER\_END\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_encoder_end_callback)                             | <span data-ttu-id="5e0f9-145">將訊息的結尾編碼。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-145">Encodes the end of a message.</span></span>                                                                                                                         |
| [<span data-ttu-id="5e0f9-146">**WS \_ 編碼器 \_ 取得 \_ 內容 \_ 類型 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-146">**WS\_ENCODER\_GET\_CONTENT\_TYPE\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_encoder_get_content_type_callback) | <span data-ttu-id="5e0f9-147">取得訊息的內容類型。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-147">Gets the content type of the message.</span></span>                                                                                                                 |
| [<span data-ttu-id="5e0f9-148">**WS \_ 編碼器 \_ 啟動 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-148">**WS\_ENCODER\_START\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_encoder_start_callback)                         | <span data-ttu-id="5e0f9-149">開始編碼訊息。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-149">Starts encoding a message.</span></span>                                                                                                                            |
| [<span data-ttu-id="5e0f9-150">**WS \_ FREE \_ CHANNEL \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-150">**WS\_FREE\_CHANNEL\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_free_channel_callback)                           | <span data-ttu-id="5e0f9-151">使用自訂通道系結處理通道的 [**WsFreeChannel**](/windows/desktop/api/WebServices/nf-webservices-wsfreechannel) 呼叫。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-151">Handles the [**WsFreeChannel**](/windows/desktop/api/WebServices/nf-webservices-wsfreechannel) call for a channel with custom channel binding.</span></span>                                                    |
| [<span data-ttu-id="5e0f9-152">**WS \_ FREE \_ 解碼器 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-152">**WS\_FREE\_DECODER\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_free_decoder_callback)                           | <span data-ttu-id="5e0f9-153">處理釋出的解碼器實例。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-153">Handles freeing a decoder instance.</span></span>                                                                                                                   |
| [<span data-ttu-id="5e0f9-154">**WS \_ 免費 \_ 編碼器 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-154">**WS\_FREE\_ENCODER\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_free_encoder_callback)                           | <span data-ttu-id="5e0f9-155">控制碼釋放編碼器實例。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-155">Handles freeing an encoder instance.</span></span>                                                                                                                  |
| [<span data-ttu-id="5e0f9-156">**WS \_ GET \_ 通道 \_ 屬性 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-156">**WS\_GET\_CHANNEL\_PROPERTY\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_get_channel_property_callback)          | <span data-ttu-id="5e0f9-157">使用自訂通道系結處理通道的 [**WsGetChannelProperty**](/windows/desktop/api/WebServices/nf-webservices-wsgetchannelproperty) 呼叫。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-157">Handles the [**WsGetChannelProperty**](/windows/desktop/api/WebServices/nf-webservices-wsgetchannelproperty) call for a channel with custom channel binding.</span></span>                                      |
| [<span data-ttu-id="5e0f9-158">**WS \_ HTTP 重新 \_ 導向 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-158">**WS\_HTTP\_REDIRECT\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_http_redirect_callback)                         | <span data-ttu-id="5e0f9-159">當訊息即將自動重新導向至使用 HTTP 自動重新導向功能的另一個服務時叫用，如 RFC2616 中所述。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-159">Invoked when a message is about to be automatically redirected to another service utilizing HTTP auto redirect functionality as described in RFC2616.</span></span> |
| [<span data-ttu-id="5e0f9-160">**WS \_ 開啟 \_ 通道 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-160">**WS\_OPEN\_CHANNEL\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_open_channel_callback)                           | <span data-ttu-id="5e0f9-161">使用自訂通道系結處理通道的 [**WsOpenChannel**](/windows/desktop/api/WebServices/nf-webservices-wsopenchannel) 呼叫。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-161">Handles the [**WsOpenChannel**](/windows/desktop/api/WebServices/nf-webservices-wsopenchannel) call for a channel with custom channel binding.</span></span>                                                    |
| [<span data-ttu-id="5e0f9-162">**WS \_ 讀取 \_ 訊息 \_ 結束 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-162">**WS\_READ\_MESSAGE\_END\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_read_message_end_callback)                  | <span data-ttu-id="5e0f9-163">使用自訂通道系結處理通道的 [**WsReadMessageEnd**](/windows/desktop/api/WebServices/nf-webservices-wsreadmessageend) 呼叫。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-163">Handles the [**WsReadMessageEnd**](/windows/desktop/api/WebServices/nf-webservices-wsreadmessageend) call for a channel with custom channel binding.</span></span>                                              |
| [<span data-ttu-id="5e0f9-164">**WS \_ 讀取 \_ 訊息 \_ 開始 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-164">**WS\_READ\_MESSAGE\_START\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_read_message_start_callback)              | <span data-ttu-id="5e0f9-165">使用自訂通道系結處理通道的 [**WsReadMessageEnd**](/windows/desktop/api/WebServices/nf-webservices-wsreadmessageend) 呼叫。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-165">Handles the [**WsReadMessageEnd**](/windows/desktop/api/WebServices/nf-webservices-wsreadmessageend) call for a channel with custom channel binding.</span></span>                                              |
| [<span data-ttu-id="5e0f9-166">**WS \_ 重設 \_ 通道 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-166">**WS\_RESET\_CHANNEL\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_reset_channel_callback)                         | <span data-ttu-id="5e0f9-167">使用自訂通道系結處理通道的 [**WsResetChannel**](/windows/desktop/api/WebServices/nf-webservices-wsresetchannel) 呼叫。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-167">Handles the [**WsResetChannel**](/windows/desktop/api/WebServices/nf-webservices-wsresetchannel) call for a channel with custom channel binding.</span></span>                                                  |
| [<span data-ttu-id="5e0f9-168">**WS \_ 設定 \_ 通道 \_ 屬性 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-168">**WS\_SET\_CHANNEL\_PROPERTY\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_set_channel_property_callback)          | <span data-ttu-id="5e0f9-169">使用自訂通道系結處理通道的 [**WsSetChannelProperty**](/windows/desktop/api/WebServices/nf-webservices-wssetchannelproperty) 呼叫。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-169">Handles the [**WsSetChannelProperty**](/windows/desktop/api/WebServices/nf-webservices-wssetchannelproperty) call for a channel with custom channel binding.</span></span>                                      |
| [<span data-ttu-id="5e0f9-170">**WS \_ 關機 \_ 會話 \_ 通道 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-170">**WS\_SHUTDOWN\_SESSION\_CHANNEL\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_shutdown_session_channel_callback)  | <span data-ttu-id="5e0f9-171">使用自訂通道系結處理通道的 [**WsShutdownSessionChannel**](/windows/desktop/api/WebServices/nf-webservices-wsshutdownsessionchannel) 呼叫。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-171">Handles the [**WsShutdownSessionChannel**](/windows/desktop/api/WebServices/nf-webservices-wsshutdownsessionchannel) call for a channel with custom channel binding.</span></span>                              |
| [<span data-ttu-id="5e0f9-172">**WS \_ 寫入 \_ 訊息 \_ 結束 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-172">**WS\_WRITE\_MESSAGE\_END\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_write_message_end_callback)                | <span data-ttu-id="5e0f9-173">使用自訂通道系結處理通道的 [**WsWriteMessageEnd**](/windows/desktop/api/WebServices/nf-webservices-wswritemessageend) 呼叫。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-173">Handles the [**WsWriteMessageEnd**](/windows/desktop/api/WebServices/nf-webservices-wswritemessageend) call for a channel with custom channel binding.</span></span>                                            |
| [<span data-ttu-id="5e0f9-174">**WS \_ 寫入 \_ 訊息 \_ 開始 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-174">**WS\_WRITE\_MESSAGE\_START\_CALLBACK**</span></span>](/windows/desktop/api/WebServices/nc-webservices-ws_write_message_start_callback)            | <span data-ttu-id="5e0f9-175">使用自訂通道系結處理通道的 [**WsWriteMessageStart**](/windows/desktop/api/WebServices/nf-webservices-wswritemessagestart) 呼叫。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-175">Handles the [**WsWriteMessageStart**](/windows/desktop/api/WebServices/nf-webservices-wswritemessagestart) call for a channel with custom channel binding.</span></span>                                        |



 



| <span data-ttu-id="5e0f9-176">列舉型別</span><span class="sxs-lookup"><span data-stu-id="5e0f9-176">Enumeration</span></span>                                                 | <span data-ttu-id="5e0f9-177">描述</span><span class="sxs-lookup"><span data-stu-id="5e0f9-177">Description</span></span>                                                                                                                               |
|-------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="5e0f9-178">**WS \_ 通道系結 \_**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-178">**WS\_CHANNEL\_BINDING**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_channel_binding)          | <span data-ttu-id="5e0f9-179">指出要用於通道的通訊協定堆疊。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-179">Indicates the protocol stack to use for the channel.</span></span>                                                                                      |
| [<span data-ttu-id="5e0f9-180">**WS \_ 通道 \_ 屬性 \_ 識別碼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-180">**WS\_CHANNEL\_PROPERTY\_ID**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_channel_property_id) | <span data-ttu-id="5e0f9-181">依識別碼識別每個通道屬性。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-181">Identifies each channel property by an ID.</span></span>                                                                                                |
| [<span data-ttu-id="5e0f9-182">**WS \_ 通道 \_ 狀態**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-182">**WS\_CHANNEL\_STATE**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_channel_state)              | <span data-ttu-id="5e0f9-183">通道的狀態。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-183">The state of the channel.</span></span>                                                                                                                 |
| [<span data-ttu-id="5e0f9-184">**WS \_ 通道 \_ 類型**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-184">**WS\_CHANNEL\_TYPE**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_channel_type)                | <span data-ttu-id="5e0f9-185">指出通道的基本特性，例如它是否為會話，以及支援的通訊方向。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-185">Indicates the basic characteristics of the channel, such as whether it is sessionful, and what directions of communication are supported.</span></span> |
| [<span data-ttu-id="5e0f9-186">**WS \_ 編碼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-186">**WS\_ENCODING**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_encoding)                         | <span data-ttu-id="5e0f9-187">不同的編碼 (訊息格式) 。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-187">The different encodings (message formats).</span></span>                                                                                                |
| [<span data-ttu-id="5e0f9-188">**WS \_ 接收 \_ 選項**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-188">**WS\_RECEIVE\_OPTION**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_receive_option)            | <span data-ttu-id="5e0f9-189">指定從通道接收時是否需要訊息。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-189">Specifies whether a message is required when receiving from a channel.</span></span>                                                                    |
| [<span data-ttu-id="5e0f9-190">**WS \_ 傳輸 \_ 模式**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-190">**WS\_TRANSFER\_MODE**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_transfer_mode)              | <span data-ttu-id="5e0f9-191">指定傳送或接收的訊息是否經過資料流程處理或緩衝處理。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-191">Specifies whether messages that are sent or received are streamed or buffered.</span></span>                                                            |



 



| <span data-ttu-id="5e0f9-192">函式</span><span class="sxs-lookup"><span data-stu-id="5e0f9-192">Function</span></span>                                                         | <span data-ttu-id="5e0f9-193">描述</span><span class="sxs-lookup"><span data-stu-id="5e0f9-193">Description</span></span>                                                                                                  |
|------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="5e0f9-194">**WsAbandonMessage**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-194">**WsAbandonMessage**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wsabandonmessage)                     | <span data-ttu-id="5e0f9-195">略過通道的其餘訊息。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-195">Skips the remainder of a message for a channel.</span></span>                                                              |
| [<span data-ttu-id="5e0f9-196">**WsAbortChannel**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-196">**WsAbortChannel**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wsabortchannel)                         | <span data-ttu-id="5e0f9-197">中止指定通道上的所有暫止 i/o，並將通道狀態設定為 **WS \_ 通道 \_ 狀態 \_** 發生錯誤。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-197">Aborts all pending I/O on a specified channel and sets the channel state to **WS\_CHANNEL\_STATE\_FAULTED**.</span></span> |
| [<span data-ttu-id="5e0f9-198">**WsCloseChannel**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-198">**WsCloseChannel**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wsclosechannel)                         | <span data-ttu-id="5e0f9-199">不再需要時關閉通道。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-199">Closes a channel when it is no longer needed.</span></span>                                                                |
| [<span data-ttu-id="5e0f9-200">**WsCreateChannel**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-200">**WsCreateChannel**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wscreatechannel)                       | <span data-ttu-id="5e0f9-201">建立通道。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-201">Creates a channel.</span></span>                                                                                           |
| [<span data-ttu-id="5e0f9-202">**WsCreateChannelForListener**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-202">**WsCreateChannelForListener**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wscreatechannelforlistener) | <span data-ttu-id="5e0f9-203">建立接聽程式的通道。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-203">Creates a channel for a listener.</span></span>                                                                            |
| [<span data-ttu-id="5e0f9-204">**WsFreeChannel**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-204">**WsFreeChannel**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wsfreechannel)                           | <span data-ttu-id="5e0f9-205">釋放與通道相關聯的記憶體資源。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-205">Releases the memory resources associated with a channel.</span></span>                                                     |
| [<span data-ttu-id="5e0f9-206">**WsGetChannelProperty**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-206">**WsGetChannelProperty**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wsgetchannelproperty)             | <span data-ttu-id="5e0f9-207">抓取通道參數所參考之通道的屬性。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-207">Retrieves a property of the Channel referenced by the channel parameter.</span></span>                                     |
| [<span data-ttu-id="5e0f9-208">**WsOpenChannel**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-208">**WsOpenChannel**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wsopenchannel)                           | <span data-ttu-id="5e0f9-209">開啟端點的通道。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-209">Opens a channel to an endpoint.</span></span>                                                                              |
| [<span data-ttu-id="5e0f9-210">**WsReadMessageEnd**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-210">**WsReadMessageEnd**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wsreadmessageend)                     | <span data-ttu-id="5e0f9-211">從通道讀取訊息的結尾元素。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-211">Reads the closing elements of a message from a channel.</span></span>                                                      |
| [<span data-ttu-id="5e0f9-212">**WsReadMessageStart**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-212">**WsReadMessageStart**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wsreadmessagestart)                 | <span data-ttu-id="5e0f9-213">從通道讀取下一個訊息的標頭，並準備讀取主體元素。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-213">Reads the headers of the next message from the channel and prepares to read the body elements.</span></span>               |
| [<span data-ttu-id="5e0f9-214">**WsReceiveMessage**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-214">**WsReceiveMessage**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wsreceivemessage)                     | <span data-ttu-id="5e0f9-215">接收訊息，並將訊息主體還原序列化為值。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-215">Receives a message and deserializes the body of the message as a value.</span></span>                                      |
| [<span data-ttu-id="5e0f9-216">**WsRequestReply**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-216">**WsRequestReply**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wsrequestreply)                         | <span data-ttu-id="5e0f9-217">傳送要求訊息，並接收相互關聯的回復訊息。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-217">Sends a request message and receives a correlated reply message.</span></span>                                             |
| [<span data-ttu-id="5e0f9-218">**WsResetChannel**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-218">**WsResetChannel**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wsresetchannel)                         | <span data-ttu-id="5e0f9-219">重設通道，讓它可以重複使用。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-219">Reset a channel so it can be reused.</span></span>                                                                         |
| [<span data-ttu-id="5e0f9-220">**WsSendMessage**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-220">**WsSendMessage**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wssendmessage)                           | <span data-ttu-id="5e0f9-221">使用序列化在通道上傳送訊息，以撰寫主體專案。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-221">Sends a message on a channel using serialization to write the body element.</span></span>                                  |
| [<span data-ttu-id="5e0f9-222">**WsSendReplyMessage**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-222">**WsSendReplyMessage**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wssendreplymessage)                 | <span data-ttu-id="5e0f9-223">傳送訊息，此訊息是接收訊息的回復。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-223">Sends a message that is a reply to a received message.</span></span>                                                       |
| [<span data-ttu-id="5e0f9-224">**WsSetChannelProperty**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-224">**WsSetChannelProperty**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wssetchannelproperty)             | <span data-ttu-id="5e0f9-225">設定通道的屬性。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-225">Sets a property of a channel.</span></span>                                                                                |
| [<span data-ttu-id="5e0f9-226">**WsSetMessageProperty**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-226">**WsSetMessageProperty**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wssetmessageproperty)             | <span data-ttu-id="5e0f9-227">設定訊息的屬性。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-227">Sets a property of a message.</span></span>                                                                                |
| [<span data-ttu-id="5e0f9-228">**WsWriteMessageEnd**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-228">**WsWriteMessageEnd**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wswritemessageend)                   | <span data-ttu-id="5e0f9-229">將訊息的結尾元素寫入通道。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-229">Writes the closing elements of a message to the channel.</span></span>                                                     |
| [<span data-ttu-id="5e0f9-230">**WsWriteMessageStart**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-230">**WsWriteMessageStart**</span></span>](/windows/desktop/api/WebServices/nf-webservices-wswritemessagestart)               | <span data-ttu-id="5e0f9-231">將訊息的標頭寫出至通道，並準備撰寫本文元素。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-231">Write out the headers of a message to the channel and prepares to write the body elements.</span></span>                   |



 



| <span data-ttu-id="5e0f9-232">Handle</span><span class="sxs-lookup"><span data-stu-id="5e0f9-232">Handle</span></span>                        | <span data-ttu-id="5e0f9-233">Description</span><span class="sxs-lookup"><span data-stu-id="5e0f9-233">Description</span></span>                                 |
|-------------------------------|---------------------------------------------|
| [<span data-ttu-id="5e0f9-234">WS \_ 通道</span><span class="sxs-lookup"><span data-stu-id="5e0f9-234">WS\_CHANNEL</span></span>](ws-channel.md) | <span data-ttu-id="5e0f9-235">用來參考通道的不透明類型。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-235">An opaque type used to reference a channel.</span></span> |



 



| <span data-ttu-id="5e0f9-236">結構</span><span class="sxs-lookup"><span data-stu-id="5e0f9-236">Structure</span></span>                                                                          | <span data-ttu-id="5e0f9-237">Description</span><span class="sxs-lookup"><span data-stu-id="5e0f9-237">Description</span></span>                                                                                                                                                                                      |
|------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="5e0f9-238">**WS \_ 通道 \_ 解碼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-238">**WS\_CHANNEL\_DECODER**</span></span>](/windows/desktop/api/WebServices/ns-webservices-ws_channel_decoder)                                 | <span data-ttu-id="5e0f9-239">一組回呼，可轉換所接收訊息的內容類型和編碼的位元組。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-239">A set of callbacks that transform the content type and encoded bytes of a received message.</span></span>                                                                                                      |
| [<span data-ttu-id="5e0f9-240">**WS \_ 通道 \_ 編碼器**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-240">**WS\_CHANNEL\_ENCODER**</span></span>](/windows/desktop/api/WebServices/ns-webservices-ws_channel_encoder)                                 | <span data-ttu-id="5e0f9-241">一組回呼，可轉換所傳送訊息的內容類型和編碼位元組。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-241">A set of callbacks that can transform the content type and encoded bytes of a sent message.</span></span>                                                                                                      |
| [<span data-ttu-id="5e0f9-242">**WS \_ 通道 \_ 屬性**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-242">**WS\_CHANNEL\_PROPERTIES**</span></span>](/windows/desktop/api/WebServices/ns-webservices-ws_channel_properties)                           | <span data-ttu-id="5e0f9-243">一組 [**WS \_ 通道 \_ 屬性**](/windows/desktop/api/WebServices/ns-webservices-ws_channel_property) 結構。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-243">A set of [**WS\_CHANNEL\_PROPERTY**](/windows/desktop/api/WebServices/ns-webservices-ws_channel_property) structures.</span></span>                                                                                                                        |
| [<span data-ttu-id="5e0f9-244">**WS \_ 通道 \_ 屬性**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-244">**WS\_CHANNEL\_PROPERTY**</span></span>](/windows/desktop/api/WebServices/ns-webservices-ws_channel_property)                               | <span data-ttu-id="5e0f9-245">通道特定的設定。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-245">A channel-specific setting.</span></span>                                                                                                                                                                      |
| [<span data-ttu-id="5e0f9-246">**WS \_ 自訂 \_ 通道 \_ 回呼**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-246">**WS\_CUSTOM\_CHANNEL\_CALLBACKS**</span></span>](/windows/desktop/api/WebServices/ns-webservices-ws_custom_channel_callbacks)              | <span data-ttu-id="5e0f9-247">一組回呼，可形成自訂通道的執行。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-247">A set of callbacks that form the implementation of a custom channel.</span></span>                                                                                                                             |
| [<span data-ttu-id="5e0f9-248">**WS \_ 自訂 \_ HTTP \_ PROXY**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-248">**WS\_CUSTOM\_HTTP\_PROXY**</span></span>](/windows/desktop/api/WebServices/ns-webservices-ws_custom_http_proxy)                            | <span data-ttu-id="5e0f9-249">用來指定通道的自訂 proxy，使用 Ws 通道屬性識別碼列舉的 **\_ \_ \_ 自訂 \_ HTTP** \_ proxy 值 [**。 \_ \_ \_**](/windows/desktop/api/WebServices/ne-webservices-ws_channel_property_id)</span><span class="sxs-lookup"><span data-stu-id="5e0f9-249">used to specify the custom proxy for the channel, using the **WS\_CHANNEL\_PROPERTY\_CUSTOM\_HTTP**\_PROXY value of the [**WS\_CHANNEL\_PROPERTY\_ID**](/windows/desktop/api/WebServices/ne-webservices-ws_channel_property_id) enumeration.</span></span> |
| [<span data-ttu-id="5e0f9-250">**WS \_ HTTP \_ 標頭 \_ 對應**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-250">**WS\_HTTP\_HEADER\_MAPPING**</span></span>](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_mapping)                        | <span data-ttu-id="5e0f9-251">表示對應為 [**WS \_ HTTP \_ 訊息 \_ 對應**](/windows/desktop/api/WebServices/ns-webservices-ws_http_message_mapping)一部分的個別標頭。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-251">Represents an individual header that is mapped as part of [**WS\_HTTP\_MESSAGE\_MAPPING**](/windows/desktop/api/WebServices/ns-webservices-ws_http_message_mapping).</span></span>                                                                         |
| [<span data-ttu-id="5e0f9-252">**WS \_ HTTP \_ 訊息 \_ 對應**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-252">**WS\_HTTP\_MESSAGE\_MAPPING**</span></span>](/windows/desktop/api/WebServices/ns-webservices-ws_http_message_mapping)                      | <span data-ttu-id="5e0f9-253">有關如何在訊息物件中表示 HTTP 要求或回應的資訊。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-253">Information about how an HTTP request or response should be represented in a message object.</span></span>                                                                                                     |
| [<span data-ttu-id="5e0f9-254">**WS \_ HTTP 重新 \_ 導向 \_ 回呼 \_ 內容**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-254">**WS\_HTTP\_REDIRECT\_CALLBACK\_CONTEXT**</span></span>](/windows/desktop/api/WebServices/ns-webservices-ws_http_redirect_callback_context) | <span data-ttu-id="5e0f9-255">指定回呼函數和狀態，以控制 HTTP 自動重新導向行為。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-255">Specifies the callback function and state for controlling the HTTP automatic redirection behavior.</span></span>                                                                                               |
| [<span data-ttu-id="5e0f9-256">**WS \_ 訊息 \_ 描述**</span><span class="sxs-lookup"><span data-stu-id="5e0f9-256">**WS\_MESSAGE\_DESCRIPTION**</span></span>](/windows/desktop/api/WebServices/ns-webservices-ws_message_description)                         | <span data-ttu-id="5e0f9-257">給定作業描述之輸入和輸出 [WS \_ 訊息](ws-message.md) 的架構。</span><span class="sxs-lookup"><span data-stu-id="5e0f9-257">The schema for the input and output [WS\_MESSAGE](ws-message.md) for a given operation description.</span></span>                                                                                             |



 

 

 




