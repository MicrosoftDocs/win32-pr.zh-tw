---
title: 叫用擴充 Dll
description: 會針對它從網路存取伺服器接收的每個有效驗證或帳戶處理封包， (NAS) 來呼叫這些函式。
ms.assetid: 6d738ad7-cce5-4835-97d6-c57173c79a16
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8bc96fab078a982f23f5f5dd86d51dbed46d5541
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/20/2020
ms.locfileid: "103933468"
---
# <a name="invoking-the-extension-dlls"></a><span data-ttu-id="61964-103">叫用擴充 Dll</span><span class="sxs-lookup"><span data-stu-id="61964-103">Invoking the Extension DLLs</span></span>

> [!Note]  
> <span data-ttu-id="61964-104">從 Windows Server 2008 開始， (IAS) 的網際網路驗證服務已重新命名為網路原則伺服器 (NPS) 。</span><span class="sxs-lookup"><span data-stu-id="61964-104">Internet Authentication Service (IAS) was renamed Network Policy Server (NPS) starting with Windows Server 2008.</span></span> <span data-ttu-id="61964-105">本主題的內容適用于 IAS 和 NPS。</span><span class="sxs-lookup"><span data-stu-id="61964-105">The content of this topic applies to both IAS and NPS.</span></span> <span data-ttu-id="61964-106">在整個文字中，NPS 是用來參考服務的所有版本，包括原本稱為 IAS 的版本。</span><span class="sxs-lookup"><span data-stu-id="61964-106">Throughout the text, NPS is used to refer to all versions of the service, including the versions originally referred to as IAS.</span></span>

 

<span data-ttu-id="61964-107">NPS 擴充 Dll 必須匯出至少下列其中一個回呼函數： [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process)、 [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex)或 [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2)。</span><span class="sxs-lookup"><span data-stu-id="61964-107">NPS Extension DLLs must export at least one of the following callback functions: [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process), [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex), or [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span></span> <span data-ttu-id="61964-108">NPS 會針對它從網路存取伺服器接收的每個有效驗證或帳戶處理封包， (NAS) 來呼叫這些函式。</span><span class="sxs-lookup"><span data-stu-id="61964-108">NPS calls these function for each valid authentication or accounting packet that it receives from the Network Access Server (NAS).</span></span> <span data-ttu-id="61964-109">NPS 會在 NPS 的 Parameters 登錄機 [碼](/windows/desktop/Nps/ias-setting-up-the-extension-and-authorization-dlls)底下列出的每個 dll 中呼叫這些函式。</span><span class="sxs-lookup"><span data-stu-id="61964-109">NPS calls these functions in each of the DLLs listed below the NPS' [Parameters registry key](/windows/desktop/Nps/ias-setting-up-the-extension-and-authorization-dlls).</span></span> <span data-ttu-id="61964-110">Dll 會依列出的順序來呼叫。</span><span class="sxs-lookup"><span data-stu-id="61964-110">The DLLs are called in the order in which they are listed.</span></span>

<span data-ttu-id="61964-111">如果 NPS 延伸模組 DLL 匯出上述多個函式，NPS 只會叫用其中一個函式：作業系統所支援的最新功能。</span><span class="sxs-lookup"><span data-stu-id="61964-111">If an NPS Extension DLL exports more than one of the above functions, NPS invokes just one of them: the newest function that is supported by the operating system.</span></span>

> [!Note]  
> <span data-ttu-id="61964-112">IAS 原本僅支援 [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process)。</span><span class="sxs-lookup"><span data-stu-id="61964-112">IAS originally supported only [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process).</span></span> <span data-ttu-id="61964-113">IAS 也支援 [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex)。</span><span class="sxs-lookup"><span data-stu-id="61964-113">IAS supports also [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex).</span></span> <span data-ttu-id="61964-114">IAS (和更新版本的 NPS) 也支援 [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2)。</span><span class="sxs-lookup"><span data-stu-id="61964-114">IAS (and later NPS) supports also [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span></span>

 

<span data-ttu-id="61964-115">NPS 擴充 Dll 也可以匯出 [**RadiusExtensionInit**](/windows/desktop/api/authif/nc-authif-pradius_extension_init) 和 [**RadiusExtensionTerm**](/windows/desktop/api/authif/nc-authif-pradius_extension_term) 函數。</span><span class="sxs-lookup"><span data-stu-id="61964-115">NPS Extension DLLs may also export [**RadiusExtensionInit**](/windows/desktop/api/authif/nc-authif-pradius_extension_init) and [**RadiusExtensionTerm**](/windows/desktop/api/authif/nc-authif-pradius_extension_term) functions.</span></span> <span data-ttu-id="61964-116">如果有的話，NPS 會在服務啟動和停止時分別呼叫這些函式。</span><span class="sxs-lookup"><span data-stu-id="61964-116">If they are present, NPS calls these functions when the service starts and stops, respectively.</span></span>

## <a name="radiusextensionprocess-callback-function"></a><span data-ttu-id="61964-117">RadiusExtensionProcess 回呼函式</span><span class="sxs-lookup"><span data-stu-id="61964-117">RadiusExtensionProcess Callback Function</span></span>

<span data-ttu-id="61964-118">在驗證延伸模組 DLL 中， [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process) 會接收 NPS 在驗證或帳戶處理要求中收到的所有屬性。</span><span class="sxs-lookup"><span data-stu-id="61964-118">In an Authentication Extension DLL, [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process) receives all the attributes that are received by NPS in the authentication or accounting request.</span></span> <span data-ttu-id="61964-119">使用這些屬性，函式可以執行額外的驗證、驗證使用者的授權，或將帳戶處理記錄傳送至中央狀態伺服器。</span><span class="sxs-lookup"><span data-stu-id="61964-119">Using these attributes, the function can perform additional validations, verify the user's authorizations, or send accounting records to a central state server.</span></span>

<span data-ttu-id="61964-120">在授權延伸 DLL 中， **RadiusExtensionProcess** 會接收 NPS 授權服務所產生的所有屬性。</span><span class="sxs-lookup"><span data-stu-id="61964-120">In an Authorization Extension DLL, **RadiusExtensionProcess** receives all the attributes generated by the NPS authorization service.</span></span> <span data-ttu-id="61964-121">這些是 Access-Accept 封包中傳回的屬性。</span><span class="sxs-lookup"><span data-stu-id="61964-121">These are the attributes that are returned in the Access-Accept packet.</span></span>

<span data-ttu-id="61964-122">在呼叫 **RadiusExtensionProcess** 之後，NPS 所執行的動作取決於 **RadiusExtensionProcess** 的傳回值，以及 *pfAction* 參數中所傳回的值。</span><span class="sxs-lookup"><span data-stu-id="61964-122">After calling **RadiusExtensionProcess**, the action performed by NPS depends on the return value of **RadiusExtensionProcess**, and the value returned in the *pfAction* parameter.</span></span> <span data-ttu-id="61964-123">這些值會列在下表中。</span><span class="sxs-lookup"><span data-stu-id="61964-123">These values are listed in the following table.</span></span>



| <span data-ttu-id="61964-124">*pfAction*</span><span class="sxs-lookup"><span data-stu-id="61964-124">*pfAction*</span></span> | <span data-ttu-id="61964-125">驗證延伸模組 DLL</span><span class="sxs-lookup"><span data-stu-id="61964-125">Authentication Extension DLL</span></span>                                                                                                                                            | <span data-ttu-id="61964-126">授權延伸模組 DLL</span><span class="sxs-lookup"><span data-stu-id="61964-126">Authorization Extension DLL</span></span>                                                                                                                                 |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="61964-127">接受</span><span class="sxs-lookup"><span data-stu-id="61964-127">Accept</span></span>     | <span data-ttu-id="61964-128">略過任何進一步的驗證延伸模組 Dll，也略過 NPS 驗證機制。</span><span class="sxs-lookup"><span data-stu-id="61964-128">Bypasses any further Authentication Extension DLLs and also bypasses the NPS authentication mechanism.</span></span>                                                                  | <span data-ttu-id="61964-129">不允許接受。</span><span class="sxs-lookup"><span data-stu-id="61964-129">Accept not allowed.</span></span>                                                                                                                                         |
| <span data-ttu-id="61964-130">拒絕</span><span class="sxs-lookup"><span data-stu-id="61964-130">Reject</span></span>     | <span data-ttu-id="61964-131">略過任何進一步的驗證延伸模組 Dll，也略過 NPS 驗證機制。</span><span class="sxs-lookup"><span data-stu-id="61964-131">Bypasses any further Authentication Extension DLLs and also bypasses the NPS authentication mechanism.</span></span> <span data-ttu-id="61964-132">傳送 Access-Reject 封包。</span><span class="sxs-lookup"><span data-stu-id="61964-132">Access-Reject packet is sent.</span></span>                                    | <span data-ttu-id="61964-133">略過任何進一步的授權延伸模組 Dll。</span><span class="sxs-lookup"><span data-stu-id="61964-133">Bypasses any further Authorization Extension DLLs.</span></span>                                                                                                          |
| <span data-ttu-id="61964-134">繼續</span><span class="sxs-lookup"><span data-stu-id="61964-134">Continue</span></span>   | <span data-ttu-id="61964-135">如果登錄中沒有列出其他驗證延伸模組 Dll，封包會傳送至下一個驗證延伸模組 DLL 或 NPS 驗證機制。</span><span class="sxs-lookup"><span data-stu-id="61964-135">The packet is sent to the next Authentication Extension DLL or to the NPS authentication mechanism if no more Authentication Extension DLLs are listed in the registry.</span></span> | <span data-ttu-id="61964-136">如果登錄中沒有列出其他授權延伸模組 Dll，封包會傳送至下一個授權延伸模組 DLL 或 NPS 帳戶處理記錄檔。</span><span class="sxs-lookup"><span data-stu-id="61964-136">The packet is sent to the next Authorization Extension DLL or to the NPS accounting log if no more Authorization Extension DLLs are listed in the registry.</span></span> |



 

<span data-ttu-id="61964-137">針對所有延伸模組 Dll，如果 **RadiusExtensionProcess** 傳回錯誤，則會捨棄封包。</span><span class="sxs-lookup"><span data-stu-id="61964-137">For all Extension DLLs, if **RadiusExtensionProcess** returns an error, the packet is discarded.</span></span> <span data-ttu-id="61964-138">NPS 帳戶處理記錄檔不會處理因為錯誤而捨棄的封包。</span><span class="sxs-lookup"><span data-stu-id="61964-138">Packets that are discarded because of an error are not processed by the NPS accounting log.</span></span>

<span data-ttu-id="61964-139">如果發生錯誤，NPS 會將一般錯誤事件張貼至事件記錄檔。</span><span class="sxs-lookup"><span data-stu-id="61964-139">If an error occurs, NPS posts a generic error event to the Event Log.</span></span> <span data-ttu-id="61964-140">建議延伸模組 DLL 提供其他錯誤記錄。</span><span class="sxs-lookup"><span data-stu-id="61964-140">It is recommended that the Extension DLL provide additional error logging.</span></span>

<span data-ttu-id="61964-141">如需詳細資訊和代表上述進程的圖表，請參閱 [關於 NPS 擴充](/windows/desktop/Nps/ias-about-internet-authentication-service)功能。</span><span class="sxs-lookup"><span data-stu-id="61964-141">For more information and a diagram that represents the preceding process, see [About NPS Extensions](/windows/desktop/Nps/ias-about-internet-authentication-service).</span></span>

<span data-ttu-id="61964-142">如果 **RadiusExtensionProcess** 無法驗證封包的接受或拒絕，則應該會傳回錯誤。</span><span class="sxs-lookup"><span data-stu-id="61964-142">**RadiusExtensionProcess** should return an error if it cannot verify the acceptance or rejection of the packet.</span></span> <span data-ttu-id="61964-143">如果網路問題導致 **RadiusExtensionProcess** 無法與使用者驗證資料庫通訊，就可能發生這種情況。</span><span class="sxs-lookup"><span data-stu-id="61964-143">This situation might arise if a network problem prevents **RadiusExtensionProcess** from communicating with its user authentication database.</span></span>

<span data-ttu-id="61964-144">處理會計封包時， *pfAction* 參數為 **Null**，因此無法設定 *pfAction* 。</span><span class="sxs-lookup"><span data-stu-id="61964-144">When processing an accounting packet, the *pfAction* parameter is **NULL**, so *pfAction* cannot be set.</span></span> <span data-ttu-id="61964-145">在處理會計要求時從 **RadiusExtensionProcess** 函式傳回錯誤，會導致 NPS 捨棄要求。</span><span class="sxs-lookup"><span data-stu-id="61964-145">Returning an error from the **RadiusExtensionProcess** function while processing an accounting request causes the request to be discarded by NPS.</span></span>

> [!Note]  
> <span data-ttu-id="61964-146">接收到接受之後，NPS 不會在序列的其餘 Dll 中呼叫 **RadiusExtensionProcess** 。</span><span class="sxs-lookup"><span data-stu-id="61964-146">After receiving an accept, NPS does not call **RadiusExtensionProcess** in the remaining DLLs in the sequence.</span></span> <span data-ttu-id="61964-147">因為某些驗證函式也可能會執行授權，所以略過這類驗證函式可能會導致授權被省略。</span><span class="sxs-lookup"><span data-stu-id="61964-147">Because some authentication functions may also implement authorizations, skipping such authentication functions may cause authorizations to be omitted.</span></span> <span data-ttu-id="61964-148">如果 [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) 的實例傳回 Accept，請務必不要對所抓取的授權提出任何假設。</span><span class="sxs-lookup"><span data-stu-id="61964-148">If an instance of [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) returns Accept, it is important not to make any assumptions about the authorizations retrieved.</span></span>

 

<span data-ttu-id="61964-149">如果傳回 Continue 或 Accept，則會將對應至領域的設定檔傳回 Access-Accept 封包中。</span><span class="sxs-lookup"><span data-stu-id="61964-149">If Continue or Accept is returned, the profile corresponding to the realm is sent back in the Access-Accept packet.</span></span>

<span data-ttu-id="61964-150">驗證延伸模組 Dll 應設計成與內建的 NPS 驗證提供者和其他擴充 Dll 並存。</span><span class="sxs-lookup"><span data-stu-id="61964-150">Authentication Extension DLLs should be designed to coexist with the built-in NPS authentication providers and with other Extension DLLs.</span></span> <span data-ttu-id="61964-151">如果延伸模組只適用于特定的使用者資料庫 (例如 Windows Active Directory) ，則在處理要求之前，它應該先驗證 *pAttrs* 參數中所傳遞的 [**ratProvider**](/windows/desktop/api/authif/ne-authif-radius_authentication_provider)屬性。</span><span class="sxs-lookup"><span data-stu-id="61964-151">If an extension is only applicable to a certain user database (for example Windows Active Directory), then it should verify the [**ratProvider**](/windows/desktop/api/authif/ne-authif-radius_authentication_provider) attribute passed in the *pAttrs* parameter, before processing the request.</span></span> <span data-ttu-id="61964-152">RatProvider 屬性會是 *pAttrs* 參數所指向的其中一個屬性清單。</span><span class="sxs-lookup"><span data-stu-id="61964-152">The ratProvider attribute would be one of a list of attributes pointed to by the *pAttrs* parameter.</span></span>

<span data-ttu-id="61964-153">擴充 Dll 不應拒絕要求，因為遺漏必要的屬性。</span><span class="sxs-lookup"><span data-stu-id="61964-153">Extension DLLs should not reject requests because required attributes are missing.</span></span> <span data-ttu-id="61964-154">例如，如果驗證延伸模組需要 User-Password 屬性、ratUserPassword，而且該屬性不存在，則此延伸模組應該會傳回 raContinue 的動作，讓其他延伸模組和提供者有機會處理要求。</span><span class="sxs-lookup"><span data-stu-id="61964-154">For example, if an authentication extension requires the User-Password attribute, ratUserPassword, and the attribute is not present, the extension should return an action of raContinue to give other extensions and providers a chance to process the request.</span></span>

<span data-ttu-id="61964-155">NPS 會在決定使用特定的驗證資料庫之後，但在使用者進行驗證之前，呼叫 [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) 函式。</span><span class="sxs-lookup"><span data-stu-id="61964-155">NPS calls the [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) function after the decision to use a particular authentication database is made, but before the user is authenticated.</span></span> <span data-ttu-id="61964-156">因此，此函式會提供要使用之驗證資料庫的相關資訊，讓函數可以檢查適當驗證資料庫中的使用者授權。</span><span class="sxs-lookup"><span data-stu-id="61964-156">Therefore, information about which authentication database to use is available to the function, so that the function can check for the user's authorizations in the appropriate authentication database.</span></span> <span data-ttu-id="61964-157">NPS 支援各種驗證資料庫，包括 Windows Active Directory。</span><span class="sxs-lookup"><span data-stu-id="61964-157">NPS supports various authentication databases including the Windows Active Directory.</span></span>

## <a name="radiusextensionprocessex-callback-function"></a><span data-ttu-id="61964-158">RadiusExtensionProcessEx 回呼函式</span><span class="sxs-lookup"><span data-stu-id="61964-158">RadiusExtensionProcessEx Callback Function</span></span>

<span data-ttu-id="61964-159">NPS 擴充 Dll 可能會匯出 [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) ，而不是、或除了 [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process)以外。</span><span class="sxs-lookup"><span data-stu-id="61964-159">NPS Extension DLLs may export [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) instead of, or in addition to, [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process).</span></span> <span data-ttu-id="61964-160">此函式可讓 DLL 將額外的授權屬性附加至驗證回應。</span><span class="sxs-lookup"><span data-stu-id="61964-160">This function enables the DLL to append additional authorization attributes to the authentication response.</span></span>

<span data-ttu-id="61964-161">*RadiusExtensionProcess 回檔* 函式區段中所述的相同資訊適用于 [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex)函數。</span><span class="sxs-lookup"><span data-stu-id="61964-161">The same information described in the *RadiusExtensionProcess Callback Function* section applies to the [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) function.</span></span>

<span data-ttu-id="61964-162">[**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) 無法修改或移除任何存在的屬性。</span><span class="sxs-lookup"><span data-stu-id="61964-162">[**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) cannot modify or remove any of the attributes that are present.</span></span> <span data-ttu-id="61964-163">如果發生 DLL 必須修改或移除屬性的情況，唯一的選項是使用 NPS 使用者介面來確保屬性不存在。</span><span class="sxs-lookup"><span data-stu-id="61964-163">If a scenario arises in which the DLL must modify or remove attributes, the only option is to use the NPS user interface to ensure that the attributes are not present.</span></span> <span data-ttu-id="61964-164">依預設，不會有任何授權屬性。</span><span class="sxs-lookup"><span data-stu-id="61964-164">By default, no authorization attributes are present.</span></span> <span data-ttu-id="61964-165">任何存在的都必須透過使用者介面加入。</span><span class="sxs-lookup"><span data-stu-id="61964-165">Any that are present must have been added through the user interface.</span></span>

<span data-ttu-id="61964-166">如果設定了多個授權 Dll，且其中一些 Dll 會執行 [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex)，則指定 DLL 中的 **RadiusExtensionProcess/Ex** 函式不會接收先前所呼叫之授權 dll 中的屬性。</span><span class="sxs-lookup"><span data-stu-id="61964-166">If multiple Authorization DLLs are configured and some of these DLLs implement [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex), the **RadiusExtensionProcess/Ex** function in a given DLL does not receive the attributes from the previously called Authorization DLLs.</span></span> <span data-ttu-id="61964-167">它只會接收 NPS 授權服務所產生的屬性。</span><span class="sxs-lookup"><span data-stu-id="61964-167">It receives only those attributes generated by the NPS authorization service.</span></span>

## <a name="radiusextensionprocess2-callback-function"></a><span data-ttu-id="61964-168">RadiusExtensionProcess2 回呼函式</span><span class="sxs-lookup"><span data-stu-id="61964-168">RadiusExtensionProcess2 Callback Function</span></span>

<span data-ttu-id="61964-169">NPS 擴充 Dll 也可以匯出 [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) ，而不是、或除了 [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) 和 **RadiusExtensionProcessEx**。</span><span class="sxs-lookup"><span data-stu-id="61964-169">NPS Extension DLLs may also export [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) instead of, or in addition to, [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) and **RadiusExtensionProcessEx**.</span></span> <span data-ttu-id="61964-170">此函式可讓 DLL 在驗證要求或回應中加入、修改和移除屬性。</span><span class="sxs-lookup"><span data-stu-id="61964-170">This function enables the DLL to add, modify, and remove attributes to and from the authentication request or response.</span></span>

<span data-ttu-id="61964-171">*RadiusExtensionProcessEx 回檔* 函式區段中所述的相同資訊適用于 [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex)函式，但有下列例外狀況：</span><span class="sxs-lookup"><span data-stu-id="61964-171">The same information described in the *RadiusExtensionProcessEx Callback Function* section applies to the [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) function, with the following exceptions:</span></span>

-   <span data-ttu-id="61964-172">在授權 DLL 中， **RadiusExtensionProcess2** 會接收 NPS 授權服務所產生的屬性，以及先前稱為授權 dll 產生的屬性。</span><span class="sxs-lookup"><span data-stu-id="61964-172">In an Authorization DLL, **RadiusExtensionProcess2** receives both the attributes generated by the NPS authorization service and the attributes generated from previously called Authorization DLLs.</span></span>
-   <span data-ttu-id="61964-173">[**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) 沒有 *pfAction* 參數。</span><span class="sxs-lookup"><span data-stu-id="61964-173">[**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) does not have a *pfAction* parameter.</span></span> <span data-ttu-id="61964-174">**RadiusExtensionProcess2** 會使用 [**RADIUS \_ 延伸 \_ \_ 模組控制區塊**](/windows/desktop/api/authif/ns-authif-radius_extension_control_block)結構中提供的 [**SetResponseType**](/previous-versions/ms688462(v=vs.85))函式，來設定要求的最終處置。</span><span class="sxs-lookup"><span data-stu-id="61964-174">**RadiusExtensionProcess2** sets the final disposition of the request using the [**SetResponseType**](/previous-versions/ms688462(v=vs.85)) function provided in the [**RADIUS\_EXTENSION\_CONTROL\_BLOCK**](/windows/desktop/api/authif/ns-authif-radius_extension_control_block) structure.</span></span>
-   <span data-ttu-id="61964-175">NPS 一律會呼叫任何其餘 Dll 中的 [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) 函式，而不管先前 dll 中的函式是否傳回 Accept。</span><span class="sxs-lookup"><span data-stu-id="61964-175">NPS always calls the [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) function in any remaining DLLs regardless of whether functions in previous DLLs returned Accept.</span></span>

## <a name="related-topics"></a><span data-ttu-id="61964-176">相關主題</span><span class="sxs-lookup"><span data-stu-id="61964-176">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="61964-177">設定延伸模組 Dll</span><span class="sxs-lookup"><span data-stu-id="61964-177">Setting Up the Extension DLLs</span></span>](/windows/desktop/Nps/ias-setting-up-the-extension-and-authorization-dlls)
</dt> <dt>

[<span data-ttu-id="61964-178">使用者識別屬性</span><span class="sxs-lookup"><span data-stu-id="61964-178">User Identification Attributes</span></span>](/windows/desktop/Nps/ias-user-identification-attributes)
</dt> </dl>

 

 