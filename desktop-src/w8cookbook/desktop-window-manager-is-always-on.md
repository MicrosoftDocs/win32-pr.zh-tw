---
title: 桌面視窗管理員一律開啟
description: 桌面視窗管理員一律開啟
ms.assetid: 36E2DD1B-E480-47A9-850B-3057119641C0
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f855635615dee734b9a719d4e51d3ead663d144e
ms.sourcegitcommit: ea4baf9953a78d2d6bd530b680601e39f3884541
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/01/2020
ms.locfileid: "104316591"
---
# <a name="desktop-window-manager-is-always-on"></a>桌面視窗管理員一律開啟

## <a name="platforms"></a>平台

**用戶端** – Windows 8  
**伺服器** – Windows Server 2012  


## <a name="description"></a>Description

在 Windows 8 中，桌面視窗管理員 (DWM) 一律為開啟狀態，且使用者和應用程式無法停用。 在 Windows 7 中，會使用 DWM 來撰寫桌面。 除了在 Windows 7 中啟用的經驗之外，現在 DWM 桌面組合還可讓所有主題的桌面電腦群組合、支援3D 立體視覺，以及管理、隔離和保護 Windows Store 應用程式的體驗。

**所有主題的桌面組合**

在 Windows Vista 和 Windows 7 中，只會使用 AERO 半透明主題來啟用桌面組合。 因此，Windows 傳統和高對比主題的使用者無法使用桌面組合啟用的體驗，例如 Windows Flip、高解析度的自動調整 (DPI) 調整、縮圖預覽和全螢幕放大鏡。 此外，在這些舊版的 Windows 中，應用程式開發人員必須撰寫和維護多個程式碼路徑–一個是啟用桌面電腦群組合，另一個則停用桌面電腦群組合。

使用 Windows 8 時，會為所有主題啟用桌面電腦群組合。 Windows 傳統和高對比主題的使用者可以使用桌面電腦群組合啟用的體驗，例如 Windows Flip、高解析度的自動調整 (DPI) 調整、縮圖預覽，以及全螢幕放大鏡。 此外，開發人員不需要撰寫和維護多個程式碼路徑，進而簡化開發。

**支援 stereoscopic 3D**

DWM 桌面組合支援轉譯和呈現視窗化和全螢幕 stereoscopic 3D 應用程式內容。

**管理、隔離和保護 Windows Store 應用程式的體驗**

DWM 桌面電腦群組合可讓您從 Windows Store 應用程式視窗管理和分隔桌面應用程式視窗，以從新的 Windows Store 應用程式視窗區隔和保護傳統型應用程式視窗。 由於桌面電腦群組合負責管理所有的應用程式視窗，因此停用桌面組合可能會導致非預期的行為。 此外，桌面電腦群組合負責撰寫新的 [開始] 功能表，以及構成新 Windows 作業系統核心特性的其他視窗動畫。

## <a name="controlling-desktop-composition"></a>控制桌面電腦群組合

在 Windows Vista 和 Windows 7 中，桌面電腦群組合在許多案例中都已停用。 在 Windows 8 中，DWM 桌面組合是核心作業系統元件，無法停用。 但有一些例外狀況，桌面電腦群組合永遠開啟;它會在使用者登入之前啟動，並在會話持續期間維持使用中狀態。 本節說明 Windows 8 如何在 Windows 7 中停用桌面電腦群組合的案例。

**伺服器 SKU 和特定用戶端 Sku**

在 Windows 8 中，所有伺服器和用戶端 Sku 都會啟用桌面組合。 這樣可確保伺服器管理員和使用者可以受益于桌面電腦群組合所啟用的體驗。

**桌面撰寫的基本需求**

Windows 8 可透過 WDDM 驅動程式支援和系統色彩深度，確保符合圖形介面卡和系統色彩深度需求。

**WDDM 驅動程式支援**

如果系統沒有符合 WDDM 規範的圖形驅動程式，Windows 8 會使用 Microsoft 基本顯示器介面卡作為預設介面卡。 由於 DWM 一律會在預設介面卡上執行，因此當 WDDM 相容的圖形驅動程式無法使用時，它會選擇 [Microsoft 基本顯示器介面卡] 來撰寫桌面 (是否未在系統上安裝或停用) 。

Microsoft 基本顯示器介面卡是使用 CPU 而不是 GPU 來執行所有繪圖的軟體轉譯器。 請注意，在 Microsoft 基本顯示器介面卡上的桌面組合效能 (特別是在 GPU 上執行桌面電腦群組合時的動畫) 可能不會像這樣。

**系統色彩深度**

除非色彩深度設定為每圖元32位，否則無法執行桌面電腦群組合。 在 Windows 7 中，您可以在下列情況下變更系統的色彩深度：

-   終端使用者使用 Windows 顯示控制台或協力廠商控制台來變更系統色彩
-   終端使用者執行的應用程式會透過公用 API 變更系統的色彩深度

不同于 Windows 7，Windows 8 不支援每圖元32位以外的色彩深度。 使用者無法再使用 [控制台] 來變更系統的色彩深度。

此外，應用程式開發人員無法使用 Api 來變更系統的色彩深度。 Windows 8 將會偵測到嘗試將系統的色彩深度變更為每圖元32位的應用程式，並通知使用者必須套用應用程式相容性填充碼，才能執行應用程式。 從使用者確認之後，應用程式相容性填充碼會套用，而填充碼會將低色彩模式虛擬化到應用程式，同時讓系統以每圖元32位執行。

**WinSAT**

在 Windows 8 中，桌面電腦群組合不會相依于 WinSAT 分數。 此外，WinSAT 不再包含 DWM 評定。

**應用程式相容性與使用者動作**

在 Windows 8：

-   移除存在於視窗7中的桌面撰寫的所有選項
-   桌面電腦群組合負責撰寫所有主題
-   應用程式無法使用 DwmEnableComposition 來停用桌面組合。 為了維持回溯相容性，呼叫此 API 將會傳回成功;不過，桌面電腦群組合未停用
-   已移除「停用桌面撰寫」填充碼
-   移除 [應用程式屬性] 對話方塊的 [相容性] 索引標籤中的 [停用桌面組合] 選項

**應用程式會使用鏡像驅動程式進行遠端處理**

在 Windows 8：

-   不支援遠端處理案例的鏡像驅動程式;雖然大部分使用鏡像驅動程式的現有應用程式都應該繼續運作，因為支援基礎結構 Windows 8 中的現有鏡像驅動程式所需的變更，也就是使用鏡像驅動程式的部分功能或應用程式可能無法運作
-   針對使用鏡像驅動程式進行遠端處理案例的應用程式開發人員，支援桌面複製 Api。
-   不支援現有的協助工具鏡像驅動程式
-   現有鏡像驅動程式必須更新，以確保它們與 Windows 8 相容

**遠端桌面連線**

在 Windows 8 中，一律會啟用遠端桌面連線的桌面組合。 連接到 Windows 8 遠端電腦的用戶端電腦一律會啟用遠端桌面會話的桌面電腦群組合，而不考慮 Windows 用戶端版本。 用戶端電腦上的多個監視器以及遠端應用程式會話都支援桌面電腦群組合。

此外，連接到 Windows 8 遠端電腦時，遠端桌面連線用戶端中的這些設定將不會生效：

-   色彩深度
-   [啟用組合] 核取方塊

連接的色彩深度一律設定為每圖元32位，且桌面組合一律為啟用狀態。

 

 




