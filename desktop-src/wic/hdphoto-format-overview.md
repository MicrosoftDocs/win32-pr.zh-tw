---
description: 本主題提供可透過 Windows 影像處理元件 (WIC) 取得之原生 HD 相片編解碼器的相關資訊。
ms.assetid: C73752AB-3D6E-4D92-9FDE-CB68B6A9743C
title: HD 相片格式總覽
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9275abd4b74c7eb4be7673d85bb4eab5f45a163d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "106986948"
---
# <a name="hd-photo-format-overview"></a><span data-ttu-id="093d8-103">HD 相片格式總覽</span><span class="sxs-lookup"><span data-stu-id="093d8-103">HD Photo Format Overview</span></span>

<span data-ttu-id="093d8-104">本主題提供可透過 Windows 影像處理元件 (WIC) 取得之原生 HD 相片編解碼器的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="093d8-104">This topic provides information about the native HD Photo codec available through the Windows Imaging Component (WIC).</span></span>

> [!IMPORTANT]
>
> <span data-ttu-id="093d8-105">HD 相片格式是 JPEG XR 格式的預先標準執行。</span><span class="sxs-lookup"><span data-stu-id="093d8-105">The HD Photo format is a pre-standard implementation of the JPEG XR format.</span></span> <span data-ttu-id="093d8-106">JPEG XR 格式已在 Windows 8 中完全實作為。</span><span class="sxs-lookup"><span data-stu-id="093d8-106">The JPEG XR format has been fully implemented in Windows 8.</span></span> <span data-ttu-id="093d8-107">如需詳細資訊，請參閱 [JPEG XR 編解碼器總覽](jpeg-xr-codec.md) 。</span><span class="sxs-lookup"><span data-stu-id="093d8-107">See the [JPEG XR Codec Overview](jpeg-xr-codec.md) for more information.</span></span>

 

<span data-ttu-id="093d8-108">本主題包含下列各節。</span><span class="sxs-lookup"><span data-stu-id="093d8-108">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="093d8-109">編解碼器身分識別</span><span class="sxs-lookup"><span data-stu-id="093d8-109">Codec Identity</span></span>](#codec-identity)
-   [<span data-ttu-id="093d8-110">編碼方式</span><span class="sxs-lookup"><span data-stu-id="093d8-110">Encoding</span></span>](#encoding)
    -   [<span data-ttu-id="093d8-111">編碼器選項</span><span class="sxs-lookup"><span data-stu-id="093d8-111">Encoder Options</span></span>](#encoder-options)
-   [<span data-ttu-id="093d8-112">解碼</span><span class="sxs-lookup"><span data-stu-id="093d8-112">Decoding</span></span>](#decoding)
    -   [<span data-ttu-id="093d8-113">IWICBitmapSourceTransform 支援</span><span class="sxs-lookup"><span data-stu-id="093d8-113">IWICBitmapSourceTransform Support</span></span>](#iwicbitmapsourcetransform-support)

## <a name="codec-identity"></a><span data-ttu-id="093d8-114">編解碼器身分識別</span><span class="sxs-lookup"><span data-stu-id="093d8-114">Codec Identity</span></span>

<span data-ttu-id="093d8-115">下表提供編解碼器識別資訊。</span><span class="sxs-lookup"><span data-stu-id="093d8-115">The following table provides codec identification information.</span></span>



|                        |                                                                                 |
|------------------------|---------------------------------------------------------------------------------|
| <span data-ttu-id="093d8-116"> (s 的正式名稱) </span><span class="sxs-lookup"><span data-stu-id="093d8-116">Formal Name(s)</span></span>         | <span data-ttu-id="093d8-117">HD 相片、Windows Media 相片</span><span class="sxs-lookup"><span data-stu-id="093d8-117">HD Photo, Windows Media Photo</span></span>                                                   |
| <span data-ttu-id="093d8-118">副檔名 (s) </span><span class="sxs-lookup"><span data-stu-id="093d8-118">File Name Extension(s)</span></span> | <span data-ttu-id="093d8-119">wdp</span><span class="sxs-lookup"><span data-stu-id="093d8-119">wdp</span></span>                                                                             |
| <span data-ttu-id="093d8-120">MIME 類型 (MIME type)</span><span class="sxs-lookup"><span data-stu-id="093d8-120">MIME type</span></span>              | <span data-ttu-id="093d8-121">image/vnd.openxmlformats-officedocument.spreadsheetml.sheet. ms-photo</span><span class="sxs-lookup"><span data-stu-id="093d8-121">image/vnd.ms-photo</span></span>                                                              |
| <span data-ttu-id="093d8-122">檔案簽章 (s) </span><span class="sxs-lookup"><span data-stu-id="093d8-122">File Signature(s)</span></span>      | <span data-ttu-id="093d8-123">前四個位元組： 0x4949bc00 (版本 0;發行前版本) ，0x4949bc01 (1.0 版) </span><span class="sxs-lookup"><span data-stu-id="093d8-123">First four bytes: 0x4949bc00 (Version 0; pre-release), 0x4949bc01 (Version 1.0)</span></span> |



 

<span data-ttu-id="093d8-124">下表列出用來識別原生 HD 相片編解碼器元件的 Guid。</span><span class="sxs-lookup"><span data-stu-id="093d8-124">The following table lists the GUIDs used to identify the native HD Photo codec components.</span></span>



| <span data-ttu-id="093d8-125">元件</span><span class="sxs-lookup"><span data-stu-id="093d8-125">Component</span></span>        | <span data-ttu-id="093d8-126">易記名稱</span><span class="sxs-lookup"><span data-stu-id="093d8-126">Friendly Name</span></span>            | <span data-ttu-id="093d8-127">GUID</span><span class="sxs-lookup"><span data-stu-id="093d8-127">GUID</span></span>                                |
|------------------|--------------------------|-------------------------------------|
| <span data-ttu-id="093d8-128">容器格式</span><span class="sxs-lookup"><span data-stu-id="093d8-128">Container Format</span></span> | <span data-ttu-id="093d8-129">GUID \_ ContainerFormatWmp</span><span class="sxs-lookup"><span data-stu-id="093d8-129">GUID\_ContainerFormatWmp</span></span> | <span data-ttu-id="093d8-130">57a37caa-367a-4540-916bf183c5093a4b</span><span class="sxs-lookup"><span data-stu-id="093d8-130">57a37caa-367a-4540-916bf183c5093a4b</span></span> |
| <span data-ttu-id="093d8-131">解碼器</span><span class="sxs-lookup"><span data-stu-id="093d8-131">Decoder</span></span>          | <span data-ttu-id="093d8-132">CLSID \_ WICWmpDecoder</span><span class="sxs-lookup"><span data-stu-id="093d8-132">CLSID\_WICWmpDecoder</span></span>     | <span data-ttu-id="093d8-133">a26cec36-234c-4950-ae16e34aace71d0d</span><span class="sxs-lookup"><span data-stu-id="093d8-133">a26cec36-234c-4950-ae16e34aace71d0d</span></span> |
| <span data-ttu-id="093d8-134">編碼器</span><span class="sxs-lookup"><span data-stu-id="093d8-134">Encoder</span></span>          | <span data-ttu-id="093d8-135">CLSID \_ WICWmpEncoder</span><span class="sxs-lookup"><span data-stu-id="093d8-135">CLSID\_WICWmpEncoder</span></span>     | <span data-ttu-id="093d8-136">ac4ce3cb-e1c1-44cd-82155a1665509ec2</span><span class="sxs-lookup"><span data-stu-id="093d8-136">ac4ce3cb-e1c1-44cd-82155a1665509ec2</span></span> |



 

## <a name="encoding"></a><span data-ttu-id="093d8-137">編碼</span><span class="sxs-lookup"><span data-stu-id="093d8-137">Encoding</span></span>

<span data-ttu-id="093d8-138">WIC 編碼 API 設計成與編解碼器無關，且已啟用 WIC 的編解碼器影像編碼本質上是相同的。</span><span class="sxs-lookup"><span data-stu-id="093d8-138">The WIC encoding API are designed to be codec-independent and image encoding for WIC-enabled codecs is essentially the same.</span></span> <span data-ttu-id="093d8-139">如需使用 WIC API 進行映射編碼的詳細資訊，請參閱 [編碼總覽](-wic-creating-encoder.md)。</span><span class="sxs-lookup"><span data-stu-id="093d8-139">For more information about image encoding using the WIC API, see the [Encoding Overview](-wic-creating-encoder.md).</span></span>

### <a name="encoder-options"></a><span data-ttu-id="093d8-140">編碼器選項</span><span class="sxs-lookup"><span data-stu-id="093d8-140">Encoder Options</span></span>

<span data-ttu-id="093d8-141">已啟用 WIC 的編解碼器在編碼選項層級不同。</span><span class="sxs-lookup"><span data-stu-id="093d8-141">WIC-enabled codecs differ at the encoding option level.</span></span> <span data-ttu-id="093d8-142">編碼器選項反映影像編碼器的功能，而每個原生編解碼器都支援一組這些編碼器選項。</span><span class="sxs-lookup"><span data-stu-id="093d8-142">Encoder options reflect the capabilities of an image encoder and each native codec supports a set of these encoder options.</span></span> <span data-ttu-id="093d8-143">編碼器選項可以是基本的 WIC 支援選項，可供所有 WIC 啟用的程式碼使用 (但不一定支援) 或由影像格式編解碼器所設計的編解碼器專用選項。</span><span class="sxs-lookup"><span data-stu-id="093d8-143">Encoder options can be basic WIC supported options available to all WIC enabled codes (though not necessarily supported) or codec-specific options designed by the image format codec.</span></span> <span data-ttu-id="093d8-144">為了在編碼過程中管理這些編碼選項，WIC 會使用 [**IPropertyBag2**](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa768192(v=vs.85)) 介面。</span><span class="sxs-lookup"><span data-stu-id="093d8-144">To manage these encoding options during the encoding process, WIC uses the [**IPropertyBag2**](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa768192(v=vs.85)) interface .</span></span> <span data-ttu-id="093d8-145">如需有關使用 **IPropertyBag2** 介面進行 WIC 編碼的詳細資訊，請參閱 [編碼總覽](-wic-creating-encoder.md)。</span><span class="sxs-lookup"><span data-stu-id="093d8-145">For more information about using the **IPropertyBag2** interface for WIC encoding, see the [Encoding Overview](-wic-creating-encoder.md).</span></span>

<span data-ttu-id="093d8-146">HD 相片編解碼器會使用基本的 WIC 選項，並提供數個 HD 相片特定的編碼選項。</span><span class="sxs-lookup"><span data-stu-id="093d8-146">The HD Photo codec uses both basic WIC options and provides several HD Photo specific encoding options.</span></span> <span data-ttu-id="093d8-147">下表列出原生 HD 相片編解碼器所支援的編碼器選項。</span><span class="sxs-lookup"><span data-stu-id="093d8-147">The following table lists the encoder options supported by the native HD Photo codec.</span></span>

<span data-ttu-id="093d8-148">基本 WIC 編碼器選項</span><span class="sxs-lookup"><span data-stu-id="093d8-148">Basic WIC Encoder Options</span></span>

| <span data-ttu-id="093d8-149">屬性名稱</span><span class="sxs-lookup"><span data-stu-id="093d8-149">Property Name</span></span> | <span data-ttu-id="093d8-150">VARTYPE</span><span class="sxs-lookup"><span data-stu-id="093d8-150">VARTYPE</span></span> | <span data-ttu-id="093d8-151">值範圍</span><span class="sxs-lookup"><span data-stu-id="093d8-151">Value Range</span></span> | <span data-ttu-id="093d8-152">預設值</span><span class="sxs-lookup"><span data-stu-id="093d8-152">Default Value</span></span> |
|---------------|---------|-------------|---------------|
| [<span data-ttu-id="093d8-153">ImageQuality</span><span class="sxs-lookup"><span data-stu-id="093d8-153">ImageQuality</span></span>](#imagequality-option) | <span data-ttu-id="093d8-154">VT \_ R4</span><span class="sxs-lookup"><span data-stu-id="093d8-154">VT\_R4</span></span> | <span data-ttu-id="093d8-155">0-1。0</span><span class="sxs-lookup"><span data-stu-id="093d8-155">0 - 1.0</span></span> | <span data-ttu-id="093d8-156">0.9</span><span class="sxs-lookup"><span data-stu-id="093d8-156">0.9</span></span> |
| [<span data-ttu-id="093d8-157">Lossless</span><span class="sxs-lookup"><span data-stu-id="093d8-157">Lossless</span></span>](#lossless-option) | <span data-ttu-id="093d8-158">VT \_ BOOL</span><span class="sxs-lookup"><span data-stu-id="093d8-158">VT\_BOOL</span></span> | <span data-ttu-id="093d8-159">**TRUE**， **FALSE**</span><span class="sxs-lookup"><span data-stu-id="093d8-159">**TRUE**, **FALSE**</span></span> | <span data-ttu-id="093d8-160">**FALSE**</span><span class="sxs-lookup"><span data-stu-id="093d8-160">**FALSE**</span></span> |
| [<span data-ttu-id="093d8-161">BitmapTransform</span><span class="sxs-lookup"><span data-stu-id="093d8-161">BitmapTransform</span></span>](#bitmaptransform-option) | <span data-ttu-id="093d8-162">VT \_ UI1</span><span class="sxs-lookup"><span data-stu-id="093d8-162">VT\_UI1</span></span> | [<span data-ttu-id="093d8-163">**WICBitmapTransformOptions**</span><span class="sxs-lookup"><span data-stu-id="093d8-163">**WICBitmapTransformOptions**</span></span>](/windows/desktop/api/Wincodec/ne-wincodec-wicbitmaptransformoptions) |   [<span data-ttu-id="093d8-164">**WICBitmapTransformRotate0**</span><span class="sxs-lookup"><span data-stu-id="093d8-164">**WICBitmapTransformRotate0**</span></span>](/windows/desktop/api/Wincodec/ne-wincodec-wicbitmaptransformoptions) |

<span data-ttu-id="093d8-165">HD 相片特定編碼器選項</span><span class="sxs-lookup"><span data-stu-id="093d8-165">HD Photo Specific Encoder Options</span></span>

| <span data-ttu-id="093d8-166">屬性名稱</span><span class="sxs-lookup"><span data-stu-id="093d8-166">Property Name</span></span> | <span data-ttu-id="093d8-167">VARTYPE</span><span class="sxs-lookup"><span data-stu-id="093d8-167">VARTYPE</span></span> | <span data-ttu-id="093d8-168">值範圍</span><span class="sxs-lookup"><span data-stu-id="093d8-168">Value Range</span></span> | <span data-ttu-id="093d8-169">預設值</span><span class="sxs-lookup"><span data-stu-id="093d8-169">Default Value</span></span> |
|---------------|---------|-------------|---------------|
| [<span data-ttu-id="093d8-170">UseCodecOptions</span><span class="sxs-lookup"><span data-stu-id="093d8-170">UseCodecOptions</span></span>](#usecodecoptions-option) | <span data-ttu-id="093d8-171">VT \_ BOOL</span><span class="sxs-lookup"><span data-stu-id="093d8-171">VT\_BOOL</span></span> | <span data-ttu-id="093d8-172">**TRUE**， **FALSE**</span><span class="sxs-lookup"><span data-stu-id="093d8-172">**TRUE**, **FALSE**</span></span> | <span data-ttu-id="093d8-173">**FALSE**</span><span class="sxs-lookup"><span data-stu-id="093d8-173">**FALSE**</span></span> |
| [<span data-ttu-id="093d8-174">品質</span><span class="sxs-lookup"><span data-stu-id="093d8-174">Quality</span></span>](#quality-option) | <span data-ttu-id="093d8-175">VT \_ UI1</span><span class="sxs-lookup"><span data-stu-id="093d8-175">VT\_UI1</span></span> | <span data-ttu-id="093d8-176">1 - 255</span><span class="sxs-lookup"><span data-stu-id="093d8-176">1 - 255</span></span> | <span data-ttu-id="093d8-177">10</span><span class="sxs-lookup"><span data-stu-id="093d8-177">10</span></span> |
| [<span data-ttu-id="093d8-178">重疊</span><span class="sxs-lookup"><span data-stu-id="093d8-178">Overlap</span></span>](#overlap-option) | <span data-ttu-id="093d8-179">VT \_ UI1</span><span class="sxs-lookup"><span data-stu-id="093d8-179">VT\_UI1</span></span> | <span data-ttu-id="093d8-180">0 - 2</span><span class="sxs-lookup"><span data-stu-id="093d8-180">0 - 2</span></span> | <span data-ttu-id="093d8-181">1</span><span class="sxs-lookup"><span data-stu-id="093d8-181">1</span></span> |
| [<span data-ttu-id="093d8-182">圖元</span><span class="sxs-lookup"><span data-stu-id="093d8-182">Subsampling</span></span>](#subsampling-option) | <span data-ttu-id="093d8-183">VT \_ UI1</span><span class="sxs-lookup"><span data-stu-id="093d8-183">VT\_UI1</span></span> | <span data-ttu-id="093d8-184">0 - 3</span><span class="sxs-lookup"><span data-stu-id="093d8-184">0 - 3</span></span> | <span data-ttu-id="093d8-185">3如果 ImageQuality > 0.8;否則為 1;</span><span class="sxs-lookup"><span data-stu-id="093d8-185">3 if ImageQuality > 0.8; otherwise 1;</span></span> |
| [<span data-ttu-id="093d8-186">HorizontalTileSlices</span><span class="sxs-lookup"><span data-stu-id="093d8-186">HorizontalTileSlices</span></span>](#horizontaltileslices-verticaltileslices-options) | <span data-ttu-id="093d8-187">VT \_ UI2</span><span class="sxs-lookup"><span data-stu-id="093d8-187">VT\_UI2</span></span> | <span data-ttu-id="093d8-188">0 - 4095</span><span class="sxs-lookup"><span data-stu-id="093d8-188">0 - 4095</span></span> | <span data-ttu-id="093d8-189"> (影像寬度– 1)  >> 8</span><span class="sxs-lookup"><span data-stu-id="093d8-189">(image width – 1) >> 8</span></span> |
| [<span data-ttu-id="093d8-190">VerticalTileSlices</span><span class="sxs-lookup"><span data-stu-id="093d8-190">VerticalTileSlices</span></span>](#horizontaltileslices-verticaltileslices-options) | <span data-ttu-id="093d8-191">VT \_ UI2</span><span class="sxs-lookup"><span data-stu-id="093d8-191">VT\_UI2</span></span> | <span data-ttu-id="093d8-192">0 - 4095</span><span class="sxs-lookup"><span data-stu-id="093d8-192">0 - 4095</span></span> | <span data-ttu-id="093d8-193"> (影像高度– 1)  >> 8</span><span class="sxs-lookup"><span data-stu-id="093d8-193">(image height – 1) >> 8</span></span> |
| [<span data-ttu-id="093d8-194">FrequencyOrder</span><span class="sxs-lookup"><span data-stu-id="093d8-194">FrequencyOrder</span></span>](#frequencyorder-option) | <span data-ttu-id="093d8-195">VT \_ BOOL</span><span class="sxs-lookup"><span data-stu-id="093d8-195">VT\_BOOL</span></span> | <span data-ttu-id="093d8-196">**TRUE**， **FALSE**</span><span class="sxs-lookup"><span data-stu-id="093d8-196">**TRUE**, **FALSE**</span></span> | <span data-ttu-id="093d8-197">**TRUE**</span><span class="sxs-lookup"><span data-stu-id="093d8-197">**TRUE**</span></span> |
| [<span data-ttu-id="093d8-198">InterleavedAlpha</span><span class="sxs-lookup"><span data-stu-id="093d8-198">InterleavedAlpha</span></span>](#interleavedalpha-option) | <span data-ttu-id="093d8-199">VT \_ BOOL</span><span class="sxs-lookup"><span data-stu-id="093d8-199">VT\_BOOL</span></span> | <span data-ttu-id="093d8-200">**TRUE**， **FALSE**</span><span class="sxs-lookup"><span data-stu-id="093d8-200">**TRUE**, **FALSE**</span></span> | <span data-ttu-id="093d8-201">**FALSE**</span><span class="sxs-lookup"><span data-stu-id="093d8-201">**FALSE**</span></span> |
| [<span data-ttu-id="093d8-202">AlphaQuality</span><span class="sxs-lookup"><span data-stu-id="093d8-202">AlphaQuality</span></span>](#alphaquality-option) | <span data-ttu-id="093d8-203">VT \_ UI1</span><span class="sxs-lookup"><span data-stu-id="093d8-203">VT\_UI1</span></span> | <span data-ttu-id="093d8-204">1 - 255</span><span class="sxs-lookup"><span data-stu-id="093d8-204">1 - 255</span></span> | <span data-ttu-id="093d8-205">1</span><span class="sxs-lookup"><span data-stu-id="093d8-205">1</span></span> |
| [<span data-ttu-id="093d8-206">CompressedDomainTranscode</span><span class="sxs-lookup"><span data-stu-id="093d8-206">CompressedDomainTranscode</span></span>](#compresseddomaintranscode-option) | <span data-ttu-id="093d8-207">VT \_ BOOL</span><span class="sxs-lookup"><span data-stu-id="093d8-207">VT\_BOOL</span></span> | <span data-ttu-id="093d8-208">**TRUE**， **FALSE**</span><span class="sxs-lookup"><span data-stu-id="093d8-208">**TRUE**, **FALSE**</span></span> | <span data-ttu-id="093d8-209">**TRUE**</span><span class="sxs-lookup"><span data-stu-id="093d8-209">**TRUE**</span></span> |
| [<span data-ttu-id="093d8-210">ImageDataDiscard</span><span class="sxs-lookup"><span data-stu-id="093d8-210">ImageDataDiscard</span></span>](#imagedatadiscard-option) | <span data-ttu-id="093d8-211">VT \_ UI1</span><span class="sxs-lookup"><span data-stu-id="093d8-211">VT\_UI1</span></span> | <span data-ttu-id="093d8-212">0 - 3</span><span class="sxs-lookup"><span data-stu-id="093d8-212">0 - 3</span></span> | <span data-ttu-id="093d8-213">0</span><span class="sxs-lookup"><span data-stu-id="093d8-213">0</span></span> |
| [<span data-ttu-id="093d8-214">AlphaDataDiscard</span><span class="sxs-lookup"><span data-stu-id="093d8-214">AlphaDataDiscard</span></span>](#alphadatadiscard-option) | <span data-ttu-id="093d8-215">VT \_ UI1</span><span class="sxs-lookup"><span data-stu-id="093d8-215">VT\_UI1</span></span> | <span data-ttu-id="093d8-216">0 - 4</span><span class="sxs-lookup"><span data-stu-id="093d8-216">0 - 4</span></span> | <span data-ttu-id="093d8-217">未使用。</span><span class="sxs-lookup"><span data-stu-id="093d8-217">Not Used.</span></span> |
| [<span data-ttu-id="093d8-218">IgnoreOverlap</span><span class="sxs-lookup"><span data-stu-id="093d8-218">IgnoreOverlap</span></span>](#ignoreoverlap-option) | <span data-ttu-id="093d8-219">VT \_ BOOL</span><span class="sxs-lookup"><span data-stu-id="093d8-219">VT\_BOOL</span></span> | <span data-ttu-id="093d8-220">**TRUE**， **FALSE**</span><span class="sxs-lookup"><span data-stu-id="093d8-220">**TRUE**, **FALSE**</span></span> | <span data-ttu-id="093d8-221">**FALSE**</span><span class="sxs-lookup"><span data-stu-id="093d8-221">**FALSE**</span></span> |


<span data-ttu-id="093d8-222">如果編碼器選項存在於編解碼器不支援的 [**IPropertyBag2**](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa768192(v=vs.85)) 選項清單中，則會予以忽略。</span><span class="sxs-lookup"><span data-stu-id="093d8-222">If an encoder option is present in the [**IPropertyBag2**](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa768192(v=vs.85)) option list that the codec does not support, it is ignored.</span></span>

### <a name="imagequality-option"></a><span data-ttu-id="093d8-223">ImageQuality 選項</span><span class="sxs-lookup"><span data-stu-id="093d8-223">ImageQuality Option</span></span>

<span data-ttu-id="093d8-224">指定所需的影像精確度。</span><span class="sxs-lookup"><span data-stu-id="093d8-224">Specifies the desired image fidelity.</span></span> <span data-ttu-id="093d8-225">0.0 表示可能的精確度最低，而1.0 指定最高的精確度。</span><span class="sxs-lookup"><span data-stu-id="093d8-225">0.0 indicates the lowest possible fidelity and 1.0 specifies the highest fidelity.</span></span> <span data-ttu-id="093d8-226">針對 HD 相片影像格式，1.0 值會導致數學不失真的壓縮。</span><span class="sxs-lookup"><span data-stu-id="093d8-226">For the HD Photo image format, a 1.0 value results in a mathematically lossless compression.</span></span>

<span data-ttu-id="093d8-227">預設值為0.9。</span><span class="sxs-lookup"><span data-stu-id="093d8-227">The default value is 0.9.</span></span>

### <a name="compressionquality-option"></a><span data-ttu-id="093d8-228">CompressionQuality 選項</span><span class="sxs-lookup"><span data-stu-id="093d8-228">CompressionQuality Option</span></span>

<span data-ttu-id="093d8-229">指定所需的壓縮品質。</span><span class="sxs-lookup"><span data-stu-id="093d8-229">Specifies the desired compression quality.</span></span> <span data-ttu-id="093d8-230">0.0 表示有效的壓縮架構可用。</span><span class="sxs-lookup"><span data-stu-id="093d8-230">0.0 indicates the efficient compression schema available.</span></span> <span data-ttu-id="093d8-231">一般而言，此架構會產生更快速的編碼，但較大的輸出。</span><span class="sxs-lookup"><span data-stu-id="093d8-231">Typically, this schema produces a faster encode but larger output.</span></span> <span data-ttu-id="093d8-232">值為1.0 時，可指定最有效率的壓縮架構，這通常會產生較長的編碼，但輸出較小。</span><span class="sxs-lookup"><span data-stu-id="093d8-232">A value of 1.0 specifies the most efficient compression schema available, which typically produces a longer encode but a smaller output.</span></span>

<span data-ttu-id="093d8-233">HD 相片不支援此編碼器選項。</span><span class="sxs-lookup"><span data-stu-id="093d8-233">HD Photo does not support this encoder option.</span></span> <span data-ttu-id="093d8-234">如果存在於 [**IPropertyBag2**](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa768192(v=vs.85)) 參數清單中，則會忽略此值。</span><span class="sxs-lookup"><span data-stu-id="093d8-234">This value is ignored if present in the [**IPropertyBag2**](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa768192(v=vs.85)) parameter list.</span></span>

### <a name="lossless-option"></a><span data-ttu-id="093d8-235">無損選項</span><span class="sxs-lookup"><span data-stu-id="093d8-235">Lossless Option</span></span>

<span data-ttu-id="093d8-236">指定是否使用遺失壓縮模式。</span><span class="sxs-lookup"><span data-stu-id="093d8-236">Specifies whether to use losses compression mode.</span></span> <span data-ttu-id="093d8-237">針對 HD 相片影像格式，此值會覆寫 [ImageQuality](#imagequality-option) 選項值。</span><span class="sxs-lookup"><span data-stu-id="093d8-237">For the HD Photo image format, this value overrides the [ImageQuality](#imagequality-option) option value.</span></span>

<span data-ttu-id="093d8-238">預設值為 **FALSE**。</span><span class="sxs-lookup"><span data-stu-id="093d8-238">The default value is **FALSE**.</span></span>

### <a name="bitmaptransform-option"></a><span data-ttu-id="093d8-239">BitmapTransform 選項</span><span class="sxs-lookup"><span data-stu-id="093d8-239">BitmapTransform Option</span></span>

<span data-ttu-id="093d8-240">指定影像解碼期間影像的轉換方式。</span><span class="sxs-lookup"><span data-stu-id="093d8-240">Specifies how the image is transformed during image decoding.</span></span> <span data-ttu-id="093d8-241">您必須將此選項設定為其中一個 [**WICBitmapTransformOptions**](/windows/desktop/api/Wincodec/ne-wincodec-wicbitmaptransformoptions) 列舉值。</span><span class="sxs-lookup"><span data-stu-id="093d8-241">You must set this option to one of the [**WICBitmapTransformOptions**](/windows/desktop/api/Wincodec/ne-wincodec-wicbitmaptransformoptions) enumeration values.</span></span>

<span data-ttu-id="093d8-242">預設值為 [**WICBitmapTransformOptions：： WICBitmapTransformRotate0**](/windows/desktop/api/Wincodec/ne-wincodec-wicbitmaptransformoptions)。</span><span class="sxs-lookup"><span data-stu-id="093d8-242">The default value is [**WICBitmapTransformOptions::WICBitmapTransformRotate0**](/windows/desktop/api/Wincodec/ne-wincodec-wicbitmaptransformoptions).</span></span>

### <a name="usecodecoptions-option"></a><span data-ttu-id="093d8-243">UseCodecOptions 選項</span><span class="sxs-lookup"><span data-stu-id="093d8-243">UseCodecOptions Option</span></span>

<span data-ttu-id="093d8-244">如果值為 VARIANT \_ ，則為 [品質](#quality-option)、 [重迭](#overlap-option)和次 [取樣](#subsampling-option) 選項，而不是選項值。</span><span class="sxs-lookup"><span data-stu-id="093d8-244">If the value is VARIANT\_TRUE the [Quality](#quality-option), [Overlap](#overlap-option), and [Subsampling](#subsampling-option) options instead of the option value.</span></span>

<span data-ttu-id="093d8-245">預設值為 **FALSE**。</span><span class="sxs-lookup"><span data-stu-id="093d8-245">The default value is **FALSE**.</span></span>

### <a name="quality-option"></a><span data-ttu-id="093d8-246">品質選項</span><span class="sxs-lookup"><span data-stu-id="093d8-246">Quality Option</span></span>

<span data-ttu-id="093d8-247">指定影像的壓縮品質。</span><span class="sxs-lookup"><span data-stu-id="093d8-247">Specifies the compression quality for the image.</span></span> <span data-ttu-id="093d8-248">值為1表示無失真模式。</span><span class="sxs-lookup"><span data-stu-id="093d8-248">A value of 1 indicates lossless mode.</span></span> <span data-ttu-id="093d8-249">增加值會產生較高的壓縮比例和較低的影像品質。</span><span class="sxs-lookup"><span data-stu-id="093d8-249">Increasing values result in higher compression ratios and lower image quality.</span></span>

<span data-ttu-id="093d8-250">預設值是 10。</span><span class="sxs-lookup"><span data-stu-id="093d8-250">The default value is 10.</span></span>

### <a name="overlap-option"></a><span data-ttu-id="093d8-251">重迭選項</span><span class="sxs-lookup"><span data-stu-id="093d8-251">Overlap Option</span></span>

<span data-ttu-id="093d8-252">指定重迭處理的層級。</span><span class="sxs-lookup"><span data-stu-id="093d8-252">Specifies the level of overlap processing.</span></span>

<span data-ttu-id="093d8-253">下表列出可用的重迭處理層級。</span><span class="sxs-lookup"><span data-stu-id="093d8-253">The following table lists the available overlap processing levels.</span></span>



| <span data-ttu-id="093d8-254">值</span><span class="sxs-lookup"><span data-stu-id="093d8-254">Value</span></span> | <span data-ttu-id="093d8-255">描述</span><span class="sxs-lookup"><span data-stu-id="093d8-255">Description</span></span>                                                                                                                                                                                 |
|-------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="093d8-256">0</span><span class="sxs-lookup"><span data-stu-id="093d8-256">0</span></span>     | <span data-ttu-id="093d8-257">未啟用重疊處理。</span><span class="sxs-lookup"><span data-stu-id="093d8-257">No overlap processing is enabled.</span></span>                                                                                                                                                           |
| <span data-ttu-id="093d8-258">1</span><span class="sxs-lookup"><span data-stu-id="093d8-258">1</span></span>     | <span data-ttu-id="093d8-259">已啟用一個重迭處理層級，根據相鄰區塊的值修改4x4 區塊編碼值。</span><span class="sxs-lookup"><span data-stu-id="093d8-259">One level of overlap processing is enabled, modifying 4x4 block encoded values based on values of neighboring blocks.</span></span>                                                                       |
| <span data-ttu-id="093d8-260">2</span><span class="sxs-lookup"><span data-stu-id="093d8-260">2</span></span>     | <span data-ttu-id="093d8-261">啟用兩個等級的重疊處理。</span><span class="sxs-lookup"><span data-stu-id="093d8-261">Two levels of overlap processing are enabled.</span></span> <span data-ttu-id="093d8-262">除了第一個層級處理之外，也會根據相鄰宏區塊的值修改16x16 宏區塊的編碼值。</span><span class="sxs-lookup"><span data-stu-id="093d8-262">In addition to the first level processing, encoded values of 16x16 macro blocks are modified based on the values of neighboring macro blocks.</span></span> |



 

<span data-ttu-id="093d8-263">預設值為 1。</span><span class="sxs-lookup"><span data-stu-id="093d8-263">The default value is 1.</span></span>

### <a name="subsampling-option"></a><span data-ttu-id="093d8-264">次取樣選項</span><span class="sxs-lookup"><span data-stu-id="093d8-264">Subsampling Option</span></span>

<span data-ttu-id="093d8-265">指定色度空間中的額外壓縮。</span><span class="sxs-lookup"><span data-stu-id="093d8-265">Specifies additional compression in the chroma space.</span></span> <span data-ttu-id="093d8-266">如此一來，您就可以保留亮度詳細資料，同時保有色彩詳細資料的費用。</span><span class="sxs-lookup"><span data-stu-id="093d8-266">In this way, you can preserve luminance detail at the expense of color detail .</span></span> <span data-ttu-id="093d8-267">此選項只適用于 RGB 影像。</span><span class="sxs-lookup"><span data-stu-id="093d8-267">This option applies only to RGB images.</span></span>

<span data-ttu-id="093d8-268">下表列出可用的次取樣選項。</span><span class="sxs-lookup"><span data-stu-id="093d8-268">The following table lists the available subsampling options.</span></span>



| <span data-ttu-id="093d8-269">值</span><span class="sxs-lookup"><span data-stu-id="093d8-269">Value</span></span> | <span data-ttu-id="093d8-270">描述</span><span class="sxs-lookup"><span data-stu-id="093d8-270">Description</span></span>                                                                                                                                                                                                                                                                                 |
|-------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="093d8-271">3</span><span class="sxs-lookup"><span data-stu-id="093d8-271">3</span></span>     | <span data-ttu-id="093d8-272">4:4:4 編碼會保留完整的色度解析度。</span><span class="sxs-lookup"><span data-stu-id="093d8-272">4:4:4 encoding preserves full chroma resolution.</span></span>                                                                                                                                                                                                                                            |
| <span data-ttu-id="093d8-273">2</span><span class="sxs-lookup"><span data-stu-id="093d8-273">2</span></span>     | <span data-ttu-id="093d8-274">4:2:2 編碼可將色度解析度減少為1/2 的亮度解析度。</span><span class="sxs-lookup"><span data-stu-id="093d8-274">4:2:2 encoding reduces chroma resolution to ½ of luminance resolution.</span></span>                                                                                                                                                                                                                      |
| <span data-ttu-id="093d8-275">1</span><span class="sxs-lookup"><span data-stu-id="093d8-275">1</span></span>     | <span data-ttu-id="093d8-276">4:2:0 編碼可將色度解析度減少為1/4 的亮度解析度。</span><span class="sxs-lookup"><span data-stu-id="093d8-276">4:2:0 encoding reduces chroma resolution to ¼ of luminance resolution.</span></span>                                                                                                                                                                                                                      |
| <span data-ttu-id="093d8-277">0</span><span class="sxs-lookup"><span data-stu-id="093d8-277">0</span></span>     | <span data-ttu-id="093d8-278">4:0:0 編碼會捨棄所有的色度內容，而且只會保留亮度。</span><span class="sxs-lookup"><span data-stu-id="093d8-278">4:0:0 encoding discards all chroma content, and preserves luminance only.</span></span> <span data-ttu-id="093d8-279">由於編解碼器會使用稍微修改的亮度定義來改善效能，因此我們建議您在編碼之前將 RGB 影像轉換成單色，而不是使用這個色度的取樣模式。</span><span class="sxs-lookup"><span data-stu-id="093d8-279">Because the codec uses a slightly modified definition of luminance to improve performance, we recommend that you convert an RGB image to monochrome before encoding rather than use this chroma subsampling mode.</span></span> |



 

<span data-ttu-id="093d8-280">如果 [ImageQuality](#imagequality-option) > 0.8;，預設值為3。否則為1。</span><span class="sxs-lookup"><span data-stu-id="093d8-280">The default value is 3 if [ImageQuality](#imagequality-option) > 0.8; otherwise 1.</span></span>

### <a name="horizontaltileslices-verticaltileslices-options"></a><span data-ttu-id="093d8-281">HorizontalTileSlices，VerticalTileSlices 選項</span><span class="sxs-lookup"><span data-stu-id="093d8-281">HorizontalTileSlices, VerticalTileSlices Options</span></span>

<span data-ttu-id="093d8-282">請先指定影像的水準和垂直並排圖，然後再執行壓縮編碼，以取得區域解碼的最佳效能。</span><span class="sxs-lookup"><span data-stu-id="093d8-282">Specify the horizontal and vertical tiling of the image before you perform compression encoding for the optimal performance of region decode .</span></span> <span data-ttu-id="093d8-283">藉由在編碼期間將影像分割成矩形磚，您就可以將影像的區域解碼，而不需要處理整個壓縮的資料流程。</span><span class="sxs-lookup"><span data-stu-id="093d8-283">By dividing the image into rectangular tiles during encoding you can decode regions of the image without processing the entire compressed data stream.</span></span> <span data-ttu-id="093d8-284">預設值0不會指定任何細分，因此整個影像會被視為單一磚。</span><span class="sxs-lookup"><span data-stu-id="093d8-284">The default value of 0 specifies no subdivision, so the entire image is treated as a single tile.</span></span> <span data-ttu-id="093d8-285">每個參數的值為1時，會建立單一水準和單一垂直分割，將影像有效地分成四個大小相同的磚。</span><span class="sxs-lookup"><span data-stu-id="093d8-285">A value of 1 for each parameter creates a single horizontal and a single vertical division, effectively dividing the image into four equally sized tiles.</span></span> <span data-ttu-id="093d8-286">每個參數的最大值4095會將影像分成4096個磚的資料列，每個資料列都有4096個磚。</span><span class="sxs-lookup"><span data-stu-id="093d8-286">The maximum value of 4095 for each parameter divides the image into 4096 tile rows with 4096 tiles per row.</span></span> <span data-ttu-id="093d8-287">換句話說，參數值等於水準和垂直磚的數目 (分別) 減1。</span><span class="sxs-lookup"><span data-stu-id="093d8-287">In other words, the parameter values equal the number of horizontal and vertical tiles (respectively) minus 1.</span></span> <span data-ttu-id="093d8-288">磚的寬度或高度絕不能小於16圖元，因此 HD 相片編碼器可能會調整此參數，以維持所需的最小磚大小。</span><span class="sxs-lookup"><span data-stu-id="093d8-288">A tile can never be smaller than 16 pixels in width or height, so the HD Photo encoder might adjust this parameter to maintain the required minimum tile size.</span></span> <span data-ttu-id="093d8-289">因為每個磚都有相關聯的儲存和處理額外負荷，所以您應該小心選擇這些值來符合特定案例。</span><span class="sxs-lookup"><span data-stu-id="093d8-289">Because there is storage and processing overhead associated with each tile, you should choose these values carefully to meet the specific scenario.</span></span>

<span data-ttu-id="093d8-290">[HorizontalTileSlices](/windows)：預設值是 (影像寬度– 1)  >> 8。</span><span class="sxs-lookup"><span data-stu-id="093d8-290">[HorizontalTileSlices](/windows): The default value is (Image Width – 1) >> 8.</span></span>

<span data-ttu-id="093d8-291">[VerticalTileSlices](/windows)：預設值是 (影像高度-1)  >> 8。</span><span class="sxs-lookup"><span data-stu-id="093d8-291">[VerticalTileSlices](/windows): The default value is (Image Height – 1) >> 8.</span></span>

### <a name="frequencyorder-option"></a><span data-ttu-id="093d8-292">FrequencyOrder 選項</span><span class="sxs-lookup"><span data-stu-id="093d8-292">FrequencyOrder Option</span></span>

<span data-ttu-id="093d8-293">指定映射必須以頻率順序編碼。</span><span class="sxs-lookup"><span data-stu-id="093d8-293">Specifies that the image must be encoded in frequency order.</span></span> <span data-ttu-id="093d8-294">頻率最低的資料會先出現在檔案中，而影像內容會依其頻率（而非其空間方向）來分組。</span><span class="sxs-lookup"><span data-stu-id="093d8-294">The lowest frequency data appears first in the file, and image content is grouped by its frequency rather than its spatial orientation.</span></span> <span data-ttu-id="093d8-295">依頻率順序組織檔案，可為任何以頻率為基礎的解碼提供最佳效能，因此我們建議您這樣做。</span><span class="sxs-lookup"><span data-stu-id="093d8-295">Organizing a file by frequency order provides the best performance for any frequency-based decoding, and therefore we recommend it.</span></span> <span data-ttu-id="093d8-296">HD 相片編碼器的裝置執行可依空間順序組織檔案，以減少編碼期間所需的記憶體使用量。</span><span class="sxs-lookup"><span data-stu-id="093d8-296">Device implementations of HD Photo encoders can organize a file in spatial order to reduce the memory footprint required during encoding.</span></span>

<span data-ttu-id="093d8-297">預設值為 **TRUE** ，建議應用程式和裝置一律使用頻率順序，除非您有使用空間順序的效能或應用程式特定的原因。</span><span class="sxs-lookup"><span data-stu-id="093d8-297">The default value is **TRUE** and we recommend that applications and devices always use frequency order unless you have performance or application-specific reasons to use spatial order.</span></span>

### <a name="interleavedalpha-option"></a><span data-ttu-id="093d8-298">InterleavedAlpha 選項</span><span class="sxs-lookup"><span data-stu-id="093d8-298">InterleavedAlpha Option</span></span>

<span data-ttu-id="093d8-299">將此選項設定為 **TRUE** ，會指示編解碼器將 Alpha 通道資訊編碼為額外的交錯通道，而不會與影像內容通道產生相互關聯。</span><span class="sxs-lookup"><span data-stu-id="093d8-299">Setting this option to **TRUE** instructs the codec to encode the alpha channel information as an additional interleaved channel, with no correlation to the image content channels.</span></span> <span data-ttu-id="093d8-300">當您需要在串流處理案例中使用影像將 Alpha 同時解碼時，此模式非常有用。</span><span class="sxs-lookup"><span data-stu-id="093d8-300">This mode is useful when you need to decode alpha simultaneously with the image in a streaming scenario.</span></span>

<span data-ttu-id="093d8-301">將此參數設定為 **FALSE** 會導致平面 Alpha 色板，並以其本身選用的品質值編碼為個別的影像。</span><span class="sxs-lookup"><span data-stu-id="093d8-301">Setting this parameter to **FALSE** results in a planar alpha channel, encoded as a separate image with its own optional Quality value.</span></span> <span data-ttu-id="093d8-302">您可以使用平面 Alpha 通道，將影像資料和 Alpha 通道分開地解碼。</span><span class="sxs-lookup"><span data-stu-id="093d8-302">By using a Planar alpha channel you can decode the image data and the alpha channel independently.</span></span> <span data-ttu-id="093d8-303">只有特定 RGB 像素格式支援交錯的 Alpha 通道。</span><span class="sxs-lookup"><span data-stu-id="093d8-303">Interleaved alpha channels are supported only for certain RGB pixel formats.</span></span> <span data-ttu-id="093d8-304">您可以將平面 Alpha 通道與定義 Alpha 色板的任何影像格式產生關聯。</span><span class="sxs-lookup"><span data-stu-id="093d8-304">You can associate a Planar alpha channel with any image format that defines an alpha channel.</span></span>

<span data-ttu-id="093d8-305">預設值為 **FALSE**。</span><span class="sxs-lookup"><span data-stu-id="093d8-305">The default value is **FALSE**.</span></span>

### <a name="alphaquality-option"></a><span data-ttu-id="093d8-306">AlphaQuality 選項</span><span class="sxs-lookup"><span data-stu-id="093d8-306">AlphaQuality Option</span></span>

<span data-ttu-id="093d8-307">指定平面 Alpha 通道影像的壓縮品質。</span><span class="sxs-lookup"><span data-stu-id="093d8-307">Specifies the compression quality for the planar alpha channel image.</span></span> <span data-ttu-id="093d8-308">值為1時，會設定不失真模式。</span><span class="sxs-lookup"><span data-stu-id="093d8-308">A value of 1 sets lossless mode.</span></span> <span data-ttu-id="093d8-309">增加值會產生較高的壓縮比例和較低的影像品質。</span><span class="sxs-lookup"><span data-stu-id="093d8-309">Increasing values result in higher compression ratios and lower image quality.</span></span>

<span data-ttu-id="093d8-310">預設值為 1。</span><span class="sxs-lookup"><span data-stu-id="093d8-310">The default value is 1.</span></span>

### <a name="compresseddomaintranscode-option"></a><span data-ttu-id="093d8-311">CompressedDomainTranscode 選項</span><span class="sxs-lookup"><span data-stu-id="093d8-311">CompressedDomainTranscode Option</span></span>

<span data-ttu-id="093d8-312">您可以使用 HD 相片執行一些檔案轉換作業，而不需要實際解碼壓縮的資料，並將其重新編碼至目的地檔案。</span><span class="sxs-lookup"><span data-stu-id="093d8-312">By using HD Photo you can perform a number of file transformation operations without actually decoding the compressed data and re-encoding it to the destination file.</span></span> <span data-ttu-id="093d8-313">壓縮的網域作業非常有效率，而且可避免在您將損及重新編碼已壓縮的影像時，通常會發生的任何額外品質損失。</span><span class="sxs-lookup"><span data-stu-id="093d8-313">Compressed domain operations are very efficient and avoid any additional quality loss that is typical when you decode and re-encode a lossy-compressed image.</span></span>

<span data-ttu-id="093d8-314">以下是支援的壓縮網域作業：</span><span class="sxs-lookup"><span data-stu-id="093d8-314">The following compressed domain operations are supported:</span></span>

-   <span data-ttu-id="093d8-315">裁剪影像的區域。</span><span class="sxs-lookup"><span data-stu-id="093d8-315">Crop a region of the image.</span></span>
-   <span data-ttu-id="093d8-316">執行旋轉/翻轉轉換。</span><span class="sxs-lookup"><span data-stu-id="093d8-316">Perform a rotation/flip transformation.</span></span>
-   <span data-ttu-id="093d8-317">捨棄頻率資料 (使其可以建立較小的影像檔案。 ) </span><span class="sxs-lookup"><span data-stu-id="093d8-317">Discard frequency data (making it possible to create a smaller image file.)</span></span>
-   <span data-ttu-id="093d8-318">重新組織空間與頻率順序之間的影像。</span><span class="sxs-lookup"><span data-stu-id="093d8-318">Reorganize the image between spatial and frequency sequential order.</span></span>

<span data-ttu-id="093d8-319">HD 相片編碼器會在將 HD 相片解碼編碼為影像來源時，執行壓縮的網域轉碼操作。</span><span class="sxs-lookup"><span data-stu-id="093d8-319">The HD Photo encoder performs a compressed domain transcode operation when it encodes an HD Photo image by using an HD Photo decoder as the image source.</span></span> <span data-ttu-id="093d8-320">根據您選取的編碼選項，編解碼器會盡可能使用壓縮的網域作業。</span><span class="sxs-lookup"><span data-stu-id="093d8-320">Depending on the encoding options you selected, the codec uses a compressed domain operation if possible.</span></span> <span data-ttu-id="093d8-321">如果應用程式選擇明確抑制任何壓縮的網域轉碼作業，您應該將 *UseCodecOptions* 選項設定為 **TRUE** ，並將 *CompressedDomainTranscode* 選項設定為 **FALSE**。</span><span class="sxs-lookup"><span data-stu-id="093d8-321">If an application chooses to explicitly inhibit any compressed domain transcode operations, you should set the *UseCodecOptions* option to **TRUE** and the *CompressedDomainTranscode* option to **FALSE**.</span></span>

<span data-ttu-id="093d8-322">當編解碼器執行壓縮的網域作業時，只允許特定的編碼器參數和屬性設定。</span><span class="sxs-lookup"><span data-stu-id="093d8-322">When the codec performs a compressed domain operation, only certain encoder parameter and property settings are allowed.</span></span>

-   <span data-ttu-id="093d8-323">系統會忽略基本編碼器選項 [ImageQuality](#imagequality-option)、 [CompressionQuality](/windows) 和 [無損](#lossless-option) 。</span><span class="sxs-lookup"><span data-stu-id="093d8-323">The basic encoder options [ImageQuality](#imagequality-option), [CompressionQuality](/windows) and [Lossless](#lossless-option) are ignored.</span></span>
-   <span data-ttu-id="093d8-324">HD 相片特定編碼器選項的 [品質](#quality-option)、重 [迭](#overlap-option)、 [InterleavedAlpha](#interleavedalpha-option) 和 [AlphaQuality](#alphaquality-option) 都會被忽略。</span><span class="sxs-lookup"><span data-stu-id="093d8-324">The HD Photo-specific encoder options [Quality](#quality-option), [Overlap](#overlap-option), [InterleavedAlpha](#interleavedalpha-option) and [AlphaQuality](#alphaquality-option) are ignored.</span></span>
-   <span data-ttu-id="093d8-325">如果有的話， [HorizontalTileSlices](/windows) 和 [VerticalTileSlices](/windows) 選項必須設為零。</span><span class="sxs-lookup"><span data-stu-id="093d8-325">If present, the [HorizontalTileSlices](/windows) and [VerticalTileSlices](/windows) options must be set to zero.</span></span> <span data-ttu-id="093d8-326">在壓縮的網域轉碼中，無法變更影像的磚大小。</span><span class="sxs-lookup"><span data-stu-id="093d8-326">The tile size of an image cannot be changed as part of a compressed domain transcode.</span></span>
-   <span data-ttu-id="093d8-327">您可以藉由指定適當的 [FrequencyOrdering](/windows) 選項值，在頻率和空間排序之間變更影像組織。</span><span class="sxs-lookup"><span data-stu-id="093d8-327">You can change the image organization between frequency and spatial ordering by specifying the appropriate value of the [FrequencyOrdering](/windows) options.</span></span>
-   <span data-ttu-id="093d8-328">您可以根據在 [BitmapTransform](#bitmaptransform-option) 編碼器選項中指定的值來執行基準旋轉和/或水準/垂直翻轉作業。</span><span class="sxs-lookup"><span data-stu-id="093d8-328">A cardinal rotation and/or horizontal/vertical flip operation can be performed based on the value specified in the [BitmapTransform](#bitmaptransform-option) encoder option.</span></span>
-   <span data-ttu-id="093d8-329">您可以使用 **WriteSource** 編碼器方法的 [**WICRect**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapframeencode-writesource)參數來指定所需的區域，以裁剪影像。</span><span class="sxs-lookup"><span data-stu-id="093d8-329">The image can be cropped by specifying the desired region using the [**WICRect**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapframeencode-writesource) parameter of the **WriteSource** encoder method.</span></span>
-   <span data-ttu-id="093d8-330">您可以藉由在 [ImageDataDiscard](#imagedatadiscard-option) 和/或 [AlphaDataDiscard](#alphadatadiscard-option) 選項中指定適當的值來捨棄影像和/或 Alpha 資料，以減少編碼的檔案大小，並有效減少新映射的解析度。</span><span class="sxs-lookup"><span data-stu-id="093d8-330">Image and/or alpha data can be discarded by specifying the appropriate values in the [ImageDataDiscard](#imagedatadiscard-option) and/or [AlphaDataDiscard](#alphadatadiscard-option) options, reducing the encoded file size and effectively reducing the resolution of the new image.</span></span>

<span data-ttu-id="093d8-331">預設值為 **TRUE** ，建議應用程式和裝置一律使用頻率順序，除非您有特定的效能或應用程式理由使用空間順序。</span><span class="sxs-lookup"><span data-stu-id="093d8-331">The default value is **TRUE** and we recommend that applications and devices always use the frequency order unless you have specific performance or application reasons to use the spatial order.</span></span>

### <a name="imagedatadiscard-option"></a><span data-ttu-id="093d8-332">ImageDataDiscard 選項</span><span class="sxs-lookup"><span data-stu-id="093d8-332">ImageDataDiscard Option</span></span>

<span data-ttu-id="093d8-333">只有當 [CompressedDomainTranscode](#compresseddomaintranscode-option) 選項為 **TRUE** 時，此參數才有效。否則會予以忽略。</span><span class="sxs-lookup"><span data-stu-id="093d8-333">This parameter is valid only if the [CompressedDomainTranscode](#compresseddomaintranscode-option) option is **TRUE**; otherwise it is ignored.</span></span> <span data-ttu-id="093d8-334">[ImageDataDiscard](#imagedatadiscard-option) 指定壓縮的網域轉碼期間要捨棄的影像資料量。</span><span class="sxs-lookup"><span data-stu-id="093d8-334">[ImageDataDiscard](#imagedatadiscard-option) specifies the amount of image data to discard during a compressed domain transcode.</span></span> <span data-ttu-id="093d8-335">如果影像包含交錯的 Alpha 色板，此資料捨棄也會套用至 Alpha 通道，如本節稍後所述的例外狀況。</span><span class="sxs-lookup"><span data-stu-id="093d8-335">If the image contains an interleaved alpha channel, this data discard applies also to the alpha channel, with the exceptions as described later in this section.</span></span>

<span data-ttu-id="093d8-336">允許使用下列值。</span><span class="sxs-lookup"><span data-stu-id="093d8-336">The following values are allowed.</span></span>



| <span data-ttu-id="093d8-337">值</span><span class="sxs-lookup"><span data-stu-id="093d8-337">Value</span></span> | <span data-ttu-id="093d8-338">描述</span><span class="sxs-lookup"><span data-stu-id="093d8-338">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="093d8-339">0</span><span class="sxs-lookup"><span data-stu-id="093d8-339">0</span></span>     | <span data-ttu-id="093d8-340">不捨棄影像頻率資料。</span><span class="sxs-lookup"><span data-stu-id="093d8-340">No image frequency data is discarded.</span></span>                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="093d8-341">1</span><span class="sxs-lookup"><span data-stu-id="093d8-341">1</span></span>     | <span data-ttu-id="093d8-342">FlexBits 會遭到捨棄，因此可任意減少轉碼影像的品質，而不會變更影像的有效解析度。</span><span class="sxs-lookup"><span data-stu-id="093d8-342">The FlexBits are discarded, making an arbitrary reduction of the quality of the transcoded image without changing the effective resolution of the image.</span></span> <span data-ttu-id="093d8-343">確切的檔案大小縮減或特定品質降低取決於許多因素，而且無法指定或預測。</span><span class="sxs-lookup"><span data-stu-id="093d8-343">The exact file size reduction or the specific quality reduction depends on numerous factors and cannot be specified or predicted.</span></span> <span data-ttu-id="093d8-344">如果您將它指定為交錯 Alpha 通道，這會 valuereturns 錯誤。</span><span class="sxs-lookup"><span data-stu-id="093d8-344">This valuereturns an error if you specify it for an interleaved alpha channel.</span></span>                                                    |
| <span data-ttu-id="093d8-345">2</span><span class="sxs-lookup"><span data-stu-id="093d8-345">2</span></span>     | <span data-ttu-id="093d8-346">高通頻率資料區會被捨棄 (其中也包括 FlexBits) ，可有效地減少轉碼映射的解析度（以四個維度中的4因數為4）。</span><span class="sxs-lookup"><span data-stu-id="093d8-346">The HighPass frequency data band is discarded (which also includes the FlexBits), effectively reducing the resolution of the transcoded image by a factor of 4 in both dimensions.</span></span> <span data-ttu-id="093d8-347">轉碼影像的實際維度會維持不變，但會失去每個4x4 圖元區塊中的所有詳細資料。</span><span class="sxs-lookup"><span data-stu-id="093d8-347">The actual dimensions of the transcoded image remain the same, but it loses all detail in each 4x4 block of pixels.</span></span> <span data-ttu-id="093d8-348">因此，您應該在將轉碼影像解碼時，據以進行下取樣。</span><span class="sxs-lookup"><span data-stu-id="093d8-348">Therefore, you should down-sample the transcoded image accordingly whenever you decode it.</span></span>                            |
| <span data-ttu-id="093d8-349">3</span><span class="sxs-lookup"><span data-stu-id="093d8-349">3</span></span>     | <span data-ttu-id="093d8-350">高通和低通頻率資料格都會被捨棄 (其中也包含 FlexBits) ，可有效地減少轉碼映射的解析度（在兩個維度中的因數16）。</span><span class="sxs-lookup"><span data-stu-id="093d8-350">Both the HighPass and LowPass frequency data bands are discarded (which also includes the FlexBits), effectively reducing the resolution of the transcoded image by a factor of 16 in both dimensions.</span></span> <span data-ttu-id="093d8-351">轉碼影像的實際維度會維持不變，但每個16巨大區塊的圖元都會失去所有詳細資料。</span><span class="sxs-lookup"><span data-stu-id="093d8-351">The actual dimensions of the transcoded image remain the same, but it loses all detail in each 16x16 macroblock of pixels.</span></span> <span data-ttu-id="093d8-352">因此，您應該在將轉碼影像解碼時，據以進行下取樣。</span><span class="sxs-lookup"><span data-stu-id="093d8-352">Therefore, you should down-sample the transcoded image accordingly whenever you decode it.</span></span> |



 

<span data-ttu-id="093d8-353">預設值為 0。</span><span class="sxs-lookup"><span data-stu-id="093d8-353">The default value is 0.</span></span>

### <a name="alphadatadiscard-option"></a><span data-ttu-id="093d8-354">AlphaDataDiscard 選項</span><span class="sxs-lookup"><span data-stu-id="093d8-354">AlphaDataDiscard Option</span></span>

<span data-ttu-id="093d8-355">只有當 [CompressedDomainTranscode](#compresseddomaintranscode-option) 屬性為 **TRUE** ，且影像包含平面或交錯 Alpha 色板時，此選項才有效。否則會予以忽略。</span><span class="sxs-lookup"><span data-stu-id="093d8-355">This option is valid only if the [CompressedDomainTranscode](#compresseddomaintranscode-option) property is **TRUE** and the image contains either a planar or interleaved alpha channel; otherwise it is ignored.</span></span> <span data-ttu-id="093d8-356">它會指定壓縮的網域轉碼期間要捨棄的 Alpha 頻率資料量。</span><span class="sxs-lookup"><span data-stu-id="093d8-356">It specifies the amount of alpha frequency data to discard during a compressed domain transcode.</span></span> <span data-ttu-id="093d8-357">平面 Alpha 通道允許下列值。</span><span class="sxs-lookup"><span data-stu-id="093d8-357">The following values are allowed for a planar alpha channel.</span></span>



| <span data-ttu-id="093d8-358">值</span><span class="sxs-lookup"><span data-stu-id="093d8-358">Value</span></span> | <span data-ttu-id="093d8-359">描述</span><span class="sxs-lookup"><span data-stu-id="093d8-359">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|-------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="093d8-360">0</span><span class="sxs-lookup"><span data-stu-id="093d8-360">0</span></span>     | <span data-ttu-id="093d8-361">不捨棄影像頻率資料。</span><span class="sxs-lookup"><span data-stu-id="093d8-361">No image frequency data is discarded.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="093d8-362">1</span><span class="sxs-lookup"><span data-stu-id="093d8-362">1</span></span>     | <span data-ttu-id="093d8-363">FlexBits 會遭到捨棄，因此可對轉碼影像的平面 Alpha 通道品質進行任意減少，而不需要變更有效的解析度。</span><span class="sxs-lookup"><span data-stu-id="093d8-363">The FlexBits are discarded, making an arbitrary reduction of the quality of the planar alpha channel for the transcoded image without changing the effective resolution.</span></span> <span data-ttu-id="093d8-364">確切的檔案大小縮減或特定品質降低取決於許多因素，而且無法指定或預測。</span><span class="sxs-lookup"><span data-stu-id="093d8-364">The exact file size reduction or the specific quality reduction depends on numerous factors and cannot be specified or predicted.</span></span>                                                                                                                                                                                                                                                |
| <span data-ttu-id="093d8-365">2</span><span class="sxs-lookup"><span data-stu-id="093d8-365">2</span></span>     | <span data-ttu-id="093d8-366">高通頻率資料區會被捨棄 (其中也包括 FlexBits) ，可有效地減少轉碼圖像平面 Alpha 通道的解析度（在兩個維度中的係數4）。</span><span class="sxs-lookup"><span data-stu-id="093d8-366">The HighPass frequency data band is discarded (which also includes the FlexBits), effectively reducing the resolution of the transcoded image planar alpha channel by a factor of 4 in both dimensions.</span></span> <span data-ttu-id="093d8-367">轉碼影像的實際維度會維持不變，但影像會在每個4x4 圖元區塊中遺失所有的平面 Alpha 通道詳細資料。</span><span class="sxs-lookup"><span data-stu-id="093d8-367">The actual dimensions of the transcoded image remain the same, but the image loses all planar alpha channel detail in each 4x4 block of pixels.</span></span> <span data-ttu-id="093d8-368">因此，每次解碼時，轉碼映射應該會相應縮小取樣。</span><span class="sxs-lookup"><span data-stu-id="093d8-368">Therefore, the transcoded image should be down-sampled accordingly whenever it is decoded.</span></span> <span data-ttu-id="093d8-369">一般來說，只有當您將 ImageDataDiscard propertyto 設為相同值時，才應該設定這個值。</span><span class="sxs-lookup"><span data-stu-id="093d8-369">Typically, you should set this value only when you set the ImageDataDiscard propertyto the same value.</span></span> |
| <span data-ttu-id="093d8-370">3</span><span class="sxs-lookup"><span data-stu-id="093d8-370">3</span></span>     | <span data-ttu-id="093d8-371">高通和低通頻率資料格都會被捨棄 (其中也包含 FlexBits) ，可有效地減少轉碼映射的解析度（在兩個維度中的因數16）。</span><span class="sxs-lookup"><span data-stu-id="093d8-371">Both the HighPass and LowPass frequency data bands are discarded (which also includes the FlexBits), effectively reducing the resolution of the transcoded image by a factor of 16 in both dimensions.</span></span> <span data-ttu-id="093d8-372">轉碼影像的實際維度會維持不變，但影像會在每16x16 巨大區塊的圖元中失去所有詳細資料。</span><span class="sxs-lookup"><span data-stu-id="093d8-372">The actual dimensions of the transcoded image remain the same, but the image loses all detail in each 16x16 macroblock of pixels.</span></span> <span data-ttu-id="093d8-373">因此，每次解碼時，轉碼映射應該會相應縮小取樣。</span><span class="sxs-lookup"><span data-stu-id="093d8-373">Therefore, the transcoded image should be down-sampled accordingly whenever it is decoded.</span></span> <span data-ttu-id="093d8-374">一般來說，只有當您將 ImageDataDiscard 屬性設定為相同的值時，才應該設定這個值。</span><span class="sxs-lookup"><span data-stu-id="093d8-374">Typically, you should set this value only when you set the ImageDataDiscard property to the same value.</span></span>               |
| <span data-ttu-id="093d8-375">4</span><span class="sxs-lookup"><span data-stu-id="093d8-375">4</span></span>     | <span data-ttu-id="093d8-376">Alpha 通道會完全捨棄。</span><span class="sxs-lookup"><span data-stu-id="093d8-376">The Alpha channel is completely discarded.</span></span> <span data-ttu-id="093d8-377">轉碼影像的像素格式會變更，以反映 Alpha 色板的移除。</span><span class="sxs-lookup"><span data-stu-id="093d8-377">The pixel format of the transcoded image is changed to reflect the removal of the alpha channel.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                               |



 

<span data-ttu-id="093d8-378">針對包含交錯 Alpha 通道的影像，除非這個屬性設定為4，否則 Alpha 通道會根據 ImageDataDiscard 屬性的值，與影像資料進行處理。</span><span class="sxs-lookup"><span data-stu-id="093d8-378">For images that contain interleaved alpha channels, unless this property is set to 4, the alpha channel is processed the same as the image data, according to the value of the ImageDataDiscard property.</span></span> <span data-ttu-id="093d8-379">如果這個屬性設定為4，則會完全捨棄交錯的 Alpha 通道，並據此變更轉碼影像的像素格式。</span><span class="sxs-lookup"><span data-stu-id="093d8-379">If this property is set to 4, the interleaved alpha channel is completely discarded and the pixel format of the transcoded image is changed accordingly.</span></span>

<span data-ttu-id="093d8-380">無預設值。</span><span class="sxs-lookup"><span data-stu-id="093d8-380">No default value.</span></span>

### <a name="ignoreoverlap-option"></a><span data-ttu-id="093d8-381">IgnoreOverlap 選項</span><span class="sxs-lookup"><span data-stu-id="093d8-381">IgnoreOverlap Option</span></span>

<span data-ttu-id="093d8-382">只有當 [CompressedDomainTranscode](#compresseddomaintranscode-option) 屬性為 **TRUE** ，而且只要求一個或多個磚的子領域轉碼時，此選項才有效。</span><span class="sxs-lookup"><span data-stu-id="093d8-382">This option is valid only if the [CompressedDomainTranscode](#compresseddomaintranscode-option) property is **TRUE** and a sub-region transcode of exactly one or more tiles is requested.</span></span> <span data-ttu-id="093d8-383">區域的預設作業轉碼 (或解碼) 是擴充要求的區域，以包含重迭的區域邊緣所需的圖元。</span><span class="sxs-lookup"><span data-stu-id="093d8-383">The default operation for a region transcode (or decode) is to expand the requested region to include the surrounding pixels that are required for overlap decoding of the region edges.</span></span> <span data-ttu-id="093d8-384">當這個參數設定為 **TRUE** 時，會忽略周圍的圖元，而只會解壓縮選取的磚或磚。</span><span class="sxs-lookup"><span data-stu-id="093d8-384">When this parameter is set to **TRUE**, the surrounding pixels are ignored and only the selected tile or tiles are extracted.</span></span> <span data-ttu-id="093d8-385">同樣地，要求的區域必須完全符合一或多個磚的座標。</span><span class="sxs-lookup"><span data-stu-id="093d8-385">Again, this requires that the requested region exactly match the coordinates of one or more tiles.</span></span> <span data-ttu-id="093d8-386">如果來源影像未並排顯示，或如果要求的區域指定了任何部分磚，則會忽略此參數。</span><span class="sxs-lookup"><span data-stu-id="093d8-386">If the source image is not tiled or if the requested region specifies any partial tiles, this parameter is ignored.</span></span>

<span data-ttu-id="093d8-387">預設值為 **FALSE**。</span><span class="sxs-lookup"><span data-stu-id="093d8-387">The default value is **FALSE**.</span></span>

## <a name="decoding"></a><span data-ttu-id="093d8-388">解碼</span><span class="sxs-lookup"><span data-stu-id="093d8-388">Decoding</span></span>

<span data-ttu-id="093d8-389">WIC 解碼 API 設計成與編解碼器無關，且已啟用 WIC 的編解碼器影像解碼本質上是相同的。</span><span class="sxs-lookup"><span data-stu-id="093d8-389">The WIC decoding API are designed to be codec-independent and image decoding for WIC-enabled codecs is essentially the same.</span></span> <span data-ttu-id="093d8-390">如需影像解碼的詳細資訊，請參閱 [解碼總覽](-wic-creating-decoder.md)。</span><span class="sxs-lookup"><span data-stu-id="093d8-390">For more information about image decoding, see the [Decoding Overview](-wic-creating-decoder.md).</span></span> <span data-ttu-id="093d8-391">如需使用已解碼之影像資料的詳細資訊，請參閱 [點陣圖來源總覽](-wic-bitmapsources.md)。</span><span class="sxs-lookup"><span data-stu-id="093d8-391">For more information about using decoded image data, see the [Bitmap Sources Overview](-wic-bitmapsources.md).</span></span>

### <a name="iwicbitmapsourcetransform-support"></a><span data-ttu-id="093d8-392">IWICBitmapSourceTransform 支援</span><span class="sxs-lookup"><span data-stu-id="093d8-392">IWICBitmapSourceTransform Support</span></span>

<span data-ttu-id="093d8-393">除了所需的介面必須是已啟用 WIC 的編解碼器，原生 HD 相片編碼器也支援 [**IWICBitmapSourceTransform**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform)。</span><span class="sxs-lookup"><span data-stu-id="093d8-393">In addition to the interfaces required to be a WIC-enabled codec, the native HD Photo decoder also supports the [**IWICBitmapSourceTransform**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform).</span></span> <span data-ttu-id="093d8-394">**IWICBitmapSourceTransform** 介面提供用於解碼影像位資料流程的 advanced 選項。</span><span class="sxs-lookup"><span data-stu-id="093d8-394">The **IWICBitmapSourceTransform** interface provides an advanced option for decoding an image bit stream.</span></span> <span data-ttu-id="093d8-395">**IWICBitmapSourceTransform** 介面會啟用下列的解碼器選項，而不只是使用 [**IWICBitmapFrameDecode**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode)傳回完整的映射。</span><span class="sxs-lookup"><span data-stu-id="093d8-395">Rather than just return a complete image using [**IWICBitmapFrameDecode**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode), **IWICBitmapSourceTransform** interface enables the following decoder options.</span></span>

-   <span data-ttu-id="093d8-396">解碼影像的矩形子領域。</span><span class="sxs-lookup"><span data-stu-id="093d8-396">Decode a rectangular sub-region of the image.</span></span>
-   <span data-ttu-id="093d8-397">解碼為較低的解析度</span><span class="sxs-lookup"><span data-stu-id="093d8-397">Decode to a lower resolution</span></span>
-   <span data-ttu-id="093d8-398">解碼成不同的像素格式</span><span class="sxs-lookup"><span data-stu-id="093d8-398">Decode to a different pixel format</span></span>
-   <span data-ttu-id="093d8-399">在解碼時執行轉換 (旋轉/翻轉) </span><span class="sxs-lookup"><span data-stu-id="093d8-399">Perform a transformation (rotation/flip) while decoding</span></span>

<span data-ttu-id="093d8-400">原生 HD 相片編解碼器提供下列 [**IWICBitmapSourceTransform**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform) 介面層級的支援。</span><span class="sxs-lookup"><span data-stu-id="093d8-400">The native HD Photo codec provides the following level of support for the [**IWICBitmapSourceTransform**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapsourcetransform) interface.</span></span>

### <a name="doessupporttransform"></a><span data-ttu-id="093d8-401">DoesSupportTransform</span><span class="sxs-lookup"><span data-stu-id="093d8-401">DoesSupportTransform</span></span>

<span data-ttu-id="093d8-402">原生執行支援所有的 [**WICBitmapTransformOptions**](/windows/desktop/api/Wincodec/ne-wincodec-wicbitmaptransformoptions) 轉換。</span><span class="sxs-lookup"><span data-stu-id="093d8-402">Native implementation supports all [**WICBitmapTransformOptions**](/windows/desktop/api/Wincodec/ne-wincodec-wicbitmaptransformoptions) transforms.</span></span>

### <a name="getclosestsize"></a><span data-ttu-id="093d8-403">GetClosestSize</span><span class="sxs-lookup"><span data-stu-id="093d8-403">GetClosestSize</span></span>

<span data-ttu-id="093d8-404">針對小於1/2 的要求，在這兩個維度中，來源影像的維度，HD 相片會傳回下一個最大的整數影像大小，並以二的因數平均整除。</span><span class="sxs-lookup"><span data-stu-id="093d8-404">For requests that are less than ½ the dimension of the source image in both dimensions, HD Photo returns the next largest integer image size that is evenly divisible by a factor of two.</span></span> <span data-ttu-id="093d8-405">針對所有其他要求的大小，HD 相片會傳回原始影像尺寸。</span><span class="sxs-lookup"><span data-stu-id="093d8-405">For all other requested sizes, HD Photo returns the original image dimensions.</span></span>

### <a name="getclosestpixelformat"></a><span data-ttu-id="093d8-406">GetClosestPixelFormat</span><span class="sxs-lookup"><span data-stu-id="093d8-406">GetClosestPixelFormat</span></span>

<span data-ttu-id="093d8-407">HD 相片會傳回編碼影像的像素格式。</span><span class="sxs-lookup"><span data-stu-id="093d8-407">HD Photo returns the pixel format of the encoded image.</span></span>

### <a name="copypixels"></a><span data-ttu-id="093d8-408">CopyPixels</span><span class="sxs-lookup"><span data-stu-id="093d8-408">CopyPixels</span></span>

<span data-ttu-id="093d8-409">HD 相片接受 [**WICRect**](/windows/desktop/api/Wincodec/ns-wincodec-wicrect) 參數所指定的任何要求區域，並傳回該部分的影像。</span><span class="sxs-lookup"><span data-stu-id="093d8-409">HD Photo accepts any requested region specified by the [**WICRect**](/windows/desktop/api/Wincodec/ns-wincodec-wicrect) parameter and returns that portion of the image.</span></span>

<span data-ttu-id="093d8-410">*UiWidth* 和 *uiHeight* 參數必須指定 [**GetClosestSize**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsourcetransform-getclosestsize)函數所傳回的維度。</span><span class="sxs-lookup"><span data-stu-id="093d8-410">The *uiWidth* and *uiHeight* parameters must specify dimensions as returned by the [**GetClosestSize**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsourcetransform-getclosestsize) function.</span></span> <span data-ttu-id="093d8-411">任何其他值都會傳回錯誤。</span><span class="sxs-lookup"><span data-stu-id="093d8-411">Any other values return an error.</span></span>

<span data-ttu-id="093d8-412">*PguidDstFormat* 參數必須指定 [**GetClosestPixelFormat**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsourcetransform-getclosestpixelformat)函數所傳回的像素格式。</span><span class="sxs-lookup"><span data-stu-id="093d8-412">The *pguidDstFormat* parameter must specify the pixel format returned by the [**GetClosestPixelFormat**](/windows/desktop/api/Wincodec/nf-wincodec-iwicbitmapsourcetransform-getclosestpixelformat) function.</span></span> <span data-ttu-id="093d8-413">任何其他值都會傳回錯誤。</span><span class="sxs-lookup"><span data-stu-id="093d8-413">Any other value returns an error.</span></span>

<span data-ttu-id="093d8-414">HD 相片接受 *dstTransform* 參數的任何可允許值。</span><span class="sxs-lookup"><span data-stu-id="093d8-414">HD Photo accepts any allowable value for the *dstTransform* parameter.</span></span> <span data-ttu-id="093d8-415">請注意，此參數的 WIC 所允許的值，與 HD 相片用於轉換元資料標記的值不同。</span><span class="sxs-lookup"><span data-stu-id="093d8-415">Note that the values allowed by WIC for this parameter are different from the values used by HD Photo for the Transformation metadata tag.</span></span>

 

 
