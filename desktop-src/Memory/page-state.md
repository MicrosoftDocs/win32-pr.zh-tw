---
description: 進程的虛擬位址空間的頁面可以是下列其中一種狀態。
ms.assetid: a6faa901-2966-4556-90ef-c113b1ba6c6d
title: 頁面狀態
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 82a1e5d3170197cf977f0b1a91898ee150086ddd
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/08/2021
ms.locfileid: "104195423"
---
# <a name="page-state"></a><span data-ttu-id="48b11-103">頁面狀態</span><span class="sxs-lookup"><span data-stu-id="48b11-103">Page State</span></span>

<span data-ttu-id="48b11-104">進程的虛擬位址空間的頁面可以是下列其中一種狀態。</span><span class="sxs-lookup"><span data-stu-id="48b11-104">The pages of a process's virtual address space can be in one of the following states.</span></span>



| <span data-ttu-id="48b11-105">州</span><span class="sxs-lookup"><span data-stu-id="48b11-105">State</span></span>     | <span data-ttu-id="48b11-106">描述</span><span class="sxs-lookup"><span data-stu-id="48b11-106">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="48b11-107">免費</span><span class="sxs-lookup"><span data-stu-id="48b11-107">Free</span></span>      | <span data-ttu-id="48b11-108">此頁面不會認可也不會保留。</span><span class="sxs-lookup"><span data-stu-id="48b11-108">The page is neither committed nor reserved.</span></span> <span data-ttu-id="48b11-109">此頁面無法供進程存取。</span><span class="sxs-lookup"><span data-stu-id="48b11-109">The page is not accessible to the process.</span></span> <span data-ttu-id="48b11-110">您可以保留、認可或同時保留和認可。</span><span class="sxs-lookup"><span data-stu-id="48b11-110">It is available to be reserved, committed, or simultaneously reserved and committed.</span></span> <span data-ttu-id="48b11-111">嘗試讀取或寫入免費頁面會導致存取違規例外狀況。</span><span class="sxs-lookup"><span data-stu-id="48b11-111">Attempting to read from or write to a free page results in an access violation exception.</span></span> <br/> <span data-ttu-id="48b11-112">處理常式可以使用 [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree) 或 [**VirtualFreeEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfreeex) 函式來釋出其位址空間的保留或認可頁面，並將它們傳回至可用狀態。</span><span class="sxs-lookup"><span data-stu-id="48b11-112">A process can use the [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree) or [**VirtualFreeEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfreeex) function to release reserved or committed pages of its address space, returning them to the free state.</span></span><br/>                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="48b11-113">保留</span><span class="sxs-lookup"><span data-stu-id="48b11-113">Reserved</span></span>  | <span data-ttu-id="48b11-114">頁面已保留供日後使用。</span><span class="sxs-lookup"><span data-stu-id="48b11-114">The page has been reserved for future use.</span></span> <span data-ttu-id="48b11-115">其他配置函數無法使用位址範圍。</span><span class="sxs-lookup"><span data-stu-id="48b11-115">The range of addresses cannot be used by other allocation functions.</span></span> <span data-ttu-id="48b11-116">頁面無法存取，而且沒有相關聯的實體儲存體。</span><span class="sxs-lookup"><span data-stu-id="48b11-116">The page is not accessible and has no physical storage associated with it.</span></span> <span data-ttu-id="48b11-117">您可以進行認可。</span><span class="sxs-lookup"><span data-stu-id="48b11-117">It is available to be committed.</span></span> <br/> <span data-ttu-id="48b11-118">處理常式可以使用 [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) 或 [**VirtualAllocEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex) 函式來保留其位址空間的頁面，並于稍後認可保留的頁面。</span><span class="sxs-lookup"><span data-stu-id="48b11-118">A process can use the [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) or [**VirtualAllocEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex) function to reserve pages of its address space and later to commit the reserved pages.</span></span> <span data-ttu-id="48b11-119">它可以使用 [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree) 或 [**VirtualFreeEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfreeex) 來取消認可認可的頁面，並將其傳回至保留的狀態。</span><span class="sxs-lookup"><span data-stu-id="48b11-119">It can use [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree) or [**VirtualFreeEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfreeex) to decommit committed pages and return them to the reserved state.</span></span><br/>                                                                                                                                                                                                                          |
| <span data-ttu-id="48b11-120">認可</span><span class="sxs-lookup"><span data-stu-id="48b11-120">Committed</span></span> | <span data-ttu-id="48b11-121">記憶體費用是從磁片上的整體 RAM 和分頁檔案的整體大小所配置。</span><span class="sxs-lookup"><span data-stu-id="48b11-121">Memory charges have been allocated from the overall size of RAM and paging files on disk.</span></span> <span data-ttu-id="48b11-122">此頁面可供存取，而且存取是由其中一種 [記憶體保護常數](memory-protection-constants.md)所控制。</span><span class="sxs-lookup"><span data-stu-id="48b11-122">The page is accessible and access is controlled by one of the [memory protection constants](memory-protection-constants.md).</span></span> <span data-ttu-id="48b11-123">系統只會在第一次嘗試讀取或寫入至該頁面時，初始化並將每個認可的頁面載入實體記憶體中。</span><span class="sxs-lookup"><span data-stu-id="48b11-123">The system initializes and loads each committed page into physical memory only during the first attempt to read or write to that page.</span></span> <span data-ttu-id="48b11-124">當程式終止時，系統會釋放認可頁面的儲存體。</span><span class="sxs-lookup"><span data-stu-id="48b11-124">When the process terminates, the system releases the storage for committed pages.</span></span> <br/> <span data-ttu-id="48b11-125">處理常式可以使用 [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) 或 [**VirtualAllocEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex) 來認可保留區域中的實體頁面。</span><span class="sxs-lookup"><span data-stu-id="48b11-125">A process can use [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) or [**VirtualAllocEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex) to commit physical pages from a reserved region.</span></span> <span data-ttu-id="48b11-126">它們也可以同時保留和認可頁面。</span><span class="sxs-lookup"><span data-stu-id="48b11-126">They can also simultaneously reserve and commit pages.</span></span><br/> <span data-ttu-id="48b11-127">[**GlobalAlloc**](/windows/desktop/api/WinBase/nf-winbase-globalalloc)和 [**LocalAlloc**](/windows/desktop/api/WinBase/nf-winbase-localalloc)函式會使用讀取/寫入存取權來配置認可的頁面。</span><span class="sxs-lookup"><span data-stu-id="48b11-127">The [**GlobalAlloc**](/windows/desktop/api/WinBase/nf-winbase-globalalloc) and [**LocalAlloc**](/windows/desktop/api/WinBase/nf-winbase-localalloc) functions allocate committed pages with read/write access.</span></span><br/> |



 

 

 
