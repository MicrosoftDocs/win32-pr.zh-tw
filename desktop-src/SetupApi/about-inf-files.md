---
description: INF 檔案是分割成不同類型之格式化區段的文字檔。
ms.assetid: 1dd8aba7-2035-4d78-8745-d355e01b9eb5
title: 關於 INF 檔案
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 24c181b2a7b7dc1fe390f75b31978de333832781
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "104026172"
---
# <a name="about-inf-files"></a><span data-ttu-id="a5203-103">關於 INF 檔案</span><span class="sxs-lookup"><span data-stu-id="a5203-103">About INF Files</span></span>

<span data-ttu-id="a5203-104">INF 檔案是分割成不同類型之格式化區段的文字檔。</span><span class="sxs-lookup"><span data-stu-id="a5203-104">An INF file is a text file divided into different types of formatted sections.</span></span> <span data-ttu-id="a5203-105">每一節都是針對特定用途而設計;例如，複製檔案或將專案新增至登錄。</span><span class="sxs-lookup"><span data-stu-id="a5203-105">Each section is designed for a particular purpose; for example, to copy files or to add entries to the registry.</span></span> <span data-ttu-id="a5203-106">INF 檔案中的區段數目和類型取決於特定的安裝程式。</span><span class="sxs-lookup"><span data-stu-id="a5203-106">Number and type of sections in an INF file depends on the particular installation procedure.</span></span> <span data-ttu-id="a5203-107">每個區段都包含有助於該區段用途的行。</span><span class="sxs-lookup"><span data-stu-id="a5203-107">Each section consists of lines that contribute to that section's purpose.</span></span>

<span data-ttu-id="a5203-108">INF 檔案會以 Microsoft Windows 2000 驅動程式開發工具組的 INF 檔案和 *inf 檔案章節和* 指示詞章節的 *一般指導方針* 所述的格式來儲存資訊。</span><span class="sxs-lookup"><span data-stu-id="a5203-108">INF files store information in a format that is described in the *General Guidelines for INF File* and *INF File Sections and Directives* sections of the Microsoft Windows 2000 Driver Development Kit.</span></span> <span data-ttu-id="a5203-109">如果您打算撰寫 INF 檔案，請參閱 Microsoft Windows 驅動程式開發工具組 (DDK) 的這些資源。</span><span class="sxs-lookup"><span data-stu-id="a5203-109">You should refer to these resources in the Microsoft Windows Driver Development Kit (DDK) if you plan to author INF files.</span></span> <span data-ttu-id="a5203-110">安裝函式會使用此格式來從 INF 檔案取出資訊</span><span class="sxs-lookup"><span data-stu-id="a5203-110">The setup functions uses this format to retrieve information from the INF file</span></span>

<span data-ttu-id="a5203-111">您可以搭配使用下列 INF 區段與安裝函式來建立安裝應用程式。</span><span class="sxs-lookup"><span data-stu-id="a5203-111">The following INF sections can be used with the setup functions to create an installation application.</span></span> <span data-ttu-id="a5203-112">當您建立 INF 檔案時，不需要包含每一種類型的區段。</span><span class="sxs-lookup"><span data-stu-id="a5203-112">When you create an INF file, you do not have to include every type of section.</span></span> <span data-ttu-id="a5203-113">使用的區段取決於安裝程式。</span><span class="sxs-lookup"><span data-stu-id="a5203-113">The sections used depend on the installation procedure.</span></span>



| <span data-ttu-id="a5203-114">區段</span><span class="sxs-lookup"><span data-stu-id="a5203-114">Section</span></span>                          | <span data-ttu-id="a5203-115">描述</span><span class="sxs-lookup"><span data-stu-id="a5203-115">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                      |
|----------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a5203-116">\[**版本**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-116">\[**Version**\]</span></span>                  | <span data-ttu-id="a5203-117">包含 INF 檔案的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="a5203-117">Contains information about the INF file.</span></span> <span data-ttu-id="a5203-118">這是唯一必要的區段。</span><span class="sxs-lookup"><span data-stu-id="a5203-118">This is the only section that is required.</span></span> <span data-ttu-id="a5203-119">安裝函式會使用此區段來辨識 INF 檔案的目標 Windows 版本。</span><span class="sxs-lookup"><span data-stu-id="a5203-119">The setup functions use this section to recognize for which version of Windows the INF file was intended.</span></span>                                                                                                                                                                                                                                    |
| <span data-ttu-id="a5203-120">\[**安裝**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-120">\[**Install**\]</span></span>                  | <span data-ttu-id="a5203-121">提供安裝程式的總覽，並且包含安裝程式在安裝期間所處理之 INF 區段的清單。</span><span class="sxs-lookup"><span data-stu-id="a5203-121">Provides an overview of the installation process and contains a list of INF sections that the setup functions process during the installation.</span></span> <span data-ttu-id="a5203-122">請參閱 [INF 安裝章節範例](inf-install-section-example.md)。</span><span class="sxs-lookup"><span data-stu-id="a5203-122">See the [INF Install Section Example](inf-install-section-example.md).</span></span>                                                                                                                                                                                                           |
|     <span data-ttu-id="a5203-123">\[**新增登錄**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-123">\[**Add Registry**\]</span></span>         | <span data-ttu-id="a5203-124">包含用來將子機碼或值名稱新增至登錄的資訊。</span><span class="sxs-lookup"><span data-stu-id="a5203-124">Contains information used to add subkeys or value names to the registry.</span></span>                                                                                                                                                                                                                                                                                                                                                         |
|     <span data-ttu-id="a5203-125">\[**複製檔案**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-125">\[**Copy Files**\]</span></span>           | <span data-ttu-id="a5203-126">包含來原始檔案名，而且可以指定其他複製行為。</span><span class="sxs-lookup"><span data-stu-id="a5203-126">Contains source filenames and can specify additional copying behavior.</span></span>                                                                                                                                                                                                                                                                                                                                                           |
|     <span data-ttu-id="a5203-127">\[**刪除登錄**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-127">\[**Delete Registry**\]</span></span>      | <span data-ttu-id="a5203-128">包含用來從登錄中刪除子機碼或值名稱的資訊。</span><span class="sxs-lookup"><span data-stu-id="a5203-128">Contains information used to delete a subkey or value name from the registry.</span></span>                                                                                                                                                                                                                                                                                                                                                    |
|     <span data-ttu-id="a5203-129">\[**刪除檔案**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-129">\[**Delete Files**\]</span></span>         | <span data-ttu-id="a5203-130">包含要刪除之檔案的檔案名，而且可以指定其他的刪除行為。</span><span class="sxs-lookup"><span data-stu-id="a5203-130">Contains the filenames of files to delete, and can specify additional deletion behavior.</span></span>                                                                                                                                                                                                                                                                                                                                         |
|     <span data-ttu-id="a5203-131">\[**INI 檔案至登錄**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-131">\[**INI File to Registry**\]</span></span> | <span data-ttu-id="a5203-132">包含用來將程式程式碼或區段從 INI 檔案移至登錄的資訊。</span><span class="sxs-lookup"><span data-stu-id="a5203-132">Contains information used to move lines or sections from an INI file to the registry.</span></span>                                                                                                                                                                                                                                                                                                                                            |
|     <span data-ttu-id="a5203-133">\[**ProfileItems**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-133">\[**ProfileItems**\]</span></span>         | <span data-ttu-id="a5203-134">包含用來在 [開始] 功能表中新增或移除專案的資訊。</span><span class="sxs-lookup"><span data-stu-id="a5203-134">Contains information used to add or remove items from the Start Menu.</span></span> <span data-ttu-id="a5203-135">僅適用于 Windows 2000。</span><span class="sxs-lookup"><span data-stu-id="a5203-135">Available only with Windows 2000.</span></span>                                                                                                                                                                                                                                                                                                                          |
|     <span data-ttu-id="a5203-136">\[**重新命名檔案**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-136">\[**Rename Files**\]</span></span>         | <span data-ttu-id="a5203-137">包含重新命名作業的來源和目的檔案名。</span><span class="sxs-lookup"><span data-stu-id="a5203-137">Contains the source and target filenames for renaming operations.</span></span>                                                                                                                                                                                                                                                                                                                                                                |
|     <span data-ttu-id="a5203-138">\[**更新 INI 欄位**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-138">\[**Update INI Fields**\]</span></span>    | <span data-ttu-id="a5203-139">包含用來取代、新增或刪除 INI 專案中之欄位的資訊。</span><span class="sxs-lookup"><span data-stu-id="a5203-139">Contains information used to replace, add, or delete fields in an INI entry.</span></span>                                                                                                                                                                                                                                                                                                                                                     |
|     <span data-ttu-id="a5203-140">\[**更新 INI 檔案**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-140">\[**Update INI File**\]</span></span>      | <span data-ttu-id="a5203-141">包含用來取代、新增或刪除 INI 專案的資訊。</span><span class="sxs-lookup"><span data-stu-id="a5203-141">Contains information used to replace, add, or delete an INI entry.</span></span>                                                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="a5203-142">\[**服務**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-142">\[**Services**\]</span></span>                 | <span data-ttu-id="a5203-143">列出要新增或安裝的服務。</span><span class="sxs-lookup"><span data-stu-id="a5203-143">Lists the services to add or install.</span></span>                                                                                                                                                                                                                                                                                                                                                                                            |
|     <span data-ttu-id="a5203-144">\[**服務安裝**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-144">\[**Service Install**\]</span></span>      | <span data-ttu-id="a5203-145">包含用來安裝服務區段的 AddService 索引鍵中所列之 **服務的資訊** 。</span><span class="sxs-lookup"><span data-stu-id="a5203-145">Contains information used to install the service listed in the AddService key of the **Services** section.</span></span>                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="a5203-146">\[**DestinationDirs**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-146">\[**DestinationDirs**\]</span></span>          | <span data-ttu-id="a5203-147">**將 [複製** 檔案] 區段對應至目的地目錄。</span><span class="sxs-lookup"><span data-stu-id="a5203-147">Maps **Copy Files** sections to a destination directory.</span></span> <span data-ttu-id="a5203-148">定義 [ **複製** 檔案]、[ **重新命名** 檔案] 或 [ **刪除** 檔案] 區段中所列檔案的目的地目錄。</span><span class="sxs-lookup"><span data-stu-id="a5203-148">Defines the destination directory for files listed in **Copy Files**, **Rename Files**, or **Delete Files** sections.</span></span>                                                                                                                                                                                                                                                   |
| <span data-ttu-id="a5203-149">\[**SourceDisksFiles**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-149">\[**SourceDisksFiles**\]</span></span>         | <span data-ttu-id="a5203-150">將來源檔案對應至在 **SourceDisksNames** 區段中指派的序數值。</span><span class="sxs-lookup"><span data-stu-id="a5203-150">Maps the source files to the ordinal values assigned in the **SourceDisksNames** section.</span></span> <span data-ttu-id="a5203-151">請參閱 [INF SourceDisksNames 和 SourceDisksFiles 章節範例](inf-sourcedisksnames-and-sourcedisksfiles-sections-example.md)。</span><span class="sxs-lookup"><span data-stu-id="a5203-151">See [INF SourceDisksNames and SourceDisksFiles Sections Example](inf-sourcedisksnames-and-sourcedisksfiles-sections-example.md).</span></span>                                                                                                                                                                                                      |
| <span data-ttu-id="a5203-152">\[**SourceDisksNames**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-152">\[**SourceDisksNames**\]</span></span>         | <span data-ttu-id="a5203-153">將序數值指派給每個來源磁片，並可儲存來源磁片的其他相關資訊。</span><span class="sxs-lookup"><span data-stu-id="a5203-153">Assigns an ordinal value to each source disks and can store additional information about the source disks.</span></span> <span data-ttu-id="a5203-154">請參閱 [INF SourceDisksNames 和 SourceDisksFiles 章節範例](inf-sourcedisksnames-and-sourcedisksfiles-sections-example.md)。</span><span class="sxs-lookup"><span data-stu-id="a5203-154">See [INF SourceDisksNames and SourceDisksFiles Sections Example](inf-sourcedisksnames-and-sourcedisksfiles-sections-example.md).</span></span>                                                                                                                                                                                     |
| <span data-ttu-id="a5203-155">\[**EventLog 安裝**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-155">\[**EventLog Install**\]</span></span>         | <span data-ttu-id="a5203-156">包含用來將事件訊息新增至登錄的資訊。</span><span class="sxs-lookup"><span data-stu-id="a5203-156">Contains information used to add an event message to the registry.</span></span>                                                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="a5203-157">\[**字串**\]</span><span class="sxs-lookup"><span data-stu-id="a5203-157">\[**Strings**\]</span></span>                  | <span data-ttu-id="a5203-158">INF 檔案中的值可使用%*strkey*% 形式以可取代的字串表示。</span><span class="sxs-lookup"><span data-stu-id="a5203-158">Values in INF files may be expressed as replaceable strings using the form %*strkey*%.</span></span> <span data-ttu-id="a5203-159">INF 檔案中的每個 *strkey* 都必須指定由可列印字元組成的唯一名稱。</span><span class="sxs-lookup"><span data-stu-id="a5203-159">Each *strkey* in an INF file must specify a unique name consisting of printable characters.</span></span> <span data-ttu-id="a5203-160">若要在字串中包含% 字元，請使用%%。</span><span class="sxs-lookup"><span data-stu-id="a5203-160">To include a % character in the string, use %%.</span></span> <span data-ttu-id="a5203-161">Strkey 必須定義在 INF 檔案的 **字串** 區段中。</span><span class="sxs-lookup"><span data-stu-id="a5203-161">The strkey must be defined in a **Strings** section of the INF file.</span></span> <span data-ttu-id="a5203-162">您可以使用字串索引鍵做為 INF 檔案中的預留位置，以取得經常變更或需要當地語系化的資訊。</span><span class="sxs-lookup"><span data-stu-id="a5203-162">You can use string keys as placeholders in an INF file for information that changes frequently or needs to be localized.</span></span> |



 

<span data-ttu-id="a5203-163">INF 檔案也可以包含私用區段。</span><span class="sxs-lookup"><span data-stu-id="a5203-163">An INF file can also contain private sections.</span></span> <span data-ttu-id="a5203-164">私用區段的格式取決於安裝應用程式。</span><span class="sxs-lookup"><span data-stu-id="a5203-164">The format of a private section depends on the setup application.</span></span> <span data-ttu-id="a5203-165">INF 檔案中的私用區段可用來儲存特定安裝應用程式所使用的特殊資訊。</span><span class="sxs-lookup"><span data-stu-id="a5203-165">Private sections in an INF file can be used to store specialized information used by a specific setup application.</span></span> <span data-ttu-id="a5203-166">安裝程式 API 包含的函式（例如 [**SetupGetLineText**](/windows/desktop/api/Setupapi/nf-setupapi-setupgetlinetexta)和 [**SetupGetIntField**](/windows/desktop/api/Setupapi/nf-setupapi-setupgetintfield)）可以從 INF 檔案的私用區段中取得資訊，這些區段位於行內的層級行和欄位。</span><span class="sxs-lookup"><span data-stu-id="a5203-166">The Setup API includes functions, such as [**SetupGetLineText**](/windows/desktop/api/Setupapi/nf-setupapi-setupgetlinetexta)and [**SetupGetIntField**](/windows/desktop/api/Setupapi/nf-setupapi-setupgetintfield), that can retrieve information from the private sections of INF files at the level lines and fields within lines.</span></span>

 

 



