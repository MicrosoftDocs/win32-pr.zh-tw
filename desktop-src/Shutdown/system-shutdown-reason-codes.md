---
description: ExitWindowsEx 和 InitiateSystemShutdownEx 函式會在 dwReason 參數中使用關機原因代碼。 系統會處理最大數目原因的原因 \_ \_ 代碼。 最大 \_ 數目 \_ 的原因是由 reason. h 所定義。
ms.assetid: db1ecee0-40eb-4761-b5d8-9cc3c1c98cdf
title: '系統關機原因代碼 (原因 .h) '
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 4ee2b8b2795dcf350d627b3cf59f85eb374a22cb
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/07/2021
ms.locfileid: "106983351"
---
# <a name="system-shutdown-reason-codes"></a><span data-ttu-id="0cda9-105">系統關機原因代碼</span><span class="sxs-lookup"><span data-stu-id="0cda9-105">System Shutdown Reason Codes</span></span>

<span data-ttu-id="0cda9-106">[**ExitWindowsEx**](/windows/desktop/api/Winuser/nf-winuser-exitwindowsex)和 [**InitiateSystemShutdownEx**](/windows/desktop/api/Winreg/nf-winreg-initiatesystemshutdownexa)函式會在 *dwReason* 參數中使用關機原因代碼。</span><span class="sxs-lookup"><span data-stu-id="0cda9-106">The shutdown reason codes are used by the [**ExitWindowsEx**](/windows/desktop/api/Winuser/nf-winuser-exitwindowsex) and [**InitiateSystemShutdownEx**](/windows/desktop/api/Winreg/nf-winreg-initiatesystemshutdownexa) functions in the *dwReason* parameter.</span></span>

<span data-ttu-id="0cda9-107">系統會處理最大數目原因的原因 \_ \_ 代碼。</span><span class="sxs-lookup"><span data-stu-id="0cda9-107">A maximum of MAX\_NUM\_REASONS reason codes will be processed by the system.</span></span> <span data-ttu-id="0cda9-108">最大 \_ 數目 \_ 的原因是由 reason. h 所定義。</span><span class="sxs-lookup"><span data-stu-id="0cda9-108">MAX\_NUM\_REASONS is defined in reason.h.</span></span>

<span data-ttu-id="0cda9-109">以下是主要原因旗標。</span><span class="sxs-lookup"><span data-stu-id="0cda9-109">The following are the major reason flags.</span></span> <span data-ttu-id="0cda9-110">它們表示一般問題類型。</span><span class="sxs-lookup"><span data-stu-id="0cda9-110">They indicate the general issue type.</span></span>



| <span data-ttu-id="0cda9-111">常數/值</span><span class="sxs-lookup"><span data-stu-id="0cda9-111">Constant/value</span></span>                                                                                                                                                                                                                                                                                 | <span data-ttu-id="0cda9-112">Description</span><span class="sxs-lookup"><span data-stu-id="0cda9-112">Description</span></span>                                                                                                                                                        |
|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="SHTDN_REASON_MAJOR_APPLICATION"></span><span id="shtdn_reason_major_application"></span><dl> <span data-ttu-id="0cda9-113"><dt>**SHTDN \_\_主要 \_ 應用程式**</dt> <dt>0x00040000</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-113"><dt>**SHTDN\_REASON\_MAJOR\_APPLICATION**</dt> <dt>0x00040000</dt></span></span> </dl>             | <span data-ttu-id="0cda9-114">應用程式問題。</span><span class="sxs-lookup"><span data-stu-id="0cda9-114">Application issue.</span></span><br/>                                                                                                                                      |
| <span id="SHTDN_REASON_MAJOR_HARDWARE"></span><span id="shtdn_reason_major_hardware"></span><dl> <span data-ttu-id="0cda9-115"><dt>**SHTDN \_\_主要 \_ 硬體**</dt> <dt>0x00010000</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-115"><dt>**SHTDN\_REASON\_MAJOR\_HARDWARE**</dt> <dt>0x00010000</dt></span></span> </dl>                      | <span data-ttu-id="0cda9-116">硬體問題。</span><span class="sxs-lookup"><span data-stu-id="0cda9-116">Hardware issue.</span></span><br/>                                                                                                                                         |
| <span id="SHTDN_REASON_MAJOR_LEGACY_API"></span><span id="shtdn_reason_major_legacy_api"></span><dl> <span data-ttu-id="0cda9-117"><dt>**SHTDN \_\_主要 \_ 舊版 \_ API**</dt> <dt>0x00070000</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-117"><dt>**SHTDN\_REASON\_MAJOR\_LEGACY\_API**</dt> <dt>0x00070000</dt></span></span> </dl>               | <span data-ttu-id="0cda9-118">已使用 [**InitiateSystemShutdown**](/windows/desktop/api/Winreg/nf-winreg-initiatesystemshutdowna) 函式，而不是 [**InitiateSystemShutdownEx**](/windows/desktop/api/Winreg/nf-winreg-initiatesystemshutdownexa)。</span><span class="sxs-lookup"><span data-stu-id="0cda9-118">The [**InitiateSystemShutdown**](/windows/desktop/api/Winreg/nf-winreg-initiatesystemshutdowna) function was used instead of [**InitiateSystemShutdownEx**](/windows/desktop/api/Winreg/nf-winreg-initiatesystemshutdownexa).</span></span><br/> |
| <span id="SHTDN_REASON_MAJOR_OPERATINGSYSTEM"></span><span id="shtdn_reason_major_operatingsystem"></span><dl> <span data-ttu-id="0cda9-119"><dt>**SHTDN \_\_主要 \_ 作業系統**</dt> <dt>0x00020000</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-119"><dt>**SHTDN\_REASON\_MAJOR\_OPERATINGSYSTEM**</dt> <dt>0x00020000</dt></span></span> </dl> | <span data-ttu-id="0cda9-120">作業系統問題。</span><span class="sxs-lookup"><span data-stu-id="0cda9-120">Operating system issue.</span></span><br/>                                                                                                                                 |
| <span id="SHTDN_REASON_MAJOR_OTHER"></span><span id="shtdn_reason_major_other"></span><dl> <span data-ttu-id="0cda9-121"><dt>**SHTDN \_原因 \_ 嚴重的 \_ 其他**</dt> <dt>0x00000000</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-121"><dt>**SHTDN\_REASON\_MAJOR\_OTHER**</dt> <dt>0x00000000</dt></span></span> </dl>                               | <span data-ttu-id="0cda9-122">其他問題。</span><span class="sxs-lookup"><span data-stu-id="0cda9-122">Other issue.</span></span><br/>                                                                                                                                            |
| <span id="SHTDN_REASON_MAJOR_POWER"></span><span id="shtdn_reason_major_power"></span><dl> <span data-ttu-id="0cda9-123"><dt>**SHTDN \_原因 \_ 主要 \_ POWER**</dt> <dt>0x00060000</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-123"><dt>**SHTDN\_REASON\_MAJOR\_POWER**</dt> <dt>0x00060000</dt></span></span> </dl>                               | <span data-ttu-id="0cda9-124">電源失敗。</span><span class="sxs-lookup"><span data-stu-id="0cda9-124">Power failure.</span></span><br/>                                                                                                                                          |
| <span id="SHTDN_REASON_MAJOR_SOFTWARE"></span><span id="shtdn_reason_major_software"></span><dl> <span data-ttu-id="0cda9-125"><dt>**SHTDN \_原因 \_ 主要 \_ 軟體**</dt> <dt>0x00030000</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-125"><dt>**SHTDN\_REASON\_MAJOR\_SOFTWARE**</dt> <dt>0x00030000</dt></span></span> </dl>                      | <span data-ttu-id="0cda9-126">軟體問題。</span><span class="sxs-lookup"><span data-stu-id="0cda9-126">Software issue.</span></span><br/>                                                                                                                                         |
| <span id="SHTDN_REASON_MAJOR_SYSTEM"></span><span id="shtdn_reason_major_system"></span><dl> <span data-ttu-id="0cda9-127"><dt>**SHTDN \_原因 \_ 主要 \_ 系統**</dt> <dt>0x00050000</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-127"><dt>**SHTDN\_REASON\_MAJOR\_SYSTEM**</dt> <dt>0x00050000</dt></span></span> </dl>                            | <span data-ttu-id="0cda9-128">系統失敗。</span><span class="sxs-lookup"><span data-stu-id="0cda9-128">System failure.</span></span><br/>                                                                                                                                         |



<span data-ttu-id="0cda9-129">以下是次要原因旗標。</span><span class="sxs-lookup"><span data-stu-id="0cda9-129">The following are the minor reason flags.</span></span> <span data-ttu-id="0cda9-130">他們會修改指定的主要原因旗標。</span><span class="sxs-lookup"><span data-stu-id="0cda9-130">They modify the specified major reason flag.</span></span> <span data-ttu-id="0cda9-131">您可以將任何次要原因與任何主要原因搭配使用，但有些組合並沒有意義。</span><span class="sxs-lookup"><span data-stu-id="0cda9-131">You can use any minor reason in conjunction with any major reason, but some combinations do not make sense.</span></span>



| <span data-ttu-id="0cda9-132">常數/值</span><span class="sxs-lookup"><span data-stu-id="0cda9-132">Constant/value</span></span>                                                                                                                                                                                                                                                                                                    | <span data-ttu-id="0cda9-133">Description</span><span class="sxs-lookup"><span data-stu-id="0cda9-133">Description</span></span>                               |
|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:------------------------------------------|
| <span id="SHTDN_REASON_MINOR_BLUESCREEN"></span><span id="shtdn_reason_minor_bluescreen"></span><dl> <span data-ttu-id="0cda9-134"><dt>**SHTDN \_\_次要 \_ 藍屏**</dt> <dt>0x0000000F</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-134"><dt>**SHTDN\_REASON\_MINOR\_BLUESCREEN**</dt> <dt>0x0000000F</dt></span></span> </dl>                                   | <span data-ttu-id="0cda9-135">藍色螢幕損毀事件。</span><span class="sxs-lookup"><span data-stu-id="0cda9-135">Blue screen crash event.</span></span><br/>       |
| <span id="SHTDN_REASON_MINOR_CORDUNPLUGGED"></span><span id="shtdn_reason_minor_cordunplugged"></span><dl> <span data-ttu-id="0cda9-136"><dt>**SHTDN \_原因 \_ 次要 \_ CORDUNPLUGGED**</dt> <dt>0x0000000b</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-136"><dt>**SHTDN\_REASON\_MINOR\_CORDUNPLUGGED**</dt> <dt>0x0000000b</dt></span></span> </dl>                          | <span data-ttu-id="0cda9-137">拔出。</span><span class="sxs-lookup"><span data-stu-id="0cda9-137">Unplugged.</span></span><br/>                     |
| <span id="SHTDN_REASON_MINOR_DISK"></span><span id="shtdn_reason_minor_disk"></span><dl> <span data-ttu-id="0cda9-138"><dt>**SHTDN \_\_次要 \_ 磁片**</dt> <dt>0x00000007</dt>原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-138"><dt>**SHTDN\_REASON\_MINOR\_DISK**</dt> <dt>0x00000007</dt></span></span> </dl>                                                     | <span data-ttu-id="0cda9-139">磁碟]。</span><span class="sxs-lookup"><span data-stu-id="0cda9-139">Disk.</span></span><br/>                          |
| <span id="SHTDN_REASON_MINOR_ENVIRONMENT"></span><span id="shtdn_reason_minor_environment"></span><dl> <span data-ttu-id="0cda9-140"><dt>**SHTDN \_原因 \_ 次要 \_ 環境**</dt> <dt>0x0000000c</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-140"><dt>**SHTDN\_REASON\_MINOR\_ENVIRONMENT**</dt> <dt>0x0000000c</dt></span></span> </dl>                                | <span data-ttu-id="0cda9-141">環境。</span><span class="sxs-lookup"><span data-stu-id="0cda9-141">Environment.</span></span><br/>                   |
| <span id="SHTDN_REASON_MINOR_HARDWARE_DRIVER"></span><span id="shtdn_reason_minor_hardware_driver"></span><dl> <span data-ttu-id="0cda9-142"><dt>**SHTDN \_\_次要 \_ 硬體 \_ 驅動程式**</dt> <dt>0x0000000d</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-142"><dt>**SHTDN\_REASON\_MINOR\_HARDWARE\_DRIVER**</dt> <dt>0x0000000d</dt></span></span> </dl>                   | <span data-ttu-id="0cda9-143">司機。</span><span class="sxs-lookup"><span data-stu-id="0cda9-143">Driver.</span></span><br/>                        |
| <span id="SHTDN_REASON_MINOR_HOTFIX"></span><span id="shtdn_reason_minor_hotfix"></span><dl> <span data-ttu-id="0cda9-144"><dt>**SHTDN \_\_次要修正 \_ 程式**</dt> <dt>0x00000011</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-144"><dt>**SHTDN\_REASON\_MINOR\_HOTFIX**</dt> <dt>0x00000011</dt></span></span> </dl>                                               | <span data-ttu-id="0cda9-145">熱修正。</span><span class="sxs-lookup"><span data-stu-id="0cda9-145">Hot fix.</span></span><br/>                       |
| <span id="SHTDN_REASON_MINOR_HOTFIX_UNINSTALL"></span><span id="shtdn_reason_minor_hotfix_uninstall"></span><dl> <span data-ttu-id="0cda9-146"><dt>**SHTDN \_\_次要修正 \_ 程式 \_ 卸載**</dt> <dt>0x00000017</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-146"><dt>**SHTDN\_REASON\_MINOR\_HOTFIX\_UNINSTALL**</dt> <dt>0x00000017</dt></span></span> </dl>                | <span data-ttu-id="0cda9-147">熱修正卸載。</span><span class="sxs-lookup"><span data-stu-id="0cda9-147">Hot fix uninstallation.</span></span><br/>        |
| <span id="SHTDN_REASON_MINOR_HUNG"></span><span id="shtdn_reason_minor_hung"></span><dl> <span data-ttu-id="0cda9-148"><dt>**SHTDN \_\_次要無 \_ 反應**</dt> <dt>0x00000005</dt>原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-148"><dt>**SHTDN\_REASON\_MINOR\_HUNG**</dt> <dt>0x00000005</dt></span></span> </dl>                                                     | <span data-ttu-id="0cda9-149">反應 遲鈍。</span><span class="sxs-lookup"><span data-stu-id="0cda9-149">Unresponsive.</span></span><br/>                  |
| <span id="SHTDN_REASON_MINOR_INSTALLATION"></span><span id="shtdn_reason_minor_installation"></span><dl> <span data-ttu-id="0cda9-150"><dt>**SHTDN \_\_次要 \_ 安裝的原因**</dt> <dt>0x00000002</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-150"><dt>**SHTDN\_REASON\_MINOR\_INSTALLATION**</dt> <dt>0x00000002</dt></span></span> </dl>                             | <span data-ttu-id="0cda9-151">安裝。</span><span class="sxs-lookup"><span data-stu-id="0cda9-151">Installation.</span></span><br/>                  |
| <span id="SHTDN_REASON_MINOR_MAINTENANCE"></span><span id="shtdn_reason_minor_maintenance"></span><dl> <span data-ttu-id="0cda9-152"><dt>**SHTDN \_\_次要 \_ 維護**</dt> <dt>0x00000001</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-152"><dt>**SHTDN\_REASON\_MINOR\_MAINTENANCE**</dt> <dt>0x00000001</dt></span></span> </dl>                                | <span data-ttu-id="0cda9-153">維護。</span><span class="sxs-lookup"><span data-stu-id="0cda9-153">Maintenance.</span></span><br/>                   |
| <span id="SHTDN_REASON_MINOR_MMC"></span><span id="shtdn_reason_minor_mmc"></span><dl> <span data-ttu-id="0cda9-154"><dt>**SHTDN \_\_次要 \_ MMC**</dt> <dt>0x00000019</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-154"><dt>**SHTDN\_REASON\_MINOR\_MMC**</dt> <dt>0x00000019</dt></span></span> </dl>                                                        | <span data-ttu-id="0cda9-155">MMC 問題。</span><span class="sxs-lookup"><span data-stu-id="0cda9-155">MMC issue.</span></span><br/>                     |
| <span id="SHTDN_REASON_MINOR_NETWORK_CONNECTIVITY"></span><span id="shtdn_reason_minor_network_connectivity"></span><dl> <span data-ttu-id="0cda9-156"><dt>**SHTDN \_\_次要 \_ 網路 \_ 連接**</dt> <dt>0x00000014</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-156"><dt>**SHTDN\_REASON\_MINOR\_NETWORK\_CONNECTIVITY**</dt> <dt>0x00000014</dt></span></span> </dl>    | <span data-ttu-id="0cda9-157">網路連線能力。</span><span class="sxs-lookup"><span data-stu-id="0cda9-157">Network connectivity.</span></span><br/>          |
| <span id="SHTDN_REASON_MINOR_NETWORKCARD"></span><span id="shtdn_reason_minor_networkcard"></span><dl> <span data-ttu-id="0cda9-158"><dt>**SHTDN \_原因 \_ 次要 \_ NETWORKCARD**</dt> <dt>0x00000009</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-158"><dt>**SHTDN\_REASON\_MINOR\_NETWORKCARD**</dt> <dt>0x00000009</dt></span></span> </dl>                                | <span data-ttu-id="0cda9-159">網路卡。</span><span class="sxs-lookup"><span data-stu-id="0cda9-159">Network card.</span></span><br/>                  |
| <span id="SHTDN_REASON_MINOR_OTHER"></span><span id="shtdn_reason_minor_other"></span><dl> <span data-ttu-id="0cda9-160"><dt>**SHTDN \_\_次要 \_ 其他**</dt> <dt>0x00000000</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-160"><dt>**SHTDN\_REASON\_MINOR\_OTHER**</dt> <dt>0x00000000</dt></span></span> </dl>                                                  | <span data-ttu-id="0cda9-161">其他問題。</span><span class="sxs-lookup"><span data-stu-id="0cda9-161">Other issue.</span></span><br/>                   |
| <span id="SHTDN_REASON_MINOR_OTHERDRIVER"></span><span id="shtdn_reason_minor_otherdriver"></span><dl> <span data-ttu-id="0cda9-162"><dt>**SHTDN \_原因 \_ 次要 \_ OTHERDRIVER**</dt> <dt>0x0000000e</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-162"><dt>**SHTDN\_REASON\_MINOR\_OTHERDRIVER**</dt> <dt>0x0000000e</dt></span></span> </dl>                                | <span data-ttu-id="0cda9-163">其他驅動程式事件。</span><span class="sxs-lookup"><span data-stu-id="0cda9-163">Other driver event.</span></span><br/>            |
| <span id="SHTDN_REASON_MINOR_POWER_SUPPLY"></span><span id="shtdn_reason_minor_power_supply"></span><dl> <span data-ttu-id="0cda9-164"><dt>**SHTDN \_\_次要 \_ 電源 \_ 供應**</dt> <dt>0x0000000a</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-164"><dt>**SHTDN\_REASON\_MINOR\_POWER\_SUPPLY**</dt> <dt>0x0000000a</dt></span></span> </dl>                            | <span data-ttu-id="0cda9-165">電源。</span><span class="sxs-lookup"><span data-stu-id="0cda9-165">Power supply.</span></span><br/>                  |
| <span id="SHTDN_REASON_MINOR_PROCESSOR"></span><span id="shtdn_reason_minor_processor"></span><dl> <span data-ttu-id="0cda9-166"><dt>**SHTDN \_\_次要 \_ 處理器**</dt> <dt>0x00000008</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-166"><dt>**SHTDN\_REASON\_MINOR\_PROCESSOR**</dt> <dt>0x00000008</dt></span></span> </dl>                                      | <span data-ttu-id="0cda9-167">處理器。</span><span class="sxs-lookup"><span data-stu-id="0cda9-167">Processor.</span></span><br/>                     |
| <span id="SHTDN_REASON_MINOR_RECONFIG"></span><span id="shtdn_reason_minor_reconfig"></span><dl> <span data-ttu-id="0cda9-168"><dt>**SHTDN \_原因 \_ 次要 \_ 重新設定**</dt> <dt>0x00000004</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-168"><dt>**SHTDN\_REASON\_MINOR\_RECONFIG**</dt> <dt>0x00000004</dt></span></span> </dl>                                         | <span data-ttu-id="0cda9-169">配置。</span><span class="sxs-lookup"><span data-stu-id="0cda9-169">Reconfigure.</span></span><br/>                   |
| <span id="SHTDN_REASON_MINOR_SECURITY"></span><span id="shtdn_reason_minor_security"></span><dl> <span data-ttu-id="0cda9-170"><dt>**SHTDN \_\_次要 \_ 安全性**</dt> <dt>0x00000013</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-170"><dt>**SHTDN\_REASON\_MINOR\_SECURITY**</dt> <dt>0x00000013</dt></span></span> </dl>                                         | <span data-ttu-id="0cda9-171">安全性問題。</span><span class="sxs-lookup"><span data-stu-id="0cda9-171">Security issue.</span></span><br/>                |
| <span id="SHTDN_REASON_MINOR_SECURITYFIX"></span><span id="shtdn_reason_minor_securityfix"></span><dl> <span data-ttu-id="0cda9-172"><dt>**SHTDN \_原因 \_ 次要 \_ SECURITYFIX**</dt> <dt>0x00000012</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-172"><dt>**SHTDN\_REASON\_MINOR\_SECURITYFIX**</dt> <dt>0x00000012</dt></span></span> </dl>                                | <span data-ttu-id="0cda9-173">安全性修補程式。</span><span class="sxs-lookup"><span data-stu-id="0cda9-173">Security patch.</span></span><br/>                |
| <span id="SHTDN_REASON_MINOR_SECURITYFIX_UNINSTALL"></span><span id="shtdn_reason_minor_securityfix_uninstall"></span><dl> <span data-ttu-id="0cda9-174"><dt>**SHTDN \_\_次要 \_ SECURITYFIX \_ 卸載**</dt> <dt>0x00000018</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-174"><dt>**SHTDN\_REASON\_MINOR\_SECURITYFIX\_UNINSTALL**</dt> <dt>0x00000018</dt></span></span> </dl> | <span data-ttu-id="0cda9-175">安全性修補程式卸載。</span><span class="sxs-lookup"><span data-stu-id="0cda9-175">Security patch uninstallation.</span></span><br/> |
| <span id="SHTDN_REASON_MINOR_SERVICEPACK"></span><span id="shtdn_reason_minor_servicepack"></span><dl> <span data-ttu-id="0cda9-176"><dt>**SHTDN \_原因 \_ 次要 \_ SERVICEPACK**</dt> <dt>0x00000010</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-176"><dt>**SHTDN\_REASON\_MINOR\_SERVICEPACK**</dt> <dt>0x00000010</dt></span></span> </dl>                                | <span data-ttu-id="0cda9-177">Service pack。</span><span class="sxs-lookup"><span data-stu-id="0cda9-177">Service pack.</span></span><br/>                  |
| <span id="SHTDN_REASON_MINOR_SERVICEPACK_UNINSTALL"></span><span id="shtdn_reason_minor_servicepack_uninstall"></span><dl> <span data-ttu-id="0cda9-178"><dt>**SHTDN \_\_次要 \_ SERVICEPACK \_ 卸載**</dt> <dt>0x00000016</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-178"><dt>**SHTDN\_REASON\_MINOR\_SERVICEPACK\_UNINSTALL**</dt> <dt>0x00000016</dt></span></span> </dl> | <span data-ttu-id="0cda9-179">卸載 Service pack。</span><span class="sxs-lookup"><span data-stu-id="0cda9-179">Service pack uninstallation.</span></span><br/>   |
| <span id="SHTDN_REASON_MINOR_TERMSRV"></span><span id="shtdn_reason_minor_termsrv"></span><dl> <span data-ttu-id="0cda9-180"><dt>**SHTDN \_原因 \_ 次要 \_ TERMSRV**</dt> <dt>0x00000020</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-180"><dt>**SHTDN\_REASON\_MINOR\_TERMSRV**</dt> <dt>0x00000020</dt></span></span> </dl>                                            | <span data-ttu-id="0cda9-181">終端機服務。</span><span class="sxs-lookup"><span data-stu-id="0cda9-181">Terminal Services.</span></span><br/>             |
| <span id="SHTDN_REASON_MINOR_UNSTABLE"></span><span id="shtdn_reason_minor_unstable"></span><dl> <span data-ttu-id="0cda9-182"><dt>**SHTDN \_\_次要不 \_ 穩定的原因**</dt> <dt>0x00000006</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-182"><dt>**SHTDN\_REASON\_MINOR\_UNSTABLE**</dt> <dt>0x00000006</dt></span></span> </dl>                                         | <span data-ttu-id="0cda9-183">穩定。</span><span class="sxs-lookup"><span data-stu-id="0cda9-183">Unstable.</span></span><br/>                      |
| <span id="SHTDN_REASON_MINOR_UPGRADE"></span><span id="shtdn_reason_minor_upgrade"></span><dl> <span data-ttu-id="0cda9-184"><dt>**SHTDN \_\_次要 \_ 升級原因**</dt> <dt>0x00000003</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-184"><dt>**SHTDN\_REASON\_MINOR\_UPGRADE**</dt> <dt>0x00000003</dt></span></span> </dl>                                            | <span data-ttu-id="0cda9-185">升級。</span><span class="sxs-lookup"><span data-stu-id="0cda9-185">Upgrade.</span></span><br/>                       |
| <span id="SHTDN_REASON_MINOR_WMI"></span><span id="shtdn_reason_minor_wmi"></span><dl> <span data-ttu-id="0cda9-186"><dt>**SHTDN \_\_次要 \_ WMI**</dt> <dt>0x00000015</dt>的原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-186"><dt>**SHTDN\_REASON\_MINOR\_WMI**</dt> <dt>0x00000015</dt></span></span> </dl>                                                        | <span data-ttu-id="0cda9-187">WMI 問題。</span><span class="sxs-lookup"><span data-stu-id="0cda9-187">WMI issue.</span></span><br/>                     |



<span data-ttu-id="0cda9-188">下列選擇性旗標會提供事件的其他相關資訊。</span><span class="sxs-lookup"><span data-stu-id="0cda9-188">The following optional flags provide additional information about the event.</span></span>



| <span data-ttu-id="0cda9-189">常數/值</span><span class="sxs-lookup"><span data-stu-id="0cda9-189">Constant/value</span></span>                                                                                                                                                                                                                                                                      | <span data-ttu-id="0cda9-190">Description</span><span class="sxs-lookup"><span data-stu-id="0cda9-190">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="SHTDN_REASON_FLAG_USER_DEFINED"></span><span id="shtdn_reason_flag_user_defined"></span><dl> <span data-ttu-id="0cda9-191"><dt>**SHTDN \_原因 \_ 旗標 \_ 使用者 \_ 定義**</dt> <dt>0x40000000</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-191"><dt>**SHTDN\_REASON\_FLAG\_USER\_DEFINED**</dt> <dt>0x40000000</dt></span></span> </dl> | <span data-ttu-id="0cda9-192">原因代碼是由使用者定義。</span><span class="sxs-lookup"><span data-stu-id="0cda9-192">The reason code is defined by the user.</span></span> <span data-ttu-id="0cda9-193">如需詳細資訊，請參閱定義自訂原因代碼。</span><span class="sxs-lookup"><span data-stu-id="0cda9-193">For more information, see Defining a Custom Reason Code.</span></span> <br/> <span data-ttu-id="0cda9-194">如果不存在此旗標，則會由系統定義原因代碼。</span><span class="sxs-lookup"><span data-stu-id="0cda9-194">If this flag is not present, the reason code is defined by the system.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span id="SHTDN_REASON_FLAG_PLANNED"></span><span id="shtdn_reason_flag_planned"></span><dl> <span data-ttu-id="0cda9-195"><dt>**SHTDN \_原因 \_ 旗 \_**</dt>標已規劃的 <dt>0x80000000</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-195"><dt>**SHTDN\_REASON\_FLAG\_PLANNED**</dt> <dt>0x80000000</dt></span></span> </dl>                 | <span data-ttu-id="0cda9-196">已規劃關機。</span><span class="sxs-lookup"><span data-stu-id="0cda9-196">The shutdown was planned.</span></span> <span data-ttu-id="0cda9-197">系統會 (SSD) 檔產生系統狀態資料。</span><span class="sxs-lookup"><span data-stu-id="0cda9-197">The system generates a System State Data (SSD) file.</span></span> <span data-ttu-id="0cda9-198">此檔案包含系統狀態資訊，例如處理常式、執行緒、記憶體使用量和設定。</span><span class="sxs-lookup"><span data-stu-id="0cda9-198">This file contains system state information such as the processes, threads, memory usage, and configuration.</span></span> <br/> <span data-ttu-id="0cda9-199">如果不存在此旗標，則表示關機未計畫。</span><span class="sxs-lookup"><span data-stu-id="0cda9-199">If this flag is not present, the shutdown was unplanned.</span></span> <span data-ttu-id="0cda9-200">通知和報告選項是由一組原則所控制。</span><span class="sxs-lookup"><span data-stu-id="0cda9-200">Notification and reporting options are controlled by a set of policies.</span></span> <span data-ttu-id="0cda9-201">例如，登入之後，系統會顯示一個對話方塊，報告已啟用原則的未計畫關機。</span><span class="sxs-lookup"><span data-stu-id="0cda9-201">For example, after logging in, the system displays a dialog box reporting the unplanned shutdown if the policy has been enabled.</span></span> <span data-ttu-id="0cda9-202">只有在系統上啟用 SSD 原則時，才會建立 SSD 檔案。</span><span class="sxs-lookup"><span data-stu-id="0cda9-202">An SSD file is created only if the SSD policy is enabled on the system.</span></span> <span data-ttu-id="0cda9-203">系統管理員可以使用 [Windows 錯誤報告](../wer/windows-error-reporting.md) 將 SSD 資料傳送到中央位置或 Microsoft。</span><span class="sxs-lookup"><span data-stu-id="0cda9-203">The administrator can use [Windows Error Reporting](../wer/windows-error-reporting.md) to send the SSD data to a central location, or to Microsoft.</span></span><br/> |



## <a name="remarks"></a><span data-ttu-id="0cda9-204">備註</span><span class="sxs-lookup"><span data-stu-id="0cda9-204">Remarks</span></span>

<span data-ttu-id="0cda9-205">系統會辨識下列組合。</span><span class="sxs-lookup"><span data-stu-id="0cda9-205">The following combinations are recognized by the system.</span></span> <span data-ttu-id="0cda9-206">下表指出在關機事件追蹤器中顯示的字串，並提供更詳細的描述。</span><span class="sxs-lookup"><span data-stu-id="0cda9-206">The table indicates the string that is displayed in the Shutdown Event Tracker, and provides a more detailed description.</span></span> <span data-ttu-id="0cda9-207">預設字串是「找不到此原因的標題」。</span><span class="sxs-lookup"><span data-stu-id="0cda9-207">The default string is "No title for this reason could be found."</span></span>



| <span data-ttu-id="0cda9-208">合併</span><span class="sxs-lookup"><span data-stu-id="0cda9-208">Combination</span></span>                                                                                                | <span data-ttu-id="0cda9-209">Description</span><span class="sxs-lookup"><span data-stu-id="0cda9-209">Description</span></span>                                                                                                                                                                                                                                      |
|------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0cda9-210">SHTDN \_ 原因 \_ 主要 \_ 應用程式 \| SHTDN \_ 原因次要無 \_ \_ 反應</span><span class="sxs-lookup"><span data-stu-id="0cda9-210">SHTDN\_REASON\_MAJOR\_APPLICATION \| SHTDN\_REASON\_MINOR\_HUNG</span></span>                                            | <span data-ttu-id="0cda9-211">「應用程式：沒有回應」未規劃的重新開機或關機，無法針對沒有回應的應用程式進行疑難排解。</span><span class="sxs-lookup"><span data-stu-id="0cda9-211">"Application: Unresponsive" An unplanned restart or shutdown to troubleshoot an unresponsive application.</span></span><br/>                                                                                                                             |
| <span data-ttu-id="0cda9-212">SHTDN \_ 原因 \_ 主要 \_ 應用程式 \| SHTDN \_ 原因 \_ 次要 \_ 安裝 \| SHTDN \_ 原因旗 \_ \_ 標已規劃</span><span class="sxs-lookup"><span data-stu-id="0cda9-212">SHTDN\_REASON\_MAJOR\_APPLICATION \| SHTDN\_REASON\_MINOR\_INSTALLATION \| SHTDN\_REASON\_FLAG\_PLANNED</span></span>    | <span data-ttu-id="0cda9-213">「應用程式：安裝 (計畫的) 」計畫的重新開機或關機，以執行應用程式安裝。</span><span class="sxs-lookup"><span data-stu-id="0cda9-213">"Application: Installation (Planned)" A planned restart or shutdown to perform application installation.</span></span><br/>                                                                                                                              |
| <span data-ttu-id="0cda9-214">SHTDN \_ 原因 \_ 主要 \_ 應用程式 \| SHTDN \_ 原因 \_ 次要 \_ 維護</span><span class="sxs-lookup"><span data-stu-id="0cda9-214">SHTDN\_REASON\_MAJOR\_APPLICATION \| SHTDN\_REASON\_MINOR\_MAINTENANCE</span></span>                                     | <span data-ttu-id="0cda9-215">「應用程式：維護 (未規劃的) 」未規劃的重新開機或關機，以服務應用程式。</span><span class="sxs-lookup"><span data-stu-id="0cda9-215">"Application: Maintenance (Unplanned)" An unplanned restart or shutdown to service an application.</span></span><br/>                                                                                                                                    |
| <span data-ttu-id="0cda9-216">SHTDN \_ 原因 \_ 主要 \_ 應用程式 \| SHTDN \_ 原因 \_ 次要 \_ 維護 \| SHTDN \_ 原因旗 \_ \_ 標已規劃</span><span class="sxs-lookup"><span data-stu-id="0cda9-216">SHTDN\_REASON\_MAJOR\_APPLICATION \| SHTDN\_REASON\_MINOR\_MAINTENANCE \| SHTDN\_REASON\_FLAG\_PLANNED</span></span>     | <span data-ttu-id="0cda9-217">「Application：維護 (計畫的) 」計畫的重新開機或關機，以在應用程式上執行規劃的維護。</span><span class="sxs-lookup"><span data-stu-id="0cda9-217">"Application: Maintenance (Planned)" A planned restart or shutdown to perform planned maintenance on an application.</span></span><br/>                                                                                                                  |
| <span data-ttu-id="0cda9-218">SHTDN \_ 原因 \_ 主要 \_ 應用程式 \| SHTDN \_ 原因不 \_ \_ 穩定</span><span class="sxs-lookup"><span data-stu-id="0cda9-218">SHTDN\_REASON\_MAJOR\_APPLICATION \| SHTDN\_REASON\_MINOR\_UNSTABLE</span></span>                                        | <span data-ttu-id="0cda9-219">「應用程式：不穩定」未規劃的重新開機或關機，無法對不穩定的應用程式進行疑難排解。</span><span class="sxs-lookup"><span data-stu-id="0cda9-219">"Application: Unstable" An unplanned restart or shutdown to troubleshoot an unstable application.</span></span><br/>                                                                                                                                     |
| <span data-ttu-id="0cda9-220">SHTDN \_ 原因 \_ 主要 \_ 硬體 \| SHTDN \_ 原因 \_ 次要 \_ 安裝</span><span class="sxs-lookup"><span data-stu-id="0cda9-220">SHTDN\_REASON\_MAJOR\_HARDWARE \| SHTDN\_REASON\_MINOR\_INSTALLATION</span></span>                                       | <span data-ttu-id="0cda9-221">「硬體：安裝 (未規劃的) 」未規劃的重新開機或關機，無法開始或完成硬體安裝。</span><span class="sxs-lookup"><span data-stu-id="0cda9-221">"Hardware: Installation (Unplanned)" An unplanned restart or shutdown to begin or complete hardware installation.</span></span><br/>                                                                                                                     |
| <span data-ttu-id="0cda9-222">SHTDN \_ 原因 \_ 主要 \_ 硬體 \| SHTDN \_ 原因 \_ 次要 \_ 安裝 \| SHTDN \_ 原因 \_ 旗 \_ 標已規劃</span><span class="sxs-lookup"><span data-stu-id="0cda9-222">SHTDN\_REASON\_MAJOR\_HARDWARE \| SHTDN\_REASON\_MINOR\_INSTALLATION \| SHTDN\_REASON\_FLAG\_PLANNED</span></span>       | <span data-ttu-id="0cda9-223">「硬體：安裝 (計畫的) 」計畫的重新開機或關機，以開始或完成硬體安裝。</span><span class="sxs-lookup"><span data-stu-id="0cda9-223">"Hardware: Installation (Planned)" A planned restart or shutdown to begin or complete hardware installation.</span></span><br/>                                                                                                                          |
| <span data-ttu-id="0cda9-224">SHTDN \_ 原因 \_ 主要 \_ 硬體 \| SHTDN \_ 原因 \_ 次要 \_ 維護</span><span class="sxs-lookup"><span data-stu-id="0cda9-224">SHTDN\_REASON\_MAJOR\_HARDWARE \| SHTDN\_REASON\_MINOR\_MAINTENANCE</span></span>                                        | <span data-ttu-id="0cda9-225">「硬體：維護 (未規劃的) 」未規劃的重新開機或關閉系統上的硬體服務。</span><span class="sxs-lookup"><span data-stu-id="0cda9-225">"Hardware: Maintenance (Unplanned)" An unplanned restart or shutdown to service hardware on the system.</span></span><br/>                                                                                                                               |
| <span data-ttu-id="0cda9-226">SHTDN \_ 原因 \_ 主要 \_ 硬體 \| SHTDN \_ 原因 \_ 次要 \_ 維護 \| SHTDN \_ 原因 \_ 旗 \_ 標已規劃</span><span class="sxs-lookup"><span data-stu-id="0cda9-226">SHTDN\_REASON\_MAJOR\_HARDWARE \| SHTDN\_REASON\_MINOR\_MAINTENANCE \| SHTDN\_REASON\_FLAG\_PLANNED</span></span>        | <span data-ttu-id="0cda9-227">「硬體：維修 (計畫的) 」計畫的重新開機或關機，以在系統上服務硬體。</span><span class="sxs-lookup"><span data-stu-id="0cda9-227">"Hardware: Maintenance (Planned)" A planned restart or shutdown to service hardware on the system.</span></span><br/>                                                                                                                                    |
| <span data-ttu-id="0cda9-228">\_ \_ 主要 \_ 舊版 \_ API 的 SHTDN 原因</span><span class="sxs-lookup"><span data-stu-id="0cda9-228">SHTDN\_REASON\_MAJOR\_LEGACY\_API</span></span>                                                                          | <span data-ttu-id="0cda9-229">「舊版 API 關閉」此關閉是由舊版 [**InitiateSystemShutdown**](/windows/desktop/api/Winreg/nf-winreg-initiatesystemshutdowna) 函式所起始。</span><span class="sxs-lookup"><span data-stu-id="0cda9-229">"Legacy API shutdown" This shutdown was initiated by the legacy [**InitiateSystemShutdown**](/windows/desktop/api/Winreg/nf-winreg-initiatesystemshutdowna) function.</span></span> <span data-ttu-id="0cda9-230">應用程式應該使用 [**InitiateSystemShutdownEx**](/windows/desktop/api/Winreg/nf-winreg-initiatesystemshutdownexa) 函式。</span><span class="sxs-lookup"><span data-stu-id="0cda9-230">Applications should use the [**InitiateSystemShutdownEx**](/windows/desktop/api/Winreg/nf-winreg-initiatesystemshutdownexa) function.</span></span><br/> |
| <span data-ttu-id="0cda9-231">SHTDN \_ 原因 \_ 主要 \_ 作業系統 \| SHTDN \_ 原因 \_ 次要修正 \_ 程式</span><span class="sxs-lookup"><span data-stu-id="0cda9-231">SHTDN\_REASON\_MAJOR\_OPERATINGSYSTEM \| SHTDN\_REASON\_MINOR\_HOTFIX</span></span>                                      | <span data-ttu-id="0cda9-232">「作業系統：熱修正 (未規劃的) 」未規劃的重新開機或關機，以安裝熱修正。</span><span class="sxs-lookup"><span data-stu-id="0cda9-232">"Operating System: Hot fix (Unplanned)" An unplanned restart or shutdown to install a hot fix.</span></span><br/>                                                                                                                                        |
| <span data-ttu-id="0cda9-233">SHTDN \_ 原因 \_ 主要 \_ 作業系統 \| SHTDN \_ 原因 \_ 次要修正 \_ 程式 \| SHTDN \_ 原因 \_ 旗 \_ 標已規劃</span><span class="sxs-lookup"><span data-stu-id="0cda9-233">SHTDN\_REASON\_MAJOR\_OPERATINGSYSTEM \| SHTDN\_REASON\_MINOR\_HOTFIX \| SHTDN\_REASON\_FLAG\_PLANNED</span></span>      | <span data-ttu-id="0cda9-234">「作業系統：已規劃的熱修正 (計畫的) 」計畫的重新開機或關機，以安裝熱修正。</span><span class="sxs-lookup"><span data-stu-id="0cda9-234">"Operating System: Hot fix (Planned)" A planned restart or shutdown to install a hot fix.</span></span><br/>                                                                                                                                             |
| <span data-ttu-id="0cda9-235">SHTDN \_ 原因 \_ 主要 \_ 作業系統 \| SHTDN \_ 原因 \_ 次要 \_ 重新設定</span><span class="sxs-lookup"><span data-stu-id="0cda9-235">SHTDN\_REASON\_MAJOR\_OPERATINGSYSTEM \| SHTDN\_REASON\_MINOR\_RECONFIG</span></span>                                    | <span data-ttu-id="0cda9-236">「作業系統：重新設定 (未規劃的) 」未計畫的重新開機或關機，以變更作業系統設定。</span><span class="sxs-lookup"><span data-stu-id="0cda9-236">"Operating System: Reconfiguration (Unplanned)" An unplanned restart or shutdown to change the operating system configuration.</span></span><br/>                                                                                                        |
| <span data-ttu-id="0cda9-237">SHTDN \_ 原因 \_ 主要 \_ 作業系統 \| SHTDN \_ 原因 \_ 次要 \_ 重新設定 \| SHTDN \_ 原因 \_ 旗 \_ 標已規劃</span><span class="sxs-lookup"><span data-stu-id="0cda9-237">SHTDN\_REASON\_MAJOR\_OPERATINGSYSTEM \| SHTDN\_REASON\_MINOR\_RECONFIG \| SHTDN\_REASON\_FLAG\_PLANNED</span></span>    | <span data-ttu-id="0cda9-238">「作業系統：重新設定 (計畫的) 」規劃的重新開機或關機，以變更作業系統設定。</span><span class="sxs-lookup"><span data-stu-id="0cda9-238">"Operating System: Reconfiguration (Planned)" A planned restart or shutdown to change the operating system configuration.</span></span><br/>                                                                                                             |
| <span data-ttu-id="0cda9-239">SHTDN \_ 原因 \_ 主要 \_ 作業系統 \| SHTDN \_ 原因 \_ 次要 \_ SECURITYFIX</span><span class="sxs-lookup"><span data-stu-id="0cda9-239">SHTDN\_REASON\_MAJOR\_OPERATINGSYSTEM \| SHTDN\_REASON\_MINOR\_SECURITYFIX</span></span>                                 | <span data-ttu-id="0cda9-240">「作業系統：安全性修正 (未規劃的) 」未計畫的重新開機或關機，以安裝安全性修補程式。</span><span class="sxs-lookup"><span data-stu-id="0cda9-240">"Operating System: Security fix (Unplanned)" An unplanned restart or shutdown to install a security patch.</span></span><br/>                                                                                                                            |
| <span data-ttu-id="0cda9-241">SHTDN \_ 原因 \_ 主要 \_ 作業系統 \| SHTDN \_ 原因 \_ 次要 \_ SECURITYFIX \| SHTDN \_ 原因 \_ 旗 \_ 標已規劃</span><span class="sxs-lookup"><span data-stu-id="0cda9-241">SHTDN\_REASON\_MAJOR\_OPERATINGSYSTEM \| SHTDN\_REASON\_MINOR\_SECURITYFIX \| SHTDN\_REASON\_FLAG\_PLANNED</span></span> | <span data-ttu-id="0cda9-242">「作業系統：安全性修正 (計畫的) 」計畫的重新開機或關機，以安裝安全性修補程式。</span><span class="sxs-lookup"><span data-stu-id="0cda9-242">"Operating System: Security fix (Planned)" A planned restart or shutdown to install a security patch.</span></span><br/>                                                                                                                                 |
| <span data-ttu-id="0cda9-243">SHTDN \_ 原因 \_ 主要 \_ 作業系統 \| SHTDN \_ 原因 \_ 次要 \_ SERVICEPACK \| SHTDN \_ 原因 \_ 旗 \_ 標已規劃</span><span class="sxs-lookup"><span data-stu-id="0cda9-243">SHTDN\_REASON\_MAJOR\_OPERATINGSYSTEM \| SHTDN\_REASON\_MINOR\_SERVICEPACK \| SHTDN\_REASON\_FLAG\_PLANNED</span></span> | <span data-ttu-id="0cda9-244">「作業系統： Service pack (計畫的) 」計畫的重新開機或關機，以安裝 Service pack。</span><span class="sxs-lookup"><span data-stu-id="0cda9-244">"Operating System: Service pack (Planned)" A planned restart or shutdown to install a service pack.</span></span><br/>                                                                                                                                   |
| <span data-ttu-id="0cda9-245">SHTDN \_ 原因 \_ 主要 \_ 作業系統 \| SHTDN \_ 原因 \_ 次要 \_ 升級 \| SHTDN \_ 原因 \_ 旗 \_ 標已規劃</span><span class="sxs-lookup"><span data-stu-id="0cda9-245">SHTDN\_REASON\_MAJOR\_OPERATINGSYSTEM \| SHTDN\_REASON\_MINOR\_UPGRADE \| SHTDN\_REASON\_FLAG\_PLANNED</span></span>     | <span data-ttu-id="0cda9-246">「作業系統：升級 (計畫的) 」規劃的重新開機或關機，以升級作業系統設定。</span><span class="sxs-lookup"><span data-stu-id="0cda9-246">"Operating System: Upgrade (Planned)" A planned restart or shutdown to upgrade the operating system configuration.</span></span><br/>                                                                                                                    |
| <span data-ttu-id="0cda9-247">SHTDN \_ 原因 \_ 的 \_ 其他 \| 主要 \_ SHTDN \_ 原因 \_</span><span class="sxs-lookup"><span data-stu-id="0cda9-247">SHTDN\_REASON\_MAJOR\_OTHER \| SHTDN\_REASON\_MINOR\_OTHER</span></span>                                                 | <span data-ttu-id="0cda9-248">「其他 (未規劃的) 」未計畫的關機或重新開機。</span><span class="sxs-lookup"><span data-stu-id="0cda9-248">"Other (Unplanned)" An unplanned shutdown or restart.</span></span><br/>                                                                                                                                                                                 |
| <span data-ttu-id="0cda9-249">SHTDN \_ 原因 \_ 主要 \_ 其他 \| SHTDN \_ 原因 \_ 已 \_ 規劃次要其他 \| SHTDN \_ 原因 \_ 旗 \_ 標</span><span class="sxs-lookup"><span data-stu-id="0cda9-249">SHTDN\_REASON\_MAJOR\_OTHER \| SHTDN\_REASON\_MINOR\_OTHER \| SHTDN\_REASON\_FLAG\_PLANNED</span></span>                 | <span data-ttu-id="0cda9-250">「已規劃的其他 () 」規劃的關機或重新開機。</span><span class="sxs-lookup"><span data-stu-id="0cda9-250">"Other (Planned)" A planned shutdown or restart.</span></span><br/>                                                                                                                                                                                      |
| <span data-ttu-id="0cda9-251">SHTDN \_ 原因 \_ 主要的 \_ 其他 \| SHTDN \_ 原因次要無 \_ \_ 反應</span><span class="sxs-lookup"><span data-stu-id="0cda9-251">SHTDN\_REASON\_MAJOR\_OTHER \| SHTDN\_REASON\_MINOR\_HUNG</span></span>                                                  | <span data-ttu-id="0cda9-252">「其他失敗：系統沒有回應」系統變得沒有回應。</span><span class="sxs-lookup"><span data-stu-id="0cda9-252">"Other Failure: System Unresponsive" The system became unresponsive.</span></span><br/>                                                                                                                                                                  |
| <span data-ttu-id="0cda9-253">SHTDN \_ 原因 \_ 主要 \_ 電源 \| SHTDN \_ 原因 \_ 次要 \_ CORDUNPLUGGED</span><span class="sxs-lookup"><span data-stu-id="0cda9-253">SHTDN\_REASON\_MAJOR\_POWER \| SHTDN\_REASON\_MINOR\_CORDUNPLUGGED</span></span>                                         | <span data-ttu-id="0cda9-254">「電源故障：插線線」電腦已中斷。</span><span class="sxs-lookup"><span data-stu-id="0cda9-254">"Power Failure: Cord Unplugged" The computer was unplugged.</span></span><br/>                                                                                                                                                                           |
| <span data-ttu-id="0cda9-255">SHTDN \_ 原因 \_ 主要 \_ POWER \| SHTDN \_ 原因 \_ 次要 \_ 環境</span><span class="sxs-lookup"><span data-stu-id="0cda9-255">SHTDN\_REASON\_MAJOR\_POWER \| SHTDN\_REASON\_MINOR\_ENVIRONMENT</span></span>                                           | <span data-ttu-id="0cda9-256">「電源故障：環境」發生電源中斷。</span><span class="sxs-lookup"><span data-stu-id="0cda9-256">"Power Failure: Environment" There was a power outage.</span></span><br/>                                                                                                                                                                                |
| <span data-ttu-id="0cda9-257">SHTDN \_ 原因 \_ 主要 \_ 系統 \| SHTDN \_ 原因 \_ 次要 \_ 藍屏</span><span class="sxs-lookup"><span data-stu-id="0cda9-257">SHTDN\_REASON\_MAJOR\_SYSTEM \| SHTDN\_REASON\_MINOR\_BLUESCREEN</span></span>                                           | <span data-ttu-id="0cda9-258">「系統失敗：停止錯誤」電腦顯示藍色螢幕損毀事件。</span><span class="sxs-lookup"><span data-stu-id="0cda9-258">"System Failure: Stop error" The computer displayed a blue screen crash event.</span></span><br/>                                                                                                                                                        |
| <span data-ttu-id="0cda9-259">SHTDN \_ 原因 \_ 主要 \_ 系統 \| SHTDN \_ 原因 \_ 次要 \_ 網路連線 \_ 能力</span><span class="sxs-lookup"><span data-stu-id="0cda9-259">SHTDN\_REASON\_MAJOR\_SYSTEM \| SHTDN\_REASON\_MINOR\_NETWORK\_CONNECTIVITY</span></span>                                | <span data-ttu-id="0cda9-260">「網路連線中斷 (未規劃的) 」電腦必須因為網路連線問題而關閉。</span><span class="sxs-lookup"><span data-stu-id="0cda9-260">"Loss of network connectivity (Unplanned)" The computer needs to be shut down due to a network connectivity issue.</span></span><br/>                                                                                                                    |
| <span data-ttu-id="0cda9-261">SHTDN \_ 原因 \_ 主要 \_ 系統 \| SHTDN \_ 原因 \_ 次要 \_ 安全性</span><span class="sxs-lookup"><span data-stu-id="0cda9-261">SHTDN\_REASON\_MAJOR\_SYSTEM \| SHTDN\_REASON\_MINOR\_SECURITY</span></span>                                             | <span data-ttu-id="0cda9-262">「安全性問題」電腦因安全性問題而需要關機。</span><span class="sxs-lookup"><span data-stu-id="0cda9-262">"Security issue" The computer needs to be shut down due to a security issue.</span></span><br/>                                                                                                                                                          |



 

<span data-ttu-id="0cda9-263">您也可以定義自己的關機原因，並將其新增至登錄。</span><span class="sxs-lookup"><span data-stu-id="0cda9-263">You can also define your own shutdown reasons and add them to the registry.</span></span> <span data-ttu-id="0cda9-264">每個原因代碼都應該以登錄值的形式儲存在下列機碼中：**HKEY \_ LOCAL \_ MACHINE \\ SOFTWARE \\ Microsoft \\ Windows \\ CurrentVersion \\ 可靠性 \\ 使用者 \\<預設 \_ 系統 \_ 語言 \_ 識別碼>**</span><span class="sxs-lookup"><span data-stu-id="0cda9-264">Each reason code should be stored as a registry value in the following key:**HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Reliability\\UserDefined\\<default\_system\_language\_ID>**</span></span>

<span data-ttu-id="0cda9-265">此索引鍵包含下列格式的值名稱： *xxxxx*;*nnn*;*nnnnn*。</span><span class="sxs-lookup"><span data-stu-id="0cda9-265">This key contains value names of the following form: *xxxxx*;*nnn*;*nnnnn*.</span></span> <span data-ttu-id="0cda9-266">分號會分隔值名稱的元件。</span><span class="sxs-lookup"><span data-stu-id="0cda9-266">The semicolons delimit the components of a value name.</span></span>

<dl> <dt>

<span data-ttu-id="0cda9-267"><span id="xxxxx"></span><span id="XXXXX"></span>*Xxxxx*</span><span class="sxs-lookup"><span data-stu-id="0cda9-267"><span id="xxxxx"></span><span id="XXXXX"></span>*xxxxx*</span></span>
</dt> <dd>

<span data-ttu-id="0cda9-268">下列其中一到五個控制項旗標 (不能使用任何其他字元) 。</span><span class="sxs-lookup"><span data-stu-id="0cda9-268">One to five of the following control flags (no other characters can be used).</span></span>



| <span data-ttu-id="0cda9-269">旗標</span><span class="sxs-lookup"><span data-stu-id="0cda9-269">Flag</span></span> | <span data-ttu-id="0cda9-270">描述</span><span class="sxs-lookup"><span data-stu-id="0cda9-270">Description</span></span>                                                                                       |
|------|---------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0cda9-271">P</span><span class="sxs-lookup"><span data-stu-id="0cda9-271">P</span></span>    | <span data-ttu-id="0cda9-272">規劃的關機;否則，會發生未計畫的關機。</span><span class="sxs-lookup"><span data-stu-id="0cda9-272">Planned shutdown; otherwise, an unplanned shutdown.</span></span>                                               |
| <span data-ttu-id="0cda9-273">C</span><span class="sxs-lookup"><span data-stu-id="0cda9-273">C</span></span>    | <span data-ttu-id="0cda9-274">需要批註。</span><span class="sxs-lookup"><span data-stu-id="0cda9-274">A comment is required.</span></span> <span data-ttu-id="0cda9-275">此旗標必須與 S 一起使用。</span><span class="sxs-lookup"><span data-stu-id="0cda9-275">This flag must be used with S.</span></span><br/>                                  |
| <span data-ttu-id="0cda9-276">B</span><span class="sxs-lookup"><span data-stu-id="0cda9-276">B</span></span>    | <span data-ttu-id="0cda9-277">需要識別碼。</span><span class="sxs-lookup"><span data-stu-id="0cda9-277">An ID is required.</span></span> <span data-ttu-id="0cda9-278">此旗標必須搭配 D 使用。</span><span class="sxs-lookup"><span data-stu-id="0cda9-278">This flag must be used with D.</span></span><br/>                                      |
| <span data-ttu-id="0cda9-279">S</span><span class="sxs-lookup"><span data-stu-id="0cda9-279">S</span></span>    | <span data-ttu-id="0cda9-280">顯示 [預期的關機] 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="0cda9-280">Display the expected shutdown dialog box.</span></span> <span data-ttu-id="0cda9-281">必須使用 S、D 或兩者都是。</span><span class="sxs-lookup"><span data-stu-id="0cda9-281">Either S, D, or both S and D must be used.</span></span><br/>   |
| <span data-ttu-id="0cda9-282">D</span><span class="sxs-lookup"><span data-stu-id="0cda9-282">D</span></span>    | <span data-ttu-id="0cda9-283">顯示 [未預期的關機] 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="0cda9-283">Display the unexpected shutdown dialog box.</span></span> <span data-ttu-id="0cda9-284">必須使用 S、D 或兩者都是。</span><span class="sxs-lookup"><span data-stu-id="0cda9-284">Either S, D, or both S and D must be used.</span></span><br/> |



 

<span data-ttu-id="0cda9-285">使用旗標的順序並不重要。</span><span class="sxs-lookup"><span data-stu-id="0cda9-285">The order in which the flags are used is not important.</span></span> <span data-ttu-id="0cda9-286">例如，CSP 表示已規劃的關機，其中會顯示預期的關機對話方塊，並需要批註。</span><span class="sxs-lookup"><span data-stu-id="0cda9-286">For example, CSP indicates a planned shutdown where the expected shutdown dialog box is displayed, and a comment is required.</span></span>

</dd> <dt>

<span data-ttu-id="0cda9-287"><span id="nnn"></span><span id="NNN"></span>*nnn*</span><span class="sxs-lookup"><span data-stu-id="0cda9-287"><span id="nnn"></span><span id="NNN"></span>*nnn*</span></span>
</dt> <dd>

<span data-ttu-id="0cda9-288">主要原因。</span><span class="sxs-lookup"><span data-stu-id="0cda9-288">Major reason.</span></span> <span data-ttu-id="0cda9-289">此元件必須是範圍64-255 中的數位。</span><span class="sxs-lookup"><span data-stu-id="0cda9-289">This component must be a number in the range 64-255.</span></span> <span data-ttu-id="0cda9-290">範圍0-63 是保留供系統使用。</span><span class="sxs-lookup"><span data-stu-id="0cda9-290">The range 0-63 is reserved for use by the system.</span></span>

</dd> <dt>

<span data-ttu-id="0cda9-291"><span id="nnnnn"></span><span id="NNNNN"></span>*nnnnn*</span><span class="sxs-lookup"><span data-stu-id="0cda9-291"><span id="nnnnn"></span><span id="NNNNN"></span>*nnnnn*</span></span>
</dt> <dd>

<span data-ttu-id="0cda9-292">次要原因。</span><span class="sxs-lookup"><span data-stu-id="0cda9-292">Minor reason.</span></span> <span data-ttu-id="0cda9-293">此元件必須在0-65535 範圍內。</span><span class="sxs-lookup"><span data-stu-id="0cda9-293">This component must be in the range 0-65535.</span></span>

</dd> </dl>

<span data-ttu-id="0cda9-294">自訂原因會依主要原因號碼在使用者介面中排序，然後依次要原因號碼排序。</span><span class="sxs-lookup"><span data-stu-id="0cda9-294">Custom reasons are sorted in the user interface by major reason number, then by minor reason number.</span></span> <span data-ttu-id="0cda9-295">沒有兩個自訂原因可能會使用相同的主要和次要原因，除非有一個已規劃的原因，另一個則未計畫。</span><span class="sxs-lookup"><span data-stu-id="0cda9-295">No two custom reasons can use the same major and minor reasons, unless one is planned and the other is unplanned.</span></span> <span data-ttu-id="0cda9-296">否則，系統將會使用第一個實例，並忽略其他實例。</span><span class="sxs-lookup"><span data-stu-id="0cda9-296">Otherwise, the system will use the first instance and ignore the others.</span></span>

<span data-ttu-id="0cda9-297">每個登錄值的資料都是兩個字串（以 \\ n r 分隔） \\ 。</span><span class="sxs-lookup"><span data-stu-id="0cda9-297">The data for each registry value is two strings, separated by \\n\\r.</span></span> <span data-ttu-id="0cda9-298">第一個字串是要在 [關機] 對話方塊中顯示的標題字串，並寫入事件記錄檔。</span><span class="sxs-lookup"><span data-stu-id="0cda9-298">The first string is a title string to be displayed in the shutdown dialog box, and written to the event log.</span></span> <span data-ttu-id="0cda9-299">大小上限為64個字元。</span><span class="sxs-lookup"><span data-stu-id="0cda9-299">The maximum size is 64 characters.</span></span> <span data-ttu-id="0cda9-300">標題字串必須是唯一的。</span><span class="sxs-lookup"><span data-stu-id="0cda9-300">Title strings must be unique.</span></span> <span data-ttu-id="0cda9-301">自訂標題不能符合系統所定義的標準標題，或其他自訂標題。</span><span class="sxs-lookup"><span data-stu-id="0cda9-301">Custom titles cannot match the standard titles defined by the system, or another custom title.</span></span> <span data-ttu-id="0cda9-302">第二個字串是要在關機對話方塊中顯示的描述字串;這是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="0cda9-302">The second string is a description string to be displayed in the shutdown dialog box; it is optional.</span></span> <span data-ttu-id="0cda9-303">大小上限為256個字元。</span><span class="sxs-lookup"><span data-stu-id="0cda9-303">The maximum size is 256 characters.</span></span>

## <a name="requirements"></a><span data-ttu-id="0cda9-304">規格需求</span><span class="sxs-lookup"><span data-stu-id="0cda9-304">Requirements</span></span>



| <span data-ttu-id="0cda9-305">需求</span><span class="sxs-lookup"><span data-stu-id="0cda9-305">Requirement</span></span> | <span data-ttu-id="0cda9-306">值</span><span class="sxs-lookup"><span data-stu-id="0cda9-306">Value</span></span> |
|-------------------------------------|-------------------------------------------------------------------------------------|
| <span data-ttu-id="0cda9-307">最低支援的用戶端</span><span class="sxs-lookup"><span data-stu-id="0cda9-307">Minimum supported client</span></span><br/> | <span data-ttu-id="0cda9-308">Windows XP \[ 桌面應用程式 \| UWP 應用程式\]</span><span class="sxs-lookup"><span data-stu-id="0cda9-308">Windows XP \[desktop apps \| UWP apps\]</span></span><br/>                                  |
| <span data-ttu-id="0cda9-309">最低支援的伺服器</span><span class="sxs-lookup"><span data-stu-id="0cda9-309">Minimum supported server</span></span><br/> | <span data-ttu-id="0cda9-310">Windows Server 2003 \[ desktop app \| UWP 應用程式\]</span><span class="sxs-lookup"><span data-stu-id="0cda9-310">Windows Server 2003 \[desktop apps \| UWP apps\]</span></span><br/>                         |
| <span data-ttu-id="0cda9-311">標頭</span><span class="sxs-lookup"><span data-stu-id="0cda9-311">Header</span></span><br/>                   | <dl> <span data-ttu-id="0cda9-312"><dt>原因。h</dt></span><span class="sxs-lookup"><span data-stu-id="0cda9-312"><dt>Reason.h</dt></span></span> </dl> |



 

 
