---
title: 執行和同步處理命令清單
description: 在 Microsoft Direct3D 12 中，不再有舊版的立即模式。
ms.assetid: D5013102-2302-4D66-8F59-079C03BA65FD
keywords:
- 命令清單
- 同步處理 - synchronization
- 執行
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 90d5362d0f093c7c1034e03d396ad28c40d4d600
ms.sourcegitcommit: 170bc12e9724d00cecbb96d57c7226c51e135dee
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/07/2021
ms.locfileid: "113489176"
---
# <a name="executing-and-synchronizing-command-lists"></a><span data-ttu-id="e9d12-106">執行和同步處理命令清單</span><span class="sxs-lookup"><span data-stu-id="e9d12-106">Executing and Synchronizing Command Lists</span></span>

<span data-ttu-id="e9d12-107">在 Microsoft Direct3D 12 中，不再有舊版的立即模式。</span><span class="sxs-lookup"><span data-stu-id="e9d12-107">In Microsoft Direct3D 12, the immediate mode of previous versions is no longer present.</span></span> <span data-ttu-id="e9d12-108">相反地，應用程式會建立命令清單和套件組合，然後記錄 GPU 命令集。</span><span class="sxs-lookup"><span data-stu-id="e9d12-108">Instead, apps create command lists and bundles and then record sets of GPU commands.</span></span> <span data-ttu-id="e9d12-109">命令佇列可用來提交要執行的命令清單。</span><span class="sxs-lookup"><span data-stu-id="e9d12-109">Command queues are used to submit command lists to be executed.</span></span> <span data-ttu-id="e9d12-110">這種模型可讓開發人員更充分掌控圖形處理器 (GPU) 和 CPU 的使用效率。</span><span class="sxs-lookup"><span data-stu-id="e9d12-110">This model allows developers to have more control over the efficient usage of both graphics processing unit (GPU) and CPU.</span></span>

-   [<span data-ttu-id="e9d12-111">命令佇列總覽</span><span class="sxs-lookup"><span data-stu-id="e9d12-111">Command queue overview</span></span>](#command-queue-overview)
-   [<span data-ttu-id="e9d12-112">初始化命令佇列</span><span class="sxs-lookup"><span data-stu-id="e9d12-112">Initializing a command queue</span></span>](#initializing-a-command-queue)
-   [<span data-ttu-id="e9d12-113">執行命令清單</span><span class="sxs-lookup"><span data-stu-id="e9d12-113">Executing command Lists</span></span>](#executing-command-lists)
-   [<span data-ttu-id="e9d12-114">從多個命令佇列存取資源</span><span class="sxs-lookup"><span data-stu-id="e9d12-114">Accessing resources from multiple command queues</span></span>](#accessing-resources-from-multiple-command-queues)
-   [<span data-ttu-id="e9d12-115">使用命令佇列圍牆同步處理命令清單執行</span><span class="sxs-lookup"><span data-stu-id="e9d12-115">Synchronizing command list execution using command queue fences</span></span>](#synchronizing-command-list-execution-using-command-queue-fences)
-   [<span data-ttu-id="e9d12-116">同步處理命令佇列所存取的資源</span><span class="sxs-lookup"><span data-stu-id="e9d12-116">Synchronizing resources accessed by command queues</span></span>](#synchronizing-resources-accessed-by-command-queues)
-   [<span data-ttu-id="e9d12-117">磚資源的命令佇列支援</span><span class="sxs-lookup"><span data-stu-id="e9d12-117">Command queue support for tiled resources</span></span>](#command-queue-support-for-tiled-resources)
-   [<span data-ttu-id="e9d12-118">相關主題</span><span class="sxs-lookup"><span data-stu-id="e9d12-118">Related topics</span></span>](#related-topics)

## <a name="command-queue-overview"></a><span data-ttu-id="e9d12-119">命令佇列總覽</span><span class="sxs-lookup"><span data-stu-id="e9d12-119">Command queue overview</span></span>

<span data-ttu-id="e9d12-120">Direct3D 12 命令佇列取代立即模式工作提交的執行時間和驅動程式同步處理，先前不公開給開發人員，並使用 Api 來明確管理平行存取、平行處理原則和同步處理。</span><span class="sxs-lookup"><span data-stu-id="e9d12-120">Direct3D 12 command queues replace runtime and driver synchronization of immediate mode work submission, previously not-exposed to the developer, with APIs for explicitly managing concurrency, parallelism and synchronization.</span></span> <span data-ttu-id="e9d12-121">命令佇列為開發人員提供下列改良功能：</span><span class="sxs-lookup"><span data-stu-id="e9d12-121">Command queues provide the following improvements for developers:</span></span>

-   <span data-ttu-id="e9d12-122">允許開發人員避免非預期的同步處理造成意外的低效率。</span><span class="sxs-lookup"><span data-stu-id="e9d12-122">Allows developers to avoid accidental inefficiencies caused by unexpected synchronization.</span></span>
-   <span data-ttu-id="e9d12-123">可讓開發人員在較高的層級引進同步處理，以便更有效率且更精確地判斷所需的同步處理。</span><span class="sxs-lookup"><span data-stu-id="e9d12-123">Allows developers to introduce synchronization at a higher level where the required synchronization can be determined more efficiently and accurately.</span></span> <span data-ttu-id="e9d12-124">這表示執行時間和圖形驅動程式將花費較少的時間被動工程平行處理原則。</span><span class="sxs-lookup"><span data-stu-id="e9d12-124">This means the runtime and the graphics driver will spend less time reactively engineering parallelism.</span></span>
-   <span data-ttu-id="e9d12-125">更明確地進行昂貴的作業。</span><span class="sxs-lookup"><span data-stu-id="e9d12-125">Makes expensive operations more explicit.</span></span>

<span data-ttu-id="e9d12-126">這些增強功能可啟用或增強下列案例：</span><span class="sxs-lookup"><span data-stu-id="e9d12-126">These improvements enable or enhance the following scenarios:</span></span>

-   <span data-ttu-id="e9d12-127">提高的平行處理原則：當背景工作負載有個別的佇列可用於前景工作時，應用程式可以使用更深入的佇列，例如影片解碼。</span><span class="sxs-lookup"><span data-stu-id="e9d12-127">Increased parallelism - Applications can use deeper queues for background workloads, such as video decoding, when they have separate queues for foreground work.</span></span>
-   <span data-ttu-id="e9d12-128">非同步和低優先順序的 GPU 工作-命令佇列模型可讓您同時執行低優先順序的 GPU 工作和不可部分完成的作業，讓一個 GPU 執行緒在不封鎖的情況下，使用另一個未同步處理的執行緒的結果。</span><span class="sxs-lookup"><span data-stu-id="e9d12-128">Asynchronous and low-priority GPU work - The command queue model enables concurrent execution of low-priority GPU work and atomic operations that enable one GPU thread to consume the results of another unsynchronized thread without blocking.</span></span>
-   <span data-ttu-id="e9d12-129">高優先順序的計算工作-這項設計可讓需要中斷3D 轉譯的案例，以執行少量的高優先順序計算工作，讓您可以提早取得結果，以在 CPU 上進行額外的處理。</span><span class="sxs-lookup"><span data-stu-id="e9d12-129">High-priority compute work - This design enables scenarios that require interrupting 3D rendering to do a small amount of high-priority compute work so that the result can be obtained early for additional processing on the CPU.</span></span>

## <a name="initializing-a-command-queue"></a><span data-ttu-id="e9d12-130">初始化命令佇列</span><span class="sxs-lookup"><span data-stu-id="e9d12-130">Initializing a command queue</span></span>

<span data-ttu-id="e9d12-131">您可以藉由呼叫 [**ID3D12Device：： CreateCommandQueue**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommandqueue)來建立命令佇列。</span><span class="sxs-lookup"><span data-stu-id="e9d12-131">Command queues can be created by calling [**ID3D12Device::CreateCommandQueue**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommandqueue).</span></span> <span data-ttu-id="e9d12-132">這個方法會採用 [**D3D12 \_ 命令 \_ 清單 \_ 類型**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type) ，指出應該建立哪一種類型的佇列，因此可以將哪些類型的命令提交至該佇列。</span><span class="sxs-lookup"><span data-stu-id="e9d12-132">This method takes a [**D3D12\_COMMAND\_LIST\_TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type) indicating what type of queue should be created, and therefore, what type of commands can be submitted to that queue.</span></span> <span data-ttu-id="e9d12-133">請記住，您只能從直接命令清單呼叫套件組合，而且無法直接提交至佇列。</span><span class="sxs-lookup"><span data-stu-id="e9d12-133">Remember that bundles can only be called from direct command lists and can't be submitted directly to a queue.</span></span> <span data-ttu-id="e9d12-134">支援的佇列類型為：</span><span class="sxs-lookup"><span data-stu-id="e9d12-134">The supported queue types are:</span></span>

-   [<span data-ttu-id="e9d12-135">**D3D12 \_ 命令 \_ 清單 \_ 類型 \_ DIRECT**</span><span class="sxs-lookup"><span data-stu-id="e9d12-135">**D3D12\_COMMAND\_LIST\_TYPE\_DIRECT**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)
-   [<span data-ttu-id="e9d12-136">**D3D12 \_ 命令 \_ 清單 \_ 類型 \_ 計算**</span><span class="sxs-lookup"><span data-stu-id="e9d12-136">**D3D12\_COMMAND\_LIST\_TYPE\_COMPUTE**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)
-   [<span data-ttu-id="e9d12-137">**D3D12 \_ 命令 \_ 清單 \_ 類型 \_ 複製**</span><span class="sxs-lookup"><span data-stu-id="e9d12-137">**D3D12\_COMMAND\_LIST\_TYPE\_COPY**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)

<span data-ttu-id="e9d12-138">一般情況下，直接佇列和命令清單都會接受任何命令、計算佇列和命令清單接受計算和複製相關命令，而複製佇列和命令清單只接受複製命令。</span><span class="sxs-lookup"><span data-stu-id="e9d12-138">In general, DIRECT queues and command lists accept any command, COMPUTE queues and command lists accept compute and copy related commands, and COPY queues and command lists accept only copy commands.</span></span>

## <a name="executing-command-lists"></a><span data-ttu-id="e9d12-139">執行命令清單</span><span class="sxs-lookup"><span data-stu-id="e9d12-139">Executing command Lists</span></span>

<span data-ttu-id="e9d12-140">在您錄製命令清單並取出預設的命令佇列或建立新的佇列之後，您可以藉由呼叫 [**ID3D12CommandQueue：： ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists)來執行命令清單。</span><span class="sxs-lookup"><span data-stu-id="e9d12-140">After you have recorded a command list and either retrieved the default command queue or created a new one, you execute command lists by calling [**ID3D12CommandQueue::ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists).</span></span>

<span data-ttu-id="e9d12-141">應用程式可以從多個執行緒將命令清單提交至任何命令佇列。</span><span class="sxs-lookup"><span data-stu-id="e9d12-141">Applications can submit command lists to any command queue from multiple threads.</span></span> <span data-ttu-id="e9d12-142">執行時間會依照提交循序執行序列化這些要求的工作。</span><span class="sxs-lookup"><span data-stu-id="e9d12-142">The runtime will perform the work of serializing these requests in the order of submission.</span></span>

<span data-ttu-id="e9d12-143">執行時間會驗證提交的命令清單，如果違反任何限制，則會捨棄 [**ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists) 的呼叫。</span><span class="sxs-lookup"><span data-stu-id="e9d12-143">The runtime will validate the submitted command list and will drop the call to [**ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists) if any of the restrictions are violated.</span></span> <span data-ttu-id="e9d12-144">由於下列原因，將會捨棄呼叫：</span><span class="sxs-lookup"><span data-stu-id="e9d12-144">Calls will be dropped for the following reasons:</span></span>

-   <span data-ttu-id="e9d12-145">提供的命令清單是組合，而不是直接命令清單。</span><span class="sxs-lookup"><span data-stu-id="e9d12-145">The supplied command list is a bundle, not a direct command list.</span></span>
-   <span data-ttu-id="e9d12-146">未在提供的命令清單上呼叫 [**ID3D12GraphicsCommandList：： Close**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close) ，以完成錄製。</span><span class="sxs-lookup"><span data-stu-id="e9d12-146">[**ID3D12GraphicsCommandList::Close**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close) has not been called on the supplied command list to complete recording.</span></span>
-   <span data-ttu-id="e9d12-147">已在命令建立器上呼叫 [**ID3D12CommandAllocator：： Reset**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandallocator-reset) ，因為它已記錄。</span><span class="sxs-lookup"><span data-stu-id="e9d12-147">[**ID3D12CommandAllocator::Reset**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandallocator-reset) has been called on the command allocator associated with the command list since it was recorded.</span></span> <span data-ttu-id="e9d12-148">如需有關命令配置器的詳細資訊，請參閱 [建立和錄製命令清單和](recording-command-lists-and-bundles.md)組合。</span><span class="sxs-lookup"><span data-stu-id="e9d12-148">For more information about command allocators, see [Creating and recording command lists and bundles](recording-command-lists-and-bundles.md).</span></span>
-   <span data-ttu-id="e9d12-149">命令佇列隔離表示之前的命令清單執行尚未完成。</span><span class="sxs-lookup"><span data-stu-id="e9d12-149">The command queue fence indicates that a previous execution of the command list has not yet completed.</span></span> <span data-ttu-id="e9d12-150">以下將詳細討論命令佇列的範圍。</span><span class="sxs-lookup"><span data-stu-id="e9d12-150">Command queue fences are discussed in detail below.</span></span>
-   <span data-ttu-id="e9d12-151">查詢的前後狀態（使用 [**ID3D12GraphicsCommandList：： BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) 和 [**ID3D12GraphicsCommandList：： EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery)的呼叫設定）未正確地相符。</span><span class="sxs-lookup"><span data-stu-id="e9d12-151">The before and after states of queries, set with calls to [**ID3D12GraphicsCommandList::BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) and [**ID3D12GraphicsCommandList::EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery), are not matched properly.</span></span>
-   <span data-ttu-id="e9d12-152">資源轉換屏障的前後狀態未正確地相符。</span><span class="sxs-lookup"><span data-stu-id="e9d12-152">The before and after states of resource transition barriers are not matched properly.</span></span> <span data-ttu-id="e9d12-153">如需詳細資訊，請參閱 [使用資源阻礙來同步處理資源狀態](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md)。</span><span class="sxs-lookup"><span data-stu-id="e9d12-153">For more information, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="accessing-resources-from-multiple-command-queues"></a><span data-ttu-id="e9d12-154">從多個命令佇列存取資源</span><span class="sxs-lookup"><span data-stu-id="e9d12-154">Accessing resources from multiple command queues</span></span>

<span data-ttu-id="e9d12-155">執行時間有幾個規則會限制來自多個命令佇列的資源存取。</span><span class="sxs-lookup"><span data-stu-id="e9d12-155">There are a couple of rules imposed by the runtime that restrict the access of resources from multiple command queues.</span></span> <span data-ttu-id="e9d12-156">這些規則如下：</span><span class="sxs-lookup"><span data-stu-id="e9d12-156">These rules are as follows:</span></span>

1. <span data-ttu-id="e9d12-157">無法同時從多個命令佇列寫入資源。</span><span class="sxs-lookup"><span data-stu-id="e9d12-157">A resource cannot be written to from multiple command queues simultaneously.</span></span> <span data-ttu-id="e9d12-158">當資源轉換為佇列上的可寫入狀態時，該佇列會被視為獨佔擁有，而且必須轉換到讀取或一般狀態 (請參閱 [**D3D12_RESOURCE_STATES**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_resource_states)) ，才能讓另一個佇列存取該資源。</span><span class="sxs-lookup"><span data-stu-id="e9d12-158">When a resource has transitioned to a writeable state on a queue, it is considered exclusively owned by that queue, and must transition to a read or COMMON state (refer to [**D3D12_RESOURCE_STATES**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_resource_states)) before it can be accessed by another queue.</span></span>

2. <span data-ttu-id="e9d12-159">處於讀取狀態時，可以從多個命令佇列同時讀取資源（包括跨進程），並以其讀取狀態為基礎。</span><span class="sxs-lookup"><span data-stu-id="e9d12-159">When in a read state, a resource can be read from multiple command queues simultaneously, including across processes, based on its read state.</span></span>

<span data-ttu-id="e9d12-160">如需資源存取限制和使用資源阻礙來同步存取資源的詳細資訊，請參閱 [使用資源阻礙來同步處理資源狀態](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md)。</span><span class="sxs-lookup"><span data-stu-id="e9d12-160">For more information about resource access restrictions and using resource barriers to synchronize access to resources, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="synchronizing-command-list-execution-using-command-queue-fences"></a><span data-ttu-id="e9d12-161">使用命令佇列圍牆同步處理命令清單執行</span><span class="sxs-lookup"><span data-stu-id="e9d12-161">Synchronizing command list execution using command queue fences</span></span>

<span data-ttu-id="e9d12-162">在 Direct3D 12 中對多個平行命令佇列的支援，可讓您更靈活地控制 GPU 上非同步工作的優先順序。</span><span class="sxs-lookup"><span data-stu-id="e9d12-162">The support for multiple parallel command queues in Direct3D 12 gives you more flexibility and control over the prioritization of asynchronous work on the GPU.</span></span> <span data-ttu-id="e9d12-163">這種設計也表示應用程式必須明確管理工作的同步處理，特別是當命令清單中的命令清單相依于另一個命令佇列正在操作的資源時。</span><span class="sxs-lookup"><span data-stu-id="e9d12-163">This design also means that apps need to explicitly manage the synchronization of work, especially when the command lists in one queue depend on resources that are being operated on by another command queue.</span></span> <span data-ttu-id="e9d12-164">其中一些範例包括等候計算佇列上的作業完成，讓結果可用於3D 佇列上的轉譯作業，並等候3D 作業完成，讓計算佇列上的作業可以存取資源以進行寫入。</span><span class="sxs-lookup"><span data-stu-id="e9d12-164">Some examples of this include waiting for an operation on a compute queue to complete so that the result can be used for a rendering operation on the 3D queue, and waiting for a 3D operation to complete so that an operation on the compute queue can access a resource for writing.</span></span> <span data-ttu-id="e9d12-165">為了讓佇列之間的工作同步處理，Direct3D 12 使用了 [**ID3D12Fence**](/windows/desktop/api/d3d12/nn-d3d12-id3d12fence) 介面在 API 中表示的圍牆概念。</span><span class="sxs-lookup"><span data-stu-id="e9d12-165">To enable the synchronization of work between queues, Direct3D 12 uses the concept of fences, which are represented in the API by the [**ID3D12Fence**](/windows/desktop/api/d3d12/nn-d3d12-id3d12fence) interface.</span></span>

<span data-ttu-id="e9d12-166">範圍是一個整數，代表目前正在處理的工作單位。</span><span class="sxs-lookup"><span data-stu-id="e9d12-166">A fence is an integer that represents the current unit of work being processed.</span></span> <span data-ttu-id="e9d12-167">當應用程式透過呼叫 [**ID3D12CommandQueue：：信號**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-signal)來推進範圍時，會更新整數。</span><span class="sxs-lookup"><span data-stu-id="e9d12-167">When the app advances the fence, by calling [**ID3D12CommandQueue::Signal**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-signal), the integer is updated.</span></span> <span data-ttu-id="e9d12-168">應用程式可以檢查範圍的值，並判斷是否已完成工作單位，以決定是否可以啟動後續作業。</span><span class="sxs-lookup"><span data-stu-id="e9d12-168">Apps can check the value of a fence and determine if a unit of work has been completed in order to decide whether a subsequent operation can be started.</span></span>

## <a name="synchronizing-resources-accessed-by-command-queues"></a><span data-ttu-id="e9d12-169">同步處理命令佇列所存取的資源</span><span class="sxs-lookup"><span data-stu-id="e9d12-169">Synchronizing resources accessed by command queues</span></span>

<span data-ttu-id="e9d12-170">在 Direct3D 12 中，將某些資源的狀態同步處理時，會有資源阻礙。</span><span class="sxs-lookup"><span data-stu-id="e9d12-170">In Direct3D 12, synchronizing the state of some resources is implemented with resource barriers.</span></span> <span data-ttu-id="e9d12-171">在每個資源屏障中，應用程式會宣告資源的前後狀態。</span><span class="sxs-lookup"><span data-stu-id="e9d12-171">At each resource barrier, an app declares the before and after states of a resource.</span></span> <span data-ttu-id="e9d12-172">常見的範例是讓資源在著色器資源檢視之間轉換成轉譯目標視圖。</span><span class="sxs-lookup"><span data-stu-id="e9d12-172">A common example is for a resource to transition between a shader resource view to a render target view.</span></span> <span data-ttu-id="e9d12-173">在大部分的情況下，這些資源阻礙都是在命令清單中進行管理。</span><span class="sxs-lookup"><span data-stu-id="e9d12-173">For the most part, these resource barriers are managed within command lists.</span></span> <span data-ttu-id="e9d12-174">啟用調試層時，系統會強制所有資源的之前和之後狀態相符，以保證資源在關卡轉換時處於特定作業的正確狀態。</span><span class="sxs-lookup"><span data-stu-id="e9d12-174">When the debug layers are enabled, the system enforces that the before and after states of all resources match up, guaranteeing that the resource is in the correct state for a particular operation at a barrier transition.</span></span>

<span data-ttu-id="e9d12-175">如需有關同步處理資源狀態的詳細資訊，請參閱 [使用資源阻礙來同步處理資源狀態](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md)。</span><span class="sxs-lookup"><span data-stu-id="e9d12-175">For more information about synchronizing resource state, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="command-queue-support-for-tiled-resources"></a><span data-ttu-id="e9d12-176">磚資源的命令佇列支援</span><span class="sxs-lookup"><span data-stu-id="e9d12-176">Command queue support for tiled resources</span></span>

<span data-ttu-id="e9d12-177">管理透過 Direct3D 11 中的 [**ID3D11DeviceCoNtext2**](/windows/desktop/api/d3d11_2/nn-d3d11_2-id3d11devicecontext2) 介面公開之磚資源的方法，是由 direct3d 12 中的 [**ID3D12CommandQueue**](/windows/desktop/api/d3d12/nn-d3d12-id3d12commandqueue) 介面所提供。</span><span class="sxs-lookup"><span data-stu-id="e9d12-177">Methods for managing tiled resources, which were exposed through the [**ID3D11DeviceContext2**](/windows/desktop/api/d3d11_2/nn-d3d11_2-id3d11devicecontext2) interface in Direct3D 11, are provided by the [**ID3D12CommandQueue**](/windows/desktop/api/d3d12/nn-d3d12-id3d12commandqueue) interface in Direct3D 12.</span></span> <span data-ttu-id="e9d12-178">這些方法包括：</span><span class="sxs-lookup"><span data-stu-id="e9d12-178">These methods include:</span></span>



| <span data-ttu-id="e9d12-179">方法</span><span class="sxs-lookup"><span data-stu-id="e9d12-179">Method</span></span>                                                              | <span data-ttu-id="e9d12-180">描述</span><span class="sxs-lookup"><span data-stu-id="e9d12-180">Description</span></span>                                                                                              |
|---------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="e9d12-181">**CopyTileMappings**</span><span class="sxs-lookup"><span data-stu-id="e9d12-181">**CopyTileMappings**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-copytilemappings)     | <span data-ttu-id="e9d12-182">將來源磚資源的對應複製到已並排顯示的資源。</span><span class="sxs-lookup"><span data-stu-id="e9d12-182">Copies mappings from a source tiled resource to a destination tiled resource.</span></span><br/>                 |
| [<span data-ttu-id="e9d12-183">**UpdateTileMappings**</span><span class="sxs-lookup"><span data-stu-id="e9d12-183">**UpdateTileMappings**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-updatetilemappings) | <span data-ttu-id="e9d12-184">將並排顯示資源中的磚位置對應更新為資源堆積中的記憶體位置。</span><span class="sxs-lookup"><span data-stu-id="e9d12-184">Updates mappings of tile locations in tiled resources to memory locations in a resource heap.</span></span><br/> |



 

<span data-ttu-id="e9d12-185">如需在 Direct3D 12 應用程式中使用已磚資源的詳細資訊，請參閱 Direct3D11 並排顯示的 [資源](/windows/desktop/direct3d11/tiled-resources)。</span><span class="sxs-lookup"><span data-stu-id="e9d12-185">For more information about using tiled resources in Direct3D 12 apps, refer to [Direct3D11 Tiled Resources](/windows/desktop/direct3d11/tiled-resources).</span></span>

## <a name="related-topics"></a><span data-ttu-id="e9d12-186">相關主題</span><span class="sxs-lookup"><span data-stu-id="e9d12-186">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e9d12-187">在 Direct3D 12 中提交工作</span><span class="sxs-lookup"><span data-stu-id="e9d12-187">Work Submission in Direct3D 12</span></span>](command-queues-and-command-lists.md)
</dt> </dl>

 

