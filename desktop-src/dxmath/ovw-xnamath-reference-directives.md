---
description: 編譯器指示詞會微調 DirectXMath 程式庫所使用的功能。
ms.assetid: c1746b7b-7e7e-2453-77eb-17f859a38fe2
title: DirectXMath 程式庫編譯器指示詞
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: da7419afbab80d35feea135a25f7c5892b137a08
ms.sourcegitcommit: adba238660d8a5f4fe98fc6f5d105d56aac3a400
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/09/2021
ms.locfileid: "111826773"
---
# <a name="directxmath-library-compiler-directives"></a><span data-ttu-id="b6d55-103">DirectXMath 程式庫編譯器指示詞</span><span class="sxs-lookup"><span data-stu-id="b6d55-103">DirectXMath Library compiler directives</span></span>

<span data-ttu-id="b6d55-104">編譯器指示詞會微調 DirectXMath 程式庫所使用的功能。</span><span class="sxs-lookup"><span data-stu-id="b6d55-104">Compiler directives tune the functionality that the DirectXMath library uses.</span></span>



| <span data-ttu-id="b6d55-105">指示詞</span><span class="sxs-lookup"><span data-stu-id="b6d55-105">Directive</span></span>                     | <span data-ttu-id="b6d55-106">描述</span><span class="sxs-lookup"><span data-stu-id="b6d55-106">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|-------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="b6d55-107">\_XM \_ 無 \_ 內建函式\_</span><span class="sxs-lookup"><span data-stu-id="b6d55-107">\_XM\_NO\_INTRINSICS\_</span></span>        | <span data-ttu-id="b6d55-108">如果 \_ \_ 沒有 \_ \_ 定義任何內建函式，則會在不使用任何平臺特定內建函式的情況下，執行 DirectXMath 作業。</span><span class="sxs-lookup"><span data-stu-id="b6d55-108">When \_XM\_NO\_INTRINSICS\_ is defined, DirectXMath operations are implemented without using any platform-specific intrinsics.</span></span> <span data-ttu-id="b6d55-109">相反地，DirectXMath 只會使用標準的浮點運算。</span><span class="sxs-lookup"><span data-stu-id="b6d55-109">Instead, DirectXMath uses only standard floating point operations.</span></span><br/> <span data-ttu-id="b6d55-110">依預設， \_ \_ \_ \_ 未定義非內建函式。</span><span class="sxs-lookup"><span data-stu-id="b6d55-110">By default, \_XM\_NO\_INTRINSICS\_ is not defined.</span></span><br/> <span data-ttu-id="b6d55-111">這個指示詞會覆寫所有其他指示詞。</span><span class="sxs-lookup"><span data-stu-id="b6d55-111">This directive overrides all other directives.</span></span> <span data-ttu-id="b6d55-112">因此，建議您先檢查 [無內建]， \_ \_ \_ \_ 再判斷 [ \_ xm \_ ARM 霓虹燈] \_ \_ 內建函式 \_ 或 \_ \_ SSE SSE \_ 內建函式 \_ 的狀態。</span><span class="sxs-lookup"><span data-stu-id="b6d55-112">Therefore, we recommend that you check for \_XM\_NO\_INTRINSICS\_ before you determine the status of \_XM\_ARM\_NEON\_INTRINSICS\_ or \_XM\_SSE\_INTRINSICS\_.</span></span><br/>                                                                              |
| <span data-ttu-id="b6d55-113">\_XM \_ SSE \_ 內建函式\_</span><span class="sxs-lookup"><span data-stu-id="b6d55-113">\_XM\_SSE\_INTRINSICS\_</span></span>       | <span data-ttu-id="b6d55-114">當 \_ \_ \_ 定義了 XM SSE 內建函式時，程式 \_ 代碼會編譯成在支援這些指令集的平臺上使用支援 SSE 和 SSE2。</span><span class="sxs-lookup"><span data-stu-id="b6d55-114">When \_XM\_SSE\_INTRINSICS\_ is defined, code is compiled to use supporting SSE and SSE2 on platforms that support these instruction sets.</span></span><br/> <span data-ttu-id="b6d55-115">提供 SSE 內建函式的 Windows 版本支援 SSE 和 SSE2。</span><span class="sxs-lookup"><span data-stu-id="b6d55-115">The Windows versions providing SSE intrinsics support both SSE and SSE2.</span></span><br/> <span data-ttu-id="b6d55-116">\_\_Sse SSE \_ 內建函式不 \_ 會影響不支援 SSE 和 SSE2 的系統。</span><span class="sxs-lookup"><span data-stu-id="b6d55-116">\_XM\_SSE\_INTRINSICS\_ has no effect on systems that do not support SSE and SSE2.</span></span><br/> <span data-ttu-id="b6d55-117">根據預設， \_ \_ \_ \_ 當使用者針對 Windows 平臺進行編譯時，會定義 XM SSE 內建函式。</span><span class="sxs-lookup"><span data-stu-id="b6d55-117">By default, \_XM\_SSE\_INTRINSICS\_ is defined when users compile for a Windows platform.</span></span><br/> <span data-ttu-id="b6d55-118">DirectXMath 使用標準編譯器定義 (\_ M \_ IX86/ \_ M \_ AMD64) 來判斷 windows x86 或 windows x64 目標。</span><span class="sxs-lookup"><span data-stu-id="b6d55-118">DirectXMath uses the standard compiler defines (\_M\_IX86 / \_M\_AMD64) to determine Windows x86 or Windows x64 targets.</span></span><br/> |
| <span data-ttu-id="b6d55-119">\_XM \_ ARM \_ 霓虹燈 \_ 內建函式\_</span><span class="sxs-lookup"><span data-stu-id="b6d55-119">\_XM\_ARM\_NEON\_INTRINSICS\_</span></span> | <span data-ttu-id="b6d55-120">這表示 DirectXMath 的執行是使用 ARM 霓虹燈內建函式。</span><span class="sxs-lookup"><span data-stu-id="b6d55-120">This indicates the DirectXMath implementation uses of the ARM-NEON intrinsics.</span></span> <span data-ttu-id="b6d55-121">根據預設， \_ \_ \_ \_ \_ 當使用者針對 ARM/ARM64 平臺上的 Windows 進行編譯時，會定義 XM ARM 霓虹燈內建函式。</span><span class="sxs-lookup"><span data-stu-id="b6d55-121">By default, \_XM\_ARM\_NEON\_INTRINSICS\_ is defined when users compile for a Windows on ARM / ARM64 platform.</span></span> <span data-ttu-id="b6d55-122">DirectXMath 會使用標準編譯器定義 (\_ m \_ ARM、 \_ m \_ ARM64) 來判斷這個二進位目標。</span><span class="sxs-lookup"><span data-stu-id="b6d55-122">DirectXMath uses the standard compiler define (\_M\_ARM, \_M\_ARM64) to determine this binary target.</span></span><br/> <span data-ttu-id="b6d55-123">ARM-霓虹燈內建支援是 DirectXMath 的新功能，XNAMath 2.x 並不支援。</span><span class="sxs-lookup"><span data-stu-id="b6d55-123">ARM-NEON intrinsics support is new to DirectXMath and is not supported by XNAMath 2.x.</span></span><br/>                                                                                                                                                                             |
| <span data-ttu-id="b6d55-124">\_XM \_ SSE3 \_ 內建函式\_</span><span class="sxs-lookup"><span data-stu-id="b6d55-124">\_XM\_SSE3\_INTRINSICS\_</span></span>      | <span data-ttu-id="b6d55-125">DirectXMath 3.10 的新。</span><span class="sxs-lookup"><span data-stu-id="b6d55-125">New for DirectXMath 3.10.</span></span> <br/> <span data-ttu-id="b6d55-126">當您指定這個編譯器指示詞時，DirectXMath 函式會實作為在適用的情況下使用 SSE3 內建函式;否則會使用 SSE/SSE2。</span><span class="sxs-lookup"><span data-stu-id="b6d55-126">When you specify this compiler directive, DirectXMath functions are implemented to make use of SSE3 intrinsics where applicable; otherwise it uses SSE/SSE2.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="b6d55-127">\_XM \_ SSE4 \_ 內建函式\_</span><span class="sxs-lookup"><span data-stu-id="b6d55-127">\_XM\_SSE4\_INTRINSICS\_</span></span>      | <span data-ttu-id="b6d55-128">DirectMath 3.09 的新。</span><span class="sxs-lookup"><span data-stu-id="b6d55-128">New for DirectMath 3.09.</span></span> <br/> <span data-ttu-id="b6d55-129">當您指定這個編譯器指示詞時，DirectXMath 函式會實作為使用 SSE3 和 SSE 4.1 內建函式（如果適用）;否則會使用 SSE/SSE2。</span><span class="sxs-lookup"><span data-stu-id="b6d55-129">When you specify this compiler directive, DirectXMath functions are implemented to make use of SSE3 and SSE4.1 intrinsics where applicable; otherwise it uses SSE/SSE2.</span></span> <span data-ttu-id="b6d55-130">當您指定這個編譯器指示詞時，它也會暗示 \_ \_ SSE3 \_ 內建函式 \_ 和 \_ xm \_ SSE \_ 內建函式 \_ 。</span><span class="sxs-lookup"><span data-stu-id="b6d55-130">When you specify this compiler directive, it also implies \_XM\_SSE3\_INTRINSICS\_ and \_XM\_SSE\_INTRINSICS\_.</span></span><br/>                                                                                                                                                                                                                                |
| <span data-ttu-id="b6d55-131">\_XM \_ AVX \_ 內建函式\_</span><span class="sxs-lookup"><span data-stu-id="b6d55-131">\_XM\_AVX\_INTRINSICS\_</span></span>       | <span data-ttu-id="b6d55-132">DirectXMath 3.09 的新。</span><span class="sxs-lookup"><span data-stu-id="b6d55-132">New for DirectXMath 3.09.</span></span> <br/> <span data-ttu-id="b6d55-133">使用/arch： AVX 將會啟用此指示詞。</span><span class="sxs-lookup"><span data-stu-id="b6d55-133">Use of /arch:AVX will enable this directive.</span></span> <br/> <span data-ttu-id="b6d55-134">當您指定這個編譯器指示詞時，DirectXMath 函式會實作為在適用的情況下使用 SSE3、SSE 4.1 和 AVX 128 位內建函式;否則 DirectXMath 會使用 SSE/SSE2。</span><span class="sxs-lookup"><span data-stu-id="b6d55-134">When you specify this compiler directive, DirectXMath functions are implemented to make use of SSE3, SSE4.1, and AVX 128-bit intrinsics where applicable; otherwise DirectXMath uses SSE/SSE2.</span></span> <span data-ttu-id="b6d55-135">當您指定這個編譯器指示詞時，它也會暗示 \_ \_ SSE3 \_ 內建函式、 \_ xm SSE4 內建 \_ \_ \_ 和 \_ xm \_ SSE \_ 內建函式， \_ 並包含一小部分的 SSE3 指令。</span><span class="sxs-lookup"><span data-stu-id="b6d55-135">When you specify this compiler directive, it also implies \_XM\_SSE3\_INTRINSICS, \_XM\_SSE4\_INTRINSICS\_, and \_XM\_SSE\_INTRINSICS\_, and includes a small subset of SSE3 instructions.</span></span> <br/>                                                                    |
| <span data-ttu-id="b6d55-136">XM \_ AVX2 \_ 內建函式\_</span><span class="sxs-lookup"><span data-stu-id="b6d55-136">XM\_AVX2\_INTRINSICS\_</span></span>        | <span data-ttu-id="b6d55-137">DirectXMath 3.11 的新。</span><span class="sxs-lookup"><span data-stu-id="b6d55-137">New for DirectXMath 3.11.</span></span> <br/> <span data-ttu-id="b6d55-138">使用/arch： AVX2 可啟用此指示詞。</span><span class="sxs-lookup"><span data-stu-id="b6d55-138">Use of /arch:AVX2 enables this directive.</span></span> <span data-ttu-id="b6d55-139">當您指定這個編譯器指示詞時，DirectXMath 函式會在適用的情況下使用 AVX2、F16C/CVT16、FMA3、AVX 128 位、SSE 4.1 和 SSE3 內建函式。</span><span class="sxs-lookup"><span data-stu-id="b6d55-139">When you specify this compiler directive, DirectXMath functions make use of AVX2, F16C/CVT16, FMA3, AVX 128-bit, SSE4.1, and SSE3 intrinsics where applicable.</span></span> <span data-ttu-id="b6d55-140">當您使用 \_ xm \_ AVX2 \_ 內建函式時 \_ ，它會隱含的是 [xm F16C 內建] \_ 、[ \_ \_ \_ \_ xm \_ FMA3 \_ 內建函式]、[xm AVX 內建] \_ 、[ \_ \_ \_ \_ \_ xm SSE 內建函式]、[ \_ \_ \_ \_ xm \_ SSE3 \_ \_ \_ \_ \_ \_ 內</span><span class="sxs-lookup"><span data-stu-id="b6d55-140">When you use \_XM\_AVX2\_INTRINSICS\_, it implies \_XM\_F16C\_INTRINSICS\_, \_XM\_FMA3\_INTRINSICS\_, \_XM\_AVX\_INTRINSICS\_, \_XM\_SSE\_INTRINSICS\_, \_XM\_SSE3\_INTRINSICS\_, and \_XM\_SSE4\_INTRINSICS\_.</span></span><br/>                                                                                       |
| <span data-ttu-id="b6d55-141">\_XM \_ F16C \_ 內建函式\_</span><span class="sxs-lookup"><span data-stu-id="b6d55-141">\_XM\_F16C\_INTRINSICS\_</span></span>      | <span data-ttu-id="b6d55-142">DirectXMath 3.09 的新。</span><span class="sxs-lookup"><span data-stu-id="b6d55-142">New for DirectXMath 3.09.</span></span> <br/> <span data-ttu-id="b6d55-143">當您指定這個編譯器指示詞時，DirectXMath 函式會實作為使用 SSE3、SSE 4.1、AVX 128 位和 F16C/CVT16 內建函式（如果適用）;否則 DirectXMath 會使用 SSE/SSE2。</span><span class="sxs-lookup"><span data-stu-id="b6d55-143">When you specify this compiler directive, DirectXMath functions are implemented to make use of SSE3, SSE4.1, AVX 128-bit, and F16C/CVT16 intrinsics where applicable; otherwise DirectXMath uses SSE/SSE2.</span></span> <span data-ttu-id="b6d55-144">當您使用 \_ xm \_ F16C \_ 內建函式時 \_ ，它會隱含的是 [xm AVX 內建] \_ 、[ \_ \_ \_ \_ xm SSE 內建函式] \_ 、[ \_ \_ \_ xm \_ SSE3 \_ \_ \_ \_ \_ \_ 內建] 和 [xm</span><span class="sxs-lookup"><span data-stu-id="b6d55-144">When you use \_XM\_F16C\_INTRINSICS\_, it implies \_XM\_AVX\_INTRINSICS\_, \_XM\_SSE\_INTRINSICS\_, \_XM\_SSE3\_INTRINSICS\_, and \_XM\_SSE4\_INTRINSICS\_.</span></span><br/>                                                                                                                                                 |
| <span data-ttu-id="b6d55-145">\_XM \_ FMA3 \_ 內建函式\_</span><span class="sxs-lookup"><span data-stu-id="b6d55-145">\_XM\_FMA3\_INTRINSICS\_</span></span>      | <span data-ttu-id="b6d55-146">DirectXMath 3.11 的新。</span><span class="sxs-lookup"><span data-stu-id="b6d55-146">New for DirectXMath 3.11.</span></span> <br/> <span data-ttu-id="b6d55-147">當您指定這個編譯器指示詞時，DirectXMath 函式會在適用的情況下使用 SSE3、SSE 4.1、AVX 128 位和 FMA3 內建函式;否則 DirectXMath 會使用 SSE/SSE2。</span><span class="sxs-lookup"><span data-stu-id="b6d55-147">When you specify this compiler directive, DirectXMath functions will make use of SSE3, SSE4.1, AVX 128-bit, and FMA3 intrinsics where applicable; otherwise DirectXMath uses SSE/SSE2.</span></span> <span data-ttu-id="b6d55-148">當您使用 \_ xm \_ FMA3 \_ 內建函式時 \_ ，它會隱含的是 [xm AVX 內建] \_ 、[ \_ \_ \_ \_ xm SSE 內建函式] \_ 、[ \_ \_ \_ xm \_ SSE3 \_ \_ \_ \_ \_ \_ 內建] 和 [xm</span><span class="sxs-lookup"><span data-stu-id="b6d55-148">When you use \_XM\_FMA3\_INTRINSICS\_, it implies \_XM\_AVX\_INTRINSICS\_, \_XM\_SSE\_INTRINSICS\_, \_XM\_SSE3\_INTRINSICS\_, and \_XM\_SSE4\_INTRINSICS\_.</span></span> <br/>                                                                                                                                                            |
| <span data-ttu-id="b6d55-149">\_XM \_ VECTORCALL\_</span><span class="sxs-lookup"><span data-stu-id="b6d55-149">\_XM\_VECTORCALL\_</span></span>            | <span data-ttu-id="b6d55-150">這可讓您使用 \_ \_ windows X86 或 windows x64 目標的 vectorcall 呼叫慣例。</span><span class="sxs-lookup"><span data-stu-id="b6d55-150">This enables the use of the \_\_vectorcall calling convention for Windows x86 or Windows x64 targets.</span></span> <span data-ttu-id="b6d55-151">\_ \_ \_ 當編譯器支援這項功能時，它會預設為 XM VECTORCALL = 1。</span><span class="sxs-lookup"><span data-stu-id="b6d55-151">It defaults to \_XM\_VECTORCALL\_=1 when the compiler supports this feature.</span></span> <span data-ttu-id="b6d55-152">您可以手動將它設定為 \_ XM \_ VECTORCALL \_ = 0，以一律停用它。</span><span class="sxs-lookup"><span data-stu-id="b6d55-152">You can manually set it to \_XM\_VECTORCALL\_=0 to always disable it.</span></span> <br/> <span data-ttu-id="b6d55-153">\_\_Windows on ARM/ARM64 平臺或 Managed c + + 不支援 vectorcall。</span><span class="sxs-lookup"><span data-stu-id="b6d55-153">\_\_vectorcall is not supported for the Windows on ARM / ARM64 platform or Managed C++.</span></span> <br/>                                                                                                                                                                                                                 |
| <span data-ttu-id="b6d55-154">\_XM \_ SVML \_ 內建函式\_</span><span class="sxs-lookup"><span data-stu-id="b6d55-154">\_XM\_SVML\_INTRINSICS\_</span></span>     | <span data-ttu-id="b6d55-155">DirectXMath 3.16 的新。</span><span class="sxs-lookup"><span data-stu-id="b6d55-155">New for DirectXMath 3.16.</span></span> <br/> <span data-ttu-id="b6d55-156">使用 VS 2019 或更新版本時，這可讓程式庫使用 &reg; 適用于 x86/x64 的 Intel Short 向量矩陣程式庫。</span><span class="sxs-lookup"><span data-stu-id="b6d55-156">With VS 2019 or later, this enables the library to use the Intel&reg; Short Vector Matrix Library for x86/x64.</span></span> <br/>                                                                                                                                                                                                                 |



 

## <a name="related-topics"></a><span data-ttu-id="b6d55-157">相關主題</span><span class="sxs-lookup"><span data-stu-id="b6d55-157">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="b6d55-158">DirectXMath 程式設計參考</span><span class="sxs-lookup"><span data-stu-id="b6d55-158">DirectXMath Programming Reference</span></span>](ovw-xnamath-reference.md)
</dt> </dl>

 

 
