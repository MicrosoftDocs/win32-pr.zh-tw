---
title: 取消註冊裝置
description: 使用 IUPnPRegistrar UnregisterDevice 方法將裝置取消註冊。
ms.assetid: 4f7624e3-4d60-406d-8521-1dfc9aee4408
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b4c480433e3d8dbf4ff823728281018801ec35c1
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/16/2019
ms.locfileid: "104462420"
---
# <a name="unregistering-a-device"></a><span data-ttu-id="728aa-103">取消註冊裝置</span><span class="sxs-lookup"><span data-stu-id="728aa-103">Unregistering a Device</span></span>

<span data-ttu-id="728aa-104">使用 [**IUPnPRegistrar：： UnregisterDevice**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpregistrar-unregisterdevice) 方法將裝置取消註冊。</span><span class="sxs-lookup"><span data-stu-id="728aa-104">Use the [**IUPnPRegistrar::UnregisterDevice**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpregistrar-unregisterdevice) method to unregister a device.</span></span> <span data-ttu-id="728aa-105">您可以根據 *fPermanent* 的值，以暫時或永久的 (移除裝置主機) 移除裝置的註冊。</span><span class="sxs-lookup"><span data-stu-id="728aa-105">The device can be unregistered (removed from the device host) temporarily or permanently, depending on the value of *fPermanent*.</span></span> <span data-ttu-id="728aa-106">如果裝置將會重新註冊，且裝置應該使用相同的 UDN，則開發人員應暫時移除裝置。</span><span class="sxs-lookup"><span data-stu-id="728aa-106">Developers should remove devices temporarily if the devices will be re-registered, and the devices should use the same UDN.</span></span> <span data-ttu-id="728aa-107">否則，就會永久移除裝置。</span><span class="sxs-lookup"><span data-stu-id="728aa-107">Otherwise, the devices are removed permanently.</span></span>

<span data-ttu-id="728aa-108">用來取消註冊的 GUID 不是 UDN。</span><span class="sxs-lookup"><span data-stu-id="728aa-108">The GUID used to unregister is not the UDN.</span></span> <span data-ttu-id="728aa-109">您必須使用 [**IUPnPRegistrar：： >registerdevice.js**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpregistrar-registerdevice) 或 [**IUPnPRegistrar：： RegisterRunningDevice**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpregistrar-registerrunningdevice)傳回給您的識別碼。</span><span class="sxs-lookup"><span data-stu-id="728aa-109">You must use the ID returned to you by [**IUPnPRegistrar::RegisterDevice**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpregistrar-registerdevice) or [**IUPnPRegistrar::RegisterRunningDevice**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpregistrar-registerrunningdevice).</span></span>

> [!Note]  
> <span data-ttu-id="728aa-110">您可以釋放 [**IUPnPRegistrar**](/windows/desktop/api/Upnphost/nn-upnphost-iupnpregistrar) 物件。</span><span class="sxs-lookup"><span data-stu-id="728aa-110">You can release the [**IUPnPRegistrar**](/windows/desktop/api/Upnphost/nn-upnphost-iupnpregistrar) object.</span></span> <span data-ttu-id="728aa-111">只有識別碼必須快取。</span><span class="sxs-lookup"><span data-stu-id="728aa-111">Only the ID must be cached.</span></span>

 

<span data-ttu-id="728aa-112">如果 *fPermanent* 為 **FALSE**，則會暫時移除裝置。</span><span class="sxs-lookup"><span data-stu-id="728aa-112">If *fPermanent* is **FALSE**, the device is removed temporarily.</span></span> <span data-ttu-id="728aa-113">使用 [**IUPnPReregistrar**](/windows/desktop/api/Upnphost/nn-upnphost-iupnpreregistrar) 介面重新註冊裝置。</span><span class="sxs-lookup"><span data-stu-id="728aa-113">Use [**IUPnPReregistrar**](/windows/desktop/api/Upnphost/nn-upnphost-iupnpreregistrar) interface to re-register the device.</span></span> <span data-ttu-id="728aa-114">[**IUPnPReregistrar：： ReregisterDevice**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpreregistrar-reregisterdevice)和 [**IUPnPReregistrar：： ReregisterRunningDevice**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpreregistrar-reregisterrunningdevice)方法會使用相同的 UDN 或 UDNs，如果是嵌套裝置，則是由裝置主機先前為未註冊的裝置所產生。</span><span class="sxs-lookup"><span data-stu-id="728aa-114">The [**IUPnPReregistrar::ReregisterDevice**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpreregistrar-reregisterdevice) and [**IUPnPReregistrar::ReregisterRunningDevice**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpreregistrar-reregisterrunningdevice) methods use the same UDN or UDNs, in the case of nested devices, previously generated by the device host for the unregistered device.</span></span>

<span data-ttu-id="728aa-115">如果 *fPermanent* 為 **TRUE**，則會從裝置主機永久移除裝置。</span><span class="sxs-lookup"><span data-stu-id="728aa-115">If *fPermanent* is **TRUE**, the device is permanently removed from the device host.</span></span> <span data-ttu-id="728aa-116">在同一部電腦上再次註冊此裝置，會建立與先前建立的不同 UDN。</span><span class="sxs-lookup"><span data-stu-id="728aa-116">Registering this device again on the same computer creates a different UDN than the one previously created.</span></span>

> [!Note]  
> <span data-ttu-id="728aa-117">當裝置在同一部電腦上註冊多次時，裝置主機會為裝置的每個實例產生不同的 UDNs。</span><span class="sxs-lookup"><span data-stu-id="728aa-117">When a device is registered multiple times on the same computer, the device host generates different UDNs for each instance of the device.</span></span>

 

 

 




