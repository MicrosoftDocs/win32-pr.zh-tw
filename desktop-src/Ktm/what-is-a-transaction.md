---
description: 交易是一組具有下列屬性的作業：不可部分完成、一致、隔離且持久的 (ACID) 。
ms.assetid: b3da52a3-1c52-4577-a997-7e72ebc03fa8
title: 什麼是交易？
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9f04a21eaec081a42e1cd4bcd60cb7cf48d609075eec772ed18fd41494c47d1c
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/11/2021
ms.locfileid: "119289718"
---
# <a name="what-is-a-transaction"></a>什麼是交易？

交易是一組具有下列屬性的作業：不可部分完成、一致、隔離且持久的 (ACID) 。 交易的支援可讓您開發新類型的應用程式，同時簡化開發程式並讓應用程式更穩固。 本主題的其餘部分提供的案例會示範這些屬性的需求，以及定義每個屬性的資料表。

在一組不可部分 *完成的作業* 中，群組中的每個作業都必須成功，否則它們的影響必須復原 (也稱為 *回復*) 。 例如，銀行傳輸必須是一組不可部分完成的作業：一個帳戶的付款與另一個帳戶的點數。 必須將借方和點數實作為不可部分完成的群組。 如果這兩項作業不會成功，則會 unfairly 傳輸，以利銀行或帳戶持有者。

*一致性* 的需求表示，在交易 (假設我們在交易) 之前先使用一致的系統啟動，資料會保持一致。 針對銀行傳輸範例，一致性可能會定義為將兩個帳戶的合併帳戶餘額視為常數。 若要在銀行轉帳範例中實行一致性，您只需要支付相同金額的轉帳和信用額度。

另一個交易範例是網站的更新。 電子商務網站要求新的產品類別瀏覽目錄頁面，必須與描述新產品的產品詳細資料頁面完全相同的時間出現。 在此情況下，必須在交易控制下更新和加入多個目錄專案。 您不僅需要讓更新成為不可部分完成的，而且目前正在購物的客戶也必須看不到進行中的更新。 這是交易的 *隔離* 屬性範例。

*持久性* 的屬性需要在更新完成後，即使系統停止回應，其效果仍會持續。 在先前的範例中，您可以藉由確保適當的資料復原來提供耐久性，如此一來，所有代表將新產品新增至網站的新檔案系統專案都會出現在系統停止回應之後。 這需要具有資料備份、修復和高可用性機制的系統。

交易不可部分完成性的保證以及其他屬性，都存在於任何數目的失敗，包括先前失敗的復原階段期間發生的失敗。 最後，系統會到達兩種狀態之一：已套用所有作業，或尚未套用任何作業。

下表摘要說明交易的屬性。



| 詞彙                                                                                                         | 描述                                                                                                                       |
|--------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| <span id="Atomic"></span><span id="atomic"></span><span id="ATOMIC"></span>原子<br/>                 | 交易中的所有作業都成功，或不會保存任何作業。<br/>                             |
| <span id="Consistent"></span><span id="consistent"></span><span id="CONSISTENT"></span>一致<br/> | 如果資料在交易開始之前是一致的，則在交易完成之後，這些資料會保持一致。<br/> |
| <span id="Isolated_"></span><span id="isolated_"></span><span id="ISOLATED_"></span>孤立 <br/>     | 正在進行之交易的影響會隱藏于所有其他交易中。<br/>                               |
| <span id="Durable"></span><span id="durable"></span><span id="DURABLE"></span>耐用<br/>             | 當交易完成時，其結果會是持續性的，而且會在系統損毀時存活。<br/>                               |



 

這些屬性可確保軟體可以處理未預期的錯誤，因為在發生非預期的情況下，可能會導致無法順利完成的交易。 交易基礎結構可確保復原已中止交易的所有效果，並將資料傳回一致的狀態。 因此，交易系統可順利復原系統失敗。

為了保證 ACID 屬性，支援交易的系統必須有健全的記錄功能，可在必要時用來認可或回復交易。 如需詳細資訊，請參閱 [通用記錄檔系統](/previous-versions/windows/desktop/clfs/common-log-file-system-portal)。

 

