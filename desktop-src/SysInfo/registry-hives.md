---
description: Hive 是登錄中的機碼、子機碼和值的邏輯群組，其中包含一組支援檔案，其中包含其資料的備份。
ms.assetid: fe517d88-7b03-4dc3-b3db-6a92665bca8e
title: 登錄 hive
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 11920a7b70a8aeb78b08aee2c25b89c4de5457b5cb96a480fc1f75fff6c6a35a
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/11/2021
ms.locfileid: "117763625"
---
# <a name="registry-hives"></a>登錄 hive

*Hive* 是登錄中的機碼、子機碼和值的邏輯群組，其中包含當作業系統啟動或使用者登入時，會將一組支援檔案載入記憶體中。

每次有新的使用者登入電腦時，就會為該使用者建立新的 hive，並針對使用者設定檔使用個別的檔案。 這稱為 *使用者設定檔 hive*。 使用者的 hive 包含與使用者的應用程式設定、桌面、環境、網路連線及印表機相關的特定登錄資訊。 使用者設定檔 hive 位於 **HKEY \_ USERS** 機碼底下。

登錄檔具有下列兩種格式：標準和最新。 標準格式是 Windows 2000 所支援的唯一格式。 較新版本的 Windows 也支援，以提供回溯相容性。 從 Windows XP 開始支援最新的格式。 在支援最新格式的 Windows 版本上，下列 hive 仍會使用標準格式： **HKEY \_ CURRENT \_ USER**、 **HKEY \_ local \_ machine \\ SAM**、 **HKEY \_ local \_ machine \\ Security** 和 **HKEY \_ USERS \\ 。預設值**;所有其他 hive 都會使用最新的格式。

Hive 的大部分支援檔案都在% SystemRoot% System32 設定目錄中 \\ \\ 。 每次使用者登入時都會更新這些檔案。 這些目錄中檔案的副檔名，或者，在某些情況下，如果沒有副檔名，則表示它們所包含的資料類型。 下表列出這些延伸模組，以及檔案中資料的描述。



| 延伸模組       | 描述                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 無<br/> | Hive 資料的完整複本。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 。 alt<br/> | 重要 **HKEY \_ 本機 \_ 電腦 \\ 系統** hive 的備份複本。 只有系統金鑰具有 alt 檔案。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| .log<br/> | Hive 中的索引鍵和值專案變更的交易記錄。<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| . sav<br/> | Hive 的備份副本。<br/> **Windows Server 2003 和 Windows XP/2000：** 在安裝程式的文字模式階段結束時，設定檔案的複本。 安裝程式有兩個階段：文字模式和圖形模式。 在安裝程式的文字模式階段之後，會將 hive 複製到 sav 檔案，以防止安裝程式的圖形模式階段失敗時可能發生的錯誤。 如果安裝程式在圖形模式階段失敗，則在重新開機電腦時，只會重複圖形模式階段;sav 檔案是用來還原 hive 資料。<br/> |



 

下表列出標準 hive 及其支援檔案。



| 登錄 hive                      | 支援檔案                           |
|------------------------------------|--------------------------------------------|
| **HKEY \_ 目前的設定 \_**          | System、sav、system. log、system。 |
| **HKEY \_ 目前的 \_ 使用者**            | Ntuser.man，Ntuser.man .dat. 記錄檔                 |
| **HKEY \_ 本機 \_ 電腦 \\ SAM**      | Sam、Sam .log、sav                      |
| **HKEY \_ 本機 \_ 電腦 \\ 安全性** | 安全性、安全性 .log、安全性. sav       |
| **HKEY \_ 本機 \_ 電腦 \\ 軟體** | Software、Software .log、Software. sav       |
| **HKEY \_ 本機 \_ 電腦 \\ 系統**   | System、sav、system. log、system。 |
| **HKEY \_ 使用者 \\ 。預設**          | 預設值，預設值為 sav。          |



 

 

 




