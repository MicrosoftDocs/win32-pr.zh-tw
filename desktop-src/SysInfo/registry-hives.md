---
description: Hive 是登錄中的機碼、子機碼和值的邏輯群組，其中包含一組支援檔案，其中包含其資料的備份。
ms.assetid: fe517d88-7b03-4dc3-b3db-6a92665bca8e
title: 登錄 hive
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 05f942a275855c710de53a0d93df0b4654dd596f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 01/08/2021
ms.locfileid: "103849587"
---
# <a name="registry-hives"></a><span data-ttu-id="3b41f-103">登錄 hive</span><span class="sxs-lookup"><span data-stu-id="3b41f-103">Registry Hives</span></span>

<span data-ttu-id="3b41f-104">*Hive* 是登錄中的機碼、子機碼和值的邏輯群組，其中包含當作業系統啟動或使用者登入時，會將一組支援檔案載入記憶體中。</span><span class="sxs-lookup"><span data-stu-id="3b41f-104">A *hive* is a logical group of keys, subkeys, and values in the registry that has a set of supporting files loaded into memory when the operating system is started or a user logs in.</span></span>

<span data-ttu-id="3b41f-105">每次有新的使用者登入電腦時，就會為該使用者建立新的 hive，並針對使用者設定檔使用個別的檔案。</span><span class="sxs-lookup"><span data-stu-id="3b41f-105">Each time a new user logs on to a computer, a new hive is created for that user with a separate file for the user profile.</span></span> <span data-ttu-id="3b41f-106">這稱為 *使用者設定檔 hive*。</span><span class="sxs-lookup"><span data-stu-id="3b41f-106">This is called the *user profile hive*.</span></span> <span data-ttu-id="3b41f-107">使用者的 hive 包含與使用者的應用程式設定、桌面、環境、網路連線及印表機相關的特定登錄資訊。</span><span class="sxs-lookup"><span data-stu-id="3b41f-107">A user's hive contains specific registry information pertaining to the user's application settings, desktop, environment, network connections, and printers.</span></span> <span data-ttu-id="3b41f-108">使用者設定檔 hive 位於 **HKEY \_ USERS** 機碼底下。</span><span class="sxs-lookup"><span data-stu-id="3b41f-108">User profile hives are located under the **HKEY\_USERS** key.</span></span>

<span data-ttu-id="3b41f-109">登錄檔具有下列兩種格式：標準和最新。</span><span class="sxs-lookup"><span data-stu-id="3b41f-109">Registry files have the following two formats: standard and latest.</span></span> <span data-ttu-id="3b41f-110">標準格式是 Windows 2000 所支援的唯一格式。</span><span class="sxs-lookup"><span data-stu-id="3b41f-110">The standard format is the only format supported by Windows 2000.</span></span> <span data-ttu-id="3b41f-111">較新的 Windows 版本也支援此功能，以提供回溯相容性。</span><span class="sxs-lookup"><span data-stu-id="3b41f-111">It is also supported by later versions of Windows for backward compatibility.</span></span> <span data-ttu-id="3b41f-112">從 Windows XP 開始支援最新的格式。</span><span class="sxs-lookup"><span data-stu-id="3b41f-112">The latest format is supported starting with Windows XP.</span></span> <span data-ttu-id="3b41f-113">在支援最新格式的 Windows 版本上，下列 hive 仍會使用標準格式： **HKEY \_ CURRENT \_ USER**、 **HKEY \_ local \_ machine \\ SAM**、 **HKEY \_ local \_ machine \\ Security** 和 **HKEY \_ USERS \\ 。預設值**;所有其他 hive 都會使用最新的格式。</span><span class="sxs-lookup"><span data-stu-id="3b41f-113">On versions of Windows that support the latest format, the following hives still use the standard format: **HKEY\_CURRENT\_USER**, **HKEY\_LOCAL\_MACHINE\\SAM**, **HKEY\_LOCAL\_MACHINE\\Security**, and **HKEY\_USERS\\.DEFAULT**; all other hives use the latest format.</span></span>

<span data-ttu-id="3b41f-114">Hive 的大部分支援檔案都在% SystemRoot% System32 設定目錄中 \\ \\ 。</span><span class="sxs-lookup"><span data-stu-id="3b41f-114">Most of the supporting files for the hives are in the %SystemRoot%\\System32\\Config directory.</span></span> <span data-ttu-id="3b41f-115">每次使用者登入時都會更新這些檔案。</span><span class="sxs-lookup"><span data-stu-id="3b41f-115">These files are updated each time a user logs on.</span></span> <span data-ttu-id="3b41f-116">這些目錄中檔案的副檔名，或者，在某些情況下，如果沒有副檔名，則表示它們所包含的資料類型。</span><span class="sxs-lookup"><span data-stu-id="3b41f-116">The file name extensions of the files in these directories, or in some cases a lack of an extension, indicate the type of data they contain.</span></span> <span data-ttu-id="3b41f-117">下表列出這些延伸模組，以及檔案中資料的描述。</span><span class="sxs-lookup"><span data-stu-id="3b41f-117">The following table lists these extensions along with a description of the data in the file.</span></span>



| <span data-ttu-id="3b41f-118">分機</span><span class="sxs-lookup"><span data-stu-id="3b41f-118">Extension</span></span>       | <span data-ttu-id="3b41f-119">Description</span><span class="sxs-lookup"><span data-stu-id="3b41f-119">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="3b41f-120">無</span><span class="sxs-lookup"><span data-stu-id="3b41f-120">none</span></span><br/> | <span data-ttu-id="3b41f-121">Hive 資料的完整複本。</span><span class="sxs-lookup"><span data-stu-id="3b41f-121">A complete copy of the hive data.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="3b41f-122">。 alt</span><span class="sxs-lookup"><span data-stu-id="3b41f-122">.alt</span></span><br/> | <span data-ttu-id="3b41f-123">重要 **HKEY \_ 本機 \_ 電腦 \\ 系統** hive 的備份複本。</span><span class="sxs-lookup"><span data-stu-id="3b41f-123">A backup copy of the critical **HKEY\_LOCAL\_MACHINE\\System** hive.</span></span> <span data-ttu-id="3b41f-124">只有系統金鑰具有 alt 檔案。</span><span class="sxs-lookup"><span data-stu-id="3b41f-124">Only the System key has an .alt file.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="3b41f-125">.log</span><span class="sxs-lookup"><span data-stu-id="3b41f-125">.log</span></span><br/> | <span data-ttu-id="3b41f-126">Hive 中的索引鍵和值專案變更的交易記錄。</span><span class="sxs-lookup"><span data-stu-id="3b41f-126">A transaction log of changes to the keys and value entries in the hive.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="3b41f-127">. sav</span><span class="sxs-lookup"><span data-stu-id="3b41f-127">.sav</span></span><br/> | <span data-ttu-id="3b41f-128">Hive 的備份副本。</span><span class="sxs-lookup"><span data-stu-id="3b41f-128">A backup copy of a hive.</span></span><br/> <span data-ttu-id="3b41f-129">**Windows Server 2003 和 WINDOWS XP/2000：** 在安裝程式的文字模式階段結束時，設定檔案的複本。</span><span class="sxs-lookup"><span data-stu-id="3b41f-129">**Windows Server 2003 and Windows XP/2000:** Copies of the hive files as they looked at the end of the text-mode stage in Setup.</span></span> <span data-ttu-id="3b41f-130">安裝程式有兩個階段：文字模式和圖形模式。</span><span class="sxs-lookup"><span data-stu-id="3b41f-130">Setup has two stages: text mode and graphics mode.</span></span> <span data-ttu-id="3b41f-131">在安裝程式的文字模式階段之後，會將 hive 複製到 sav 檔案，以防止安裝程式的圖形模式階段失敗時可能發生的錯誤。</span><span class="sxs-lookup"><span data-stu-id="3b41f-131">The hive is copied to a .sav file after the text-mode stage of setup to protect it from errors that might occur if the graphics-mode stage of setup fails.</span></span> <span data-ttu-id="3b41f-132">如果安裝程式在圖形模式階段失敗，則在重新開機電腦時，只會重複圖形模式階段;sav 檔案是用來還原 hive 資料。</span><span class="sxs-lookup"><span data-stu-id="3b41f-132">If setup fails during the graphics-mode stage, only the graphics-mode stage is repeated when the computer is restarted; the .sav file is used to restore the hive data.</span></span><br/> |



 

<span data-ttu-id="3b41f-133">下表列出標準 hive 及其支援檔案。</span><span class="sxs-lookup"><span data-stu-id="3b41f-133">The following table lists the standard hives and their supporting files.</span></span>



| <span data-ttu-id="3b41f-134">登錄 hive</span><span class="sxs-lookup"><span data-stu-id="3b41f-134">Registry hive</span></span>                      | <span data-ttu-id="3b41f-135">支援檔案</span><span class="sxs-lookup"><span data-stu-id="3b41f-135">Supporting files</span></span>                           |
|------------------------------------|--------------------------------------------|
| <span data-ttu-id="3b41f-136">**HKEY \_ 目前的設定 \_**</span><span class="sxs-lookup"><span data-stu-id="3b41f-136">**HKEY\_CURRENT\_CONFIG**</span></span>          | <span data-ttu-id="3b41f-137">System、sav、system. log、system。</span><span class="sxs-lookup"><span data-stu-id="3b41f-137">System, System.alt, System.log, System.sav</span></span> |
| <span data-ttu-id="3b41f-138">**HKEY \_ 目前的 \_ 使用者**</span><span class="sxs-lookup"><span data-stu-id="3b41f-138">**HKEY\_CURRENT\_USER**</span></span>            | <span data-ttu-id="3b41f-139">Ntuser.man，Ntuser.man .dat. 記錄檔</span><span class="sxs-lookup"><span data-stu-id="3b41f-139">Ntuser.dat, Ntuser.dat.log</span></span>                 |
| <span data-ttu-id="3b41f-140">**HKEY \_ 本機 \_ 電腦 \\ SAM**</span><span class="sxs-lookup"><span data-stu-id="3b41f-140">**HKEY\_LOCAL\_MACHINE\\SAM**</span></span>      | <span data-ttu-id="3b41f-141">Sam、Sam .log、sav</span><span class="sxs-lookup"><span data-stu-id="3b41f-141">Sam, Sam.log, Sam.sav</span></span>                      |
| <span data-ttu-id="3b41f-142">**HKEY \_ 本機 \_ 電腦 \\ 安全性**</span><span class="sxs-lookup"><span data-stu-id="3b41f-142">**HKEY\_LOCAL\_MACHINE\\Security**</span></span> | <span data-ttu-id="3b41f-143">安全性、安全性 .log、安全性. sav</span><span class="sxs-lookup"><span data-stu-id="3b41f-143">Security, Security.log, Security.sav</span></span>       |
| <span data-ttu-id="3b41f-144">**HKEY \_ 本機 \_ 電腦 \\ 軟體**</span><span class="sxs-lookup"><span data-stu-id="3b41f-144">**HKEY\_LOCAL\_MACHINE\\Software**</span></span> | <span data-ttu-id="3b41f-145">Software、Software .log、Software. sav</span><span class="sxs-lookup"><span data-stu-id="3b41f-145">Software, Software.log, Software.sav</span></span>       |
| <span data-ttu-id="3b41f-146">**HKEY \_ 本機 \_ 電腦 \\ 系統**</span><span class="sxs-lookup"><span data-stu-id="3b41f-146">**HKEY\_LOCAL\_MACHINE\\System**</span></span>   | <span data-ttu-id="3b41f-147">System、sav、system. log、system。</span><span class="sxs-lookup"><span data-stu-id="3b41f-147">System, System.alt, System.log, System.sav</span></span> |
| <span data-ttu-id="3b41f-148">**HKEY \_ 使用者 \\ 。預設**</span><span class="sxs-lookup"><span data-stu-id="3b41f-148">**HKEY\_USERS\\.DEFAULT**</span></span>          | <span data-ttu-id="3b41f-149">預設值，預設值為 sav。</span><span class="sxs-lookup"><span data-stu-id="3b41f-149">Default, Default.log, Default.sav</span></span>          |



 

 

 




