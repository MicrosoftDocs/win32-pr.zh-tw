---
title: 用於報告取得內容的裝置擴充功能
description: 用於報告取得內容的裝置擴充功能
ms.assetid: 597d872e-9105-4edb-afa3-9f4407de0f73
keywords:
- Windows Media Player、裝置擴充功能
- Windows Media Player、延伸模組
- Windows Media Player，報告取得的內容
- 裝置擴充功能，報告取得的內容
- 擴充功能，報告取得的內容
- 報告取得的內容
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 831312457427cc9fe4ceed004772f3b174f77989
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/16/2019
ms.locfileid: "106965384"
---
# <a name="device-extensions-for-reporting-acquired-content"></a>用於報告取得內容的裝置擴充功能

Windows Media Player 11 引進了新功能，可讓可攜式裝置通知玩家自上次同步處理後新增至裝置的內容。 Windows Media Player 11 可以使用此資訊，將新取得的內容從裝置複製到使用者的電腦。 裝置製造商應該注意下列支援這項功能的需求：

-   只有已啟用 MTP 的裝置才支援這項功能。
-   這項功能只適用于與 Windows Media Player 合作的裝置。
-   裝置必須只報告裝置所撰寫或下載的內容。 這包括裝置拍攝的相片;裝置所建立的錄音;語音信箱錄製;從儲存卡下載;以及從網際網路下載。 由於與另一部裝置的同步處理或不同的合作關係，不應回報儲存在裝置上的內容。

名為 wmpdevices 的標頭檔（安裝為 Windows Media Player SDK 的一部分）會定義支援 Windows Media Player 裝置延伸模組所需的結構和常數。

若要將裝置辨識為支援透過 Windows Media Player MTP 裝置延伸模組設定取得內容的報告，必須在 DeviceInfo 資料集中包含下列資訊。  (如需此資料集的詳細資訊，請參閱 MTP 規格的4.6.1 一節。 ) 



| 資料集欄位          | 欄位順序 | 資料類型  | 值                       |
|------------------------|-------------|------------|-----------------------------|
| VendorExtensionID      | 2           | **UINT32** | 0x00000006                  |
| VendorExtensionVersion | 3           | **UINT16** | 0x0064 (100)                 |
| VendorExtensionDesc    | 4           | **String** | "microsoft.com/WMPPD： 11.0" |



 

下表提供報告所取得內容的 MTP 作業詳細資料。



| 項目                  | 描述                                                                                                                                                                                                                     |
|-----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 操作程式碼        | 0x9202                                                                                                                                                                                                                          |
| Operation 參數1 | 裝置在上一個會話期間提供的交易識別碼。 第一個會話的這個值是零。                                                                                                                |
| Operation 參數2 | 正在開始索引。 會話的第一次呼叫時，這個值一律為零。 在相同同步處理會話中的後續呼叫上，此值會增加先前回應資料傳回的專案計數。 |
| Operation 參數3 | 0x10000. 這個常數定義于 wmpdevices 中，這是可在回應中傳回的最大 PUOIDs 數。 請注意，這個常數的值可能會在此標頭檔的未來版本中修訂。              |
| Operation 參數4 | 0                                                                                                                                                                                                                               |
| Operation 參數5 | 0                                                                                                                                                                                                                               |
| 資料                  | 裝置會傳回 MTP 陣列，其中包含已取得的 PUOIDs。 陣列以 **DWORD** 值開頭，指出陣列中的專案計數，後面接著專案的陣列。                               |
| 資料方向        | R->I                                                                                                                                                                                                                         |
| 回應碼選項 | **MTP \_回應 \_ 正常** (0x2001) 或有效的錯誤回應碼。                                                                                                                                                                    |
| 回應參數1  | 目前的交易識別碼。                                                                                                                                                                                                     |
| 回應參數2  | 未來要求所剩餘的 PUOIDs 數目。                                                                                                                                                            |
| 回應參數3  | 包含狀態資訊的 **DWORD** 。 狀態會以位方式表示。 如需所要使用之旗標的詳細資訊，請參閱備註。                                                                                              |
| 回應參數4  | 0                                                                                                                                                                                                                               |
| 回應參數5  | 0                                                                                                                                                                                                                               |



 

## <a name="remarks"></a>備註

狀態是透過使用下列旗標，以位方式透過回應參數3來表示。



| 旗標                                              | 值 | 描述                                                                                                                                                                                                                             |
|---------------------------------------------------|-------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **WMP \_ MDRT \_ 旗標未 \_ 報告的 \_ 取得 \_ 專案** | 0x1   | 裝置包含一些無法在 PUOIDS 清單中傳回的已取得專案。 請注意，此旗標不是重複的回應參數2。 只有當裝置無法傳回的要求專案時，才設定此旗標。 |



 

位1到31的保留供日後使用。 這些位應設定為零。

## <a name="related-topics"></a>相關主題

<dl> <dt>

[**Windows Media Player**](windows-media-player.md)
</dt> </dl>

 

 




